{
  "spec": {
    "title": "Credential Management Level 1",
    "url": "https://www.w3.org/TR/credential-management-1/"
  },
  "algorithms": [
    {
      "name": "credential store",
      "href": "https://www.w3.org/TR/credential-management-1/#concept-credential-store",
      "html": "User agents MUST internally provide a <dfn class=\"dfn-paneled has-dfn-panel\" data-dfn-type=\"dfn\" data-export=\"\" data-lt=\"credential store\" id=\"concept-credential-store\" role=\"button\" aria-expanded=\"false\" tabindex=\"0\">credential\n  store</dfn>, which is a vendor-specific, opaque storage mechanism to record which <a data-link-type=\"dfn\" href=\"https://www.w3.org/TR/credential-management-1/#concept-credential\" id=\"ref-for-concept-credential⑤\">credentials</a>\n  have been <a data-link-type=\"dfn\" href=\"https://www.w3.org/TR/credential-management-1/#credential-effective\" id=\"ref-for-credential-effective\">effective</a>. It offers the following capabilities for <a data-link-type=\"dfn\" href=\"https://www.w3.org/TR/credential-management-1/#concept-credential\" id=\"ref-for-concept-credential⑥\">credential</a> access and\n  persistence:",
      "rationale": "store",
      "steps": [
        {
          "html": "<p><dfn class=\"dfn-paneled has-dfn-panel\" data-dfn-for=\"credential store\" data-dfn-type=\"abstract-op\" data-export=\"\" id=\"abstract-opdef-credential-store-store-a-credential\" role=\"button\" aria-expanded=\"false\" tabindex=\"0\">Store a credential</dfn> for later retrieval.\n  This accepts a <a data-link-type=\"dfn\" href=\"https://www.w3.org/TR/credential-management-1/#concept-credential\" id=\"ref-for-concept-credential⑦\">credential</a>, and inserts it into the <a data-link-type=\"dfn\" href=\"https://www.w3.org/TR/credential-management-1/#concept-credential-store\" id=\"ref-for-concept-credential-store①\">credential store</a>.</p>"
        },
        {
          "html": "<p><dfn class=\"dfn-paneled has-dfn-panel\" data-dfn-for=\"credential store\" data-dfn-type=\"abstract-op\" data-export=\"\" id=\"abstract-opdef-credential-store-retrieve-a-list-of-credentials\" role=\"button\" aria-expanded=\"false\" tabindex=\"0\">Retrieve a list of credentials</dfn>. This\n  accepts an arbitrary filter, and returns a set of <a data-link-type=\"dfn\" href=\"https://www.w3.org/TR/credential-management-1/#concept-credential\" id=\"ref-for-concept-credential⑧\">credentials</a> that match the filter.</p>"
        },
        {
          "html": "<p><dfn class=\"dfn-paneled has-dfn-panel\" data-dfn-for=\"credential store\" data-dfn-type=\"abstract-op\" data-export=\"\" id=\"abstract-opdef-credential-store-modify-a-credential\" role=\"button\" aria-expanded=\"false\" tabindex=\"0\">Modify a credential</dfn>. This accepts a\n  <a data-link-type=\"dfn\" href=\"https://www.w3.org/TR/credential-management-1/#concept-credential\" id=\"ref-for-concept-credential⑨\">credential</a>, and overwrites the state of an existing <a data-link-type=\"dfn\" href=\"https://www.w3.org/TR/credential-management-1/#concept-credential\" id=\"ref-for-concept-credential①⓪\">credential</a> in the\n  <a data-link-type=\"dfn\" href=\"https://www.w3.org/TR/credential-management-1/#concept-credential-store\" id=\"ref-for-concept-credential-store②\">credential store</a>.</p>"
        }
      ]
    },
    {
      "name": "same-origin with its ancestors",
      "href": "https://www.w3.org/TR/credential-management-1/#same-origin-with-its-ancestors",
      "html": "An <a data-link-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/webappapis.html#environment-settings-object\" id=\"ref-for-environment-settings-object①\">environment settings object</a> (<var>settings</var>) is <dfn class=\"dfn-paneled has-dfn-panel\" data-dfn-type=\"dfn\" data-lt=\"same-origin with its ancestors\" data-noexport=\"\" id=\"same-origin-with-its-ancestors\" role=\"button\" aria-expanded=\"false\" tabindex=\"0\">same-origin with its\n  ancestors</dfn> if the following algorithm returns <code>true</code>:",
      "rationale": ".algorithm",
      "steps": [
        {
          "html": "<p>If <var>settings</var>’s <a data-link-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global\" id=\"ref-for-concept-relevant-global\">relevant global object</a> has no <a data-link-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/nav-history-apis.html#concept-document-window\" id=\"ref-for-concept-document-window\">associated Document</a>,\n  return <code>false</code>.</p>"
        },
        {
          "html": "<p>Let <var>document</var> be <var>settings</var>’ <a data-link-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global\" id=\"ref-for-concept-relevant-global①\">relevant global object</a>’s <a data-link-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/nav-history-apis.html#concept-document-window\" id=\"ref-for-concept-document-window①\">associated Document</a>.</p>"
        },
        {
          "html": "<p>If <var>document</var> has no <a data-link-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/browsers.html#concept-document-bc\" id=\"ref-for-concept-document-bc\">browsing context</a>, return <code>false</code>.</p>"
        },
        {
          "html": "<p>Let <var>origin</var> be <var>settings</var>’ <a data-link-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-origin\" id=\"ref-for-concept-settings-object-origin\">origin</a>.</p>"
        },
        {
          "html": "<p>Let <var>navigable</var> be <var>document</var>’s <a data-link-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/document-sequences.html#node-navigable\" id=\"ref-for-node-navigable\">node navigable</a>.</p>"
        },
        {
          "html": "While <var>navigable</var> has a non-null <a data-link-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/document-sequences.html#nav-parent\" id=\"ref-for-nav-parent\">parent</a>:",
          "rationale": "set",
          "steps": [
            {
              "html": "<p>Set <var>navigable</var> to <var>navigable</var>’s <a data-link-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/document-sequences.html#nav-parent\" id=\"ref-for-nav-parent①\">parent</a>.</p>"
            },
            {
              "html": "<p>If <var>navigable</var>’s <a data-link-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/document-sequences.html#nav-document\" id=\"ref-for-nav-document\">active document</a>’s <a data-link-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/origin.html#concept-origin\" id=\"ref-for-concept-origin②\">origin</a> is not <a data-link-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/browsers.html#same-origin\" id=\"ref-for-same-origin\">same origin</a> with <var>origin</var>,\n  return <code>false</code>.</p>"
            }
          ]
        },
        {
          "html": "<p>Return <code>true</code>.</p>"
        }
      ]
    },
    {
      "name": "Credential/isConditionalMediationAvailable()",
      "href": "https://www.w3.org/TR/credential-management-1/#dom-credential-isconditionalmediationavailable",
      "html": "<code class=\"idl\"><a data-link-type=\"idl\" href=\"https://www.w3.org/TR/credential-management-1/#credential\" id=\"ref-for-credential②\">Credential</a></code>’s default implementation of <code class=\"idl\"><a data-link-type=\"idl\" href=\"https://www.w3.org/TR/credential-management-1/#dom-credential-isconditionalmediationavailable\" id=\"ref-for-dom-credential-isconditionalmediationavailable①\">isConditionalMediationAvailable()</a></code>:",
      "rationale": ".algorithm",
      "steps": [
        {
          "html": "<p>Return <a data-link-type=\"dfn\" href=\"https://webidl.spec.whatwg.org/#a-promise-resolved-with\" id=\"ref-for-a-promise-resolved-with\">a promise resolved with</a> with <code>false</code>.</p>"
        }
      ]
    },
    {
      "name": "Credential/willRequestConditionalCreation()",
      "href": "https://www.w3.org/TR/credential-management-1/#dom-credential-willrequestconditionalcreation",
      "html": "<code class=\"idl\"><a data-link-type=\"idl\" href=\"https://www.w3.org/TR/credential-management-1/#credential\" id=\"ref-for-credential③\">Credential</a></code>’s default implementation of <code class=\"idl\"><a data-link-type=\"idl\" href=\"https://www.w3.org/TR/credential-management-1/#dom-credential-willrequestconditionalcreation\" id=\"ref-for-dom-credential-willrequestconditionalcreation①\">willRequestConditionalCreation()</a></code>:",
      "rationale": ".algorithm",
      "steps": [
        {
          "html": "<p>Return <a data-link-type=\"dfn\" href=\"https://webidl.spec.whatwg.org/#a-promise-resolved-with\" id=\"ref-for-a-promise-resolved-with①\">a promise resolved with</a> <code>undefined</code>.</p>"
        }
      ]
    },
    {
      "html": "<code class=\"idl\"><a data-link-type=\"idl\" href=\"https://www.w3.org/TR/credential-management-1/#credential\" id=\"ref-for-credential①⑤\">Credential</a></code>’s default implementation of\n    <code class=\"idl\"><a data-link-type=\"idl\" href=\"https://www.w3.org/TR/credential-management-1/#dom-credential-collectfromcredentialstore-slot\" id=\"ref-for-dom-credential-collectfromcredentialstore-slot\">[[CollectFromCredentialStore]](origin, options, sameOriginWithAncestors)</a></code>:",
      "rationale": ".algorithm",
      "steps": [
        {
          "html": "<p>Return an empty set.</p>"
        }
      ]
    },
    {
      "html": "<code class=\"idl\"><a data-link-type=\"idl\" href=\"https://www.w3.org/TR/credential-management-1/#credential\" id=\"ref-for-credential①⑧\">Credential</a></code>’s default implementation of\n    <code class=\"idl\"><a data-link-type=\"idl\" href=\"https://www.w3.org/TR/credential-management-1/#dom-credential-discoverfromexternalsource-slot\" id=\"ref-for-dom-credential-discoverfromexternalsource-slot\">[[DiscoverFromExternalSource]](origin, options, sameOriginWithAncestors)</a></code>:",
      "rationale": ".algorithm",
      "steps": [
        {
          "html": "<p>Return <code>null</code>.</p>"
        }
      ]
    },
    {
      "html": "<code class=\"idl\"><a data-link-type=\"idl\" href=\"https://www.w3.org/TR/credential-management-1/#credential\" id=\"ref-for-credential②①\">Credential</a></code>’s default implementation of <code class=\"idl\"><a data-link-type=\"idl\" href=\"https://www.w3.org/TR/credential-management-1/#dom-credential-store-slot\" id=\"ref-for-dom-credential-store-slot\">[[Store]](credential, sameOriginWithAncestors)</a></code>:",
      "rationale": ".algorithm",
      "steps": [
        {
          "html": "<p>Throw a <code>NotSupportedError</code>.</p>"
        }
      ]
    },
    {
      "html": "<code class=\"idl\"><a data-link-type=\"idl\" href=\"https://www.w3.org/TR/credential-management-1/#credential\" id=\"ref-for-credential②⑤\">Credential</a></code>’s default implementation of <code class=\"idl\"><a data-link-type=\"idl\" href=\"https://www.w3.org/TR/credential-management-1/#dom-credential-create-slot\" id=\"ref-for-dom-credential-create-slot\">[[Create]](origin, options, sameOriginWithAncestors)</a></code>:",
      "rationale": ".algorithm",
      "steps": [
        {
          "html": "<p>Return <code>null</code>.</p>"
        }
      ]
    },
    {
      "name": "relevant credential interfaces",
      "href": "https://www.w3.org/TR/credential-management-1/#credentialrequestoptions-relevant-credential-interface-objects",
      "html": "The <dfn class=\"dfn-paneled has-dfn-panel\" data-dfn-for=\"CredentialRequestOptions,CredentialCreationOptions\" data-dfn-type=\"dfn\" data-noexport=\"\" id=\"credentialrequestoptions-relevant-credential-interface-objects\" role=\"button\" aria-expanded=\"false\" tabindex=\"0\">relevant credential interface objects</dfn> for a given\n    <code class=\"idl\"><a data-link-type=\"idl\" href=\"https://www.w3.org/TR/credential-management-1/#dictdef-credentialcreationoptions\" id=\"ref-for-dictdef-credentialcreationoptions⑤\">CredentialCreationOptions</a></code> or <code class=\"idl\"><a data-link-type=\"idl\" href=\"https://www.w3.org/TR/credential-management-1/#dictdef-credentialrequestoptions\" id=\"ref-for-dictdef-credentialrequestoptions⑧\">CredentialRequestOptions</a></code> (<var>options</var>) is a set of <a data-link-type=\"dfn\" href=\"https://webidl.spec.whatwg.org/#dfn-interface-object\" id=\"ref-for-dfn-interface-object⑦\">interface objects</a>, collected as follows:",
      "rationale": ".algorithm",
      "steps": [
        {
          "html": "<p>Let <var>settings</var> be the <a data-link-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/webappapis.html#current-settings-object\" id=\"ref-for-current-settings-object①\">current settings object</a>.</p>"
        },
        {
          "html": "<p>Let <var>relevant interface objects</var> be an <a data-link-type=\"dfn\" href=\"https://infra.spec.whatwg.org/#list-empty\" id=\"ref-for-list-empty\">empty</a> <a data-link-type=\"dfn\" href=\"https://infra.spec.whatwg.org/#ordered-set\" id=\"ref-for-ordered-set①\">set</a>.</p>"
        },
        {
          "html": "<a data-link-type=\"dfn\" href=\"https://infra.spec.whatwg.org/#map-iterate\" id=\"ref-for-map-iterate\">For each</a> <var>optionKey</var> → <var>optionValue</var> of <var>options</var>:",
          "rationale": "let",
          "steps": [
            {
              "html": "<p>Let <var>credentialInterfaceObject</var> be the <a data-link-type=\"dfn\" href=\"https://www.w3.org/TR/credential-management-1/#credential-type-registry-appropriate-interface-object\" id=\"ref-for-credential-type-registry-appropriate-interface-object①\">Appropriate Interface Object</a>\n  (on <var>settings</var>’ <a data-link-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-global\" id=\"ref-for-concept-settings-object-global①\">global object</a>) whose <a data-link-type=\"dfn\" href=\"https://www.w3.org/TR/credential-management-1/#credential-type-registry-options-member-identifier\" id=\"ref-for-credential-type-registry-options-member-identifier②\">Options Member Identifier</a> is <var>optionKey</var>.</p>"
            },
            {
              "html": "<p class=\"assertion\">Assert: <var>credentialInterfaceObject</var>’s <code class=\"idl\"><a data-link-type=\"idl\" href=\"https://www.w3.org/TR/credential-management-1/#dom-credential-type-slot\" id=\"ref-for-dom-credential-type-slot③\">[[type]]</a></code> slot equals the <a data-link-type=\"dfn\" href=\"https://www.w3.org/TR/credential-management-1/#credential-type-registry-credential-type\" id=\"ref-for-credential-type-registry-credential-type①⓪\">Credential Type</a> whose <a data-link-type=\"dfn\" href=\"https://www.w3.org/TR/credential-management-1/#credential-type-registry-options-member-identifier\" id=\"ref-for-credential-type-registry-options-member-identifier③\">Options Member Identifier</a> is <var>optionKey</var>.</p>"
            },
            {
              "html": "<p>Append <var>credentialInterfaceObject</var> to <var>relevant interface objects</var>.</p>"
            }
          ]
        },
        {
          "html": "<p>Return <var>relevant interface objects</var>.</p>"
        }
      ]
    },
    {
      "name": "can collect locally",
      "href": "https://www.w3.org/TR/credential-management-1/#credentialrequestoptions-matchable-a-priori",
      "html": "A given <code class=\"idl\"><a data-link-type=\"idl\" href=\"https://www.w3.org/TR/credential-management-1/#dictdef-credentialrequestoptions\" id=\"ref-for-dictdef-credentialrequestoptions⑨\">CredentialRequestOptions</a></code> (<var>options</var>) is\n    <dfn class=\"dfn-paneled has-dfn-panel\" data-dfn-for=\"CredentialRequestOptions\" data-dfn-type=\"dfn\" data-noexport=\"\" id=\"credentialrequestoptions-matchable-a-priori\" role=\"button\" aria-expanded=\"false\" tabindex=\"0\">matchable <i lang=\"la\">a priori</i></dfn> if the following\n    steps return <code>true</code>:",
      "rationale": ".algorithm",
      "steps": [
        {
          "html": "For each <var>interface</var> in <var>options</var>’ <a data-link-type=\"dfn\" href=\"https://www.w3.org/TR/credential-management-1/#credentialrequestoptions-relevant-credential-interface-objects\" id=\"ref-for-credentialrequestoptions-relevant-credential-interface-objects①\">relevant credential interface objects</a>:",
          "rationale": "if",
          "steps": [
            {
              "html": "<p>If <var>interface</var>’s <code class=\"idl\"><a data-link-type=\"idl\" href=\"https://www.w3.org/TR/credential-management-1/#dom-credential-discovery-slot\" id=\"ref-for-dom-credential-discovery-slot\">[[discovery]]</a></code> slot’s value is not\n  \"<code class=\"idl\"><a data-link-type=\"idl\" href=\"https://www.w3.org/TR/credential-management-1/#dom-credential-discovery-credential-store\" id=\"ref-for-dom-credential-discovery-credential-store\">credential store</a></code>\", return <code>false</code>.</p>"
            }
          ]
        },
        {
          "html": "<p>Return <code>true</code>.</p>"
        }
      ]
    },
    {
      "name": "Request a Credential",
      "href": "https://www.w3.org/TR/credential-management-1/#abstract-opdef-request-a-credential",
      "html": "The <dfn class=\"dfn-paneled has-dfn-panel\" data-dfn-type=\"abstract-op\" data-export=\"\" id=\"abstract-opdef-request-a-credential\" role=\"button\" aria-expanded=\"false\" tabindex=\"0\">Request a <code>Credential</code></dfn> algorithm accepts a <code class=\"idl\"><a data-link-type=\"idl\" href=\"https://www.w3.org/TR/credential-management-1/#dictdef-credentialrequestoptions\" id=\"ref-for-dictdef-credentialrequestoptions①①\">CredentialRequestOptions</a></code>\n  (<var>options</var>), and returns a <code class=\"idl\"><a data-link-type=\"idl\" href=\"https://webidl.spec.whatwg.org/#idl-promise\" id=\"ref-for-idl-promise①⓪\">Promise</a></code> that resolves with a <code class=\"idl\"><a data-link-type=\"idl\" href=\"https://www.w3.org/TR/credential-management-1/#credential\" id=\"ref-for-credential③④\">Credential</a></code> if one can be\n  unambigiously obtained, or with <code>null</code> if not.",
      "rationale": ".algorithm",
      "steps": [
        {
          "html": "<p>Let <var>settings</var> be the <a data-link-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/webappapis.html#current-settings-object\" id=\"ref-for-current-settings-object②\">current settings object</a>.</p>"
        },
        {
          "html": "<p class=\"assertion\">Assert: <var>settings</var> is a <a data-link-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/webappapis.html#secure-context\" id=\"ref-for-secure-context①\">secure context</a>.</p>"
        },
        {
          "html": "<p>Let <var>document</var> be <var>settings</var>’s <a data-link-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global\" id=\"ref-for-concept-relevant-global②\">relevant global object</a>’s <a data-link-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/nav-history-apis.html#concept-document-window\" id=\"ref-for-concept-document-window②\">associated Document</a>.</p>"
        },
        {
          "html": "<p>If <var>document</var> is not <a data-link-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/document-sequences.html#fully-active\" id=\"ref-for-fully-active\">fully active</a>, then return <a data-link-type=\"dfn\" href=\"https://webidl.spec.whatwg.org/#a-promise-rejected-with\" id=\"ref-for-a-promise-rejected-with\">a promise rejected with</a>\n  an \"<code class=\"idl\"><a data-link-type=\"idl\" href=\"https://webidl.spec.whatwg.org/#invalidstateerror\" id=\"ref-for-invalidstateerror\">InvalidStateError</a></code>\" <code class=\"idl\"><a data-link-type=\"idl\" href=\"https://webidl.spec.whatwg.org/#idl-DOMException\" id=\"ref-for-idl-DOMException①\">DOMException</a></code>.</p>"
        },
        {
          "html": "<p>If <code><var>options</var>.<code class=\"idl\"><a data-link-type=\"idl\" href=\"https://www.w3.org/TR/credential-management-1/#dom-credentialrequestoptions-signal\" id=\"ref-for-dom-credentialrequestoptions-signal①\">signal</a></code></code> is <a data-link-type=\"dfn\" href=\"https://dom.spec.whatwg.org/#abortsignal-aborted\" id=\"ref-for-abortsignal-aborted\">aborted</a>,\n  then return <a data-link-type=\"dfn\" href=\"https://webidl.spec.whatwg.org/#a-promise-rejected-with\" id=\"ref-for-a-promise-rejected-with①\">a promise rejected with</a>\n  <code><var>options</var>.<code class=\"idl\"><a data-link-type=\"idl\" href=\"https://www.w3.org/TR/credential-management-1/#dom-credentialrequestoptions-signal\" id=\"ref-for-dom-credentialrequestoptions-signal②\">signal</a></code></code>’s <a data-link-type=\"dfn\" href=\"https://dom.spec.whatwg.org/#abortsignal-abort-reason\" id=\"ref-for-abortsignal-abort-reason②\">abort reason</a>.</p>"
        },
        {
          "html": "<p>Let <var>interfaces</var> be <var>options</var>’s <a data-link-type=\"dfn\" href=\"https://www.w3.org/TR/credential-management-1/#credentialrequestoptions-relevant-credential-interface-objects\" id=\"ref-for-credentialrequestoptions-relevant-credential-interface-objects③\">relevant credential interface objects</a>.</p>"
        },
        {
          "html": "<p>If <var>interfaces</var> is <a data-link-type=\"dfn\" href=\"https://infra.spec.whatwg.org/#list-empty\" id=\"ref-for-list-empty①\">empty</a>, then return<a data-link-type=\"dfn\" href=\"https://webidl.spec.whatwg.org/#a-promise-rejected-with\" id=\"ref-for-a-promise-rejected-with②\">a promise rejected with</a>\n  a \"<code class=\"idl\"><a data-link-type=\"idl\" href=\"https://webidl.spec.whatwg.org/#notsupportederror\" id=\"ref-for-notsupportederror\">NotSupportedError</a></code>\" <code class=\"idl\"><a data-link-type=\"idl\" href=\"https://webidl.spec.whatwg.org/#idl-DOMException\" id=\"ref-for-idl-DOMException②\">DOMException</a></code>.</p>"
        },
        {
          "html": "<a data-link-type=\"dfn\" href=\"https://infra.spec.whatwg.org/#list-iterate\" id=\"ref-for-list-iterate\">For each</a> <var>interface</var> of <var>interfaces</var>:",
          "rationale": "if",
          "steps": [
            {
              "html": "<p>If <var>options</var>.<code class=\"idl\"><a data-link-type=\"idl\" href=\"https://www.w3.org/TR/credential-management-1/#dom-credentialrequestoptions-mediation\" id=\"ref-for-dom-credentialrequestoptions-mediation①②\">mediation</a></code> is\n  <code class=\"idl\"><a data-link-type=\"idl\" href=\"https://www.w3.org/TR/credential-management-1/#dom-credentialmediationrequirement-conditional\" id=\"ref-for-dom-credentialmediationrequirement-conditional⑧\">conditional</a></code> and <var>interface</var> does\n  not support <code class=\"idl\"><a data-link-type=\"idl\" href=\"https://www.w3.org/TR/credential-management-1/#dom-credentialmediationrequirement-conditional\" id=\"ref-for-dom-credentialmediationrequirement-conditional⑨\">conditional</a></code>\n  <a data-link-type=\"dfn\" href=\"https://www.w3.org/TR/credential-management-1/#user-mediated\" id=\"ref-for-user-mediated⑦\">user mediation</a>, return <a data-link-type=\"dfn\" href=\"https://webidl.spec.whatwg.org/#a-promise-rejected-with\" id=\"ref-for-a-promise-rejected-with③\">a promise rejected with</a>\n  a \"<code class=\"idl\"><a data-link-type=\"idl\" href=\"https://webidl.spec.whatwg.org/#exceptiondef-typeerror\" id=\"ref-for-exceptiondef-typeerror②\">TypeError</a></code>\" <code class=\"idl\"><a data-link-type=\"idl\" href=\"https://webidl.spec.whatwg.org/#idl-DOMException\" id=\"ref-for-idl-DOMException③\">DOMException</a></code>.</p>"
            },
            {
              "html": "<p>If <var>settings</var>’ <a data-link-type=\"dfn\" href=\"https://www.w3.org/TR/credential-management-1/#active-credential-types\" id=\"ref-for-active-credential-types\">active credential types</a> <a data-link-type=\"dfn\" href=\"https://infra.spec.whatwg.org/#list-contain\" id=\"ref-for-list-contain\">contains</a> <var>interface</var>’s\n  <code class=\"idl\"><a data-link-type=\"idl\" href=\"https://www.w3.org/TR/credential-management-1/#dom-credential-type-slot\" id=\"ref-for-dom-credential-type-slot④\">[[type]]</a></code>, return <a data-link-type=\"dfn\" href=\"https://webidl.spec.whatwg.org/#a-promise-rejected-with\" id=\"ref-for-a-promise-rejected-with④\">a promise rejected with</a> a \"<code class=\"idl\"><a data-link-type=\"idl\" href=\"https://webidl.spec.whatwg.org/#notallowederror\" id=\"ref-for-notallowederror①\">NotAllowedError</a></code>\"\n  <code class=\"idl\"><a data-link-type=\"idl\" href=\"https://webidl.spec.whatwg.org/#idl-DOMException\" id=\"ref-for-idl-DOMException④\">DOMException</a></code>.</p>"
            },
            {
              "html": "<p><a data-link-type=\"dfn\" href=\"https://infra.spec.whatwg.org/#set-append\" id=\"ref-for-set-append\">Append</a> <var>interface</var>’s <code class=\"idl\"><a data-link-type=\"idl\" href=\"https://www.w3.org/TR/credential-management-1/#dom-credential-type-slot\" id=\"ref-for-dom-credential-type-slot⑤\">[[type]]</a></code> to <var>settings</var>’\n  <a data-link-type=\"dfn\" href=\"https://www.w3.org/TR/credential-management-1/#active-credential-types\" id=\"ref-for-active-credential-types①\">active credential types</a>.</p>"
            }
          ]
        },
        {
          "html": "<p>Let <var>origin</var> be <var>settings</var>’ <a data-link-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-origin\" id=\"ref-for-concept-settings-object-origin④\">origin</a>.</p>"
        },
        {
          "html": "<p>Let <var>sameOriginWithAncestors</var> be <code>true</code> if <var>settings</var> is <a data-link-type=\"dfn\" href=\"https://www.w3.org/TR/credential-management-1/#same-origin-with-its-ancestors\" id=\"ref-for-same-origin-with-its-ancestors④\">same-origin with its ancestors</a>, and <code>false</code> otherwise.</p>"
        },
        {
          "html": "For each <var>interface</var> in <var>options</var>’ <a data-link-type=\"dfn\" href=\"https://www.w3.org/TR/credential-management-1/#credentialrequestoptions-relevant-credential-interface-objects\" id=\"ref-for-credentialrequestoptions-relevant-credential-interface-objects④\">relevant credential interface objects</a>:",
          "rationale": "let",
          "steps": [
            {
              "html": "<p>Let <var>permission</var> be the <var>interface</var>’s <code class=\"idl\"><a data-link-type=\"idl\" href=\"https://www.w3.org/TR/credential-management-1/#dom-credential-type-slot\" id=\"ref-for-dom-credential-type-slot⑥\">[[type]]</a></code> <a data-link-type=\"dfn\" href=\"https://www.w3.org/TR/credential-management-1/#credential-type-registry-get-permissions-policy\" id=\"ref-for-credential-type-registry-get-permissions-policy①\">Get Permissions Policy</a>.</p>"
            },
            {
              "html": "<p>If <var>permission</var> is null, continue.</p>"
            },
            {
              "html": "<p>If <var>document</var> is <strong>not</strong> <a data-link-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/iframe-embed-object.html#allowed-to-use\" id=\"ref-for-allowed-to-use\">allowed to use</a> <var>permission</var>, return\n <a data-link-type=\"dfn\" href=\"https://webidl.spec.whatwg.org/#a-promise-rejected-with\" id=\"ref-for-a-promise-rejected-with⑤\">a promise rejected with</a> a \"<code class=\"idl\"><a data-link-type=\"idl\" href=\"https://webidl.spec.whatwg.org/#notallowederror\" id=\"ref-for-notallowederror②\">NotAllowedError</a></code>\" <code class=\"idl\"><a data-link-type=\"idl\" href=\"https://webidl.spec.whatwg.org/#idl-DOMException\" id=\"ref-for-idl-DOMException⑤\">DOMException</a></code>.</p>"
            }
          ]
        },
        {
          "html": "<p>Let <var>p</var> be <a data-link-type=\"dfn\" href=\"https://webidl.spec.whatwg.org/#a-new-promise\" id=\"ref-for-a-new-promise\">a new promise</a>.</p>"
        },
        {
          "html": "Run the following steps <a data-link-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel\" id=\"ref-for-in-parallel③\">in parallel</a>:",
          "rationale": "let",
          "steps": [
            {
              "html": "<p>Let <var>credentials</var> be the result of <a data-link-type=\"abstract-op\" href=\"https://www.w3.org/TR/credential-management-1/#abstract-opdef-collect-credentials-from-the-credential-store\" id=\"ref-for-abstract-opdef-collect-credentials-from-the-credential-store\">collecting\n  <code>Credential</code>s from the credential store</a>, given <var>origin</var>, <var>options</var>, and\n  <var>sameOriginWithAncestors</var>.</p>"
            },
            {
              "html": "<p>If <var>credentials</var> is an <a data-link-type=\"dfn\" href=\"https://webidl.spec.whatwg.org/#dfn-exception\" id=\"ref-for-dfn-exception\">exception</a>, <a data-link-type=\"dfn\" href=\"https://webidl.spec.whatwg.org/#reject\" id=\"ref-for-reject\">reject</a> <var>p</var> with <var>credentials</var>.</p>"
            },
            {
              "html": "<p>If all of the following statements are true, resolve <var>p</var> with <var>credentials</var>[0] and\n  skip the remaining steps:</p>",
              "ignored": [
                "credentials’ size is 1 origin does not require user mediation options is matchable a priori. options.mediation is not \"required\". options.mediation is not \"conditional\"."
              ]
            },
            {
              "html": "<p>If <var>options</var>’ <code class=\"idl\"><a data-link-type=\"idl\" href=\"https://www.w3.org/TR/credential-management-1/#dom-credentialrequestoptions-mediation\" id=\"ref-for-dom-credentialrequestoptions-mediation①⑤\">mediation</a></code> is\n  \"<code class=\"idl\"><a data-link-type=\"idl\" href=\"https://www.w3.org/TR/credential-management-1/#dom-credentialmediationrequirement-silent\" id=\"ref-for-dom-credentialmediationrequirement-silent④\">silent</a></code>\", <a data-link-type=\"dfn\" href=\"https://webidl.spec.whatwg.org/#resolve\" id=\"ref-for-resolve④\">resolve</a> <var>p</var> with <code>null</code>, and skip\n  the remaining steps.</p>"
            },
            {
              "html": "<p>Let <var>result</var> be the result of <a data-link-type=\"abstract-op\" href=\"https://www.w3.org/TR/credential-management-1/#abstract-opdef-ask-the-user-to-choose-a-credential\" id=\"ref-for-abstract-opdef-ask-the-user-to-choose-a-credential\">asking the user to\n  choose a <code>Credential</code></a>, given <var>options</var> and <var>credentials</var>.</p>"
            },
            {
              "html": "If <var>result</var> is an <a data-link-type=\"dfn\" href=\"https://webidl.spec.whatwg.org/#dfn-interface-object\" id=\"ref-for-dfn-interface-object⑧\">interface object</a>:",
              "rationale": "set",
              "steps": [
                {
                  "html": "If that threw an <a data-link-type=\"dfn\" href=\"https://webidl.spec.whatwg.org/#dfn-exception\" id=\"ref-for-dfn-exception①\">exception</a>:",
                  "rationale": "let",
                  "steps": [
                    {
                      "html": "<p>Let <var>e</var> be the thrown <a data-link-type=\"dfn\" href=\"https://webidl.spec.whatwg.org/#dfn-exception\" id=\"ref-for-dfn-exception②\">exception</a>.</p>"
                    },
                    {
                      "html": "<a data-link-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task\" id=\"ref-for-queue-a-task\">Queue a task</a> on <var>global</var>’s <a data-link-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/webappapis.html#dom-manipulation-task-source\" id=\"ref-for-dom-manipulation-task-source\">DOM manipulation task source</a>\n to run the following substeps:",
                      "rationale": "reject",
                      "steps": [
                        {
                          "html": "<p><a data-link-type=\"dfn\" href=\"https://webidl.spec.whatwg.org/#reject\" id=\"ref-for-reject①\">Reject</a> <var>p</var> with <var>e</var>.</p>"
                        }
                      ]
                    },
                    {
                      "html": "<p>Terminate these substeps.</p>"
                    }
                  ]
                }
              ]
            },
            {
              "html": "<p class=\"assertion\">Assert: <var>result</var> is <code>null</code>, or a <code class=\"idl\"><a data-link-type=\"idl\" href=\"https://www.w3.org/TR/credential-management-1/#credential\" id=\"ref-for-credential③⑤\">Credential</a></code>.</p>"
            },
            {
              "html": "<p>If <var>result</var> is a <code class=\"idl\"><a data-link-type=\"idl\" href=\"https://www.w3.org/TR/credential-management-1/#credential\" id=\"ref-for-credential③⑥\">Credential</a></code>, <a data-link-type=\"dfn\" href=\"https://webidl.spec.whatwg.org/#resolve\" id=\"ref-for-resolve⑤\">resolve</a> <var>p</var> with <var>result</var>.</p>"
            },
            {
              "html": "<p>If <var>result</var> is <code>null</code> and <var>options</var>.<code class=\"idl\"><a data-link-type=\"idl\" href=\"https://www.w3.org/TR/credential-management-1/#dom-credentialrequestoptions-mediation\" id=\"ref-for-dom-credentialrequestoptions-mediation①⑥\">mediation</a></code> is not\n  <code class=\"idl\"><a data-link-type=\"idl\" href=\"https://www.w3.org/TR/credential-management-1/#dom-credentialmediationrequirement-conditional\" id=\"ref-for-dom-credentialmediationrequirement-conditional①①\">conditional</a></code>, <a data-link-type=\"dfn\" href=\"https://webidl.spec.whatwg.org/#resolve\" id=\"ref-for-resolve⑥\">resolve</a> <var>p</var> with <var>result</var>.</p>"
            }
          ]
        },
        {
          "html": "<a data-link-type=\"dfn\" href=\"https://webidl.spec.whatwg.org/#dfn-perform-steps-once-promise-is-settled\" id=\"ref-for-dfn-perform-steps-once-promise-is-settled\">React</a> to <var>p</var>:",
          "rationale": "for",
          "steps": [
            {
              "html": "For each <var>interface</var> in <var>interfaces</var>:",
              "rationale": "remove",
              "steps": [
                {
                  "html": "<p><a data-link-type=\"dfn\" href=\"https://infra.spec.whatwg.org/#list-remove\" id=\"ref-for-list-remove\">Remove</a> <var>interface</var>’s <code class=\"idl\"><a data-link-type=\"idl\" href=\"https://www.w3.org/TR/credential-management-1/#dom-credential-type-slot\" id=\"ref-for-dom-credential-type-slot⑦\">[[type]]</a></code> from <var>settings</var>’\n  <a data-link-type=\"dfn\" href=\"https://www.w3.org/TR/credential-management-1/#active-credential-types\" id=\"ref-for-active-credential-types②\">active credential types</a>.</p>"
                }
              ]
            }
          ]
        },
        {
          "html": "<p>Return <var>p</var>.</p>"
        }
      ]
    },
    {
      "name": "collect Credentials from the credential store",
      "href": "https://www.w3.org/TR/credential-management-1/#abstract-opdef-collect-credentials-from-the-credential-store",
      "html": "Given an <a data-link-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-origin\" id=\"ref-for-concept-settings-object-origin⑤\">origin</a> (<var>origin</var>),\n  a <code class=\"idl\"><a data-link-type=\"idl\" href=\"https://www.w3.org/TR/credential-management-1/#dictdef-credentialrequestoptions\" id=\"ref-for-dictdef-credentialrequestoptions①②\">CredentialRequestOptions</a></code> (<var>options</var>), and a boolean which is <code>true</code> if and only if the calling\n  context is <a data-link-type=\"dfn\" href=\"https://www.w3.org/TR/credential-management-1/#same-origin-with-its-ancestors\" id=\"ref-for-same-origin-with-its-ancestors⑤\">same-origin with its ancestors</a> (<var>sameOriginWithAncestors</var>), the user agent may\n  <dfn class=\"dfn-paneled has-dfn-panel\" data-dfn-type=\"abstract-op\" data-export=\"\" data-local-lt=\"collect local\" id=\"abstract-opdef-collect-credentials-from-the-credential-store\" role=\"button\" aria-expanded=\"false\" tabindex=\"0\">collect <code>Credential</code>s from the credential store</dfn>,\n  returning a set of <code class=\"idl\"><a data-link-type=\"idl\" href=\"https://www.w3.org/TR/credential-management-1/#credential\" id=\"ref-for-credential③⑦\">Credential</a></code> objects stored by the user agent locally that match <var>options</var>’\n  filter. If no such <code class=\"idl\"><a data-link-type=\"idl\" href=\"https://www.w3.org/TR/credential-management-1/#credential\" id=\"ref-for-credential③⑧\">Credential</a></code> objects are known, the returned set will be empty:",
      "rationale": ".algorithm",
      "steps": [
        {
          "html": "<p>Let <var>possible matches</var> be an empty set.</p>"
        },
        {
          "html": "For each <var>interface</var> in <var>options</var>’ <a data-link-type=\"dfn\" href=\"https://www.w3.org/TR/credential-management-1/#credentialrequestoptions-relevant-credential-interface-objects\" id=\"ref-for-credentialrequestoptions-relevant-credential-interface-objects⑤\">relevant credential interface objects</a>:",
          "rationale": "let",
          "steps": [
            {
              "html": "<p>Let <var>r</var> be the result of executing <var>interface</var>’s\n  <code class=\"idl\"><a data-link-type=\"idl\" href=\"https://www.w3.org/TR/credential-management-1/#dom-credential-collectfromcredentialstore-slot\" id=\"ref-for-dom-credential-collectfromcredentialstore-slot①\">[[CollectFromCredentialStore]](origin, options, sameOriginWithAncestors)</a></code> internal method on\n  <var>origin</var>, <var>options</var>, and <var>sameOriginWithAncestors</var>. If that threw an <a data-link-type=\"dfn\" href=\"https://webidl.spec.whatwg.org/#dfn-exception\" id=\"ref-for-dfn-exception③\">exception</a>, rethrow that exception.</p>"
            },
            {
              "html": "<p class=\"assertion\">Assert: <var>r</var> is a list of <a data-link-type=\"dfn\" href=\"https://webidl.spec.whatwg.org/#dfn-interface-object\" id=\"ref-for-dfn-interface-object⑨\">interface objects</a>.</p>"
            },
            {
              "html": "For each <var>c</var> in <var>r</var>:",
              "rationale": "append",
              "steps": [
                {
                  "html": "<p><a data-link-type=\"dfn\" href=\"https://infra.spec.whatwg.org/#set-append\" id=\"ref-for-set-append①\">Append</a> <var>c</var> to <var>possible matches</var>.</p>"
                }
              ]
            }
          ]
        },
        {
          "html": "<p>Return <var>possible matches</var>.</p>"
        }
      ]
    },
    {
      "name": "Store a Credential",
      "href": "https://www.w3.org/TR/credential-management-1/#abstract-opdef-store-a-credential",
      "html": "The <dfn class=\"dfn-paneled has-dfn-panel\" data-dfn-type=\"abstract-op\" data-export=\"\" id=\"abstract-opdef-store-a-credential\" role=\"button\" aria-expanded=\"false\" tabindex=\"0\">Store a <code>Credential</code></dfn> algorithm accepts a <code class=\"idl\"><a data-link-type=\"idl\" href=\"https://www.w3.org/TR/credential-management-1/#credential\" id=\"ref-for-credential③⑨\">Credential</a></code>\n  (<var>credential</var>), and returns a <code class=\"idl\"><a data-link-type=\"idl\" href=\"https://webidl.spec.whatwg.org/#idl-promise\" id=\"ref-for-idl-promise①①\">Promise</a></code> which resolves once the object is persisted to the\n  <a data-link-type=\"dfn\" href=\"https://www.w3.org/TR/credential-management-1/#concept-credential-store\" id=\"ref-for-concept-credential-store①⓪\">credential store</a>.",
      "rationale": ".algorithm",
      "steps": [
        {
          "html": "<p>Let <var>settings</var> be the <a data-link-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/webappapis.html#current-settings-object\" id=\"ref-for-current-settings-object③\">current settings object</a>.</p>"
        },
        {
          "html": "<p class=\"assertion\">Assert: <var>settings</var> is a <a data-link-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/webappapis.html#secure-context\" id=\"ref-for-secure-context②\">secure context</a>.</p>"
        },
        {
          "html": "<p>If <var>settings</var>’s <a data-link-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global\" id=\"ref-for-concept-relevant-global③\">relevant global object</a>’s <a data-link-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/nav-history-apis.html#concept-document-window\" id=\"ref-for-concept-document-window③\">associated Document</a> is not <a data-link-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/document-sequences.html#fully-active\" id=\"ref-for-fully-active①\">fully active</a>,\n  then return <a data-link-type=\"dfn\" href=\"https://webidl.spec.whatwg.org/#a-promise-rejected-with\" id=\"ref-for-a-promise-rejected-with⑥\">a promise rejected with</a> an \"<code class=\"idl\"><a data-link-type=\"idl\" href=\"https://webidl.spec.whatwg.org/#invalidstateerror\" id=\"ref-for-invalidstateerror①\">InvalidStateError</a></code>\" <code class=\"idl\"><a data-link-type=\"idl\" href=\"https://webidl.spec.whatwg.org/#idl-DOMException\" id=\"ref-for-idl-DOMException⑥\">DOMException</a></code>.</p>"
        },
        {
          "html": "<p>Let <var>sameOriginWithAncestors</var> be <code>true</code> if the <a data-link-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/webappapis.html#current-settings-object\" id=\"ref-for-current-settings-object④\">current settings object</a> is <a data-link-type=\"dfn\" href=\"https://www.w3.org/TR/credential-management-1/#same-origin-with-its-ancestors\" id=\"ref-for-same-origin-with-its-ancestors⑥\">same-origin with its ancestors</a>, and <code>false</code> otherwise.</p>"
        },
        {
          "html": "<p>Let <var>p</var> be <a data-link-type=\"dfn\" href=\"https://webidl.spec.whatwg.org/#a-new-promise\" id=\"ref-for-a-new-promise①\">a new promise</a>.</p>"
        },
        {
          "html": "<p>If <var>settings</var>’ <a data-link-type=\"dfn\" href=\"https://www.w3.org/TR/credential-management-1/#active-credential-types\" id=\"ref-for-active-credential-types③\">active credential types</a> <a data-link-type=\"dfn\" href=\"https://infra.spec.whatwg.org/#list-contain\" id=\"ref-for-list-contain①\">contains</a> <var>credential</var>’s\n  <code class=\"idl\"><a data-link-type=\"idl\" href=\"https://www.w3.org/TR/credential-management-1/#dom-credential-type-slot\" id=\"ref-for-dom-credential-type-slot⑧\">[[type]]</a></code>, return <a data-link-type=\"dfn\" href=\"https://webidl.spec.whatwg.org/#a-promise-rejected-with\" id=\"ref-for-a-promise-rejected-with⑦\">a promise rejected with</a> a \"<code class=\"idl\"><a data-link-type=\"idl\" href=\"https://webidl.spec.whatwg.org/#notallowederror\" id=\"ref-for-notallowederror③\">NotAllowedError</a></code>\"\n  <code class=\"idl\"><a data-link-type=\"idl\" href=\"https://webidl.spec.whatwg.org/#idl-DOMException\" id=\"ref-for-idl-DOMException⑦\">DOMException</a></code>.</p>"
        },
        {
          "html": "<p><a data-link-type=\"dfn\" href=\"https://infra.spec.whatwg.org/#set-append\" id=\"ref-for-set-append②\">Append</a> <var>credential</var>’s <code class=\"idl\"><a data-link-type=\"idl\" href=\"https://www.w3.org/TR/credential-management-1/#dom-credential-type-slot\" id=\"ref-for-dom-credential-type-slot⑨\">[[type]]</a></code> to <var>settings</var>’\n  <a data-link-type=\"dfn\" href=\"https://www.w3.org/TR/credential-management-1/#active-credential-types\" id=\"ref-for-active-credential-types④\">active credential types</a>.</p>"
        },
        {
          "html": "Run the following steps <a data-link-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel\" id=\"ref-for-in-parallel④\">in parallel</a>:",
          "rationale": "execute",
          "steps": [
            {
              "html": "If that threw an <a data-link-type=\"dfn\" href=\"https://webidl.spec.whatwg.org/#dfn-exception\" id=\"ref-for-dfn-exception④\">exception</a>:",
              "rationale": "let",
              "steps": [
                {
                  "html": "<p>Let <var>e</var> be the thrown <a data-link-type=\"dfn\" href=\"https://webidl.spec.whatwg.org/#dfn-exception\" id=\"ref-for-dfn-exception⑤\">exception</a>.</p>"
                },
                {
                  "html": "<a data-link-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task\" id=\"ref-for-queue-a-task①\">Queue a task</a> on <var>global</var>’s <a data-link-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/webappapis.html#dom-manipulation-task-source\" id=\"ref-for-dom-manipulation-task-source①\">DOM manipulation task source</a> to\n  run the following substeps:",
                  "rationale": "reject",
                  "steps": [
                    {
                      "html": "<p><a data-link-type=\"dfn\" href=\"https://webidl.spec.whatwg.org/#reject\" id=\"ref-for-reject②\">Reject</a> <var>p</var> with <var>e</var>.</p>"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "html": "<a data-link-type=\"dfn\" href=\"https://webidl.spec.whatwg.org/#dfn-perform-steps-once-promise-is-settled\" id=\"ref-for-dfn-perform-steps-once-promise-is-settled①\">React</a> to <var>p</var>:",
          "rationale": "remove",
          "steps": [
            {
              "html": "<p><a data-link-type=\"dfn\" href=\"https://infra.spec.whatwg.org/#list-remove\" id=\"ref-for-list-remove①\">Remove</a> <var>credential</var>’s <code class=\"idl\"><a data-link-type=\"idl\" href=\"https://www.w3.org/TR/credential-management-1/#dom-credential-type-slot\" id=\"ref-for-dom-credential-type-slot①⓪\">[[type]]</a></code> from <var>settings</var>’\n  <a data-link-type=\"dfn\" href=\"https://www.w3.org/TR/credential-management-1/#active-credential-types\" id=\"ref-for-active-credential-types⑤\">active credential types</a>.</p>"
            }
          ]
        },
        {
          "html": "<p>Return <var>p</var>.</p>"
        }
      ]
    },
    {
      "name": "Create a Credential",
      "href": "https://www.w3.org/TR/credential-management-1/#abstract-opdef-create-a-credential",
      "html": "The <dfn class=\"dfn-paneled has-dfn-panel\" data-dfn-type=\"abstract-op\" data-export=\"\" id=\"abstract-opdef-create-a-credential\" role=\"button\" aria-expanded=\"false\" tabindex=\"0\">Create a <code>Credential</code></dfn> algorithm accepts a <code class=\"idl\"><a data-link-type=\"idl\" href=\"https://www.w3.org/TR/credential-management-1/#dictdef-credentialcreationoptions\" id=\"ref-for-dictdef-credentialcreationoptions⑧\">CredentialCreationOptions</a></code>\n  (<var>options</var>), and returns a <code class=\"idl\"><a data-link-type=\"idl\" href=\"https://webidl.spec.whatwg.org/#idl-promise\" id=\"ref-for-idl-promise①②\">Promise</a></code> which resolves with a <code class=\"idl\"><a data-link-type=\"idl\" href=\"https://www.w3.org/TR/credential-management-1/#credential\" id=\"ref-for-credential④⓪\">Credential</a></code> if one can be created\n  using the options provided, or <code>null</code> if no <code class=\"idl\"><a data-link-type=\"idl\" href=\"https://www.w3.org/TR/credential-management-1/#credential\" id=\"ref-for-credential④①\">Credential</a></code> can be created. In exceptional\n  circumstances, the <code class=\"idl\"><a data-link-type=\"idl\" href=\"https://webidl.spec.whatwg.org/#idl-promise\" id=\"ref-for-idl-promise①③\">Promise</a></code> may reject with an appropriate exception:",
      "rationale": ".algorithm",
      "steps": [
        {
          "html": "<p>Let <var>settings</var> be the <a data-link-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/webappapis.html#current-settings-object\" id=\"ref-for-current-settings-object⑤\">current settings object</a>.</p>"
        },
        {
          "html": "<p class=\"assertion\">Assert: <var>settings</var> is a <a data-link-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/webappapis.html#secure-context\" id=\"ref-for-secure-context③\">secure context</a>.</p>"
        },
        {
          "html": "<p>Let <var>global</var> be <var>settings</var>’ <a data-link-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-global\" id=\"ref-for-concept-settings-object-global②\">global object</a>.</p>"
        },
        {
          "html": "<p>Let <var>document</var> be the <a data-link-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global\" id=\"ref-for-concept-relevant-global④\">relevant global object</a>’s <a data-link-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/nav-history-apis.html#concept-document-window\" id=\"ref-for-concept-document-window④\">associated Document</a>.</p>"
        },
        {
          "html": "<p>If <var>document</var> is not <a data-link-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/document-sequences.html#fully-active\" id=\"ref-for-fully-active②\">fully active</a>, then return\n  <a data-link-type=\"dfn\" href=\"https://webidl.spec.whatwg.org/#a-promise-rejected-with\" id=\"ref-for-a-promise-rejected-with⑧\">a promise rejected with</a> an \"<code class=\"idl\"><a data-link-type=\"idl\" href=\"https://webidl.spec.whatwg.org/#invalidstateerror\" id=\"ref-for-invalidstateerror②\">InvalidStateError</a></code>\" <code class=\"idl\"><a data-link-type=\"idl\" href=\"https://webidl.spec.whatwg.org/#idl-DOMException\" id=\"ref-for-idl-DOMException⑧\">DOMException</a></code>.</p>"
        },
        {
          "html": "<p>Let <var>sameOriginWithAncestors</var> be <code>true</code> if the <a data-link-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/webappapis.html#current-settings-object\" id=\"ref-for-current-settings-object⑥\">current settings object</a> is <a data-link-type=\"dfn\" href=\"https://www.w3.org/TR/credential-management-1/#same-origin-with-its-ancestors\" id=\"ref-for-same-origin-with-its-ancestors⑦\">same-origin with its ancestors</a>, and <code>false</code> otherwise.</p>"
        },
        {
          "html": "<p>Let <var>interfaces</var> be the <a data-link-type=\"dfn\" href=\"https://infra.spec.whatwg.org/#ordered-set\" id=\"ref-for-ordered-set②\">set</a> of <var>options</var>’ <a data-link-type=\"dfn\" href=\"https://www.w3.org/TR/credential-management-1/#credentialrequestoptions-relevant-credential-interface-objects\" id=\"ref-for-credentialrequestoptions-relevant-credential-interface-objects⑥\">relevant credential interface objects</a>.</p>"
        },
        {
          "html": "<p>Return <a data-link-type=\"dfn\" href=\"https://webidl.spec.whatwg.org/#a-promise-rejected-with\" id=\"ref-for-a-promise-rejected-with⑨\">a promise rejected with</a> <code>NotSupportedError</code> if any of the following statements\n  are true:</p>",
          "ignored": [
            "global does not have an associated Document. interfaces’ size is greater than 1."
          ]
        },
        {
          "html": "For each <var>interface</var> in <var>interfaces</var>:",
          "rationale": "let",
          "steps": [
            {
              "html": "<p>Let <var>permission</var> be the <var>interface</var>’s <code class=\"idl\"><a data-link-type=\"idl\" href=\"https://www.w3.org/TR/credential-management-1/#dom-credential-type-slot\" id=\"ref-for-dom-credential-type-slot①①\">[[type]]</a></code> <a data-link-type=\"dfn\" href=\"https://www.w3.org/TR/credential-management-1/#credential-type-registry-create-permissions-policy\" id=\"ref-for-credential-type-registry-create-permissions-policy①\">Create Permissions Policy</a>.</p>"
            },
            {
              "html": "<p>If <var>permission</var> is null, continue.</p>"
            },
            {
              "html": "<p>If <var>document</var> is <strong>not</strong> <a data-link-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/iframe-embed-object.html#allowed-to-use\" id=\"ref-for-allowed-to-use①\">allowed to use</a> <var>permission</var>, return\n <a data-link-type=\"dfn\" href=\"https://webidl.spec.whatwg.org/#a-promise-rejected-with\" id=\"ref-for-a-promise-rejected-with①⓪\">a promise rejected with</a> a \"<code class=\"idl\"><a data-link-type=\"idl\" href=\"https://webidl.spec.whatwg.org/#notallowederror\" id=\"ref-for-notallowederror④\">NotAllowedError</a></code>\" <code class=\"idl\"><a data-link-type=\"idl\" href=\"https://webidl.spec.whatwg.org/#idl-DOMException\" id=\"ref-for-idl-DOMException⑨\">DOMException</a></code>.</p>"
            }
          ]
        },
        {
          "html": "<p>If <code><var>options</var>.<code class=\"idl\"><a data-link-type=\"idl\" href=\"https://www.w3.org/TR/credential-management-1/#dom-credentialrequestoptions-signal\" id=\"ref-for-dom-credentialrequestoptions-signal③\">signal</a></code></code> is <a data-link-type=\"dfn\" href=\"https://dom.spec.whatwg.org/#abortsignal-aborted\" id=\"ref-for-abortsignal-aborted①\">aborted</a>,\n  then return <a data-link-type=\"dfn\" href=\"https://webidl.spec.whatwg.org/#a-promise-rejected-with\" id=\"ref-for-a-promise-rejected-with①①\">a promise rejected with</a>\n  <code><var>options</var>.<code class=\"idl\"><a data-link-type=\"idl\" href=\"https://www.w3.org/TR/credential-management-1/#dom-credentialrequestoptions-signal\" id=\"ref-for-dom-credentialrequestoptions-signal④\">signal</a></code></code>’s <a data-link-type=\"dfn\" href=\"https://dom.spec.whatwg.org/#abortsignal-abort-reason\" id=\"ref-for-abortsignal-abort-reason③\">abort reason</a>.</p>"
        },
        {
          "html": "<p>Let <var>type</var> be <var>interfaces</var>[0]'s <code class=\"idl\"><a data-link-type=\"idl\" href=\"https://www.w3.org/TR/credential-management-1/#dom-credential-type-slot\" id=\"ref-for-dom-credential-type-slot①②\">[[type]]</a></code>.</p>"
        },
        {
          "html": "<p>If <var>settings</var>’ <a data-link-type=\"dfn\" href=\"https://www.w3.org/TR/credential-management-1/#active-credential-types\" id=\"ref-for-active-credential-types⑥\">active credential types</a> <a data-link-type=\"dfn\" href=\"https://infra.spec.whatwg.org/#list-contain\" id=\"ref-for-list-contain②\">contains</a> <var>type</var>, return\n  <a data-link-type=\"dfn\" href=\"https://webidl.spec.whatwg.org/#a-promise-rejected-with\" id=\"ref-for-a-promise-rejected-with①②\">a promise rejected with</a> a \"<code class=\"idl\"><a data-link-type=\"idl\" href=\"https://webidl.spec.whatwg.org/#notallowederror\" id=\"ref-for-notallowederror⑤\">NotAllowedError</a></code>\" <code class=\"idl\"><a data-link-type=\"idl\" href=\"https://webidl.spec.whatwg.org/#idl-DOMException\" id=\"ref-for-idl-DOMException①⓪\">DOMException</a></code>.</p>"
        },
        {
          "html": "<p><a data-link-type=\"dfn\" href=\"https://infra.spec.whatwg.org/#set-append\" id=\"ref-for-set-append③\">Append</a> <var>type</var> to <var>settings</var>’ <a data-link-type=\"dfn\" href=\"https://www.w3.org/TR/credential-management-1/#active-credential-types\" id=\"ref-for-active-credential-types⑦\">active credential types</a>.</p>"
        },
        {
          "html": "<p>Let <var>origin</var> be <var>settings</var>’s <a data-link-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-origin\" id=\"ref-for-concept-settings-object-origin⑥\">origin</a>.</p>"
        },
        {
          "html": "<p>Let <var>p</var> be <a data-link-type=\"dfn\" href=\"https://webidl.spec.whatwg.org/#a-new-promise\" id=\"ref-for-a-new-promise②\">a new promise</a>.</p>"
        },
        {
          "html": "Run the following steps <a data-link-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel\" id=\"ref-for-in-parallel⑤\">in parallel</a>:",
          "rationale": "let",
          "steps": [
            {
              "html": "If that threw an <a data-link-type=\"dfn\" href=\"https://webidl.spec.whatwg.org/#dfn-exception\" id=\"ref-for-dfn-exception⑥\">exception</a>:",
              "rationale": "let",
              "steps": [
                {
                  "html": "<p>Let <var>e</var> be the thrown <a data-link-type=\"dfn\" href=\"https://webidl.spec.whatwg.org/#dfn-exception\" id=\"ref-for-dfn-exception⑦\">exception</a>.</p>"
                },
                {
                  "html": "<a data-link-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task\" id=\"ref-for-queue-a-task②\">Queue a task</a> on <var>global</var>’s <a data-link-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/webappapis.html#dom-manipulation-task-source\" id=\"ref-for-dom-manipulation-task-source②\">DOM manipulation task source</a> to run the\n following substeps:",
                  "rationale": "reject",
                  "steps": [
                    {
                      "html": "<p><a data-link-type=\"dfn\" href=\"https://webidl.spec.whatwg.org/#reject\" id=\"ref-for-reject③\">Reject</a> <var>p</var> with <var>e</var>.</p>"
                    }
                  ]
                },
                {
                  "html": "<p>Terminate these substeps.</p>"
                }
              ]
            },
            {
              "html": "<p>If <var>r</var> is a <code class=\"idl\"><a data-link-type=\"idl\" href=\"https://www.w3.org/TR/credential-management-1/#credential\" id=\"ref-for-credential④②\">Credential</a></code> or <code>null</code>, <a data-link-type=\"dfn\" href=\"https://webidl.spec.whatwg.org/#resolve\" id=\"ref-for-resolve⑧\">resolve</a> <var>p</var> with <var>r</var>, and terminate these substeps.</p>"
            },
            {
              "html": "<p class=\"assertion\">Assert: <var>r</var> is an algorithm (as defined in <a href=\"https://www.w3.org/TR/credential-management-1/#algorithm-create-cred\">§ 2.2.1.4 [[Create]] internal method</a>).</p>"
            },
            {
              "html": "<a data-link-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task\" id=\"ref-for-queue-a-task③\">Queue a task</a> on <var>global</var>’s <a data-link-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/webappapis.html#dom-manipulation-task-source\" id=\"ref-for-dom-manipulation-task-source③\">DOM manipulation task source</a> to run the following substeps:",
              "rationale": "resolve",
              "steps": [
                {
                  "html": "<p><a data-link-type=\"dfn\" href=\"https://webidl.spec.whatwg.org/#resolve\" id=\"ref-for-resolve⑨\">Resolve</a> <var>p</var> with the result of <a data-link-type=\"dfn\" href=\"https://www.w3.org/2001/tag/doc/promises-guide#should-promise-call\" id=\"ref-for-should-promise-call\">promise-calling</a> <var>r</var> given <var>global</var>.</p>"
                }
              ]
            }
          ]
        },
        {
          "html": "<a data-link-type=\"dfn\" href=\"https://webidl.spec.whatwg.org/#dfn-perform-steps-once-promise-is-settled\" id=\"ref-for-dfn-perform-steps-once-promise-is-settled②\">React</a> to <var>p</var>:",
          "rationale": "remove",
          "steps": [
            {
              "html": "<p><a data-link-type=\"dfn\" href=\"https://infra.spec.whatwg.org/#list-remove\" id=\"ref-for-list-remove②\">Remove</a> <var>type</var> from <var>settings</var>’ <a data-link-type=\"dfn\" href=\"https://www.w3.org/TR/credential-management-1/#active-credential-types\" id=\"ref-for-active-credential-types⑧\">active credential types</a>.</p>"
            }
          ]
        },
        {
          "html": "<p>Return <var>p</var>.</p>"
        }
      ]
    },
    {
      "name": "Prevent Silent Access",
      "href": "https://www.w3.org/TR/credential-management-1/#abstract-opdef-prevent-silent-access",
      "html": "The <dfn class=\"dfn-paneled has-dfn-panel\" data-dfn-type=\"abstract-op\" data-export=\"\" id=\"abstract-opdef-prevent-silent-access\" role=\"button\" aria-expanded=\"false\" tabindex=\"0\">Prevent Silent Access</dfn> algorithm accepts an <a data-link-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/webappapis.html#environment-settings-object\" id=\"ref-for-environment-settings-object⑥\">environment settings object</a> (<var>settings</var>), and returns a <code class=\"idl\"><a data-link-type=\"idl\" href=\"https://webidl.spec.whatwg.org/#idl-promise\" id=\"ref-for-idl-promise①④\">Promise</a></code> which resolves once the <code>prevent silent access</code>\n  flag is persisted to the <a data-link-type=\"dfn\" href=\"https://www.w3.org/TR/credential-management-1/#concept-credential-store\" id=\"ref-for-concept-credential-store①①\">credential store</a>.",
      "rationale": ".algorithm",
      "steps": [
        {
          "html": "<p>Let <var>origin</var> be <var>settings</var>’ <a data-link-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-origin\" id=\"ref-for-concept-settings-object-origin⑦\">origin</a>.</p>"
        },
        {
          "html": "<p>If <var>settings</var>’s <a data-link-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global\" id=\"ref-for-concept-relevant-global⑤\">relevant global object</a>’s <a data-link-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/nav-history-apis.html#concept-document-window\" id=\"ref-for-concept-document-window⑥\">associated Document</a> is not <a data-link-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/document-sequences.html#fully-active\" id=\"ref-for-fully-active③\">fully active</a>,\n  then return <a data-link-type=\"dfn\" href=\"https://webidl.spec.whatwg.org/#a-promise-rejected-with\" id=\"ref-for-a-promise-rejected-with①③\">a promise rejected with</a> an \"<code class=\"idl\"><a data-link-type=\"idl\" href=\"https://webidl.spec.whatwg.org/#invalidstateerror\" id=\"ref-for-invalidstateerror③\">InvalidStateError</a></code>\" <code class=\"idl\"><a data-link-type=\"idl\" href=\"https://webidl.spec.whatwg.org/#idl-DOMException\" id=\"ref-for-idl-DOMException①①\">DOMException</a></code>.</p>"
        },
        {
          "html": "<p>Let <var>p</var> be <a data-link-type=\"dfn\" href=\"https://webidl.spec.whatwg.org/#a-new-promise\" id=\"ref-for-a-new-promise③\">a new promise</a>.</p>"
        },
        {
          "html": "Run the following seps <a data-link-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel\" id=\"ref-for-in-parallel⑥\">in parallel</a>:",
          "rationale": "set",
          "steps": [
            {
              "html": "<p>Set <var>origin</var>’s <a data-link-type=\"dfn\" href=\"https://www.w3.org/TR/credential-management-1/#origin-prevent-silent-access-flag\" id=\"ref-for-origin-prevent-silent-access-flag④\">prevent silent access flag</a> in the <a data-link-type=\"dfn\" href=\"https://www.w3.org/TR/credential-management-1/#concept-credential-store\" id=\"ref-for-concept-credential-store①②\">credential store</a>.</p>"
            },
            {
              "html": "<p><a data-link-type=\"dfn\" href=\"https://webidl.spec.whatwg.org/#resolve\" id=\"ref-for-resolve①⓪\">Resolve</a> <var>p</var> with <code>undefined</code>.</p>"
            }
          ]
        },
        {
          "html": "<p>Return <var>p</var>.</p>"
        }
      ]
    },
    {
      "name": "PasswordCredential/PasswordCredential(form)",
      "href": "https://www.w3.org/TR/credential-management-1/#dom-passwordcredential-passwordcredential",
      "html": "This constructor accepts an <code class=\"idl\"><a data-link-type=\"idl\" href=\"https://html.spec.whatwg.org/multipage/forms.html#htmlformelement\" id=\"ref-for-htmlformelement③\">HTMLFormElement</a></code> (<var>form</var>), and runs the following steps:",
      "rationale": "let",
      "steps": [
        {
          "html": "<p>Let <var>origin</var> be the <a data-link-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/webappapis.html#current-settings-object\" id=\"ref-for-current-settings-object⑦\">current settings object</a>’s <a data-link-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-origin\" id=\"ref-for-concept-settings-object-origin⑧\">origin</a>.</p>"
        },
        {
          "html": "<p>Let <var>r</var> be the result of executing <a data-link-type=\"abstract-op\" href=\"https://www.w3.org/TR/credential-management-1/#abstract-opdef-create-a-passwordcredential-from-an-htmlformelement\" id=\"ref-for-abstract-opdef-create-a-passwordcredential-from-an-htmlformelement\">Create a <code>PasswordCredential</code> from\n  an <code>HTMLFormElement</code></a> given <var>form</var> and <var>origin</var>.</p>"
        },
        {
          "html": "<p>If <var>r</var> is an <a data-link-type=\"dfn\" href=\"https://webidl.spec.whatwg.org/#dfn-exception\" id=\"ref-for-dfn-exception⑧\">exception</a>, <a data-link-type=\"dfn\" href=\"https://webidl.spec.whatwg.org/#dfn-throw\" id=\"ref-for-dfn-throw\">throw</a> <var>r</var>.</p>\n         <p>Otherwise, return <var>r</var>.</p>"
        }
      ]
    },
    {
      "name": "PasswordCredential/PasswordCredential(data)",
      "href": "https://www.w3.org/TR/credential-management-1/#dom-passwordcredential-passwordcredential-data",
      "html": "This constructor accepts a <code class=\"idl\"><a data-link-type=\"idl\" href=\"https://www.w3.org/TR/credential-management-1/#dictdef-passwordcredentialdata\" id=\"ref-for-dictdef-passwordcredentialdata①\">PasswordCredentialData</a></code> (<var>data</var>), and runs the following steps:",
      "rationale": "let",
      "steps": [
        {
          "html": "<p>Let <var>r</var> be the result of executing <a data-link-type=\"abstract-op\" href=\"https://www.w3.org/TR/credential-management-1/#abstract-opdef-create-a-passwordcredential-from-passwordcredentialdata\" id=\"ref-for-abstract-opdef-create-a-passwordcredential-from-passwordcredentialdata\">Create a <code>PasswordCredential</code> from\n  <code>PasswordCredentialData</code></a> on <var>data</var>.</p>"
        },
        {
          "html": "<p>If <var>r</var> is an <a data-link-type=\"dfn\" href=\"https://webidl.spec.whatwg.org/#dfn-exception\" id=\"ref-for-dfn-exception⑨\">exception</a>, <a data-link-type=\"dfn\" href=\"https://webidl.spec.whatwg.org/#dfn-throw\" id=\"ref-for-dfn-throw①\">throw</a> <var>r</var>.</p>\n         <p>Otherwise, return <var>r</var>.</p>"
        }
      ]
    },
    {
      "html": "The algorithm will throw a <code>NotAllowedError</code> if <var>sameOriginWithAncestors</var> is not <code>true</code>.",
      "rationale": ".algorithm",
      "steps": [
        {
          "html": "<p class=\"assertion\">Assert: <var>options</var>[\"<code class=\"idl\"><a data-link-type=\"idl\" href=\"https://www.w3.org/TR/credential-management-1/#dom-credentialrequestoptions-password\" id=\"ref-for-dom-credentialrequestoptions-password②\">password</a></code>\"] <a data-link-type=\"dfn\" href=\"https://infra.spec.whatwg.org/#map-exists\" id=\"ref-for-map-exists\">exists</a>.</p>"
        },
        {
          "html": "<p>If <var>sameOriginWithAncestors</var> is <code>false</code>, throw a \"<code class=\"idl\"><a data-link-type=\"idl\" href=\"https://webidl.spec.whatwg.org/#notallowederror\" id=\"ref-for-notallowederror⑥\">NotAllowedError</a></code>\" <code class=\"idl\"><a data-link-type=\"idl\" href=\"https://webidl.spec.whatwg.org/#idl-DOMException\" id=\"ref-for-idl-DOMException①②\">DOMException</a></code>.</p>"
        },
        {
          "html": "<p>Return the empty set if <var>options</var>[\"<code class=\"idl\"><a data-link-type=\"idl\" href=\"https://www.w3.org/TR/credential-management-1/#dom-credentialrequestoptions-password\" id=\"ref-for-dom-credentialrequestoptions-password③\">password</a></code>\"] is not <code>true</code>.</p>"
        },
        {
          "html": "<p>Return the result of <a data-link-type=\"abstract-op\" href=\"https://www.w3.org/TR/credential-management-1/#abstract-opdef-credential-store-retrieve-a-list-of-credentials\" id=\"ref-for-abstract-opdef-credential-store-retrieve-a-list-of-credentials\">retrieving</a>\n  credentials from the <a data-link-type=\"dfn\" href=\"https://www.w3.org/TR/credential-management-1/#concept-credential-store\" id=\"ref-for-concept-credential-store①⑤\">credential store</a> that match the following filter:</p>",
          "ignored": [
            "The credential is a PasswordCredential The credential’s [[origin]] is the same origin as origin."
          ]
        }
      ]
    },
    {
      "name": "PasswordCredential/[[Create]](origin, options, sameOriginWithAncestors)",
      "href": "https://www.w3.org/TR/credential-management-1/#dom-passwordcredential-create-slot",
      "html": "<dfn class=\"dfn-paneled idl-code has-dfn-panel\" data-dfn-for=\"PasswordCredential\" data-dfn-type=\"method\" data-export=\"\" id=\"dom-passwordcredential-create-slot\" role=\"button\" aria-expanded=\"false\" tabindex=\"0\"><code>[[Create]](origin, options, sameOriginWithAncestors)</code></dfn>\n  is called with an <a data-link-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/origin.html#concept-origin\" id=\"ref-for-concept-origin⑥\">origin</a> (<var>origin</var>), a\n  <code class=\"idl\"><a data-link-type=\"idl\" href=\"https://www.w3.org/TR/credential-management-1/#dictdef-credentialcreationoptions\" id=\"ref-for-dictdef-credentialcreationoptions①⓪\">CredentialCreationOptions</a></code> (<var>options</var>), and a boolean which is <code>true</code> if and only if the calling\n  context is <a data-link-type=\"dfn\" href=\"https://www.w3.org/TR/credential-management-1/#same-origin-with-its-ancestors\" id=\"ref-for-same-origin-with-its-ancestors⑨\">same-origin with its ancestors</a> (<var>sameOriginWithAncestors</var>).\n  The algorithm returns a <code class=\"idl\"><a data-link-type=\"idl\" href=\"https://www.w3.org/TR/credential-management-1/#passwordcredential\" id=\"ref-for-passwordcredential①④\">PasswordCredential</a></code> if one can be created,\n  <code>null</code> otherwise. The <code class=\"idl\"><a data-link-type=\"idl\" href=\"https://www.w3.org/TR/credential-management-1/#dictdef-credentialcreationoptions\" id=\"ref-for-dictdef-credentialcreationoptions①①\">CredentialCreationOptions</a></code> dictionary must have a <code>password</code> member which\n  holds either an <code class=\"idl\"><a data-link-type=\"idl\" href=\"https://html.spec.whatwg.org/multipage/forms.html#htmlformelement\" id=\"ref-for-htmlformelement⑥\">HTMLFormElement</a></code> or a <code class=\"idl\"><a data-link-type=\"idl\" href=\"https://www.w3.org/TR/credential-management-1/#dictdef-passwordcredentialdata\" id=\"ref-for-dictdef-passwordcredentialdata④\">PasswordCredentialData</a></code>. If that member’s value cannot be\n  used to create a <code class=\"idl\"><a data-link-type=\"idl\" href=\"https://www.w3.org/TR/credential-management-1/#passwordcredential\" id=\"ref-for-passwordcredential①⑤\">PasswordCredential</a></code>, this algorithm will throw a <code class=\"idl\"><a data-link-type=\"idl\" href=\"https://webidl.spec.whatwg.org/#exceptiondef-typeerror\" id=\"ref-for-exceptiondef-typeerror③\">TypeError</a></code> <a data-link-type=\"dfn\" href=\"https://webidl.spec.whatwg.org/#dfn-exception\" id=\"ref-for-dfn-exception①⓪\">exception</a>.",
      "rationale": ".algorithm",
      "steps": [
        {
          "html": "<p class=\"assertion\">Assert: <var>options</var>[\"<code class=\"idl\"><a data-link-type=\"idl\" href=\"https://www.w3.org/TR/credential-management-1/#dom-credentialcreationoptions-password\" id=\"ref-for-dom-credentialcreationoptions-password\">password</a></code>\"] <a data-link-type=\"dfn\" href=\"https://infra.spec.whatwg.org/#map-exists\" id=\"ref-for-map-exists①\">exists</a>, and\n  <var>sameOriginWithAncestors</var> is unused.</p>"
        },
        {
          "html": "<p>If <var>options</var>[\"<code class=\"idl\"><a data-link-type=\"idl\" href=\"https://www.w3.org/TR/credential-management-1/#dom-credentialcreationoptions-password\" id=\"ref-for-dom-credentialcreationoptions-password①\">password</a></code>\"] is an <code class=\"idl\"><a data-link-type=\"idl\" href=\"https://html.spec.whatwg.org/multipage/forms.html#htmlformelement\" id=\"ref-for-htmlformelement⑦\">HTMLFormElement</a></code>, return the\n  result of executing <a data-link-type=\"abstract-op\" href=\"https://www.w3.org/TR/credential-management-1/#abstract-opdef-create-a-passwordcredential-from-an-htmlformelement\" id=\"ref-for-abstract-opdef-create-a-passwordcredential-from-an-htmlformelement①\">Create a <code>PasswordCredential</code> from an\n  <code>HTMLFormElement</code></a> given <var>options</var>[\"<code class=\"idl\"><a data-link-type=\"idl\" href=\"https://www.w3.org/TR/credential-management-1/#dom-credentialcreationoptions-password\" id=\"ref-for-dom-credentialcreationoptions-password②\">password</a></code>\"] and <var>origin</var>.\n  Rethrow any exceptions.</p>"
        },
        {
          "html": "<p>If <var>options</var>[\"<code class=\"idl\"><a data-link-type=\"idl\" href=\"https://www.w3.org/TR/credential-management-1/#dom-credentialcreationoptions-password\" id=\"ref-for-dom-credentialcreationoptions-password③\">password</a></code>\"] is a <code class=\"idl\"><a data-link-type=\"idl\" href=\"https://www.w3.org/TR/credential-management-1/#dictdef-passwordcredentialdata\" id=\"ref-for-dictdef-passwordcredentialdata⑤\">PasswordCredentialData</a></code>, return\n  the result of executing <a data-link-type=\"abstract-op\" href=\"https://www.w3.org/TR/credential-management-1/#abstract-opdef-create-a-passwordcredential-from-passwordcredentialdata\" id=\"ref-for-abstract-opdef-create-a-passwordcredential-from-passwordcredentialdata①\">Create a <code>PasswordCredential</code> from\n  <code>PasswordCredentialData</code></a> given <var>options</var>[\"<code class=\"idl\"><a data-link-type=\"idl\" href=\"https://www.w3.org/TR/credential-management-1/#dom-credentialcreationoptions-password\" id=\"ref-for-dom-credentialcreationoptions-password④\">password</a></code>\"].\n  Rethrow any exceptions.</p>"
        },
        {
          "html": "<p>Throw a <code class=\"idl\"><a data-link-type=\"idl\" href=\"https://webidl.spec.whatwg.org/#exceptiondef-typeerror\" id=\"ref-for-exceptiondef-typeerror④\">TypeError</a></code> <a data-link-type=\"dfn\" href=\"https://webidl.spec.whatwg.org/#dfn-exception\" id=\"ref-for-dfn-exception①①\">exception</a>.</p>"
        }
      ]
    },
    {
      "html": "The algorithm will return a <code>NotAllowedError</code> if <var>sameOriginWithAncestors</var> is not <code>true</code>.",
      "rationale": ".algorithm",
      "steps": [
        {
          "html": "<p>Throw a \"<code class=\"idl\"><a data-link-type=\"idl\" href=\"https://webidl.spec.whatwg.org/#notallowederror\" id=\"ref-for-notallowederror⑦\">NotAllowedError</a></code>\" <code class=\"idl\"><a data-link-type=\"idl\" href=\"https://webidl.spec.whatwg.org/#idl-DOMException\" id=\"ref-for-idl-DOMException①③\">DOMException</a></code> without altering the user agent’s\n  <a data-link-type=\"dfn\" href=\"https://www.w3.org/TR/credential-management-1/#concept-credential-store\" id=\"ref-for-concept-credential-store①⑦\">credential store</a> if <var>sameOriginWithAncestors</var> is <code>false</code>.</p>"
        },
        {
          "html": "If the user agent’s <a data-link-type=\"dfn\" href=\"https://www.w3.org/TR/credential-management-1/#concept-credential-store\" id=\"ref-for-concept-credential-store①⑧\">credential store</a> contains a <code class=\"idl\"><a data-link-type=\"idl\" href=\"https://www.w3.org/TR/credential-management-1/#passwordcredential\" id=\"ref-for-passwordcredential①⑦\">PasswordCredential</a></code> (<var>stored</var>)\n  whose <code class=\"idl\"><a data-link-type=\"idl\" href=\"https://www.w3.org/TR/credential-management-1/#dom-credential-id\" id=\"ref-for-dom-credential-id①\">id</a></code> attribute is <var>credential</var>’s <code class=\"idl\"><a data-link-type=\"idl\" href=\"https://www.w3.org/TR/credential-management-1/#dom-credential-id\" id=\"ref-for-dom-credential-id②\">id</a></code> and whose\n  <code class=\"idl\"><a data-link-type=\"idl\" href=\"https://www.w3.org/TR/credential-management-1/#dom-credential-origin-slot\" id=\"ref-for-dom-credential-origin-slot①\">[[origin]]</a></code> slot is the <a data-link-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/browsers.html#same-origin\" id=\"ref-for-same-origin②\">same origin</a> as <var>credential</var>’s <code class=\"idl\"><a data-link-type=\"idl\" href=\"https://www.w3.org/TR/credential-management-1/#dom-credential-origin-slot\" id=\"ref-for-dom-credential-origin-slot②\">[[origin]]</a></code>,\n  then:",
          "rationale": "if",
          "steps": [
            {
              "html": "If the user grants permission to update credentials (as discussed when defining\n  <a data-link-type=\"dfn\" href=\"https://www.w3.org/TR/credential-management-1/#user-mediated\" id=\"ref-for-user-mediated⑧\">user mediation</a>), then:",
              "rationale": "set",
              "steps": [
                {
                  "html": "<p>Set <var>stored</var>’s <a class=\"idl-code\" data-link-type=\"attribute\" href=\"https://www.w3.org/TR/credential-management-1/#dom-passwordcredential-password\" id=\"ref-for-dom-passwordcredential-password①\"><code>password</code></a> to <var>credential</var>’s\n  <a class=\"idl-code\" data-link-type=\"attribute\" href=\"https://www.w3.org/TR/credential-management-1/#dom-passwordcredential-password\" id=\"ref-for-dom-passwordcredential-password②\"><code>password</code></a>.</p>"
                },
                {
                  "html": "<p>Set <var>stored</var>’s <code class=\"idl\"><a data-link-type=\"idl\" href=\"https://www.w3.org/TR/credential-management-1/#dom-credentialuserdata-name\" id=\"ref-for-dom-credentialuserdata-name①\">name</a></code> to <var>credential</var>’s\n  <code class=\"idl\"><a data-link-type=\"idl\" href=\"https://www.w3.org/TR/credential-management-1/#dom-credentialuserdata-name\" id=\"ref-for-dom-credentialuserdata-name②\">name</a></code>.</p>"
                },
                {
                  "html": "<p>Set <var>stored</var>’s <code class=\"idl\"><a data-link-type=\"idl\" href=\"https://www.w3.org/TR/credential-management-1/#dom-credentialuserdata-iconurl\" id=\"ref-for-dom-credentialuserdata-iconurl①\">iconURL</a></code> to <var>credential</var>’s\n  <code class=\"idl\"><a data-link-type=\"idl\" href=\"https://www.w3.org/TR/credential-management-1/#dom-credentialuserdata-iconurl\" id=\"ref-for-dom-credentialuserdata-iconurl②\">iconURL</a></code>.</p>"
                }
              ]
            }
          ],
          "additional": [
            {
              "html": "Otherwise, if the user grants permission to store credentials (as discussed when\n  defining <a data-link-type=\"dfn\" href=\"https://www.w3.org/TR/credential-management-1/#user-mediated\" id=\"ref-for-user-mediated⑨\">user mediation</a>, then:",
              "rationale": "store",
              "steps": [
                {
                  "html": "<p>Store a <code class=\"idl\"><a data-link-type=\"idl\" href=\"https://www.w3.org/TR/credential-management-1/#passwordcredential\" id=\"ref-for-passwordcredential①⑧\">PasswordCredential</a></code> in the <a data-link-type=\"dfn\" href=\"https://www.w3.org/TR/credential-management-1/#concept-credential-store\" id=\"ref-for-concept-credential-store①⑨\">credential store</a> with the following\n  properties:</p>\n        <dl>\n         <dt data-md=\"\"><code class=\"idl\"><a data-link-type=\"idl\" href=\"https://www.w3.org/TR/credential-management-1/#dom-credential-id\" id=\"ref-for-dom-credential-id③\">id</a></code>\n         </dt><dd data-md=\"\">\n          <p><var>credential</var>’s <code class=\"idl\"><a data-link-type=\"idl\" href=\"https://www.w3.org/TR/credential-management-1/#dom-credential-id\" id=\"ref-for-dom-credential-id④\">id</a></code></p>\n         </dd><dt data-md=\"\"><code class=\"idl\"><a data-link-type=\"idl\" href=\"https://www.w3.org/TR/credential-management-1/#dom-credentialuserdata-name\" id=\"ref-for-dom-credentialuserdata-name③\">name</a></code>,\n         </dt><dd data-md=\"\">\n          <p><var>credential</var>’s <code class=\"idl\"><a data-link-type=\"idl\" href=\"https://www.w3.org/TR/credential-management-1/#dom-credentialuserdata-name\" id=\"ref-for-dom-credentialuserdata-name④\">name</a></code></p>\n         </dd><dt data-md=\"\"><code class=\"idl\"><a data-link-type=\"idl\" href=\"https://www.w3.org/TR/credential-management-1/#dom-credentialuserdata-iconurl\" id=\"ref-for-dom-credentialuserdata-iconurl③\">iconURL</a></code>\n         </dt><dd data-md=\"\">\n          <p><var>credential</var>’s <code class=\"idl\"><a data-link-type=\"idl\" href=\"https://www.w3.org/TR/credential-management-1/#dom-credentialuserdata-iconurl\" id=\"ref-for-dom-credentialuserdata-iconurl④\">iconURL</a></code></p>\n         </dd><dt data-md=\"\"><code class=\"idl\"><a data-link-type=\"idl\" href=\"https://www.w3.org/TR/credential-management-1/#dom-credential-origin-slot\" id=\"ref-for-dom-credential-origin-slot③\">[[origin]]</a></code>\n         </dt><dd data-md=\"\">\n          <p><var>credential</var>’s <code class=\"idl\"><a data-link-type=\"idl\" href=\"https://www.w3.org/TR/credential-management-1/#dom-credential-origin-slot\" id=\"ref-for-dom-credential-origin-slot④\">[[origin]]</a></code></p>\n         </dd><dt data-md=\"\"><a class=\"idl-code\" data-link-type=\"attribute\" href=\"https://www.w3.org/TR/credential-management-1/#dom-passwordcredential-password\" id=\"ref-for-dom-passwordcredential-password③\"><code>password</code></a>\n         </dt><dd data-md=\"\">\n          <p><var>credential</var>’s <a class=\"idl-code\" data-link-type=\"attribute\" href=\"https://www.w3.org/TR/credential-management-1/#dom-passwordcredential-password\" id=\"ref-for-dom-passwordcredential-password④\"><code>password</code></a></p>\n        </dd></dl>"
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "name": "Create a PasswordCredential from an HTMLFormElement",
      "href": "https://www.w3.org/TR/credential-management-1/#abstract-opdef-create-a-passwordcredential-from-an-htmlformelement",
      "html": "To <dfn class=\"dfn-paneled has-dfn-panel\" data-dfn-type=\"abstract-op\" data-export=\"\" id=\"abstract-opdef-create-a-passwordcredential-from-an-htmlformelement\" role=\"button\" aria-expanded=\"false\" tabindex=\"0\">Create a <code>PasswordCredential</code> from an <code>HTMLFormElement</code></dfn>, given an\n  <code class=\"idl\"><a data-link-type=\"idl\" href=\"https://html.spec.whatwg.org/multipage/forms.html#htmlformelement\" id=\"ref-for-htmlformelement⑧\">HTMLFormElement</a></code> (<var>form</var>) and an <a data-link-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/origin.html#concept-origin\" id=\"ref-for-concept-origin⑦\">origin</a> (<var>origin</var>), run these steps.",
      "rationale": ".algorithm",
      "steps": [
        {
          "html": "<p>Let <var>data</var> be a new <code class=\"idl\"><a data-link-type=\"idl\" href=\"https://www.w3.org/TR/credential-management-1/#dictdef-passwordcredentialdata\" id=\"ref-for-dictdef-passwordcredentialdata⑥\">PasswordCredentialData</a></code> dictionary.</p>"
        },
        {
          "html": "<p>Set <var>data</var>’s <code class=\"idl\"><a data-link-type=\"idl\" href=\"https://www.w3.org/TR/credential-management-1/#dom-passwordcredentialdata-origin\" id=\"ref-for-dom-passwordcredentialdata-origin\">origin</a></code> member’s value to <var>origin</var>’s value.</p>"
        },
        {
          "html": "<p>Let <var>formData</var> be the result of executing the <code class=\"idl\"><a data-link-type=\"idl\" href=\"https://xhr.spec.whatwg.org/#interface-formdata\" id=\"ref-for-interface-formdata\">FormData</a></code> constructor\n  on <var>form</var>.</p>"
        },
        {
          "html": "<p>Let <var>elements</var> be a list of all the <a data-link-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/forms.html#category-submit\" id=\"ref-for-category-submit①\">submittable elements</a> whose <a data-link-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/form-control-infrastructure.html#form-owner\" id=\"ref-for-form-owner\">form owner</a> is <var>form</var>, in <a data-link-type=\"dfn\" href=\"https://dom.spec.whatwg.org/#concept-tree-order\" id=\"ref-for-concept-tree-order\">tree order</a>.</p>"
        },
        {
          "html": "<p>Let <var>newPasswordObserved</var> be <code>false</code>.</p>"
        },
        {
          "html": "For each <var>field</var> in <var>elements</var>, run the following steps:",
          "rationale": "if",
          "steps": [
            {
              "html": "<p>If <var>field</var> does not have an <code><a data-link-type=\"element-sub\" href=\"https://html.spec.whatwg.org/multipage/forms.html#attr-fe-autocomplete\" id=\"ref-for-attr-fe-autocomplete⑦\">autocomplete</a></code> attribute, then skip to the next\n  <var>field</var>.</p>"
            },
            {
              "html": "<p>Let <var>name</var> be the value of <var>field</var>’s <code><a data-link-type=\"element-sub\" href=\"https://html.spec.whatwg.org/multipage/forms.html#attr-fe-name\" id=\"ref-for-attr-fe-name\">name</a></code> attribute.</p>"
            },
            {
              "html": "<p>If <var>formData</var>’s <code class=\"idl\"><a data-link-type=\"idl\" href=\"https://xhr.spec.whatwg.org/#dom-formdata-has\" id=\"ref-for-dom-formdata-has\">has()</a></code> method returns <code>false</code> when executed on <var>name</var>, then\n  skip to the next <var>field</var>.</p>"
            },
            {
              "html": "If <var>field</var>’s <code><a data-link-type=\"element-sub\" href=\"https://html.spec.whatwg.org/multipage/forms.html#attr-fe-autocomplete\" id=\"ref-for-attr-fe-autocomplete⑧\">autocomplete</a></code> attribute’s value contains one or more <a data-link-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/form-control-infrastructure.html#autofill-detail-tokens\" id=\"ref-for-autofill-detail-tokens\">autofill detail tokens</a> (<var>tokens</var>), then:",
              "rationale": "for",
              "steps": [
                {
                  "html": "For each <var>token</var> in <var>tokens</var>:",
                  "rationale": "if",
                  "steps": [
                    {
                      "html": "<p>If <var>token</var> is an <a data-link-type=\"dfn\" href=\"https://infra.spec.whatwg.org/#ascii-case-insensitive\" id=\"ref-for-ascii-case-insensitive\">ASCII case-insensitive</a> match for one\n  of the following strings, run the associated steps:</p>\n            <dl>\n             <dt data-md=\"\">\"<a data-link-type=\"attr-value\" href=\"https://html.spec.whatwg.org/multipage/forms.html#attr-fe-autocomplete-new-password\" id=\"ref-for-attr-fe-autocomplete-new-password①\"><code>new-password</code></a>\"\n             </dt><dd data-md=\"\">\n              <p>Set <var>data</var>’s <code class=\"idl\"><a data-link-type=\"idl\" href=\"https://www.w3.org/TR/credential-management-1/#dom-passwordcredentialdata-password\" id=\"ref-for-dom-passwordcredentialdata-password\">password</a></code> member’s\n  value to the result of executing <var>formData</var>’s\n  <code class=\"idl\"><a data-link-type=\"idl\" href=\"https://xhr.spec.whatwg.org/#dom-formdata-get\" id=\"ref-for-dom-formdata-get\">get()</a></code> method on <var>name</var>, and <var>newPasswordObserved</var> to <code>true</code>.</p>\n             </dd><dt data-md=\"\">\"<a data-link-type=\"attr-value\" href=\"https://html.spec.whatwg.org/multipage/forms.html#attr-fe-autocomplete-current-password\" id=\"ref-for-attr-fe-autocomplete-current-password①\"><code>current-password</code></a>\"\n             </dt><dd data-md=\"\">\n              <p>If <var>newPasswordObserved</var> is <code>false</code>,\n  set <var>data</var>’s <code class=\"idl\"><a data-link-type=\"idl\" href=\"https://www.w3.org/TR/credential-management-1/#dom-passwordcredentialdata-password\" id=\"ref-for-dom-passwordcredentialdata-password①\">password</a></code> member’s\n  value to the result of executing <var>formData</var>’s\n  <code class=\"idl\"><a data-link-type=\"idl\" href=\"https://xhr.spec.whatwg.org/#dom-formdata-get\" id=\"ref-for-dom-formdata-get①\">get()</a></code> method on <var>name</var>.</p>\n              \n             </dd><dt data-md=\"\">\"<a data-link-type=\"attr-value\" href=\"https://html.spec.whatwg.org/multipage/forms.html#attr-fe-autocomplete-photo\" id=\"ref-for-attr-fe-autocomplete-photo\"><code>photo</code></a>\"\n             </dt><dd data-md=\"\">\n              <p>Set <var>data</var>’s <code class=\"idl\"><a data-link-type=\"idl\" href=\"https://www.w3.org/TR/credential-management-1/#dom-credentialuserdata-iconurl\" id=\"ref-for-dom-credentialuserdata-iconurl⑤\">iconURL</a></code> member’s\n  value to the result of executing <var>formData</var>’s\n  <code class=\"idl\"><a data-link-type=\"idl\" href=\"https://xhr.spec.whatwg.org/#dom-formdata-get\" id=\"ref-for-dom-formdata-get②\">get()</a></code> method on <var>name</var>.</p>\n             </dd><dt data-md=\"\">\"<a data-link-type=\"attr-value\" href=\"https://html.spec.whatwg.org/multipage/forms.html#attr-fe-autocomplete-name\" id=\"ref-for-attr-fe-autocomplete-name\"><code>name</code></a>\"\n             </dt><dt data-md=\"\">\"<a data-link-type=\"attr-value\" href=\"https://html.spec.whatwg.org/multipage/forms.html#attr-fe-autocomplete-nickname\" id=\"ref-for-attr-fe-autocomplete-nickname\"><code>nickname</code></a>\"\n             </dt><dd data-md=\"\">\n              <p>Set <var>data</var>’s <code class=\"idl\"><a data-link-type=\"idl\" href=\"https://www.w3.org/TR/credential-management-1/#dom-credentialuserdata-name\" id=\"ref-for-dom-credentialuserdata-name⑤\">name</a></code> member’s\n  value to the result of executing <var>formData</var>’s\n  <code class=\"idl\"><a data-link-type=\"idl\" href=\"https://xhr.spec.whatwg.org/#dom-formdata-get\" id=\"ref-for-dom-formdata-get③\">get()</a></code> method on <var>name</var>.</p>\n             </dd><dt data-md=\"\">\"<a data-link-type=\"attr-value\" href=\"https://html.spec.whatwg.org/multipage/forms.html#attr-fe-autocomplete-username\" id=\"ref-for-attr-fe-autocomplete-username②\"><code>username</code></a>\"\n             </dt><dd data-md=\"\">\n              <p>Set <var>data</var>’s <code class=\"idl\"><a data-link-type=\"idl\" href=\"https://www.w3.org/TR/credential-management-1/#dom-credentialdata-id\" id=\"ref-for-dom-credentialdata-id\">id</a></code> member’s value to the\n  result of executing <var>formData</var>’s <code class=\"idl\"><a data-link-type=\"idl\" href=\"https://xhr.spec.whatwg.org/#dom-formdata-get\" id=\"ref-for-dom-formdata-get④\">get()</a></code> method\n  on <var>name</var>.</p>\n            </dd></dl>"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "html": "<p>Let <var>c</var> be the result of executing <a data-link-type=\"abstract-op\" href=\"https://www.w3.org/TR/credential-management-1/#abstract-opdef-create-a-passwordcredential-from-passwordcredentialdata\" id=\"ref-for-abstract-opdef-create-a-passwordcredential-from-passwordcredentialdata②\">Create a <code>PasswordCredential</code> from\n  <code>PasswordCredentialData</code></a> on <var>data</var>. If that threw an <a data-link-type=\"dfn\" href=\"https://webidl.spec.whatwg.org/#dfn-exception\" id=\"ref-for-dfn-exception①②\">exception</a>, rethrow that\n  exception.</p>"
        },
        {
          "html": "<p class=\"assertion\">Assert: <var>c</var> is a <code class=\"idl\"><a data-link-type=\"idl\" href=\"https://www.w3.org/TR/credential-management-1/#passwordcredential\" id=\"ref-for-passwordcredential①⑨\">PasswordCredential</a></code>.</p>"
        },
        {
          "html": "<p>Return <var>c</var>.</p>"
        }
      ]
    },
    {
      "name": "Create a PasswordCredential from PasswordCredentialData",
      "href": "https://www.w3.org/TR/credential-management-1/#abstract-opdef-create-a-passwordcredential-from-passwordcredentialdata",
      "html": "To <dfn class=\"dfn-paneled has-dfn-panel\" data-dfn-type=\"abstract-op\" data-export=\"\" id=\"abstract-opdef-create-a-passwordcredential-from-passwordcredentialdata\" role=\"button\" aria-expanded=\"false\" tabindex=\"0\">Create a <code>PasswordCredential</code> from <code>PasswordCredentialData</code></dfn>, given an\n  <code class=\"idl\"><a data-link-type=\"idl\" href=\"https://www.w3.org/TR/credential-management-1/#dictdef-passwordcredentialdata\" id=\"ref-for-dictdef-passwordcredentialdata⑦\">PasswordCredentialData</a></code> (<var>data</var>), run these steps.",
      "rationale": ".algorithm",
      "steps": [
        {
          "html": "<p>Let <var>c</var> be a new <code class=\"idl\"><a data-link-type=\"idl\" href=\"https://www.w3.org/TR/credential-management-1/#passwordcredential\" id=\"ref-for-passwordcredential②⓪\">PasswordCredential</a></code> object.</p>"
        },
        {
          "html": "<p>If any of the following are the empty string, throw a <code class=\"idl\"><a data-link-type=\"idl\" href=\"https://webidl.spec.whatwg.org/#exceptiondef-typeerror\" id=\"ref-for-exceptiondef-typeerror⑤\">TypeError</a></code> <a data-link-type=\"dfn\" href=\"https://webidl.spec.whatwg.org/#dfn-exception\" id=\"ref-for-dfn-exception①③\">exception</a>:</p>\n      <ul>\n       <li data-md=\"\">\n        <p><var>data</var>’s <code class=\"idl\"><a data-link-type=\"idl\" href=\"https://www.w3.org/TR/credential-management-1/#dom-credentialdata-id\" id=\"ref-for-dom-credentialdata-id①\">id</a></code> member’s value</p>\n       </li><li data-md=\"\">\n        <p><var>data</var>’s <code class=\"idl\"><a data-link-type=\"idl\" href=\"https://www.w3.org/TR/credential-management-1/#dom-passwordcredentialdata-origin\" id=\"ref-for-dom-passwordcredentialdata-origin①\">origin</a></code> member’s value</p>\n       </li><li data-md=\"\">\n        <p><var>data</var>’s <code class=\"idl\"><a data-link-type=\"idl\" href=\"https://www.w3.org/TR/credential-management-1/#dom-passwordcredentialdata-password\" id=\"ref-for-dom-passwordcredentialdata-password②\">password</a></code> member’s value</p>\n      </li></ul>"
        },
        {
          "html": "<p>Set <var>c</var>’s properties as follows:</p>\n      <dl>\n       <dt data-md=\"\"><a class=\"idl-code\" data-link-type=\"attribute\" href=\"https://www.w3.org/TR/credential-management-1/#dom-passwordcredential-password\" id=\"ref-for-dom-passwordcredential-password⑤\"><code>password</code></a>\n       </dt><dd data-md=\"\">\n        <p><var>data</var>’s <code class=\"idl\"><a data-link-type=\"idl\" href=\"https://www.w3.org/TR/credential-management-1/#dom-passwordcredentialdata-password\" id=\"ref-for-dom-passwordcredentialdata-password③\">password</a></code> member’s value</p>\n       </dd><dt data-md=\"\"><code class=\"idl\"><a data-link-type=\"idl\" href=\"https://www.w3.org/TR/credential-management-1/#dom-credential-id\" id=\"ref-for-dom-credential-id⑤\">id</a></code>\n       </dt><dd data-md=\"\">\n        <p><var>data</var>’s <code class=\"idl\"><a data-link-type=\"idl\" href=\"https://www.w3.org/TR/credential-management-1/#dom-credentialdata-id\" id=\"ref-for-dom-credentialdata-id②\">id</a></code> member’s value</p>\n       </dd><dt data-md=\"\"><code class=\"idl\"><a data-link-type=\"idl\" href=\"https://www.w3.org/TR/credential-management-1/#dom-credentialuserdata-iconurl\" id=\"ref-for-dom-credentialuserdata-iconurl⑥\">iconURL</a></code>\n       </dt><dd data-md=\"\">\n        <p><var>data</var>’s <code class=\"idl\"><a data-link-type=\"idl\" href=\"https://www.w3.org/TR/credential-management-1/#dom-passwordcredentialdata-iconurl\" id=\"ref-for-dom-passwordcredentialdata-iconurl\">iconURL</a></code> member’s value</p>\n       </dd><dt data-md=\"\"><code class=\"idl\"><a data-link-type=\"idl\" href=\"https://www.w3.org/TR/credential-management-1/#dom-credentialuserdata-name\" id=\"ref-for-dom-credentialuserdata-name⑥\">name</a></code>\n       </dt><dd data-md=\"\">\n        <p><var>data</var>’s <code class=\"idl\"><a data-link-type=\"idl\" href=\"https://www.w3.org/TR/credential-management-1/#dom-passwordcredentialdata-name\" id=\"ref-for-dom-passwordcredentialdata-name\">name</a></code> member’s value</p>\n       </dd><dt data-md=\"\"><code class=\"idl\"><a data-link-type=\"idl\" href=\"https://www.w3.org/TR/credential-management-1/#dom-credential-origin-slot\" id=\"ref-for-dom-credential-origin-slot⑤\">[[origin]]</a></code>\n       </dt><dd data-md=\"\">\n        <p><var>data</var>’s <code class=\"idl\"><a data-link-type=\"idl\" href=\"https://www.w3.org/TR/credential-management-1/#dom-passwordcredentialdata-origin\" id=\"ref-for-dom-passwordcredentialdata-origin②\">origin</a></code> member’s value.</p>\n      </dd></dl>"
        },
        {
          "html": "<p>Return <var>c</var>.</p>"
        }
      ]
    },
    {
      "html": "Given a <code class=\"idl\"><a data-link-type=\"idl\" href=\"https://www.w3.org/TR/credential-management-1/#dictdef-credentialrequestoptions\" id=\"ref-for-dictdef-credentialrequestoptions①⑤\">CredentialRequestOptions</a></code> (<var>options</var>), the following algorithm returns \"<code>Matches</code>\" if\n  the <code class=\"idl\"><a data-link-type=\"idl\" href=\"https://www.w3.org/TR/credential-management-1/#passwordcredential\" id=\"ref-for-passwordcredential②①\">PasswordCredential</a></code> should be available as a response to a <code class=\"idl\"><a data-link-type=\"idl\" href=\"https://www.w3.org/TR/credential-management-1/#dom-credentialscontainer-get\" id=\"ref-for-dom-credentialscontainer-get②②\">get()</a></code>\n  request, and \"<code>Does Not Match</code>\" otherwise.",
      "rationale": "if",
      "steps": [
        {
          "html": "<p>If <var>options</var> has a <code class=\"idl\"><a data-link-type=\"idl\" href=\"https://www.w3.org/TR/credential-management-1/#dom-credentialrequestoptions-password\" id=\"ref-for-dom-credentialrequestoptions-password④\">password</a></code> member whose value is <code>true</code>, then\n  return \"<code>Matches</code>\".</p>"
        },
        {
          "html": "<p>Return \"<code>Does Not Match</code>\".</p>"
        }
      ]
    },
    {
      "name": "FederatedCredential/FederatedCredential(data)",
      "href": "https://www.w3.org/TR/credential-management-1/#dom-federatedcredential-federatedcredential",
      "html": "This constructor accepts a <code class=\"idl\"><a data-link-type=\"idl\" href=\"https://www.w3.org/TR/credential-management-1/#dictdef-federatedcredentialinit\" id=\"ref-for-dictdef-federatedcredentialinit①\">FederatedCredentialInit</a></code> (<var>data</var>), and runs the following steps:",
      "rationale": "let",
      "steps": [
        {
          "html": "<p>Let <var>r</var> be the result of executing <a data-link-type=\"abstract-op\" href=\"https://www.w3.org/TR/credential-management-1/#abstract-opdef-create-a-federatedcredential-from-federatedcredentialinit\" id=\"ref-for-abstract-opdef-create-a-federatedcredential-from-federatedcredentialinit\">Create a <code>FederatedCredential</code> from\n  <code>FederatedCredentialInit</code></a> on <var>data</var>. If that threw an <a data-link-type=\"dfn\" href=\"https://webidl.spec.whatwg.org/#dfn-exception\" id=\"ref-for-dfn-exception①④\">exception</a>, rethrow that\n  exception.</p>"
        },
        {
          "html": "<p>Return <var>r</var>.</p>"
        }
      ]
    },
    {
      "name": "FederatedCredential/[[CollectFromCredentialStore]](origin, options, sameOriginWithAncestors)",
      "href": "https://www.w3.org/TR/credential-management-1/#dom-federatedcredential-collectfromcredentialstore-slot",
      "html": "<dfn class=\"dfn-paneled idl-code has-dfn-panel\" data-dfn-for=\"FederatedCredential\" data-dfn-type=\"method\" data-export=\"\" id=\"dom-federatedcredential-collectfromcredentialstore-slot\" role=\"button\" aria-expanded=\"false\" tabindex=\"0\"><code>[[CollectFromCredentialStore]](origin, options, sameOriginWithAncestors)</code></dfn>\n  is called with an <a data-link-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/origin.html#concept-origin\" id=\"ref-for-concept-origin⑨\">origin</a> (<var>origin</var>), a <code class=\"idl\"><a data-link-type=\"idl\" href=\"https://www.w3.org/TR/credential-management-1/#dictdef-credentialrequestoptions\" id=\"ref-for-dictdef-credentialrequestoptions①⑦\">CredentialRequestOptions</a></code> (<var>options</var>),\n  and a boolean which is <code>true</code> if and only if the calling context is <a data-link-type=\"dfn\" href=\"https://www.w3.org/TR/credential-management-1/#same-origin-with-its-ancestors\" id=\"ref-for-same-origin-with-its-ancestors①①\">same-origin with its ancestors</a> (<var>sameOriginWithAncestors</var>).\n  The algorithm returns a set of <code class=\"idl\"><a data-link-type=\"idl\" href=\"https://www.w3.org/TR/credential-management-1/#credential\" id=\"ref-for-credential④⑨\">Credential</a></code> objects from\n  the <a data-link-type=\"dfn\" href=\"https://www.w3.org/TR/credential-management-1/#concept-credential-store\" id=\"ref-for-concept-credential-store②⓪\">credential store</a>. If no matching <code class=\"idl\"><a data-link-type=\"idl\" href=\"https://www.w3.org/TR/credential-management-1/#credential\" id=\"ref-for-credential⑤⓪\">Credential</a></code> objects are available, the returned set\n  will be empty.",
      "rationale": ".algorithm",
      "steps": [
        {
          "html": "<p class=\"assertion\">Assert: <var>options</var>[\"<code class=\"idl\"><a data-link-type=\"idl\" href=\"https://www.w3.org/TR/credential-management-1/#dom-credentialrequestoptions-federated\" id=\"ref-for-dom-credentialrequestoptions-federated\">federated</a></code>\"] <a data-link-type=\"dfn\" href=\"https://infra.spec.whatwg.org/#map-exists\" id=\"ref-for-map-exists②\">exists</a>.</p>"
        },
        {
          "html": "<p>If <var>sameOriginWithAncestors</var> is <code>false</code>, throw a \"<code class=\"idl\"><a data-link-type=\"idl\" href=\"https://webidl.spec.whatwg.org/#notallowederror\" id=\"ref-for-notallowederror⑧\">NotAllowedError</a></code>\" <code class=\"idl\"><a data-link-type=\"idl\" href=\"https://webidl.spec.whatwg.org/#idl-DOMException\" id=\"ref-for-idl-DOMException①④\">DOMException</a></code>.</p>"
        },
        {
          "html": "<p>Return the empty set if <var>options</var>[\"<code class=\"idl\"><a data-link-type=\"idl\" href=\"https://www.w3.org/TR/credential-management-1/#dom-credentialrequestoptions-federated\" id=\"ref-for-dom-credentialrequestoptions-federated①\">federated</a></code>\"] is not <code>true</code>.</p>"
        },
        {
          "html": "Return the result of <a data-link-type=\"abstract-op\" href=\"https://www.w3.org/TR/credential-management-1/#abstract-opdef-credential-store-retrieve-a-list-of-credentials\" id=\"ref-for-abstract-opdef-credential-store-retrieve-a-list-of-credentials①\">retrieving</a>\n  credentials from the <a data-link-type=\"dfn\" href=\"https://www.w3.org/TR/credential-management-1/#concept-credential-store\" id=\"ref-for-concept-credential-store②①\">credential store</a> that match the following filter:",
          "rationale": "if",
          "steps": [
            {
              "html": "<p>The credential is a <code class=\"idl\"><a data-link-type=\"idl\" href=\"https://www.w3.org/TR/credential-management-1/#federatedcredential\" id=\"ref-for-federatedcredential⑨\">FederatedCredential</a></code></p>"
            },
            {
              "html": "<p>The credential’s <code class=\"idl\"><a data-link-type=\"idl\" href=\"https://www.w3.org/TR/credential-management-1/#dom-credential-origin-slot\" id=\"ref-for-dom-credential-origin-slot⑥\">[[origin]]</a></code> is the <a data-link-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/browsers.html#same-origin\" id=\"ref-for-same-origin③\">same origin</a> as <var>origin</var>.</p>"
            },
            {
              "html": "<p>If <var>options</var>[\"<code class=\"idl\"><a data-link-type=\"idl\" href=\"https://www.w3.org/TR/credential-management-1/#dom-credentialrequestoptions-federated\" id=\"ref-for-dom-credentialrequestoptions-federated②\">federated</a></code>\"][\"<code class=\"idl\"><a data-link-type=\"idl\" href=\"https://www.w3.org/TR/credential-management-1/#dom-federatedcredentialrequestoptions-providers\" id=\"ref-for-dom-federatedcredentialrequestoptions-providers①\">providers</a></code>\"]\n  <a data-link-type=\"dfn\" href=\"https://infra.spec.whatwg.org/#map-exists\" id=\"ref-for-map-exists③\">exists</a>, its value <a data-link-type=\"dfn\" href=\"https://infra.spec.whatwg.org/#list-contain\" id=\"ref-for-list-contain③\">contains</a> the credentials’s <code class=\"idl\"><a data-link-type=\"idl\" href=\"https://www.w3.org/TR/credential-management-1/#dom-federatedcredential-provider\" id=\"ref-for-dom-federatedcredential-provider③\">provider</a></code>.</p>"
            },
            {
              "html": "<p>If <var>options</var>[\"<code class=\"idl\"><a data-link-type=\"idl\" href=\"https://www.w3.org/TR/credential-management-1/#dom-credentialrequestoptions-federated\" id=\"ref-for-dom-credentialrequestoptions-federated③\">federated</a></code>\"][\"<code class=\"idl\"><a data-link-type=\"idl\" href=\"https://www.w3.org/TR/credential-management-1/#dom-federatedcredentialrequestoptions-protocols\" id=\"ref-for-dom-federatedcredentialrequestoptions-protocols\">protocols</a></code>\"]\n  <a data-link-type=\"dfn\" href=\"https://infra.spec.whatwg.org/#map-exists\" id=\"ref-for-map-exists④\">exists</a>, its value <a data-link-type=\"dfn\" href=\"https://infra.spec.whatwg.org/#list-contain\" id=\"ref-for-list-contain④\">contains</a> the credentials’s <code class=\"idl\"><a data-link-type=\"idl\" href=\"https://www.w3.org/TR/credential-management-1/#dom-federatedcredential-protocol\" id=\"ref-for-dom-federatedcredential-protocol①\">protocol</a></code>.</p>"
            }
          ]
        }
      ]
    },
    {
      "name": "FederatedCredential/[[Create]](origin, options, sameOriginWithAncestors)",
      "href": "https://www.w3.org/TR/credential-management-1/#dom-federatedcredential-create-slot",
      "html": "<dfn class=\"dfn-paneled idl-code has-dfn-panel\" data-dfn-for=\"FederatedCredential\" data-dfn-type=\"method\" data-export=\"\" id=\"dom-federatedcredential-create-slot\" role=\"button\" aria-expanded=\"false\" tabindex=\"0\"><code>[[Create]](origin, options, sameOriginWithAncestors)</code></dfn>\n  is called with an <a data-link-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/origin.html#concept-origin\" id=\"ref-for-concept-origin①⓪\">origin</a> (<var>origin</var>), a\n  <code class=\"idl\"><a data-link-type=\"idl\" href=\"https://www.w3.org/TR/credential-management-1/#dictdef-credentialcreationoptions\" id=\"ref-for-dictdef-credentialcreationoptions①③\">CredentialCreationOptions</a></code> (<var>options</var>), and a boolean which is <code>true</code> if and only if the\n  calling context is <a data-link-type=\"dfn\" href=\"https://www.w3.org/TR/credential-management-1/#same-origin-with-its-ancestors\" id=\"ref-for-same-origin-with-its-ancestors①②\">same-origin with its ancestors</a> (<var>sameOriginWithAncestors</var>).\n  The algorithm returns a <code class=\"idl\"><a data-link-type=\"idl\" href=\"https://www.w3.org/TR/credential-management-1/#federatedcredential\" id=\"ref-for-federatedcredential①⓪\">FederatedCredential</a></code> if one can be created,\n  <code>null</code> otherwise, or throws an <a data-link-type=\"dfn\" href=\"https://webidl.spec.whatwg.org/#dfn-exception\" id=\"ref-for-dfn-exception①⑤\">exception</a> in exceptional circumstances:",
      "rationale": ".algorithm",
      "steps": [
        {
          "html": "<p class=\"assertion\">Assert: <var>options</var>[\"<code class=\"idl\"><a data-link-type=\"idl\" href=\"https://www.w3.org/TR/credential-management-1/#dom-credentialcreationoptions-federated\" id=\"ref-for-dom-credentialcreationoptions-federated\">federated</a></code>\"] <a data-link-type=\"dfn\" href=\"https://infra.spec.whatwg.org/#map-exists\" id=\"ref-for-map-exists⑤\">exists</a>, and\n  <var>sameOriginWithAncestors</var> is unused.</p>"
        },
        {
          "html": "<p>Set <var>options</var>[\"<code class=\"idl\"><a data-link-type=\"idl\" href=\"https://www.w3.org/TR/credential-management-1/#dom-credentialcreationoptions-federated\" id=\"ref-for-dom-credentialcreationoptions-federated①\">federated</a></code>\"]'s <code class=\"idl\"><a data-link-type=\"idl\" href=\"https://www.w3.org/TR/credential-management-1/#dom-federatedcredentialinit-origin\" id=\"ref-for-dom-federatedcredentialinit-origin\">origin</a></code>\n  member’s value to <var>origin</var>’s value.</p>"
        },
        {
          "html": "<p>Return the result of executing <a data-link-type=\"abstract-op\" href=\"https://www.w3.org/TR/credential-management-1/#abstract-opdef-create-a-federatedcredential-from-federatedcredentialinit\" id=\"ref-for-abstract-opdef-create-a-federatedcredential-from-federatedcredentialinit①\">Create a <code>FederatedCredential</code> from\n  <code>FederatedCredentialInit</code></a> given <var>options</var>[\"<code class=\"idl\"><a data-link-type=\"idl\" href=\"https://www.w3.org/TR/credential-management-1/#dom-credentialcreationoptions-federated\" id=\"ref-for-dom-credentialcreationoptions-federated②\">federated</a></code>\"].\n  If that threw an <a data-link-type=\"dfn\" href=\"https://webidl.spec.whatwg.org/#dfn-exception\" id=\"ref-for-dfn-exception①⑥\">exception</a>, then rethrow that exception.</p>"
        }
      ]
    },
    {
      "html": "The algorithm will return a <code>NotAllowedError</code> if <var>sameOriginWithAncestors</var> is not <code>true</code>.",
      "rationale": ".algorithm",
      "steps": [
        {
          "html": "<p>Throw a \"<code class=\"idl\"><a data-link-type=\"idl\" href=\"https://webidl.spec.whatwg.org/#notallowederror\" id=\"ref-for-notallowederror⑨\">NotAllowedError</a></code>\" <code class=\"idl\"><a data-link-type=\"idl\" href=\"https://webidl.spec.whatwg.org/#idl-DOMException\" id=\"ref-for-idl-DOMException①⑤\">DOMException</a></code> without altering the user agent’s\n  <a data-link-type=\"dfn\" href=\"https://www.w3.org/TR/credential-management-1/#concept-credential-store\" id=\"ref-for-concept-credential-store②③\">credential store</a> if <var>sameOriginWithAncestors</var> is <code>false</code>.</p>"
        },
        {
          "html": "<p>If the user agent’s <a data-link-type=\"dfn\" href=\"https://www.w3.org/TR/credential-management-1/#concept-credential-store\" id=\"ref-for-concept-credential-store②④\">credential store</a> contains a <code class=\"idl\"><a data-link-type=\"idl\" href=\"https://www.w3.org/TR/credential-management-1/#federatedcredential\" id=\"ref-for-federatedcredential①②\">FederatedCredential</a></code> whose\n  <code class=\"idl\"><a data-link-type=\"idl\" href=\"https://www.w3.org/TR/credential-management-1/#dom-credential-id\" id=\"ref-for-dom-credential-id⑥\">id</a></code> attribute is <var>credential</var>’s <code class=\"idl\"><a data-link-type=\"idl\" href=\"https://www.w3.org/TR/credential-management-1/#dom-credential-id\" id=\"ref-for-dom-credential-id⑦\">id</a></code> and whose <code class=\"idl\"><a data-link-type=\"idl\" href=\"https://www.w3.org/TR/credential-management-1/#dom-credential-origin-slot\" id=\"ref-for-dom-credential-origin-slot⑦\">[[origin]]</a></code>\n  slot is the <a data-link-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/browsers.html#same-origin\" id=\"ref-for-same-origin④\">same origin</a> as <var>credential</var>’s <code class=\"idl\"><a data-link-type=\"idl\" href=\"https://www.w3.org/TR/credential-management-1/#dom-credential-origin-slot\" id=\"ref-for-dom-credential-origin-slot⑧\">[[origin]]</a></code>, and\n  whose <code class=\"idl\"><a data-link-type=\"idl\" href=\"https://www.w3.org/TR/credential-management-1/#dom-federatedcredential-provider\" id=\"ref-for-dom-federatedcredential-provider④\">provider</a></code> is <var>credential</var>’s\n  <code class=\"idl\"><a data-link-type=\"idl\" href=\"https://www.w3.org/TR/credential-management-1/#dom-federatedcredential-provider\" id=\"ref-for-dom-federatedcredential-provider⑤\">provider</a></code>, then return.</p>"
        },
        {
          "html": "<p>If the user grants permission to store credentials (as discussed when defining\n  <a data-link-type=\"dfn\" href=\"https://www.w3.org/TR/credential-management-1/#user-mediated\" id=\"ref-for-user-mediated①⓪\">user mediation</a>), then store a <code class=\"idl\"><a data-link-type=\"idl\" href=\"https://www.w3.org/TR/credential-management-1/#federatedcredential\" id=\"ref-for-federatedcredential①③\">FederatedCredential</a></code> in the <a data-link-type=\"dfn\" href=\"https://www.w3.org/TR/credential-management-1/#concept-credential-store\" id=\"ref-for-concept-credential-store②⑤\">credential store</a> with\n  the following properties:</p>\n      <dl>\n       <dt data-md=\"\"><code class=\"idl\"><a data-link-type=\"idl\" href=\"https://www.w3.org/TR/credential-management-1/#dom-credential-id\" id=\"ref-for-dom-credential-id⑧\">id</a></code>\n       </dt><dd data-md=\"\">\n        <p><var>credential</var>’s <code class=\"idl\"><a data-link-type=\"idl\" href=\"https://www.w3.org/TR/credential-management-1/#dom-credential-id\" id=\"ref-for-dom-credential-id⑨\">id</a></code></p>\n       </dd><dt data-md=\"\"><code class=\"idl\"><a data-link-type=\"idl\" href=\"https://www.w3.org/TR/credential-management-1/#dom-credentialuserdata-name\" id=\"ref-for-dom-credentialuserdata-name⑦\">name</a></code>,\n       </dt><dd data-md=\"\">\n        <p><var>credential</var>’s <code class=\"idl\"><a data-link-type=\"idl\" href=\"https://www.w3.org/TR/credential-management-1/#dom-credentialuserdata-name\" id=\"ref-for-dom-credentialuserdata-name⑧\">name</a></code></p>\n       </dd><dt data-md=\"\"><code class=\"idl\"><a data-link-type=\"idl\" href=\"https://www.w3.org/TR/credential-management-1/#dom-credentialuserdata-iconurl\" id=\"ref-for-dom-credentialuserdata-iconurl⑦\">iconURL</a></code>\n       </dt><dd data-md=\"\">\n        <p><var>credential</var>’s <code class=\"idl\"><a data-link-type=\"idl\" href=\"https://www.w3.org/TR/credential-management-1/#dom-credentialuserdata-iconurl\" id=\"ref-for-dom-credentialuserdata-iconurl⑧\">iconURL</a></code></p>\n       </dd><dt data-md=\"\"><code class=\"idl\"><a data-link-type=\"idl\" href=\"https://www.w3.org/TR/credential-management-1/#dom-credential-origin-slot\" id=\"ref-for-dom-credential-origin-slot⑨\">[[origin]]</a></code>\n       </dt><dd data-md=\"\">\n        <p><var>credential</var>’s <code class=\"idl\"><a data-link-type=\"idl\" href=\"https://www.w3.org/TR/credential-management-1/#dom-credential-origin-slot\" id=\"ref-for-dom-credential-origin-slot①⓪\">[[origin]]</a></code></p>\n       </dd><dt data-md=\"\"><code class=\"idl\"><a data-link-type=\"idl\" href=\"https://www.w3.org/TR/credential-management-1/#dom-federatedcredential-provider\" id=\"ref-for-dom-federatedcredential-provider⑥\">provider</a></code>\n       </dt><dd data-md=\"\">\n        <p><var>credential</var>’s <code class=\"idl\"><a data-link-type=\"idl\" href=\"https://www.w3.org/TR/credential-management-1/#dom-federatedcredential-provider\" id=\"ref-for-dom-federatedcredential-provider⑦\">provider</a></code></p>\n       </dd><dt data-md=\"\"><code class=\"idl\"><a data-link-type=\"idl\" href=\"https://www.w3.org/TR/credential-management-1/#dom-federatedcredential-protocol\" id=\"ref-for-dom-federatedcredential-protocol②\">protocol</a></code>\n       </dt><dd data-md=\"\">\n        <p><var>credential</var>’s <code class=\"idl\"><a data-link-type=\"idl\" href=\"https://www.w3.org/TR/credential-management-1/#dom-federatedcredential-protocol\" id=\"ref-for-dom-federatedcredential-protocol③\">protocol</a></code></p>\n      </dd></dl>"
        }
      ]
    },
    {
      "name": "Create a FederatedCredential from FederatedCredentialInit",
      "href": "https://www.w3.org/TR/credential-management-1/#abstract-opdef-create-a-federatedcredential-from-federatedcredentialinit",
      "html": "To <dfn class=\"dfn-paneled has-dfn-panel\" data-dfn-type=\"abstract-op\" data-export=\"\" id=\"abstract-opdef-create-a-federatedcredential-from-federatedcredentialinit\" role=\"button\" aria-expanded=\"false\" tabindex=\"0\">Create a <code>FederatedCredential</code> from <code>FederatedCredentialInit</code></dfn>, given a\n  <code class=\"idl\"><a data-link-type=\"idl\" href=\"https://www.w3.org/TR/credential-management-1/#dictdef-federatedcredentialinit\" id=\"ref-for-dictdef-federatedcredentialinit④\">FederatedCredentialInit</a></code> (<var>init</var>), run these steps.",
      "rationale": ".algorithm",
      "steps": [
        {
          "html": "<p>Let <var>c</var> be a new <code class=\"idl\"><a data-link-type=\"idl\" href=\"https://www.w3.org/TR/credential-management-1/#federatedcredential\" id=\"ref-for-federatedcredential①④\">FederatedCredential</a></code> object.</p>"
        },
        {
          "html": "<p>If any of the following are the empty string, throw a <code class=\"idl\"><a data-link-type=\"idl\" href=\"https://webidl.spec.whatwg.org/#exceptiondef-typeerror\" id=\"ref-for-exceptiondef-typeerror⑥\">TypeError</a></code> <a data-link-type=\"dfn\" href=\"https://webidl.spec.whatwg.org/#dfn-exception\" id=\"ref-for-dfn-exception①⑦\">exception</a>:</p>\n      <ul>\n       <li data-md=\"\">\n        <p><var>init</var>.<code class=\"idl\"><a data-link-type=\"idl\" href=\"https://www.w3.org/TR/credential-management-1/#dom-credentialdata-id\" id=\"ref-for-dom-credentialdata-id③\">id</a></code>’s value</p>\n       </li><li data-md=\"\">\n        <p><var>init</var>.<code class=\"idl\"><a data-link-type=\"idl\" href=\"https://www.w3.org/TR/credential-management-1/#dom-federatedcredentialinit-provider\" id=\"ref-for-dom-federatedcredentialinit-provider\">provider</a></code>’s value</p>\n      </li></ul>"
        },
        {
          "html": "<p>Set <var>c</var>’s properties as follows:</p>\n      <dl>\n       <dt data-md=\"\"><code class=\"idl\"><a data-link-type=\"idl\" href=\"https://www.w3.org/TR/credential-management-1/#dom-credential-id\" id=\"ref-for-dom-credential-id①⓪\">id</a></code>\n       </dt><dd data-md=\"\">\n        <p><var>init</var>.<code class=\"idl\"><a data-link-type=\"idl\" href=\"https://www.w3.org/TR/credential-management-1/#dom-credentialdata-id\" id=\"ref-for-dom-credentialdata-id④\">id</a></code>’s value</p>\n       </dd><dt data-md=\"\"><code class=\"idl\"><a data-link-type=\"idl\" href=\"https://www.w3.org/TR/credential-management-1/#dom-federatedcredential-provider\" id=\"ref-for-dom-federatedcredential-provider⑧\">provider</a></code>\n       </dt><dd data-md=\"\">\n        <p><var>init</var>.<code class=\"idl\"><a data-link-type=\"idl\" href=\"https://www.w3.org/TR/credential-management-1/#dom-federatedcredentialinit-provider\" id=\"ref-for-dom-federatedcredentialinit-provider①\">provider</a></code>’s value</p>\n       </dd><dt data-md=\"\"><code class=\"idl\"><a data-link-type=\"idl\" href=\"https://www.w3.org/TR/credential-management-1/#dom-credentialuserdata-iconurl\" id=\"ref-for-dom-credentialuserdata-iconurl⑨\">iconURL</a></code>\n       </dt><dd data-md=\"\">\n        <p><var>init</var>.<code class=\"idl\"><a data-link-type=\"idl\" href=\"https://www.w3.org/TR/credential-management-1/#dom-credentialuserdata-iconurl\" id=\"ref-for-dom-credentialuserdata-iconurl①⓪\">iconURL</a></code>’s value</p>\n       </dd><dt data-md=\"\"><code class=\"idl\"><a data-link-type=\"idl\" href=\"https://www.w3.org/TR/credential-management-1/#dom-credentialuserdata-name\" id=\"ref-for-dom-credentialuserdata-name⑨\">name</a></code>\n       </dt><dd data-md=\"\">\n        <p><var>init</var>.<code class=\"idl\"><a data-link-type=\"idl\" href=\"https://www.w3.org/TR/credential-management-1/#dom-credentialuserdata-name\" id=\"ref-for-dom-credentialuserdata-name①⓪\">name</a></code>’s value</p>\n       </dd><dt data-md=\"\"><code class=\"idl\"><a data-link-type=\"idl\" href=\"https://www.w3.org/TR/credential-management-1/#dom-credential-origin-slot\" id=\"ref-for-dom-credential-origin-slot①①\">[[origin]]</a></code>\n       </dt><dd data-md=\"\">\n        <p><var>init</var>.<code class=\"idl\"><a data-link-type=\"idl\" href=\"https://www.w3.org/TR/credential-management-1/#dom-federatedcredentialinit-origin\" id=\"ref-for-dom-federatedcredentialinit-origin①\">origin</a></code>’s value.</p>\n      </dd></dl>"
        },
        {
          "html": "<p>Return <var>c</var>.</p>"
        }
      ]
    },
    {
      "html": "To mitigate the risk of surprise:",
      "rationale": "if",
      "steps": [
        {
          "html": "<p>User agents MUST allow users to require <a data-link-type=\"dfn\" href=\"https://www.w3.org/TR/credential-management-1/#user-mediated\" id=\"ref-for-user-mediated①④\">user mediation</a> for a given origin or for all\n  origins. This functionality might be implemented as a global toggle that overrides each\n  origin’s <a data-link-type=\"dfn\" href=\"https://www.w3.org/TR/credential-management-1/#origin-prevent-silent-access-flag\" id=\"ref-for-origin-prevent-silent-access-flag⑥\">prevent silent access flag</a> to return <code>false</code>, or via more granular\n  settings for specific origins (or specific credentials on specific origins).</p>"
        },
        {
          "html": "<p>User agents MUST NOT set an <a data-link-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/origin.html#concept-origin\" id=\"ref-for-concept-origin①②\">origin</a>’s <a data-link-type=\"dfn\" href=\"https://www.w3.org/TR/credential-management-1/#origin-prevent-silent-access-flag\" id=\"ref-for-origin-prevent-silent-access-flag⑦\">prevent silent access flag</a> to\n  <code>false</code> without <a data-link-type=\"dfn\" href=\"https://www.w3.org/TR/credential-management-1/#user-mediated\" id=\"ref-for-user-mediated①⑤\">user mediation</a>. For example, the <a data-link-type=\"dfn\" href=\"https://www.w3.org/TR/credential-management-1/#credential-chooser\" id=\"ref-for-credential-chooser①⓪\">credential chooser</a> described in\n  <a href=\"https://www.w3.org/TR/credential-management-1/#user-mediated-selection\">§ 5.3 Credential Selection</a> could have a checkbox which the user could toggle to mark a\n  credential as available without mediation for the origin, or the user agent could have an\n  onboarding process for its <a data-link-type=\"dfn\" href=\"https://www.w3.org/TR/credential-management-1/#credential-manager\" id=\"ref-for-credential-manager③\">credential manager</a> which asked a user for a default setting.</p>"
        },
        {
          "html": "<p>User agents MUST notify users when credentials are provided to an origin. This could take the\n  form of an icon in the address bar, or some similar location.</p>"
        },
        {
          "html": "<p>If a user clears her browsing data for an origin (cookies, localStorage, and so on), the user\n  agent MUST set the <a data-link-type=\"dfn\" href=\"https://www.w3.org/TR/credential-management-1/#origin-prevent-silent-access-flag\" id=\"ref-for-origin-prevent-silent-access-flag⑧\">prevent silent access flag</a> to <code>true</code> for that origin.</p>"
        }
      ]
    }
  ]
}