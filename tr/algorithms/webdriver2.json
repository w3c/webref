{
  "spec": {
    "title": "WebDriver",
    "url": "https://www.w3.org/TR/webdriver2/"
  },
  "algorithms": [
    {
      "name": "try",
      "href": "https://www.w3.org/TR/webdriver2/#dfn-try",
      "html": "When calling a fallible algorithm,\n the construct “Let <var>result</var> be the result\n of <dfn class=\"export\" data-lt=\"try|trying\" data-export=\"\" id=\"dfn-try\" tabindex=\"0\" aria-haspopup=\"dialog\" data-dfn-type=\"dfn\">trying</dfn> to call <var>algorithm</var>”\n is equivalent to",
      "rationale": "let",
      "steps": [
        {
          "html": "<p>Let <var>temp</var> be the result of calling <var>algorithm</var>.\n\n </p>"
        },
        {
          "html": "<p>If <var>temp</var> is an <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-2\">error</a> return <var>temp</var>,\n  otherwise let <var>result</var> be <var>temp</var>'s <var>data</var> field.\n</p>"
        }
      ]
    },
    {
      "html": "After a <a href=\"https://www.w3.org/TR/webdriver2/#dfn-connection\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-connection-2\">connection</a> is established, the <a href=\"https://www.w3.org/TR/webdriver2/#dfn-remote-ends\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-remote-ends-17\">remote end</a> must run\nthe following steps:",
      "rationale": "while",
      "steps": [
        {
          "html": "<a data-link-type=\"dfn\" href=\"https://infra.spec.whatwg.org/#iteration-while\" id=\"ref-for-index-term-while-for-iteration-1\">While</a> the <a href=\"https://www.w3.org/TR/webdriver2/#dfn-connection\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-connection-3\">connection</a> is not closed:",
          "rationale": "let",
          "steps": [
            {
              "html": "<p><a href=\"https://www.w3.org/TR/webdriver2/#dfn-read-bytes\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-read-bytes-1\">Read bytes</a> from the <a href=\"https://www.w3.org/TR/webdriver2/#dfn-connection\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-connection-4\">connection</a> until a\n    complete <a href=\"https://www.w3.org/TR/webdriver2/#dfn-http-request\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-http-request-2\">HTTP request</a> can be constructed from the data.\n    Let <var>request</var> be a <a href=\"https://www.w3.org/TR/webdriver2/#dfn-http-request\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-http-request-3\">request</a> constructed from the\n    received data, according to the requirements of [<cite><a class=\"bibref\" data-link-type=\"biblio\" href=\"https://www.w3.org/TR/webdriver2/#bib-rfc7230\" title=\"Hypertext Transfer Protocol (HTTP/1.1): Message Syntax and Routing\">RFC7230</a></cite>]. If it\n    is not possible to construct a complete <a href=\"https://www.w3.org/TR/webdriver2/#dfn-http-request\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-http-request-4\">HTTP request</a>,\n    the <a href=\"https://www.w3.org/TR/webdriver2/#dfn-remote-ends\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-remote-ends-18\">remote end</a> must either close the <a href=\"https://www.w3.org/TR/webdriver2/#dfn-connection\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-connection-5\">connection</a>,\n    return an HTTP response with status code 500, or return\n    an <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-3\">error</a> with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-2\">error code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-unknown-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-unknown-error-1\">unknown error</a>.\n\n   </p>"
            },
            {
              "html": "<p>Let <var>request match</var> be the result of the algorithm\n    to <a href=\"https://www.w3.org/TR/webdriver2/#dfn-match-a-request\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-match-a-request-1\">match a request</a> with <var>request</var>'s\n    <a href=\"https://www.w3.org/TR/webdriver2/#dfn-method\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-method-1\">method</a> and <a href=\"https://www.w3.org/TR/webdriver2/#dfn-url\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-url-1\">URL</a> as arguments.\n\n   </p>"
            },
            {
              "html": "<p>If <var>request match</var> is of type <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-4\">error</a>,\n    <a href=\"https://www.w3.org/TR/webdriver2/#dfn-send-an-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-send-an-error-1\">send an error</a> with <var>request match</var>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-3\">error code</a>\n    and <a data-link-type=\"dfn\" href=\"https://infra.spec.whatwg.org/#iteration-continue\" id=\"ref-for-index-term-continue-for-iteration-1\">continue</a>.\n\n    </p><p>Otherwise, let <var>command</var> and <var>URL variables</var>\n     be <var>request match</var>'s data.\n\n    </p>"
            },
            {
              "html": "<p>Let <var>session</var> be null.\n\n    </p>"
            },
            {
              "html": "If <var>URL variables</var> <a data-link-type=\"dfn\" href=\"https://infra.spec.whatwg.org/#map-exists\" id=\"ref-for-index-term-contains-for-map-1\">contains</a> \"<code>session id\"</code>:",
              "rationale": "let",
              "steps": [
                {
                  "html": "<p>Let <var>session id</var> be <var>URL variables</var>[\"<code>session id</code>\"].\n\n       </p>"
                },
                {
                  "html": "For each <var>active session</var> in the list of <a href=\"https://www.w3.org/TR/webdriver2/#dfn-active-sessions\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-active-sessions-1\">active sessions</a>:",
                  "rationale": "if",
                  "steps": [
                    {
                      "html": "<p>If <var>active session</var>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-session-id\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-session-id-1\">session ID</a> is equal\n             to <var>session id</var>, then let <var>session</var>\n             be <var>active session</var>, and break.\n       </p>"
                    }
                  ]
                },
                {
                  "html": "<p>If the <var>session</var> is <a href=\"https://www.w3.org/TR/webdriver2/#dfn-null\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-null-1\"><code>null</code></a>\n       <a href=\"https://www.w3.org/TR/webdriver2/#dfn-send-an-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-send-an-error-2\">send an error</a> with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-4\">error code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-invalid-session-id\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-invalid-session-id-1\">invalid session id</a>,\n       then <a data-link-type=\"dfn\" href=\"https://infra.spec.whatwg.org/#iteration-continue\" id=\"ref-for-index-term-continue-for-iteration-2\">continue</a>.\n\n    </p>"
                }
              ]
            },
            {
              "html": "Enqueue a task on <a href=\"https://www.w3.org/TR/webdriver2/#dfn-remote-ends\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-remote-ends-19\">remote end</a>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-request-queue\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-request-queue-1\">request queue</a> to run the following\n    steps:",
              "rationale": "if",
              "steps": [
                {
                  "html": "If <a href=\"https://www.w3.org/TR/webdriver2/#dfn-sessions\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-sessions-3\">session</a> is no longer in the list of <a href=\"https://www.w3.org/TR/webdriver2/#dfn-active-sessions\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-active-sessions-2\">active\n      sessions</a>, then <a href=\"https://www.w3.org/TR/webdriver2/#dfn-send-an-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-send-an-error-3\">send an error</a> with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-5\">error code</a>\n      <a href=\"https://www.w3.org/TR/webdriver2/#dfn-invalid-session-id\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-invalid-session-id-2\">invalid session id</a> and return."
                },
                {
                  "html": "<p>Let <var>parameters</var> be <a href=\"https://www.w3.org/TR/webdriver2/#dfn-null\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-null-2\"><code>null</code></a>.\n\n      </p>"
                },
                {
                  "html": "If <var>request</var>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-method\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-method-2\">method</a> is POST:",
                  "rationale": "let",
                  "steps": [
                    {
                      "html": "<p>Let <var>parse result</var> be the result of\n         <a href=\"https://www.w3.org/TR/webdriver2/#dfn-parsing-as-json\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-parsing-as-json-1\">parsing as JSON</a> with <var>request</var>'s\n         <a href=\"https://www.w3.org/TR/webdriver2/#dfn-body\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-body-1\">body</a> as the argument. If this process throws an exception,\n         return an <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-5\">error</a> with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-6\">error code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-invalid-argument\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-invalid-argument-1\">invalid\n         argument</a> and jump back to step 1 in this overall algorithm.\n\n        </p>"
                    },
                    {
                      "html": "<p>If <var>parse result</var> is not an <a href=\"https://www.w3.org/TR/webdriver2/#dfn-object\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-object-2\">Object</a>,\n         <a href=\"https://www.w3.org/TR/webdriver2/#dfn-send-an-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-send-an-error-4\">send an error</a> with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-7\">error code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-invalid-argument\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-invalid-argument-2\">invalid argument</a>\n         and jump back to step 1 in this overall algorithm.\n\n         </p><p>Otherwise, let <var>parameters</var> be <var>parse result</var>.\n       </p>"
                    }
                  ]
                },
                {
                  "html": "<p>Let <var>navigate result</var> be the result\n       of <a href=\"https://www.w3.org/TR/webdriver2/#dfn-wait-for-navigation-to-complete\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-wait-for-navigation-to-complete-1\">wait for navigation to complete</a> with <var>session</var>.\n\n      </p>"
                },
                {
                  "html": "<p>If <var>navigate result</var> is an <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-6\">error</a>,\n       <a href=\"https://www.w3.org/TR/webdriver2/#dfn-send-an-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-send-an-error-5\">send an error</a> with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-8\">error code</a>\n       equal to <var>navigate result</var>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-9\">error code</a>\n       and return.\n\n      </p>"
                },
                {
                  "html": "<p>Let <var>response result</var> be the return value\n       obtained by running the <a href=\"https://www.w3.org/TR/webdriver2/#dfn-remote-end-steps\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-remote-end-steps-2\">remote end steps</a>\n       for <var>command</var> with <var>session</var>, <var>URL\n       variables</var>, and <var>parameters</var>.\n\n      </p>"
                },
                {
                  "html": "<p>If <var>response result</var> is an <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-7\">error</a>,\n       <a href=\"https://www.w3.org/TR/webdriver2/#dfn-send-an-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-send-an-error-6\">send an error</a> with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-10\">error code</a>\n       equal to <var>response result</var>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-11\">error code</a>\n       and return.\n\n       </p>"
                },
                {
                  "html": "<p>Assert: <var>response result</var> is a <a href=\"https://www.w3.org/TR/webdriver2/#dfn-success\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-success-2\">success</a>.\n\n       </p>"
                },
                {
                  "html": "<p>Let <var>response data</var> be <var>response result</var>'s data.\n\n       </p>"
                },
                {
                  "html": "<p><a href=\"https://www.w3.org/TR/webdriver2/#dfn-send-a-response\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-send-a-response-1\">Send a response</a> with status 200 and <var>response data</var>.\n     </p>"
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "name": "send an error",
      "href": "https://www.w3.org/TR/webdriver2/#dfn-send-an-error",
      "html": "When required to <dfn id=\"dfn-send-an-error\" tabindex=\"0\" aria-haspopup=\"dialog\" data-dfn-type=\"dfn\">send an error</dfn>, with <var>error\n code</var> and an optional <var>error data</var> dictionary,\n a <a href=\"https://www.w3.org/TR/webdriver2/#dfn-remote-ends\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-remote-ends-20\">remote end</a> must run the following steps:",
      "rationale": "let",
      "steps": [
        {
          "html": "<p>Let <var>status</var> and <var>name</var>\n  be the <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-response-data\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-response-data-1\">error response data</a> for <var>error code</var>.\n\n </p>"
        },
        {
          "html": "<p>Let <var>message</var> be an implementation-defined string\n  containing a human-readable description of the reason for the error.\n\n </p>"
        },
        {
          "html": "<p>Let <var>stacktrace</var> be an implementation-defined string\n  containing a stack trace report of the active stack frames\n  at the time when the error occurred.\n\n  </p><p>Let <var>body</var> be a new JSON <a href=\"https://www.w3.org/TR/webdriver2/#dfn-object\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-object-3\">Object</a>\n   initialized with the following properties:\n\n  </p><dl>\n   <dt>\"<code>error</code>\"\n   </dt><dd><var>name</var>\n\n   </dd><dt>\"<code>message</code>\"\n   </dt><dd><var>message</var>\n\n   </dd><dt>\"<code>stacktrace</code>\"\n   </dt><dd><var>stacktrace</var>\n  </dd></dl>"
        },
        {
          "html": "<p>If the <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-data\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-data-1\">error data</a> dictionary contains any entries,\n  set the \"<code>data</code>\" field on <var>body</var>\n  to a new JSON <a href=\"https://www.w3.org/TR/webdriver2/#dfn-object\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-object-4\">Object</a> populated with the dictionary.\n\n </p>"
        },
        {
          "html": "<p><a href=\"https://www.w3.org/TR/webdriver2/#dfn-send-a-response\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-send-a-response-2\">Send a response</a> with <var>status</var>\n  and <var>body</var> as arguments.\n</p>"
        }
      ]
    },
    {
      "name": "send a response",
      "href": "https://www.w3.org/TR/webdriver2/#dfn-send-a-response",
      "html": "When required to <dfn id=\"dfn-send-a-response\" tabindex=\"0\" aria-haspopup=\"dialog\" data-dfn-type=\"dfn\">send a response</dfn>,\n with arguments <var>status</var> and <var>data</var>,\n a <a href=\"https://www.w3.org/TR/webdriver2/#dfn-remote-ends\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-remote-ends-21\">remote end</a> must run the following steps:",
      "rationale": "let",
      "steps": [
        {
          "html": "<p>Let <var>response</var> be a new <a href=\"https://www.w3.org/TR/webdriver2/#dfn-http-response\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-http-response-2\">response</a>.\n\n </p>"
        },
        {
          "html": "<p>Set <var>response</var>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-http-status\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-http-status-1\">HTTP status</a> to <var>status</var>,\n  and <a href=\"https://www.w3.org/TR/webdriver2/#dfn-status-message\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-status-message-1\">status message</a> to the string corresponding\n  to the description of <var>status</var> in the <a href=\"https://www.w3.org/TR/webdriver2/#dfn-status-code-registry\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-status-code-registry-1\">status code registry</a>.\n\n </p>"
        },
        {
          "html": "<p><a data-lt=\"set header\" href=\"https://www.w3.org/TR/webdriver2/#dfn-set-header\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-set-header-1\">Set</a> the <var>response</var>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-header\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-header-1\">header</a>\n  with <a data-lt=\"header name\" href=\"https://www.w3.org/TR/webdriver2/#dfn-header-name\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-header-name-1\">name</a>\n  and <a data-lt=\"header value\" href=\"https://www.w3.org/TR/webdriver2/#dfn-header-value\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-header-value-1\">value</a>\n  with the following values:\n\n  </p><dl>\n   <dt><code>Content-Type</code>\n   </dt><dd>\"<code>application/json; charset=utf-8</code>\"\n\n   </dd><dt><code>Cache-Control</code>\n   </dt><dd>\"<code>no-cache</code>\"\n  </dd></dl>"
        },
        {
          "html": "<p>Let <var>response</var>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-body\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-body-2\">body</a> be\n  the <a data-lt=\"utf-8 encode\" href=\"https://www.w3.org/TR/webdriver2/#dfn-utf-8-encode\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-utf-8-encode-1\">UTF-8 encoded</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-json-serialization\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-json-serialization-1\">JSON\n  serialization</a> of a JSON <a href=\"https://www.w3.org/TR/webdriver2/#dfn-object\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-object-5\">Object</a> with a key\n  \"<code>value</code>\" set to <var>data</var>.\n\n </p>"
        },
        {
          "html": "<p>Let <var>response bytes</var> be the byte sequence resulting\n  from serializing <var>response</var> according to the rules in [<cite><a class=\"bibref\" data-link-type=\"biblio\" href=\"https://www.w3.org/TR/webdriver2/#bib-rfc7230\" title=\"Hypertext Transfer Protocol (HTTP/1.1): Message Syntax and Routing\">RFC7230</a></cite>].\n\n </p>"
        },
        {
          "html": "<p><a data-lt=\"write bytes\" href=\"https://www.w3.org/TR/webdriver2/#dfn-write-bytes\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-write-bytes-1\">Write</a> <var>response bytes</var>\n  to the <a href=\"https://www.w3.org/TR/webdriver2/#dfn-connection\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-connection-6\">connection</a>.\n</p>"
        }
      ]
    },
    {
      "name": "match a request",
      "href": "https://www.w3.org/TR/webdriver2/#dfn-match-a-request",
      "html": "In order to <dfn id=\"dfn-match-a-request\" tabindex=\"0\" aria-haspopup=\"dialog\" data-dfn-type=\"dfn\">match a request</dfn> given\n a <a href=\"https://www.w3.org/TR/webdriver2/#dfn-method\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-method-3\"><var>method</var></a> and <a href=\"https://www.w3.org/TR/webdriver2/#dfn-url\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-url-2\"><var>URL</var></a>,\n the following steps must be taken:",
      "rationale": "let",
      "steps": [
        {
          "html": "<p>Let <var>endpoints</var> be a list\n  containing each row in the <a href=\"https://www.w3.org/TR/webdriver2/#dfn-endpoints\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-endpoints-2\">table of endpoints</a>.\n\n </p>"
        },
        {
          "html": "<p>Remove each entry from <var>endpoints</var> for which the\n  concatenation of the <a href=\"https://www.w3.org/TR/webdriver2/#dfn-url-prefix\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-url-prefix-2\">URL prefix</a> and the entry's <a href=\"https://www.w3.org/TR/webdriver2/#dfn-uri-template\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-uri-template-1\">URI\n  template</a> does not have a valid expansion equal to\n  <var>URL</var>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-path\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-path-1\">path</a>.\n\n </p>"
        },
        {
          "html": "<p>If there are no entries in <var>endpoints</var>,\n  return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-8\">error</a> with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-12\">error code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-unknown-command\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-unknown-command-1\">unknown command</a>.\n\n </p>"
        },
        {
          "html": "<p>Remove each entry in <var>endpoints</var>\n  for which the <i>method</i> column\n  is not equal to <var>method</var>.\n\n </p>"
        },
        {
          "html": "<p>If there are no entries in <var>endpoints</var>,\n  return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-9\">error</a> with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-13\">error code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-unknown-method\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-unknown-method-1\">unknown method</a>.\n\n </p>"
        },
        {
          "html": "<p>There is now exactly one entry in <var>endpoints</var>;\n  let <var>entry</var> be this entry.\n\n </p>"
        },
        {
          "html": "<p>Let <var>URI template</var> be the concatenation of <a href=\"https://www.w3.org/TR/webdriver2/#dfn-url-prefix\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-url-prefix-3\">URL\n prefix</a> with <var>entry</var>'s <var>URI template</var>.\n\n </p>"
        },
        {
          "html": "<p>Let <var>command</var> be <var>entry</var>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-commands\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-commands-8\">command</a>.\n\n </p>"
        },
        {
          "html": "<p>Let <var>URL variables</var> be a <a data-link-type=\"dfn\" href=\"https://infra.spec.whatwg.org/#ordered-map\" id=\"ref-for-index-term-map-1\">map</a> with one\n <a data-link-type=\"dfn\" href=\"https://infra.spec.whatwg.org/#map-entry\" id=\"ref-for-index-term-entry-for-map-1\">entry</a> for each variable defined in <var>URI template</var>,\n with the entry name equal to the template variable name, and the\n entry value being the variable value required to expand the <var>URI\n template</var> to match <var>URL</var>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-path\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-path-2\">path</a>.\n\n </p>"
        },
        {
          "html": "<p>Return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-success\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-success-3\">success</a> with data\n  <var>command</var> and <var>URL variables</var>.\n</p>"
        }
      ]
    },
    {
      "name": "deserialize as a proxy",
      "href": "https://www.w3.org/TR/webdriver2/#dfn-deserialize-as-a-proxy",
      "html": "The <a href=\"https://www.w3.org/TR/webdriver2/#dfn-remote-ends\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-remote-ends-32\">remote end</a> steps to <dfn id=\"dfn-deserialize-as-a-proxy\" tabindex=\"0\" aria-haspopup=\"dialog\" data-dfn-type=\"dfn\">deserialize as a proxy</dfn>\n argument <var>parameter</var> are:",
      "rationale": "if",
      "steps": [
        {
          "html": "<p>If <var>parameter</var> is not a JSON <a href=\"https://www.w3.org/TR/webdriver2/#dfn-object\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-object-11\">Object</a> return\n  an <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-15\">error</a> with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-17\">error code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-invalid-argument\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-invalid-argument-3\">invalid argument</a>.\n\n </p>"
        },
        {
          "html": "<p>Let <var>proxy</var> be a new, empty\n  <a href=\"https://www.w3.org/TR/webdriver2/#dfn-proxy-configuration-object\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-proxy-configuration-object-1\">proxy configuration object</a>.\n\n </p>"
        },
        {
          "html": "For each enumerable <a href=\"https://www.w3.org/TR/webdriver2/#dfn-own-properties\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-own-properties-1\">own property</a> in <var>parameter</var>\n  run the following substeps:",
          "rationale": "let",
          "steps": [
            {
              "html": "<p>Let <var>key</var> be the name of the property.\n\n   </p>"
            },
            {
              "html": "<p>Let <var>value</var> be the result of <a href=\"https://www.w3.org/TR/webdriver2/#dfn-getting-properties\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-getting-properties-1\">getting a\n    property</a> named <var>name</var> from <var>parameter</var>.\n\n   </p>"
            },
            {
              "html": "<p>If there is no matching <code>key</code> for <var>key</var>\n    in the <a href=\"https://www.w3.org/TR/webdriver2/#dfn-proxy-configuration\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-proxy-configuration-2\">proxy configuration</a> table return an <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-16\">error</a>\n    with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-18\">error code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-invalid-argument\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-invalid-argument-4\">invalid argument</a>.\n\n   </p>"
            },
            {
              "html": "<p>If <var>value</var> is not one of the\n    <code>valid values</code> for that <code>key</code>, return\n    an <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-17\">error</a> with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-19\">error code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-invalid-argument\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-invalid-argument-5\">invalid argument</a>.\n\n   </p>"
            },
            {
              "html": "<p><a href=\"https://www.w3.org/TR/webdriver2/#dfn-set-a-property\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-set-a-property-1\">Set a property</a> <var>key</var> to <var>value</var>\n    on <var>proxy</var>.\n  </p>"
            }
          ]
        },
        {
          "html": "<p>If <var>proxy</var> does not have an <a href=\"https://www.w3.org/TR/webdriver2/#dfn-own-properties\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-own-properties-2\">own property</a> for\n  \"<code>proxyType</code>\" return an <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-18\">error</a> with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-20\">error\n  code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-invalid-argument\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-invalid-argument-6\">invalid argument</a>.\n\n </p>"
        },
        {
          "html": "<p>If the result of <a href=\"https://www.w3.org/TR/webdriver2/#dfn-getting-properties\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-getting-properties-2\">getting a property</a>\n  named \"<code>proxyType</code>\" from <var>proxy</var> equals\n  \"<code>pac</code>\", and <var>proxy</var> does not have an\n  <a href=\"https://www.w3.org/TR/webdriver2/#dfn-own-properties\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-own-properties-3\">own property</a> for \"<code>proxyAutoconfigUrl</code>\" return\n  an <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-19\">error</a> with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-21\">error code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-invalid-argument\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-invalid-argument-7\">invalid argument</a>.\n\n </p>"
        },
        {
          "html": "<p>If <var>proxy</var> has an <a href=\"https://www.w3.org/TR/webdriver2/#dfn-own-properties\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-own-properties-4\">own property</a> for\n  \"<code>socksProxy</code>\" and does not have an <a href=\"https://www.w3.org/TR/webdriver2/#dfn-own-properties\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-own-properties-5\">own property</a>\n  for \"<code>socksVersion</code>\" return an <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-20\">error</a> with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-22\">error\n  code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-invalid-argument\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-invalid-argument-8\">invalid argument</a>.\n\n </p>"
        },
        {
          "html": "<p>Return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-success\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-success-5\">success</a> with data <var>proxy</var>.\n</p>"
        }
      ]
    },
    {
      "name": "capabilities processing",
      "href": "https://www.w3.org/TR/webdriver2/#dfn-capabilities-processing",
      "html": "To <dfn data-lt=\"capabilities processing|process capabilities\" id=\"dfn-capabilities-processing\" tabindex=\"0\" aria-haspopup=\"dialog\" data-dfn-type=\"dfn\">process\n capabilities</dfn> given <var>parameters</var>, and <a href=\"https://www.w3.org/TR/webdriver2/#dfn-session-configuration-flags\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-session-configuration-flags-1\">session\n configuration flags</a> <var>flags</var>, the <a href=\"https://www.w3.org/TR/webdriver2/#dfn-endpoint-node\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-endpoint-node-8\">endpoint node</a>\n must take the following steps:",
      "rationale": "let",
      "steps": [
        {
          "html": "Let <var>capabilities request</var> be the result of <a href=\"https://www.w3.org/TR/webdriver2/#dfn-getting-properties\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-getting-properties-3\">getting the property</a>\n  \"<code>capabilities</code>\" from <var>parameters</var>.",
          "rationale": "if",
          "steps": [
            {
              "html": "<p>If <var>capabilities request</var> is not a JSON <a href=\"https://www.w3.org/TR/webdriver2/#dfn-object\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-object-13\">Object</a>,\n    return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-21\">error</a> with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-23\">error code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-invalid-argument\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-invalid-argument-9\">invalid argument</a>.\n  </p>"
            }
          ]
        },
        {
          "html": "Let <var>required capabilities</var> be the result of <a href=\"https://www.w3.org/TR/webdriver2/#dfn-getting-properties\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-getting-properties-4\">getting the property</a>\n  \"<code>alwaysMatch</code>\" from <var>capabilities request</var>.",
          "rationale": "if",
          "steps": [
            {
              "html": "<p>If <var>required capabilities</var> is <a href=\"https://www.w3.org/TR/webdriver2/#dfn-undefined\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-undefined-3\">undefined</a>,\n    set the value to an empty JSON <a href=\"https://www.w3.org/TR/webdriver2/#dfn-object\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-object-14\">Object</a>.\n\n   </p>"
            },
            {
              "html": "<p>Let <var>required capabilities</var> be the result\n    of <a href=\"https://www.w3.org/TR/webdriver2/#dfn-try\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-try-1\">trying</a> to <a href=\"https://www.w3.org/TR/webdriver2/#dfn-validate-capabilities\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-validate-capabilities-1\">validate capabilities</a> with\n    arguments <var>required capabilities</var> and <var>flag</var>.\n  </p>"
            }
          ]
        },
        {
          "html": "Let <var>all first match capabilities</var> be the result of <a href=\"https://www.w3.org/TR/webdriver2/#dfn-getting-properties\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-getting-properties-5\">getting the property</a>\n  \"<code>firstMatch</code>\" from <var>capabilities request</var>.",
          "rationale": "if",
          "steps": [
            {
              "html": "<p>If <var>all first match capabilities</var> is <a href=\"https://www.w3.org/TR/webdriver2/#dfn-undefined\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-undefined-4\">undefined</a>,\n    set the value to a <a href=\"https://www.w3.org/TR/webdriver2/#dfn-list\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-list-2\">List</a> with a single entry of an empty JSON <a href=\"https://www.w3.org/TR/webdriver2/#dfn-object\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-object-15\">Object</a>.\n\n   </p>"
            },
            {
              "html": "<p>If <var>all first match capabilities</var> is not a\n   <a href=\"https://www.w3.org/TR/webdriver2/#dfn-list\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-list-3\">List</a> with one or more entries, return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-22\">error</a>\n   with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-24\">error code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-invalid-argument\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-invalid-argument-10\">invalid argument</a>.\n  </p>"
            }
          ]
        },
        {
          "html": "<p>Let <var>validated first match capabilities</var> be an empty\n  <a href=\"https://www.w3.org/TR/webdriver2/#dfn-list\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-list-4\">List</a>.\n\n \n </p>"
        },
        {
          "html": "For each <var>first match capabilities</var> corresponding\n  to an indexed property in <var>all first match capabilities</var>:",
          "rationale": "let",
          "steps": [
            {
              "html": "<p>Let <var>validated capabilities</var> be the result\n    of <a href=\"https://www.w3.org/TR/webdriver2/#dfn-try\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-try-2\">trying</a> to <a href=\"https://www.w3.org/TR/webdriver2/#dfn-validate-capabilities\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-validate-capabilities-2\">validate capabilities</a> with arguments\n    <var>first match capabilities</var> and <var>flags</var>.\n\n   </p>"
            },
            {
              "html": "<p>Append <var>validated capabilities</var> to\n    <var>validated first match capabilities</var>.\n  </p>"
            }
          ]
        },
        {
          "html": "<p>Let <var>merged capabilities</var> be an empty <a href=\"https://www.w3.org/TR/webdriver2/#dfn-list\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-list-5\">List</a>.\n\n  </p>"
        },
        {
          "html": "For each <var>first match capabilities</var> corresponding\n   to an indexed property in <var>validated first match capabilities</var>:",
          "rationale": "let",
          "steps": [
            {
              "html": "<p>Let <var>merged</var> be the result of\n     <a href=\"https://www.w3.org/TR/webdriver2/#dfn-try\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-try-3\">trying</a> to <a data-lt=\"merging capabilities\" href=\"https://www.w3.org/TR/webdriver2/#dfn-merging-capabilities\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-merging-capabilities-1\">merge\n     capabilities</a> with <var>required capabilities</var>\n     and <var>first match capabilities</var> as arguments.\n\n    </p>"
            },
            {
              "html": "<p>Append <var>merged</var> to <var>merged capabilities</var>.\n   </p>"
            }
          ]
        },
        {
          "html": "For each <var>capabilities</var> corresponding\n   to an indexed property in <var>merged capabilities</var>:",
          "rationale": "let",
          "steps": [
            {
              "html": "<p>Let <var>matched capabilities</var> be the result of\n     <a href=\"https://www.w3.org/TR/webdriver2/#dfn-try\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-try-4\">trying</a> to <a data-lt=\"matching capabilities\" href=\"https://www.w3.org/TR/webdriver2/#dfn-matching-capabilities\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-matching-capabilities-1\">match\n     capabilities</a> with <var>capabilities</var> as an\n     argument.\n\n    </p>"
            },
            {
              "html": "<p>If <var>matched capabilities</var> is not <a href=\"https://www.w3.org/TR/webdriver2/#dfn-null\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-null-4\"><code>null</code></a>,\n     return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-success\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-success-6\">success</a> with data <var>matched capabilities</var>.\n  </p>"
            }
          ]
        },
        {
          "html": "<p>Return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-success\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-success-7\">success</a> with data <a href=\"https://www.w3.org/TR/webdriver2/#dfn-null\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-null-5\"><code>null</code></a>.\n</p>"
        }
      ]
    },
    {
      "name": "validate capabilities",
      "href": "https://www.w3.org/TR/webdriver2/#dfn-validate-capabilities",
      "html": "When required to <dfn id=\"dfn-validate-capabilities\" tabindex=\"0\" aria-haspopup=\"dialog\" data-dfn-type=\"dfn\">validate capabilities</dfn> with\n argument <var>capabilities</var>:",
      "rationale": "if",
      "steps": [
        {
          "html": "<p>If <var>capabilities</var> is not a JSON <a href=\"https://www.w3.org/TR/webdriver2/#dfn-object\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-object-16\">Object</a> return\n  an <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-23\">error</a> with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-25\">error code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-invalid-argument\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-invalid-argument-11\">invalid argument</a>.\n\n </p>"
        },
        {
          "html": "<p>Let <var>result</var> be an empty JSON <a href=\"https://www.w3.org/TR/webdriver2/#dfn-object\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-object-17\">Object</a>.\n\n </p>"
        },
        {
          "html": "For each enumerable <a href=\"https://www.w3.org/TR/webdriver2/#dfn-own-properties\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-own-properties-7\">own property</a>\n  in <var>capabilities</var>, run the following substeps:",
          "rationale": "let",
          "steps": [
            {
              "html": "<p>Let <var>name</var> be the name of the property.\n\n   </p>"
            },
            {
              "html": "<p>Let <var>value</var> be the result of <a href=\"https://www.w3.org/TR/webdriver2/#dfn-getting-properties\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-getting-properties-6\">getting a\n    property</a> named <var>name</var> from <var>capabilities</var>.\n\n   </p>"
            },
            {
              "html": "Run the substeps of the first matching condition:",
              "rationale": ".switch",
              "steps": [
                {
                  "operation": "switch",
                  "steps": [
                    {
                      "case": "value is null",
                      "html": "<p>Let <var>deserialized</var> be set to <a href=\"https://www.w3.org/TR/webdriver2/#dfn-null\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-null-7\"><code>null</code></a>.\n\n     </p>"
                    },
                    {
                      "case": "name equals \"acceptInsecureCerts\"",
                      "html": "<p>If <var>value</var> is not a <a href=\"https://www.w3.org/TR/webdriver2/#dfn-boolean\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-boolean-2\">boolean</a> return\n      an <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-24\">error</a> with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-26\">error code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-invalid-argument\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-invalid-argument-12\">invalid\n      argument</a>. Otherwise, let <var>deserialized</var> be\n      set to <var>value</var>.\n\n     </p>"
                    },
                    {
                      "case": "name equals \"browserName\"",
                      "html": "<p>If <var>value</var> is not a <a href=\"https://www.w3.org/TR/webdriver2/#dfn-string\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-string-2\">string</a> return\n      an <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-25\">error</a> with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-27\">error code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-invalid-argument\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-invalid-argument-13\">invalid\n      argument</a>. Otherwise, let <var>deserialized</var> be\n      set to <var>value</var>.\n\n     </p>"
                    },
                    {
                      "case": "name equals \"browserVersion\"",
                      "html": "<p>If <var>value</var> is not a <a href=\"https://www.w3.org/TR/webdriver2/#dfn-string\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-string-2\">string</a> return\n      an <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-25\">error</a> with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-27\">error code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-invalid-argument\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-invalid-argument-13\">invalid\n      argument</a>. Otherwise, let <var>deserialized</var> be\n      set to <var>value</var>.\n\n     </p>"
                    },
                    {
                      "case": "name equals \"platformName\"",
                      "html": "<p>If <var>value</var> is not a <a href=\"https://www.w3.org/TR/webdriver2/#dfn-string\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-string-2\">string</a> return\n      an <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-25\">error</a> with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-27\">error code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-invalid-argument\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-invalid-argument-13\">invalid\n      argument</a>. Otherwise, let <var>deserialized</var> be\n      set to <var>value</var>.\n\n     </p>"
                    },
                    {
                      "case": "name equals \"pageLoadStrategy\"",
                      "html": "<p>Let <var>deserialized</var> be the result of <a href=\"https://www.w3.org/TR/webdriver2/#dfn-try\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-try-5\">trying</a> to\n      <a href=\"https://www.w3.org/TR/webdriver2/#dfn-deserialize-as-a-page-load-strategy\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-deserialize-as-a-page-load-strategy-1\">deserialize as a page load strategy</a> with argument\n      <var>value</var>.\n\n     </p>"
                    },
                    {
                      "case": "name equals \"proxy\"",
                      "html": "<p>Let <var>deserialized</var> be the result of <a href=\"https://www.w3.org/TR/webdriver2/#dfn-try\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-try-6\">trying</a>\n      to <a href=\"https://www.w3.org/TR/webdriver2/#dfn-deserialize-as-a-proxy\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-deserialize-as-a-proxy-1\">deserialize as a proxy</a> with argument <var>value</var>.\n\n     </p>"
                    },
                    {
                      "case": "name equals \"strictFileInteractability\"",
                      "html": "<p>If <var>value</var> is not a <a href=\"https://www.w3.org/TR/webdriver2/#dfn-boolean\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-boolean-3\">boolean</a> return\n      an <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-26\">error</a> with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-28\">error code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-invalid-argument\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-invalid-argument-14\">invalid\n      argument</a>. Otherwise, let <var>deserialized</var> be\n      set to <var>value</var>\n\n     </p>"
                    },
                    {
                      "case": "name equals \"timeouts\"",
                      "html": "<p>Let <var>deserialized</var> be the result of <a href=\"https://www.w3.org/TR/webdriver2/#dfn-try\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-try-7\">trying</a>\n      to <a href=\"https://www.w3.org/TR/webdriver2/#dfn-deserialize-as-timeouts-configuration\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-deserialize-as-timeouts-configuration-1\">deserialize as timeouts configuration</a>\n      with <var>value</var>.\n\n     </p>"
                    },
                    {
                      "case": "name equals \"unhandledPromptBehavior\"",
                      "html": "<p>Let <var>deserialized</var> be the result of <a href=\"https://www.w3.org/TR/webdriver2/#dfn-try\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-try-8\">trying</a>\n      to <a href=\"https://www.w3.org/TR/webdriver2/#dfn-deserialize-as-an-unhandled-prompt-behavior\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-deserialize-as-an-unhandled-prompt-behavior-1\">deserialize as an unhandled prompt behavior</a> with argument\n      <var>value</var>.\n\n     </p>"
                    },
                    {
                      "case": "name is the name of an additional WebDriver capability",
                      "html": "<p>Let <var>deserialized</var> be the result of <a href=\"https://www.w3.org/TR/webdriver2/#dfn-try\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-try-9\">trying</a>\n      to run the <a href=\"https://www.w3.org/TR/webdriver2/#dfn-additional-capability-deserialization-algorithm\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-additional-capability-deserialization-algorithm-2\">additional capability deserialization\n      algorithm</a> for the extension capability corresponding\n      to <var>name</var>, with argument\n      <var>value</var>.\n\n     </p>"
                    },
                    {
                      "case": "name is the key of an extension capability",
                      "html": "<p>If <var>name</var> is known to the implementation,\n      let <var>deserialized</var> be the result of <a href=\"https://www.w3.org/TR/webdriver2/#dfn-try\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-try-10\">trying</a>\n      to deserialize <var>value</var> in an implementation-specific way.\n      Otherwise, let <var>deserialized</var> be set to <var>value</var>.\n\n     </p>"
                    },
                    {
                      "case": "The remote end is an endpoint node",
                      "html": "<p>Return an <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-27\">error</a> with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-29\">error code</a>\n      <a href=\"https://www.w3.org/TR/webdriver2/#dfn-invalid-argument\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-invalid-argument-15\">invalid argument</a>.\n    </p>"
                    }
                  ]
                }
              ]
            },
            {
              "html": "<p>If <var>deserialized</var> is not <a href=\"https://www.w3.org/TR/webdriver2/#dfn-null\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-null-8\"><code>null</code></a>,\n    <a href=\"https://www.w3.org/TR/webdriver2/#dfn-set-a-property\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-set-a-property-2\">set a property</a> on <var>result</var> with name <var>name</var>\n    and value <var>deserialized</var>.\n  </p>"
            }
          ]
        },
        {
          "html": "Return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-success\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-success-8\">success</a> with data <var>result</var>."
        }
      ]
    },
    {
      "name": "merging capabilities",
      "href": "https://www.w3.org/TR/webdriver2/#dfn-merging-capabilities",
      "html": "When <dfn id=\"dfn-merging-capabilities\" tabindex=\"0\" aria-haspopup=\"dialog\" data-dfn-type=\"dfn\">merging capabilities</dfn> with JSON <a href=\"https://www.w3.org/TR/webdriver2/#dfn-object\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-object-18\">Object</a> arguments\n <var>primary</var> and <var>secondary</var>,\n an <a href=\"https://www.w3.org/TR/webdriver2/#dfn-endpoint-node\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-endpoint-node-10\">endpoint node</a> must take the following steps:",
      "rationale": "let",
      "steps": [
        {
          "html": "<p>Let <var>result</var> be a new JSON <a href=\"https://www.w3.org/TR/webdriver2/#dfn-object\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-object-19\">Object</a>.\n\n </p>"
        },
        {
          "html": "For each enumerable <a href=\"https://www.w3.org/TR/webdriver2/#dfn-own-properties\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-own-properties-8\">own property</a> in <var>primary</var>,\n  run the following substeps:",
          "rationale": "let",
          "steps": [
            {
              "html": "<p>Let <var>name</var> be the name of the property.\n\n   </p>"
            },
            {
              "html": "<p>Let <var>value</var> be the result of <a href=\"https://www.w3.org/TR/webdriver2/#dfn-getting-properties\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-getting-properties-7\">getting a\n    property</a> named <var>name</var> from <var>primary</var>.\n\n   </p>"
            },
            {
              "html": "<a href=\"https://www.w3.org/TR/webdriver2/#dfn-set-a-property\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-set-a-property-3\">Set a property</a> on <var>result</var> with\n    name <var>name</var> and value <var>value</var>."
            }
          ]
        },
        {
          "html": "<p>If <var>secondary</var> is <a href=\"https://www.w3.org/TR/webdriver2/#dfn-undefined\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-undefined-5\">undefined</a>,\n  return <var>result</var>.\n\n </p>"
        },
        {
          "html": "For each enumerable <a href=\"https://www.w3.org/TR/webdriver2/#dfn-own-properties\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-own-properties-9\">own property</a> in <var>secondary</var>,\n  run the following substeps:",
          "rationale": "let",
          "steps": [
            {
              "html": "<p>Let <var>name</var> be the name of the property.\n\n   </p>"
            },
            {
              "html": "<p>Let <var>value</var> be the result of <a href=\"https://www.w3.org/TR/webdriver2/#dfn-getting-properties\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-getting-properties-8\">getting a\n    property</a> named <var>name</var> from <var>secondary</var>.\n\n   </p>"
            },
            {
              "html": "<p>Let <var>primary value</var> be the result of\n    <a href=\"https://www.w3.org/TR/webdriver2/#dfn-getting-properties\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-getting-properties-9\">getting the property</a> <var>name</var> from\n    <var>primary</var>.\n\n   </p>"
            },
            {
              "html": "<p>If <var>primary value</var> is not <a href=\"https://www.w3.org/TR/webdriver2/#dfn-undefined\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-undefined-6\">undefined</a>,\n    return an <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-28\">error</a> with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-30\">error code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-invalid-argument\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-invalid-argument-16\">invalid argument</a>.\n\n   </p>"
            },
            {
              "html": "<a href=\"https://www.w3.org/TR/webdriver2/#dfn-set-a-property\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-set-a-property-4\">Set a property</a> on <var>result</var> with name\n      <var>name</var> and value <var>value</var>."
            }
          ]
        },
        {
          "html": "<p>Return <var>result</var>.\n</p>"
        }
      ]
    },
    {
      "name": "matching capabilities",
      "href": "https://www.w3.org/TR/webdriver2/#dfn-matching-capabilities",
      "html": "When <dfn id=\"dfn-matching-capabilities\" tabindex=\"0\" aria-haspopup=\"dialog\" data-dfn-type=\"dfn\">matching capabilities</dfn> given\n JSON <a href=\"https://www.w3.org/TR/webdriver2/#dfn-object\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-object-20\">Object</a> <var>capabilities</var>, and a <a href=\"https://www.w3.org/TR/webdriver2/#dfn-session-configuration-flags\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-session-configuration-flags-2\">session\n configuration flags</a> <var>flags</var>, an <a href=\"https://www.w3.org/TR/webdriver2/#dfn-endpoint-node\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-endpoint-node-11\">endpoint node</a>\n must take the following steps:",
      "rationale": "let",
      "steps": [
        {
          "html": "<p>Let <var>matched capabilities</var> be a JSON <a href=\"https://www.w3.org/TR/webdriver2/#dfn-object\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-object-21\">Object</a>\n  with the following entries:\n\n  </p><dl>\n   <dt>\"<code>browserName</code>\"\n   </dt><dd><a data-link-type=\"dfn\" href=\"https://infra.spec.whatwg.org/#ascii-lowercase\" id=\"ref-for-index-term-ascii-lowercase-1\">ASCII Lowercase</a> name of the user agent as a <a href=\"https://www.w3.org/TR/webdriver2/#dfn-string\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-string-3\">string</a>.\n\n   </dd><dt>\"<code>browserVersion</code>\"\n   </dt><dd>The user agent version, as a <a href=\"https://www.w3.org/TR/webdriver2/#dfn-string\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-string-4\">string</a>.\n\n   </dd><dt>\"<code>platformName</code>\"\n   </dt><dd><a data-link-type=\"dfn\" href=\"https://infra.spec.whatwg.org/#ascii-lowercase\" id=\"ref-for-index-term-ascii-lowercase-2\">ASCII Lowercase</a> name of the current platform as a <a href=\"https://www.w3.org/TR/webdriver2/#dfn-string\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-string-5\">string</a>.\n\n   </dd><dt>\"<code>acceptInsecureCerts</code>\"\n   </dt><dd><a href=\"https://www.w3.org/TR/webdriver2/#dfn-boolean\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-boolean-4\">Boolean</a> initially set to false,\n    indicating the session will not implicitly trust untrusted\n    or self-signed TLS certificates on <a href=\"https://www.w3.org/TR/webdriver2/#dfn-navigating\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-navigating-3\">navigation</a>.\n\n   </dd><dt>\"<code>strictFileInteractability</code>\"\n    </dt><dd><a href=\"https://www.w3.org/TR/webdriver2/#dfn-boolean\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-boolean-5\">Boolean</a> initially set to false,\n    indicating that interactability checks will be applied to\n    &lt;input type=file&gt;.\n\n   </dd><dt>\"<code>setWindowRect</code>\"\n   </dt><dd>Boolean indicating whether the <a href=\"https://www.w3.org/TR/webdriver2/#dfn-remote-ends\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-remote-ends-34\">remote end</a> supports all\n   of the <a href=\"https://www.w3.org/TR/webdriver2/#resizing-and-positioning-windows\">resizing and\n   positioning</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-commands\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-commands-26\">commands</a>.\n\n   </dd><dt>\"<code>userAgent</code>\"\n   </dt><dd>String containing the <a href=\"https://www.w3.org/TR/webdriver2/#dfn-default-user-agent-value\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-default-user-agent-value-2\">default User-Agent value</a>.\n  </dd></dl>"
        },
        {
          "html": "<p>If <var>flags</var> contains \"<code>http</code>\", add the\n following entries to <var>matched capabilities</var>:\n  </p><dl>\n     <dt>\"<code>strictFileInteractability</code>\"\n     </dt><dd><a href=\"https://www.w3.org/TR/webdriver2/#dfn-boolean\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-boolean-6\">Boolean</a> initially set to false,\n     indicating that interactabilty checks will be applied to\n     &lt;input type=file&gt;.\n  </dd></dl>"
        },
        {
          "html": "<p>Optionally add <a href=\"https://www.w3.org/TR/webdriver2/#dfn-extension-capability\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-extension-capability-5\">extension capabilities</a> as entries\n  to <var>matched capabilities</var>. The values of these may be\n  elided, and there is no requirement that all\n  <a href=\"https://www.w3.org/TR/webdriver2/#dfn-extension-capability\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-extension-capability-6\">extension capabilities</a> be added.\n\n  </p>"
        },
        {
          "html": "For each <var>name</var> and <var>value</var> corresponding\n  to <var>capabilities</var>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-own-properties\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-own-properties-10\">own properties</a>:",
          "rationale": "let",
          "steps": [
            {
              "html": "<p>Let <var>match value</var> equal <var>value</var>.\n   </p>"
            },
            {
              "html": "Run the substeps of the first matching <var>name</var>:",
              "rationale": ".switch",
              "steps": [
                {
                  "operation": "switch",
                  "steps": [
                    {
                      "case": "\"browserName\"",
                      "html": "<p>If <var>value</var> is not a string equal to\n       the \"<code>browserName</code>\" entry in\n       <var>matched capabilities</var>, return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-success\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-success-9\">success</a>\n       with data <a href=\"https://www.w3.org/TR/webdriver2/#dfn-null\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-null-9\"><code>null</code></a>.\n\n     </p>"
                    },
                    {
                      "case": "\"browserVersion\"",
                      "html": "<p>Compare <var>value</var>\n       to the \"<code>browserVersion</code>\" entry in <var>matched capabilities</var>\n       using an implementation-defined comparison algorithm.\n       The comparison is to accept a <var>value</var>\n       that places constraints on the version using\n       the \"<code>&lt;</code>\", \"<code>&lt;=</code>\", \"<code>&gt;</code>\",\n       and \"<code>&gt;=</code>\" operators.\n\n      </p><p>If the two values do not match,\n       return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-success\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-success-10\">success</a> with data <a href=\"https://www.w3.org/TR/webdriver2/#dfn-null\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-null-10\"><code>null</code></a>.\n\n      </p>"
                    },
                    {
                      "case": "\"platformName\"",
                      "html": "<p>If <var>value</var> is not a string equal\n       to the \"<code>platformName</code>\" entry in <var>matched capabilities</var>,\n       return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-success\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-success-11\">success</a> with data <a href=\"https://www.w3.org/TR/webdriver2/#dfn-null\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-null-11\"><code>null</code></a>.\n\n      </p>"
                    },
                    {
                      "case": "\"acceptInsecureCerts\"",
                      "html": "<p>If <a href=\"https://www.w3.org/TR/webdriver2/#dfn-accept-insecure-tls\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-accept-insecure-tls-1\">accept insecure TLS</a> flag is set and not equal\n       to <var>value</var>, return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-success\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-success-12\">success</a> with\n       data <a href=\"https://www.w3.org/TR/webdriver2/#dfn-null\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-null-12\"><code>null</code></a>.\n\n       </p>"
                    },
                    {
                      "case": "\"proxy\"",
                      "html": "<p>If the <a href=\"https://www.w3.org/TR/webdriver2/#dfn-has-proxy-configuration\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-has-proxy-configuration-1\">has proxy configuration</a> flag is set, or if\n      the proxy configuration defined in <var>value</var> is not one\n      that passes the <a href=\"https://www.w3.org/TR/webdriver2/#dfn-endpoint-node\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-endpoint-node-13\">endpoint node</a>'s implementation-specific\n      validity checks, return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-success\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-success-13\">success</a> with\n      data <a href=\"https://www.w3.org/TR/webdriver2/#dfn-null\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-null-13\"><code>null</code></a>.\n\n      </p>"
                    },
                    {
                      "case": "\"unhandledPromptBehavior\"",
                      "html": "<p>If <a href=\"https://www.w3.org/TR/webdriver2/#dfn-check-user-prompt-handler-matches\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-check-user-prompt-handler-matches-1\">check user prompt handler matches</a>\n     with <var>value</var> is false, return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-success\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-success-14\">success</a> with\n     data <a href=\"https://www.w3.org/TR/webdriver2/#dfn-null\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-null-14\"><code>null</code></a>.\n\n     </p>"
                    },
                    {
                      "case": "Otherwise",
                      "html": "<ul>\n           <li>\n             <p>If <var>name</var> is the name of an <a href=\"https://www.w3.org/TR/webdriver2/#dfn-additional-webdriver-capability\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-additional-webdriver-capability-4\">additional\n                WebDriver capability</a> which defines a <a href=\"https://www.w3.org/TR/webdriver2/#dfn-matched-capability-serialization-algorithm\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-matched-capability-serialization-algorithm-1\">matched\n                capability serialization algorithm</a>, let <var>match\n                value</var> be the result of running the <a href=\"https://www.w3.org/TR/webdriver2/#dfn-matched-capability-serialization-algorithm\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-matched-capability-serialization-algorithm-2\">matched\n                capability serialization algorithm</a> for\n                capability <var>name</var> with\n                arguments <var>value</var>, and <var>flags</var>.</p></li>\n\n           <li>\n             <p>Otherwise, if <var>name</var> is the key of an\n               <a href=\"https://www.w3.org/TR/webdriver2/#dfn-extension-capability\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-extension-capability-7\">extension capability</a>, let <var>match value</var> be the\n               result of <a href=\"https://www.w3.org/TR/webdriver2/#dfn-try\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-try-11\">trying</a> implementation-specific steps to\n               match on <var>name</var> with <var>value</var>. If the\n               match is not successful, return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-success\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-success-15\">success</a> with\n               data <a href=\"https://www.w3.org/TR/webdriver2/#dfn-null\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-null-15\"><code>null</code></a>.\n         </p></li></ul>"
                    }
                  ]
                }
              ]
            },
            {
              "html": "<p>If <var>match value</var> is not null, <a href=\"https://www.w3.org/TR/webdriver2/#dfn-set-a-property\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-set-a-property-5\">set a property</a>\n    on <var>matched capabilities</var> with name <var>name</var> and\n    value <var>match value</var>.\n  </p>"
            }
          ]
        },
        {
          "html": "<p>Return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-success\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-success-16\">success</a> with data <var>matched capabilities</var>.\n</p>"
        }
      ]
    },
    {
      "name": "create a session",
      "href": "https://www.w3.org/TR/webdriver2/#dfn-create-a-session",
      "html": "To <dfn id=\"dfn-create-a-session\" tabindex=\"0\" aria-haspopup=\"dialog\" data-dfn-type=\"dfn\">create a session</dfn>, given a JSON\nObject <var>capabilites</var>, and <a href=\"https://www.w3.org/TR/webdriver2/#dfn-session-configuration-flags\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-session-configuration-flags-4\">session configuration\nflags</a> <var>flags</var>:",
      "rationale": "let",
      "steps": [
        {
          "html": "<p>Let <var>session id</var> be the result of <a href=\"https://www.w3.org/TR/webdriver2/#dfn-generating-a-uuid\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-generating-a-uuid-1\">generating a UUID</a>.\n\n </p>"
        },
        {
          "html": "<p>Let <var>session</var> be a new <a href=\"https://www.w3.org/TR/webdriver2/#dfn-sessions\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-sessions-22\">session</a> with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-session-id\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-session-id-4\">session\n  ID</a> <var>session id</var>, and <a href=\"https://www.w3.org/TR/webdriver2/#dfn-http-flag\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-http-flag-3\">HTTP flag</a> <var>flags</var> contains\n  \"<code>http</code>\".\n\n </p>"
        },
        {
          "html": "Let <var>proxy</var> be the result of getting property\n     \"<code>proxy</code>\" from <var>capabilities</var> and run the\n     substeps of the first matching statement:",
          "rationale": ".switch",
          "steps": [
            {
              "operation": "switch",
              "steps": [
                {
                  "case": "proxy is a proxy configuration object",
                  "html": "<p>Take implementation-defined steps to set the user agent proxy\n             using the extracted <var>proxy</var> configuration. If the\n             defined proxy cannot be configured return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-29\">error</a> with\n             <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-31\">error code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-session-not-created\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-session-not-created-1\">session not created</a>. Otherwise\n             set the <a href=\"https://www.w3.org/TR/webdriver2/#dfn-has-proxy-configuration\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-has-proxy-configuration-2\">has proxy configuration</a> flag to true.</p>"
                },
                {
                  "case": "Otherwise",
                  "html": "<a href=\"https://www.w3.org/TR/webdriver2/#dfn-set-a-property\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-set-a-property-6\">Set a property</a> of <var>capabilities</var> with name\n           \"<code>proxy</code>\" and a value that is a new JSON <a href=\"https://www.w3.org/TR/webdriver2/#dfn-object\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-object-22\">Object</a>."
                }
              ]
            }
          ]
        },
        {
          "html": "<p>If <var>capabilites</var> has a property named\n  \"<code>acceptInsecureCerts</code>\", set the <a href=\"https://www.w3.org/TR/webdriver2/#dfn-endpoint-node\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-endpoint-node-18\">endpoint\n  node</a>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-accept-insecure-tls\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-accept-insecure-tls-2\">accept insecure TLS</a> flag to the result\n  of <a href=\"https://www.w3.org/TR/webdriver2/#dfn-getting-properties\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-getting-properties-10\">getting a property</a> named\n  \"<code>acceptInsecureCerts</code>\" from <var>capabilities</var>.\n\n  </p>"
        },
        {
          "html": "<p>Let <var>user prompt handler capability</var> be the result of getting property\n  \"<code>unhandledPromptBehavior</code>\" from <var>capabilities</var>.\n\n  </p>"
        },
        {
          "html": "<p>If <var>user prompt handler capability</var> is not\n   undefined, <a href=\"https://www.w3.org/TR/webdriver2/#dfn-update-the-user-prompt-handler\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-update-the-user-prompt-handler-1\">update the user prompt handler</a> with <var>user\n   prompt handler capability</var>.\n\n  </p>"
        },
        {
          "html": "<p>Let <var>serialized user prompt handler</var>\n   be <a href=\"https://www.w3.org/TR/webdriver2/#dfn-serialize-the-user-prompt-handler\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-serialize-the-user-prompt-handler-1\">serialize the user prompt handler</a>.\n\n  </p>"
        },
        {
          "html": "<p>Set a property on <var>capabilities</var> with the name\n   \"<code>unhandledPromptBehavior</code>\", and the value <var>serialized\n   user prompt handler</var>.\n\n  </p>"
        },
        {
          "html": "If <var>flags</var> <var>contains</var> \"<code>http</code>\":",
          "rationale": "let",
          "steps": [
            {
              "html": "<p>Let <var>strategy</var> be the result of getting\n        property \"<code>pageLoadStrategy</code>\"\n        from <var>capabilities</var>. </p><p>If <var>strategy</var> is a\n        string, set the <a href=\"https://www.w3.org/TR/webdriver2/#dfn-sessions\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-sessions-23\">session</a>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-page-loading-strategy\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-page-loading-strategy-1\">page loading\n        strategy</a> to <var>strategy</var>.  Otherwise, set\n        the <a href=\"https://www.w3.org/TR/webdriver2/#dfn-page-loading-strategy\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-page-loading-strategy-2\">page loading strategy</a> to <i>normal</i> and <a href=\"https://www.w3.org/TR/webdriver2/#dfn-set-a-property\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-set-a-property-7\">set a\n        property</a> of <var>capabilities</var> with name\n        \"<code>pageLoadStrategy</code>\" and value\n        \"<code>normal</code>\".</p>"
            },
            {
              "html": "<p>Let <var>strictFileInteractability</var> be the result\n        of getting property \"<code>strictFileInteractability</code>\"\n        from <var>capabilities</var>. If <var>strictFileInteractability</var>\n        is a boolean, set <a href=\"https://www.w3.org/TR/webdriver2/#dfn-sessions\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-sessions-24\">session</a>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-strict-file-interactability\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-strict-file-interactability-3\">strict file\n        interactability</a> to <var>strictFileInteractability</var>.\n\n        </p>"
            },
            {
              "html": "<p>Let <var>timeouts</var> be the result of getting a\n        property \"<code>timeouts</code>\" from <var>capabilities</var>.\n        If <var>timeouts</var> is not undefined, set\n        <var>session</var>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-session-timeouts\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-session-timeouts-2\">session timeouts</a>\n        to <var>timeouts</var>.\n\n       </p>"
            },
            {
              "html": "<p>Set a property on <var>capabilities</var> with name\n       \"<code>timeouts</code>\" and value <a href=\"https://www.w3.org/TR/webdriver2/#dfn-serialize-the-timeouts-configuration\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-serialize-the-timeouts-configuration-1\">serialize the timeouts\n       configuration</a> with <var>session</var>'s\n       <a href=\"https://www.w3.org/TR/webdriver2/#dfn-session-timeouts\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-session-timeouts-3\">session timeouts</a>.\n      </p>"
            }
          ]
        },
        {
          "html": "<p>Process any <a href=\"https://www.w3.org/TR/webdriver2/#dfn-extension-capability\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-extension-capability-8\">extension capabilities</a>\n  in <var>capabilities</var> in an implementation-defined manner.</p>"
        },
        {
          "html": "<p>Run any <a href=\"https://www.w3.org/TR/webdriver2/#dfn-webdriver-new-session-algorithms\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-webdriver-new-session-algorithms-1\">WebDriver new session algorithm</a> defined in\n  external specifications, with arguments <var>session</var>,\n  <var>capabilities</var>, and <var>flags</var>.\n\n  </p>"
        },
        {
          "html": "<p>Append <var>session</var> to <a href=\"https://www.w3.org/TR/webdriver2/#dfn-active-sessions\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-active-sessions-4\">active sessions</a>.\n\n  </p>"
        },
        {
          "html": "<p>If <var>flags</var> contains \"<code>http</code>\",\n   append <var>session</var> to <a href=\"https://www.w3.org/TR/webdriver2/#dfn-active-http-sessions\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-active-http-sessions-3\">active HTTP sessions</a>.\n\n  </p>"
        },
        {
          "html": "<p>Set the <a href=\"https://www.w3.org/TR/webdriver2/#dfn-webdriver-active-flag\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-webdriver-active-flag-2\">webdriver-active flag</a> to true.</p>"
        }
      ]
    },
    {
      "name": "close the session",
      "href": "https://www.w3.org/TR/webdriver2/#dfn-close-the-session",
      "html": "To <dfn id=\"dfn-close-the-session\" tabindex=\"0\" aria-haspopup=\"dialog\" data-dfn-type=\"dfn\">close the session</dfn>, given <var>session</var>\n a <a href=\"https://www.w3.org/TR/webdriver2/#dfn-remote-ends\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-remote-ends-42\">remote end</a> must take the following steps:",
      "rationale": "if",
      "steps": [
        {
          "html": "<p>If <var>session</var>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-http-flag\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-http-flag-4\">HTTP flag</a> is set,\n remove <var>session</var> from <a href=\"https://www.w3.org/TR/webdriver2/#dfn-active-http-sessions\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-active-http-sessions-4\">active HTTP sessions</a>.\n\n </p>"
        },
        {
          "html": "<p>Remove <var>session</var> from <a href=\"https://www.w3.org/TR/webdriver2/#dfn-active-sessions\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-active-sessions-5\">active sessions</a>.\n\n </p>"
        },
        {
          "html": "Perform the following substeps based on the <a href=\"https://www.w3.org/TR/webdriver2/#dfn-remote-ends\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-remote-ends-43\">remote end</a>'s\n  type:",
          "rationale": ".switch",
          "steps": [
            {
              "operation": "switch",
              "steps": [
                {
                  "case": "Remote end is an endpoint node",
                  "html": "",
                  "rationale": "if",
                  "steps": [
                    {
                      "html": "If the list of <a href=\"https://www.w3.org/TR/webdriver2/#dfn-active-sessions\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-active-sessions-6\">active sessions</a> is empty:",
                      "rationale": "set",
                      "steps": [
                        {
                          "html": "<p>Set the <a href=\"https://www.w3.org/TR/webdriver2/#dfn-webdriver-active-flag\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-webdriver-active-flag-3\">webdriver-active flag</a> to false\n        </p>"
                        },
                        {
                          "html": "<p>Set the <a href=\"https://www.w3.org/TR/webdriver2/#dfn-user-prompt-handler\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-user-prompt-handler-3\">user prompt handler</a> to null.\n        </p>"
                        },
                        {
                          "html": "<p>Unset the <a href=\"https://www.w3.org/TR/webdriver2/#dfn-accept-insecure-tls\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-accept-insecure-tls-3\">accept insecure TLS</a> flag.\n        </p>"
                        },
                        {
                          "html": "<p>Reset the <a href=\"https://www.w3.org/TR/webdriver2/#dfn-has-proxy-configuration\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-has-proxy-configuration-3\">has proxy configuration</a> flag to its\n        default value.\n        </p>"
                        },
                        {
                          "html": "<p>Optionally, <a href=\"https://www.w3.org/TR/webdriver2/#dfn-close\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-close-1\">close</a> all <a data-link-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/document-sequences.html#top-level-browsing-context\" id=\"ref-for-index-term-top-level-browsing-contexts-2\">top-level browsing contexts</a>,\n        without <a href=\"https://www.w3.org/TR/webdriver2/#dfn-prompting-to-unload\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-prompting-to-unload-1\">prompting to unload</a>.\n      </p>"
                        }
                      ]
                    }
                  ]
                },
                {
                  "case": "Remote end is an intermediary node",
                  "html": "",
                  "rationale": "close",
                  "steps": [
                    {
                      "html": "<p><a href=\"https://www.w3.org/TR/webdriver2/#dfn-close\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-close-2\">Close</a> the <a href=\"https://www.w3.org/TR/webdriver2/#dfn-associated-session\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-associated-session-2\">associated session</a>. If this causes\n     an <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-30\">error</a> to occur, complete the remainder of this\n     algorithm before returning the <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-31\">error</a>.\n   </p>"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "html": "<p>Perform any implementation-specific cleanup steps.\n\n </p>"
        },
        {
          "html": "<p>If an <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-32\">error</a> has occurred in any of the steps above,\n  return the <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-33\">error</a>, otherwise return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-success\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-success-17\">success</a> with\n  data <a href=\"https://www.w3.org/TR/webdriver2/#dfn-null\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-null-16\"><code>null</code></a>.\n</p>"
        }
      ]
    },
    {
      "html": "The <a href=\"https://www.w3.org/TR/webdriver2/#dfn-remote-end-steps\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-remote-end-steps-6\">remote end steps</a>, given <var>session</var>, <var>URL\nvariables</var> and <var>parameters</var> are:",
      "rationale": "if",
      "steps": [
        {
          "html": "<p>If the implementation is an <a href=\"https://www.w3.org/TR/webdriver2/#dfn-endpoint-node\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-endpoint-node-25\">endpoint node</a>, and the\n  list of <a href=\"https://www.w3.org/TR/webdriver2/#dfn-active-http-sessions\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-active-http-sessions-5\">active HTTP sessions</a> is not empty, or otherwise if\n  the implementation is unable to start an additional session,\n  return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-35\">error</a> with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-32\">error code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-session-not-created\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-session-not-created-3\">session not\n  created</a>.\n\n </p>"
        },
        {
          "html": "<p>If the <a href=\"https://www.w3.org/TR/webdriver2/#dfn-remote-ends\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-remote-ends-48\">remote end</a> is an <a href=\"https://www.w3.org/TR/webdriver2/#dfn-intermediary-nodes\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-intermediary-nodes-15\">intermediary node</a>, take\n  implementation-defined steps that either result in returning\n  an <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-36\">error</a> with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-33\">error code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-session-not-created\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-session-not-created-4\">session not created</a>,\n  or in returning a <a href=\"https://www.w3.org/TR/webdriver2/#dfn-success\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-success-18\">success</a> with data that is isomorphic to\n  that returned by <a href=\"https://www.w3.org/TR/webdriver2/#dfn-remote-ends\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-remote-ends-49\">remote ends</a> according to the rest of this\n  algorithm. If an <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-37\">error</a> is not returned, the <a href=\"https://www.w3.org/TR/webdriver2/#dfn-intermediary-nodes\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-intermediary-nodes-16\">intermediary\n  node</a> must retain a reference to the <a href=\"https://www.w3.org/TR/webdriver2/#dfn-sessions\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-sessions-27\">session</a> created on\n  the <a href=\"https://www.w3.org/TR/webdriver2/#dfn-upstream\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-upstream-2\">upstream</a> node as the <a href=\"https://www.w3.org/TR/webdriver2/#dfn-associated-session\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-associated-session-3\">associated session</a> such that\n  commands may be forwarded to this <a href=\"https://www.w3.org/TR/webdriver2/#dfn-associated-session\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-associated-session-4\">associated session</a> on\n  subsequent commands.\n\n  </p>"
        },
        {
          "html": "<p>Let <var>flags</var> be a set containing \"<code>http</code>\".\n\n </p>"
        },
        {
          "html": "<p>Let <var>capabilities</var> be the result of <a href=\"https://www.w3.org/TR/webdriver2/#dfn-try\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-try-12\">trying</a>\n  to <a href=\"https://www.w3.org/TR/webdriver2/#dfn-capabilities-processing\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-capabilities-processing-2\">process capabilities</a> with <var>parameters</var>\n  and <var>flags</var>.\n\n </p>"
        },
        {
          "html": "<p>If <var>capabilities</var>'s is <a href=\"https://www.w3.org/TR/webdriver2/#dfn-null\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-null-17\"><code>null</code></a>,\n  return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-38\">error</a> with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-34\">error code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-session-not-created\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-session-not-created-5\">session not created</a>.\n\n </p>"
        },
        {
          "html": "<p>Let <var>session</var> be the result of <a href=\"https://www.w3.org/TR/webdriver2/#dfn-create-a-session\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-create-a-session-1\">create a\n session</a>, with <var>capabilities</var>, and <var>flags</var>.\n\n </p>"
        },
        {
          "html": "<p>Let <var>body</var> be a JSON <a href=\"https://www.w3.org/TR/webdriver2/#dfn-object\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-object-23\">Object</a> initialized with:\n\n  </p><dl>\n   <dt>\"<code>sessionId</code>\"\n   </dt><dd><var>session</var>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-session-id\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-session-id-5\">session ID</a>.\n\n   </dd><dt>\"<code>capabilities</code>\"\n   </dt><dd><var>capabilities</var>\n  </dd></dl>"
        },
        {
          "html": "<p>Set <var>session</var>' <a href=\"https://www.w3.org/TR/webdriver2/#dfn-current-top-level-browsing-context\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-current-top-level-browsing-context-1\">current top-level browsing\n   context</a> to one of the <a href=\"https://www.w3.org/TR/webdriver2/#dfn-endpoint-node\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-endpoint-node-26\">endpoint node</a>'s <a data-link-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/document-sequences.html#top-level-browsing-context\" id=\"ref-for-index-term-top-level-browsing-contexts-3\">top-level\n   browsing context</a>s, preferring the <a data-link-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/document-sequences.html#top-level-browsing-context\" id=\"ref-for-index-term-top-level-browsing-contexts-4\">top-level browsing\n   context</a> that\n   has <a href=\"https://html.spec.whatwg.org/#tlbc-system-focus\">system\n   focus</a>, or otherwise preferring any <a data-link-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/document-sequences.html#top-level-browsing-context\" id=\"ref-for-index-term-top-level-browsing-contexts-5\">top-level browsing\n   context</a> whose\n   <a href=\"https://w3c.github.io/page-visibility/#dfn-determine-the-visibility-state\">visibility\n   state</a>\n   is <a href=\"https://w3c.github.io/page-visibility/#dfn-visible\">visible</a>.\n\n  </p>"
        },
        {
          "html": "<p>Set the <a href=\"https://www.w3.org/TR/webdriver2/#dfn-request-queue\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-request-queue-2\">request queue</a> to a new <a data-link-type=\"dfn\" href=\"https://infra.spec.whatwg.org/#queue\" id=\"ref-for-index-term-queue-2\">queue</a>.\n\n </p>"
        },
        {
          "html": "<p>Return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-success\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-success-19\">success</a> with data <var>body</var>.\n</p>"
        }
      ]
    },
    {
      "html": "The <a href=\"https://www.w3.org/TR/webdriver2/#dfn-remote-end-steps\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-remote-end-steps-7\">remote end steps</a>, given <var>session</var>, <var>URL\nvariables</var> and <var>parameters</var> are:",
      "rationale": "if",
      "steps": [
        {
          "html": "<p>If <var>session</var> is an <a href=\"https://www.w3.org/TR/webdriver2/#dfn-active-http-sessions\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-active-http-sessions-6\">active HTTP session</a>,\n  <a href=\"https://www.w3.org/TR/webdriver2/#dfn-try\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-try-13\">try</a> to <a href=\"https://www.w3.org/TR/webdriver2/#dfn-close-the-session\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-close-the-session-2\">close the session</a> with <var>session</var>.\n\n </p>"
        },
        {
          "html": "<p>Return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-success\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-success-20\">success</a> with data <a href=\"https://www.w3.org/TR/webdriver2/#dfn-null\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-null-18\"><code>null</code></a>.\n</p>"
        }
      ]
    },
    {
      "html": "The <a href=\"https://www.w3.org/TR/webdriver2/#dfn-remote-end-steps\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-remote-end-steps-8\">remote end steps</a>, given <var>session</var>, <var>URL\nvariables</var> and <var>parameters</var> are:",
      "rationale": "let",
      "steps": [
        {
          "html": "<p>Let <var>body</var> be a new JSON <a href=\"https://www.w3.org/TR/webdriver2/#dfn-object\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-object-24\">Object</a>\n  with the following properties:\n\n  </p><dl>\n   <dt>\"<code>ready</code>\"\n   </dt><dd><p>The <a href=\"https://www.w3.org/TR/webdriver2/#dfn-remote-ends\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-remote-ends-53\">remote end</a>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-readiness-state\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-readiness-state-2\">readiness state</a>.\n\n   </p></dd><dt>\"<code>message</code>\"\n   </dt><dd><p>An implementation-defined string\n    explaining the <a href=\"https://www.w3.org/TR/webdriver2/#dfn-remote-ends\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-remote-ends-54\">remote end</a>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-readiness-state\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-readiness-state-3\">readiness state</a>.\n  </p></dd></dl>"
        },
        {
          "html": "<p>Return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-success\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-success-21\">success</a> with data <var>body</var>.\n</p>"
        }
      ]
    },
    {
      "name": "start the timer",
      "href": "https://www.w3.org/TR/webdriver2/#dfn-start-the-timer",
      "html": "To <dfn id=\"dfn-start-the-timer\" tabindex=\"0\" aria-haspopup=\"dialog\" data-dfn-type=\"dfn\">start the timer</dfn> given <var>timer</var> and <var>timeout</var>",
      "rationale": ".algorithm",
      "steps": [
        {
          "html": "<p>Assert: <var>timeout</var> is not null.\n\n </p>"
        },
        {
          "html": "Run the following steps <a data-link-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel\" id=\"ref-for-index-term-in-parallel-1\">in parallel</a>:",
          "rationale": "wait",
          "steps": [
            {
              "html": "<p>Wait for at least <var>timeout</var> milliseconds to pass.\n\n  </p>"
            },
            {
              "html": "<p>Set <var>timer</var>'s <a data-link-type=\"dfn|abstract-op\" href=\"https://www.w3.org/TR/webdriver2/#dfn-timeout-fired-flag\" class=\"internalDFN\" id=\"ref-for-dfn-timeout-fired-flag-1\">timeout fired flag</a> to true.\n\n </p>"
            }
          ]
        }
      ]
    },
    {
      "name": "timeouts configuration",
      "href": "https://www.w3.org/TR/webdriver2/#dfn-timeouts-configuration",
      "html": "A <dfn id=\"dfn-timeouts-configuration\" tabindex=\"0\" aria-haspopup=\"dialog\" data-dfn-type=\"dfn\">timeouts configuration</dfn> is a <a data-link-type=\"dfn\" href=\"https://infra.spec.whatwg.org/#struct\" id=\"ref-for-index-term-struct-2\">struct</a> representing\nthe timeouts for <a href=\"https://www.w3.org/TR/webdriver2/#executing-script\">script evaluation</a>,\n<a href=\"https://www.w3.org/TR/webdriver2/#navigation\">navigation</a>, and <a href=\"https://www.w3.org/TR/webdriver2/#elements\">element\nretrieval</a>. It has a <dfn data-dfn-for=\"timeouts\" id=\"dfn-script-timeout\" tabindex=\"0\" aria-haspopup=\"dialog\" data-dfn-type=\"dfn\">script\ntimeout</dfn> <a data-link-type=\"dfn\" href=\"https://infra.spec.whatwg.org/#struct-item\" id=\"ref-for-index-term-item-for-struct-1\">item</a> which is an integer or null and is\ninitially set to 30,000, a <dfn data-dfn-for=\"timeouts\" id=\"dfn-page-load-timeout\" tabindex=\"0\" aria-haspopup=\"dialog\" data-dfn-type=\"dfn\">page load\ntimeout</dfn> <a data-link-type=\"dfn\" href=\"https://infra.spec.whatwg.org/#struct-item\" id=\"ref-for-index-term-item-for-struct-2\">item</a> which is an integer or null and is\ninitially set to 300,000, and an <dfn data-dfn-for=\"timeouts\" id=\"dfn-implicit-wait-timeout\" tabindex=\"0\" aria-haspopup=\"dialog\" data-dfn-type=\"dfn\">implicit\nwait timeout</dfn> <a data-link-type=\"dfn\" href=\"https://infra.spec.whatwg.org/#struct-item\" id=\"ref-for-index-term-item-for-struct-3\">item</a> which is an integer or null and is\ninitially set to 0.\n\n\nTo <dfn id=\"dfn-deserialize-as-timeouts-configuration\" tabindex=\"0\" aria-haspopup=\"dialog\" data-dfn-type=\"dfn\">deserialize as timeouts configuration</dfn> given <var>timeouts</var>:",
      "rationale": ".algorithm",
      "steps": [
        {
          "html": "<p>Set <var>timeouts</var> to the result of <a href=\"https://www.w3.org/TR/webdriver2/#dfn-converting-a-json-derived-javascript-value-to-an-infra-value\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-converting-a-json-derived-javascript-value-to-an-infra-value-1\">converting a\n JSON-derived JavaScript value to an Infra value</a>\n with <var>timeouts</var>.\n\n </p>"
        },
        {
          "html": "<p>Let <var>configuration</var> be a new <a href=\"https://www.w3.org/TR/webdriver2/#dfn-timeouts-configuration\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-timeouts-configuration-3\">timeouts\n configuration</a>.\n\n </p>"
        },
        {
          "html": "For each <var>key</var> → <var>value</var> in <var>timeouts</var>:",
          "rationale": "if",
          "steps": [
            {
              "html": "<p>If «\"<code>script</code>\", \"<code>pageLoad</code>\",\n   \"<code>implicit</code>\"» does not <a data-link-type=\"dfn\" href=\"https://infra.spec.whatwg.org/#list-contain\" id=\"ref-for-index-term-contain-for-list-1\">contain</a> <var>key</var>,\n   then continue.\n\n   </p>"
            },
            {
              "html": "<p>If <var>value</var> is neither null nor a number greater than\n   or equal to 0 and less than or equal to the <a href=\"https://www.w3.org/TR/webdriver2/#dfn-maximum-safe-integer\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-maximum-safe-integer-1\">maximum safe\n   integer</a> return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-39\">error</a> with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-35\">error code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-invalid-argument\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-invalid-argument-17\">invalid\n   argument</a>.\n\n   </p>"
            },
            {
              "html": "Run the substeps matching <var>key</var>:",
              "rationale": ".switch",
              "steps": [
                {
                  "operation": "switch",
                  "steps": [
                    {
                      "case": "\"script\"",
                      "html": "<p>Set <var>configuration</var>'s <a data-link-type=\"dfn|abstract-op\" href=\"https://www.w3.org/TR/webdriver2/#dfn-script-timeout\" class=\"internalDFN\" id=\"ref-for-dfn-script-timeout-1\">script timeout</a> to <var>value</var>.\n\n     </p>"
                    },
                    {
                      "case": "\"pageLoad\"",
                      "html": "<p>Set <var>configuration</var>'s <a data-link-type=\"dfn|abstract-op\" href=\"https://www.w3.org/TR/webdriver2/#dfn-page-load-timeout\" class=\"internalDFN\" id=\"ref-for-dfn-page-load-timeout-1\">page load timeout</a> to <var>value</var>.\n\n     </p>"
                    },
                    {
                      "case": "\"implicit\"",
                      "html": "<p>Set <var>configuration</var>'s <a data-link-type=\"dfn|abstract-op\" href=\"https://www.w3.org/TR/webdriver2/#dfn-implicit-wait-timeout\" class=\"internalDFN\" id=\"ref-for-dfn-implicit-wait-timeout-1\">implicit wait timeout</a> to <var>value</var>.\n    </p>"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "html": "<p>Return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-success\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-success-22\">success</a> with data <var>configuration</var>.\n</p>"
        }
      ]
    },
    {
      "name": "timeouts configuration",
      "href": "https://www.w3.org/TR/webdriver2/#dfn-timeouts-configuration",
      "html": "A <dfn id=\"dfn-timeouts-configuration\" tabindex=\"0\" aria-haspopup=\"dialog\" data-dfn-type=\"dfn\">timeouts configuration</dfn> is a <a data-link-type=\"dfn\" href=\"https://infra.spec.whatwg.org/#struct\" id=\"ref-for-index-term-struct-2\">struct</a> representing\nthe timeouts for <a href=\"https://www.w3.org/TR/webdriver2/#executing-script\">script evaluation</a>,\n<a href=\"https://www.w3.org/TR/webdriver2/#navigation\">navigation</a>, and <a href=\"https://www.w3.org/TR/webdriver2/#elements\">element\nretrieval</a>. It has a <dfn data-dfn-for=\"timeouts\" id=\"dfn-script-timeout\" tabindex=\"0\" aria-haspopup=\"dialog\" data-dfn-type=\"dfn\">script\ntimeout</dfn> <a data-link-type=\"dfn\" href=\"https://infra.spec.whatwg.org/#struct-item\" id=\"ref-for-index-term-item-for-struct-1\">item</a> which is an integer or null and is\ninitially set to 30,000, a <dfn data-dfn-for=\"timeouts\" id=\"dfn-page-load-timeout\" tabindex=\"0\" aria-haspopup=\"dialog\" data-dfn-type=\"dfn\">page load\ntimeout</dfn> <a data-link-type=\"dfn\" href=\"https://infra.spec.whatwg.org/#struct-item\" id=\"ref-for-index-term-item-for-struct-2\">item</a> which is an integer or null and is\ninitially set to 300,000, and an <dfn data-dfn-for=\"timeouts\" id=\"dfn-implicit-wait-timeout\" tabindex=\"0\" aria-haspopup=\"dialog\" data-dfn-type=\"dfn\">implicit\nwait timeout</dfn> <a data-link-type=\"dfn\" href=\"https://infra.spec.whatwg.org/#struct-item\" id=\"ref-for-index-term-item-for-struct-3\">item</a> which is an integer or null and is\ninitially set to 0.\n\n\nTo <dfn id=\"dfn-deserialize-as-timeouts-configuration\" tabindex=\"0\" aria-haspopup=\"dialog\" data-dfn-type=\"dfn\">deserialize as timeouts configuration</dfn> given <var>timeouts</var>:",
      "rationale": ".algorithm",
      "steps": [
        {
          "html": "<p>Let <var>serialized</var> be an empty <a data-link-type=\"dfn\" href=\"https://infra.spec.whatwg.org/#ordered-map\" id=\"ref-for-index-term-map-2\">map</a>.\n\n </p>"
        },
        {
          "html": "<p>Set <var>serialized</var>[\"<code>script</code>\"]\n to <var>timeouts</var>' <a data-link-type=\"dfn|abstract-op\" href=\"https://www.w3.org/TR/webdriver2/#dfn-script-timeout\" class=\"internalDFN\" id=\"ref-for-dfn-script-timeout-2\">script timeout</a>.\n\n </p>"
        },
        {
          "html": "<p>Set <var>serialized</var>[\"<code>pageLoad</code>\"]\n to <var>timeouts</var>' <a data-link-type=\"dfn|abstract-op\" href=\"https://www.w3.org/TR/webdriver2/#dfn-page-load-timeout\" class=\"internalDFN\" id=\"ref-for-dfn-page-load-timeout-2\">page load timeout</a>.\n\n </p>"
        },
        {
          "html": "<p>Set <var>serialized</var>[\"<code>implicit</code>\"]\n to <var>timeouts</var>' <a data-link-type=\"dfn|abstract-op\" href=\"https://www.w3.org/TR/webdriver2/#dfn-implicit-wait-timeout\" class=\"internalDFN\" id=\"ref-for-dfn-implicit-wait-timeout-2\">implicit wait timeout</a>.\n\n </p>"
        },
        {
          "html": "<p>Return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-convert-an-infra-value-to-a-json-compatible-javascript-value\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-convert-an-infra-value-to-a-json-compatible-javascript-value-1\">convert an Infra value to a JSON-compatible\n JavaScript value</a> with <var>serialized</var>.\n</p>"
        }
      ]
    },
    {
      "html": "The <a href=\"https://www.w3.org/TR/webdriver2/#dfn-remote-end-steps\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-remote-end-steps-9\">remote end steps</a>, given <var>session</var>, <var>URL\nvariables</var> and <var>parameters</var> are:",
      "rationale": "let",
      "steps": [
        {
          "html": "<p>Let <var>timeouts</var> be <a href=\"https://www.w3.org/TR/webdriver2/#dfn-serialize-the-timeouts-configuration\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-serialize-the-timeouts-configuration-2\">serialize the timeouts\n configuration</a> with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-sessions\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-sessions-28\">session</a>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-timeouts-configuration\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-timeouts-configuration-4\">timeouts\n configuration</a>\n\n </p>"
        },
        {
          "html": "<p>Return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-success\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-success-23\">success</a> with data <var>timeouts</var>.\n</p>"
        }
      ]
    },
    {
      "html": "The <a href=\"https://www.w3.org/TR/webdriver2/#dfn-remote-end-steps\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-remote-end-steps-10\">remote end steps</a>, given <var>session</var>, <var>URL\nvariables</var> and <var>parameters</var> are:",
      "rationale": "let",
      "steps": [
        {
          "html": "<p>Let <var>timeouts</var> be the result of <a href=\"https://www.w3.org/TR/webdriver2/#dfn-try\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-try-14\">trying</a> to\n <a href=\"https://www.w3.org/TR/webdriver2/#dfn-deserialize-as-timeouts-configuration\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-deserialize-as-timeouts-configuration-2\">deserialize as timeouts configuration</a>\n with <var>parameters</var>.\n\n </p>"
        },
        {
          "html": "<p>Set <var>session</var>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-timeouts-configuration\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-timeouts-configuration-5\">timeouts configuration</a>\n to <var>timeouts</var>.\n\n </p>"
        },
        {
          "html": "<p>Return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-success\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-success-24\">success</a> with data <a href=\"https://www.w3.org/TR/webdriver2/#dfn-null\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-null-19\"><code>null</code></a>.\n\n</p>"
        }
      ]
    },
    {
      "name": "deserialize as a page load strategy",
      "href": "https://www.w3.org/TR/webdriver2/#dfn-deserialize-as-a-page-load-strategy",
      "html": "When asked to <dfn id=\"dfn-deserialize-as-a-page-load-strategy\" tabindex=\"0\" aria-haspopup=\"dialog\" data-dfn-type=\"dfn\">deserialize as a page load strategy</dfn> with\n argument <var>value</var>:",
      "rationale": "if",
      "steps": [
        {
          "html": "<p>If <var>value</var> is not a <a href=\"https://www.w3.org/TR/webdriver2/#dfn-string\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-string-6\">string</a> return\n  an <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-41\">error</a> with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-36\">error code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-invalid-argument\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-invalid-argument-18\">invalid argument</a>.\n\n </p>"
        },
        {
          "html": "<p>If there is no entry in the <a href=\"https://www.w3.org/TR/webdriver2/#dfn-table-of-page-load-strategies\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-table-of-page-load-strategies-2\">table of page load\n  strategies</a> with <code>keyword</code> <var>value</var> return\n  an <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-42\">error</a> with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-37\">error code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-invalid-argument\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-invalid-argument-19\">invalid argument</a>.\n\n </p>"
        },
        {
          "html": "<p>Return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-success\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-success-25\">success</a> with data <var>value</var>.\n</p>"
        }
      ]
    },
    {
      "name": "wait for navigation to complete",
      "href": "https://www.w3.org/TR/webdriver2/#dfn-wait-for-navigation-to-complete",
      "html": "To <dfn id=\"dfn-wait-for-navigation-to-complete\" tabindex=\"0\" aria-haspopup=\"dialog\" data-dfn-type=\"dfn\">wait for navigation to complete</dfn>,\n given <var>session</var> and optional <var>timer</var> (default\n null):",
      "rationale": "if",
      "steps": [
        {
          "html": "<p>If <var>session</var>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-page-loading-strategy\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-page-loading-strategy-5\">page loading strategy</a>\n  is <a href=\"https://www.w3.org/TR/webdriver2/#dfn-none-page-loading-strategy\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-none-page-loading-strategy-2\">none</a>, return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-success\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-success-26\">success</a> with\n  data <a href=\"https://www.w3.org/TR/webdriver2/#dfn-null\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-null-20\"><code>null</code></a>.\n\n </p>"
        },
        {
          "html": "<p>If <var>session</var>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-current-browsing-context\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-current-browsing-context-4\">current browsing context</a>\n  is <a href=\"https://www.w3.org/TR/webdriver2/#dfn-no-longer-open\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-no-longer-open-1\">no longer open</a>, return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-success\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-success-27\">success</a> with\n  data <a href=\"https://www.w3.org/TR/webdriver2/#dfn-null\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-null-21\"><code>null</code></a>.\n\n </p>"
        },
        {
          "html": "<p>Let <var>timeout</var> be <a href=\"https://www.w3.org/TR/webdriver2/#dfn-session-timeouts\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-session-timeouts-4\">session\n timeouts</a>' <a data-link-type=\"dfn|abstract-op\" href=\"https://www.w3.org/TR/webdriver2/#dfn-page-load-timeout\" class=\"internalDFN\" id=\"ref-for-dfn-page-load-timeout-4\">page load timeout</a>.\n\n </p>"
        },
        {
          "html": "If <var>timer</var> is null:",
          "rationale": "set",
          "steps": [
            {
              "html": "<p>Set <var>timer</var> to a new <a href=\"https://www.w3.org/TR/webdriver2/#dfn-timer\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-timer-1\">timer</a>.\n\n   </p>"
            },
            {
              "html": "If <var>timeout</var> is not null:",
              "rationale": "start",
              "steps": [
                {
                  "html": "<p><a href=\"https://www.w3.org/TR/webdriver2/#dfn-start-the-timer\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-start-the-timer-1\">Start the timer</a> with <var>timer</var>\n    and <var>timeout</var>.\n\n   </p>"
                }
              ]
            }
          ]
        },
        {
          "html": "Run these steps, but <a data-link-type=\"dfn\" href=\"https://infra.spec.whatwg.org/#abort-when\" id=\"ref-for-index-term-abort-when-1\">abort when</a> <var>timer</var>'s\n   <a data-link-type=\"dfn|abstract-op\" href=\"https://www.w3.org/TR/webdriver2/#dfn-timeout-fired-flag\" class=\"internalDFN\" id=\"ref-for-dfn-timeout-fired-flag-2\">timeout fired flag</a> is set:",
          "rationale": "if",
          "steps": [
            {
              "html": "<p>If there is an ongoing attempt to <a href=\"https://www.w3.org/TR/webdriver2/#dfn-navigating\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-navigating-4\">navigate</a>\n  <var>session</var>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-current-browsing-context\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-current-browsing-context-5\">current browsing context</a> that has not\n  yet <a href=\"https://www.w3.org/TR/webdriver2/#dfn-matured\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-matured-1\">matured</a>, wait for navigation to <a href=\"https://www.w3.org/TR/webdriver2/#dfn-matured\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-matured-2\">mature</a>.\n\n  </p>"
            },
            {
              "html": "<p>Let <var>readiness target</var> be the <a href=\"https://www.w3.org/TR/webdriver2/#dfn-document-readiness\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-document-readiness-2\">document\n  readiness</a> state associated with the <var>session</var>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-page-loading-strategy\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-page-loading-strategy-6\">page\n  loading strategy</a>, which can be found in the <a href=\"https://www.w3.org/TR/webdriver2/#dfn-table-of-page-load-strategies\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-table-of-page-load-strategies-3\">table of page\n  load strategies</a>.\n\n  </p>"
            },
            {
              "html": "<p>Wait for <var>session</var>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-current-browsing-context\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-current-browsing-context-6\">current browsing\n  context</a>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-document-readiness\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-document-readiness-3\">document readiness</a> state to reach\n  <var>readiness target</var>.\n\n </p>"
            }
          ]
        },
        {
          "html": "<p><a data-link-type=\"dfn\" href=\"https://infra.spec.whatwg.org/#if-aborted\" id=\"ref-for-index-term-if-aborted-1\">If aborted</a> return an <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-43\">error</a> with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-38\">error\n code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-timeout\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-timeout-2\">timeout</a>.\n\n </p>"
        },
        {
          "html": "<p>Return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-success\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-success-28\">success</a> with data <a href=\"https://www.w3.org/TR/webdriver2/#dfn-null\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-null-22\"><code>null</code></a>.\n</p>"
        }
      ]
    },
    {
      "name": "post-navigation checks",
      "href": "https://www.w3.org/TR/webdriver2/#dfn-post-navigation-checks",
      "html": "When asked to run the <dfn id=\"dfn-post-navigation-checks\" tabindex=\"0\" aria-haspopup=\"dialog\" data-dfn-type=\"dfn\">post-navigation checks</dfn>,\n run the substeps of the first matching statement:",
      "rationale": ".switch",
      "steps": [
        {
          "operation": "switch",
          "steps": [
            {
              "case": "response is a network error",
              "html": "<p>Return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-44\">error</a> with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-39\">error code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-unknown-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-unknown-error-2\">unknown error</a>.\n  </p>"
            },
            {
              "case": "response is blocked by content security policy",
              "html": "<p>If the <a href=\"https://www.w3.org/TR/webdriver2/#dfn-remote-ends\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-remote-ends-55\">remote end</a>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-accept-insecure-tls\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-accept-insecure-tls-4\">accept insecure TLS</a> state is\n  true, take implementation specific steps to ensure the navigation\n  is not aborted and that the untrusted or invalid TLS certificate\n  error that would normally occur under these circumstances, are\n  suppressed.\n\n  </p><p>Otherwise return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-45\">error</a> with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-40\">error code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-insecure-certificate\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-insecure-certificate-1\">insecure certificate</a>.\n\n </p>"
            },
            {
              "case": "response's HTTP status is 401",
              "html": "<p>Irrespective of how a possible authentication challenge is handled,\n  return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-success\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-success-29\">success</a> with data <a href=\"https://www.w3.org/TR/webdriver2/#dfn-null\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-null-23\"><code>null</code></a>.\n</p>"
            },
            {
              "case": "Otherwise",
              "html": "<p>Irrespective of how a possible authentication challenge is handled,\n  return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-success\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-success-29\">success</a> with data <a href=\"https://www.w3.org/TR/webdriver2/#dfn-null\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-null-23\"><code>null</code></a>.\n</p>"
            }
          ]
        }
      ]
    },
    {
      "html": "The <a href=\"https://www.w3.org/TR/webdriver2/#dfn-remote-end-steps\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-remote-end-steps-11\">remote end steps</a>, given <var>session</var>, <var>URL\nvariables</var> and <var>parameters</var> are:",
      "rationale": "let",
      "steps": [
        {
          "html": "<p>Let <var>URL</var> be the result of <a href=\"https://www.w3.org/TR/webdriver2/#dfn-getting-properties\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-getting-properties-11\">getting a property</a>\n  named \"<code>url</code>\" from <var>parameters</var>.\n\n </p>"
        },
        {
          "html": "<p>If <var>session</var>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-current-top-level-browsing-context\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-current-top-level-browsing-context-5\">current top-level browsing\n  context</a> is <a href=\"https://www.w3.org/TR/webdriver2/#dfn-no-longer-open\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-no-longer-open-2\">no longer open</a>, return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-46\">error</a>\n  with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-41\">error code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-no-such-window\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-no-such-window-1\">no such window</a>.\n\n\n </p>"
        },
        {
          "html": "<p>If <var>URL</var> is not an <a href=\"https://www.w3.org/TR/webdriver2/#dfn-absolute-url\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-absolute-url-1\">absolute URL</a>\n  or is not an <a href=\"https://www.w3.org/TR/webdriver2/#dfn-absolute-url-with-fragment\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-absolute-url-with-fragment-1\">absolute URL with fragment</a> or not a\n  <a href=\"https://www.w3.org/TR/webdriver2/#dfn-local-scheme\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-local-scheme-1\">local scheme</a>, return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-47\">error</a> with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-42\">error\n  code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-invalid-argument\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-invalid-argument-20\">invalid argument</a>.\n\n </p>"
        },
        {
          "html": "<p><a href=\"https://www.w3.org/TR/webdriver2/#dfn-try\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-try-15\">Try</a> to <a href=\"https://www.w3.org/TR/webdriver2/#dfn-handle-any-user-prompts\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-handle-any-user-prompts-1\">handle any user prompts</a>\n with <var>session</var>.\n\n </p>"
        },
        {
          "html": "<p>Let <var>timeout</var> be <a href=\"https://www.w3.org/TR/webdriver2/#dfn-sessions\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-sessions-32\">session</a>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-session-timeouts\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-session-timeouts-5\">session\n timeouts</a> <a data-link-type=\"dfn|abstract-op\" href=\"https://www.w3.org/TR/webdriver2/#dfn-page-load-timeout\" class=\"internalDFN\" id=\"ref-for-dfn-page-load-timeout-5\">page load timeout</a>.\n\n </p>"
        },
        {
          "html": "<p>Let <var>current URL</var> be <var>session</var>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-current-top-level-browsing-context\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-current-top-level-browsing-context-6\">current\n top-level browsing context</a>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-active-document\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-active-document-2\">active document</a>'s <a data-link-type=\"dfn|abstract-op\" href=\"https://www.w3.org/TR/webdriver2/#dfn-url\" class=\"internalDFN\" id=\"ref-for-dfn-url-5\">URL</a>.\n\n </p>"
        },
        {
          "html": "If <var>current URL</var> and <var>URL</var> do not have the\n same <a href=\"https://www.w3.org/TR/webdriver2/#dfn-absolute-url\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-absolute-url-2\">absolute URL</a> and <var>timeout</var> is not null:",
          "rationale": "set",
          "steps": [
            {
              "html": "<p>Set <var>timer</var> to a new <a href=\"https://www.w3.org/TR/webdriver2/#dfn-timer\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-timer-2\">timer</a>.\n\n   </p>"
            },
            {
              "html": "<p><a href=\"https://www.w3.org/TR/webdriver2/#dfn-start-the-timer\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-start-the-timer-2\">Start the timer</a> with <var>timer</var>\n   and <var>timeout</var>.\n\n </p>"
            }
          ]
        },
        {
          "html": "Run these steps, but <a data-link-type=\"dfn\" href=\"https://infra.spec.whatwg.org/#abort-when\" id=\"ref-for-index-term-abort-when-2\">abort when</a> <var>timer</var>'s\n   <a data-link-type=\"dfn|abstract-op\" href=\"https://www.w3.org/TR/webdriver2/#dfn-timeout-fired-flag\" class=\"internalDFN\" id=\"ref-for-dfn-timeout-fired-flag-3\">timeout fired flag</a> is set:",
          "rationale": "navigate",
          "steps": [
            {
              "html": "<p><a href=\"https://www.w3.org/TR/webdriver2/#dfn-navigating\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-navigating-6\">Navigate</a> <var>session</var>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-current-top-level-browsing-context\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-current-top-level-browsing-context-7\">current top-level\n   browsing context</a> to <var>URL</var>.\n\n   </p>"
            },
            {
              "html": "If <var>URL</var> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-is-special\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-is-special-1\">is special</a> except for <code>file</code> and\n   <var>current URL</var> and <var>URL</var> do not have the same <a href=\"https://www.w3.org/TR/webdriver2/#dfn-absolute-url\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-absolute-url-3\">absolute URL</a> :",
              "rationale": "try",
              "steps": [
                {
                  "html": "<p><a href=\"https://www.w3.org/TR/webdriver2/#dfn-try\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-try-16\">Try</a> to <a href=\"https://www.w3.org/TR/webdriver2/#dfn-wait-for-navigation-to-complete\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-wait-for-navigation-to-complete-2\">wait for navigation to complete</a>\n     with <var>session</var> and <var>timer</var>.\n\n     </p>"
                },
                {
                  "html": "<p><a href=\"https://www.w3.org/TR/webdriver2/#dfn-try\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-try-17\">Try</a> to run the <a href=\"https://www.w3.org/TR/webdriver2/#dfn-post-navigation-checks\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-post-navigation-checks-1\">post-navigation checks</a>.\n    </p>"
                }
              ]
            },
            {
              "html": "<p><a href=\"https://www.w3.org/TR/webdriver2/#dfn-set-the-current-browsing-context\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-set-the-current-browsing-context-1\">Set the current browsing context</a>\n   with <var>session</var> and <a href=\"https://www.w3.org/TR/webdriver2/#dfn-current-top-level-browsing-context\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-current-top-level-browsing-context-8\">current top-level browsing\n   context</a>.\n\n   \n\n   </p>"
            },
            {
              "html": "While <var>session</var>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-current-top-level-browsing-context\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-current-top-level-browsing-context-9\">current top-level browsing context</a> contains\n   a <a href=\"https://www.w3.org/TR/webdriver2/#dfn-refresh-state-pragma-directive\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-refresh-state-pragma-directive-1\">refresh state pragma directive</a> of <var>time</var> 1 second\n   or less, run the following steps:",
              "rationale": "set",
              "steps": [
                {
                  "html": "<p>Set <var>current URL</var> to <var>session</var>'s\n    <a href=\"https://www.w3.org/TR/webdriver2/#dfn-current-top-level-browsing-context\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-current-top-level-browsing-context-10\">current top-level browsing context</a>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-active-document\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-active-document-3\">active\n    document</a>'s <a data-link-type=\"dfn|abstract-op\" href=\"https://www.w3.org/TR/webdriver2/#dfn-url\" class=\"internalDFN\" id=\"ref-for-dfn-url-6\">URL</a>.\n\n   </p>"
                },
                {
                  "html": "<p>Wait until the refresh timeout has elapsed and\n   new <a href=\"https://www.w3.org/TR/webdriver2/#dfn-navigating\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-navigating-7\">navigate</a> of <var>session</var>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-current-top-level-browsing-context\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-current-top-level-browsing-context-11\">current top-level\n   browsing context</a> has begun.\n\n   </p>"
                },
                {
                  "html": "<p>Set <var>URL</var> to the destination URL of <var>session</var>'s\n   <a href=\"https://www.w3.org/TR/webdriver2/#dfn-current-top-level-browsing-context\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-current-top-level-browsing-context-12\">current top-level browsing context</a>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-active-document\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-active-document-4\">active\n   document</a>'s ongoing navigation.\n\n   </p>"
                },
                {
                  "html": "If <var>URL</var> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-is-special\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-is-special-2\">is special</a> except for <code>file</code> and\n   <var>current URL</var> and <var>URL</var> do not have the same <a href=\"https://www.w3.org/TR/webdriver2/#dfn-absolute-url\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-absolute-url-4\">absolute URL</a> :",
                  "rationale": "try",
                  "steps": [
                    {
                      "html": "<p><a href=\"https://www.w3.org/TR/webdriver2/#dfn-try\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-try-18\">Try</a> to <a href=\"https://www.w3.org/TR/webdriver2/#dfn-wait-for-navigation-to-complete\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-wait-for-navigation-to-complete-3\">wait for navigation to complete</a>\n     with <var>session</var> and <var>timer</var>.\n\n     </p>"
                    },
                    {
                      "html": "<p><a href=\"https://www.w3.org/TR/webdriver2/#dfn-try\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-try-19\">Try</a> to run the <a href=\"https://www.w3.org/TR/webdriver2/#dfn-post-navigation-checks\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-post-navigation-checks-2\">post-navigation checks</a>.\n    </p>"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "html": "<p><a data-link-type=\"dfn\" href=\"https://infra.spec.whatwg.org/#if-aborted\" id=\"ref-for-index-term-if-aborted-2\">If aborted</a> return an <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-48\">error</a> with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-43\">error\n code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-timeout\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-timeout-3\">timeout</a>.\n\n </p>"
        },
        {
          "html": "<p>Return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-success\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-success-30\">success</a> with data <a href=\"https://www.w3.org/TR/webdriver2/#dfn-null\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-null-24\"><code>null</code></a>.\n</p>"
        }
      ]
    },
    {
      "html": "The <a href=\"https://www.w3.org/TR/webdriver2/#dfn-remote-end-steps\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-remote-end-steps-12\">remote end steps</a>, given <var>session</var>, <var>URL\nvariables</var> and <var>parameters</var> are:",
      "rationale": "if",
      "steps": [
        {
          "html": "<p>If <var>session</var>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-current-top-level-browsing-context\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-current-top-level-browsing-context-13\">current top-level browsing\n  context</a> is <a href=\"https://www.w3.org/TR/webdriver2/#dfn-no-longer-open\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-no-longer-open-3\">no longer open</a>, return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-49\">error</a>\n  with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-44\">error code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-no-such-window\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-no-such-window-2\">no such window</a>.\n\n </p>"
        },
        {
          "html": "<p><a href=\"https://www.w3.org/TR/webdriver2/#dfn-try\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-try-20\">Try</a> to <a href=\"https://www.w3.org/TR/webdriver2/#dfn-handle-any-user-prompts\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-handle-any-user-prompts-2\">handle any user prompts</a>\n with <var>session</var>.\n\n </p>"
        },
        {
          "html": "<p>Let <var>URL</var> be the <a data-lt=\"URL serializer\" href=\"https://www.w3.org/TR/webdriver2/#dfn-url-serializer\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-url-serializer-1\">serialization</a>\n  of <var>session</var>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-current-top-level-browsing-context\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-current-top-level-browsing-context-14\">current top-level browsing context</a>'s\n  <a href=\"https://www.w3.org/TR/webdriver2/#dfn-active-document\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-active-document-5\">active document</a>'s <a data-link-type=\"dfn|abstract-op\" href=\"https://www.w3.org/TR/webdriver2/#dfn-url\" class=\"internalDFN\" id=\"ref-for-dfn-url-7\">URL</a>.\n\n </p>"
        },
        {
          "html": "<p>Return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-success\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-success-31\">success</a> with data <var>URL</var>.\n</p>"
        }
      ]
    },
    {
      "html": "The <a href=\"https://www.w3.org/TR/webdriver2/#dfn-remote-end-steps\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-remote-end-steps-13\">remote end steps</a>, given <var>session</var>, <var>URL\nvariables</var> and <var>parameters</var> are:",
      "rationale": "if",
      "steps": [
        {
          "html": "<p>If <var>session</var>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-current-top-level-browsing-context\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-current-top-level-browsing-context-16\">current top-level browsing\n  context</a> is <a href=\"https://www.w3.org/TR/webdriver2/#dfn-no-longer-open\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-no-longer-open-4\">no longer open</a>, return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-50\">error</a>\n  with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-45\">error code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-no-such-window\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-no-such-window-3\">no such window</a>.\n\n </p>"
        },
        {
          "html": "<p><a href=\"https://www.w3.org/TR/webdriver2/#dfn-try\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-try-21\">Try</a> to <a href=\"https://www.w3.org/TR/webdriver2/#dfn-handle-any-user-prompts\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-handle-any-user-prompts-3\">handle any user prompts</a>\n with <var>session</var>.\n\n </p>"
        },
        {
          "html": "<p>Let <var>timeout</var> be <var>session</var>' <a href=\"https://www.w3.org/TR/webdriver2/#dfn-session-timeouts\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-session-timeouts-6\">session\n timeouts</a> <a data-link-type=\"dfn|abstract-op\" href=\"https://www.w3.org/TR/webdriver2/#dfn-page-load-timeout\" class=\"internalDFN\" id=\"ref-for-dfn-page-load-timeout-6\">page load timeout</a>.\n\n </p>"
        },
        {
          "html": "<p>Let <var>timer</var> be a new <a href=\"https://www.w3.org/TR/webdriver2/#dfn-timer\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-timer-3\">timer</a>.\n\n </p>"
        },
        {
          "html": "If <var>timeout</var> is not null:",
          "rationale": "start",
          "steps": [
            {
              "html": "<p><a href=\"https://www.w3.org/TR/webdriver2/#dfn-start-the-timer\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-start-the-timer-3\">Start the timer</a> with <var>timer</var> and <var>timeout</var>.\n  </p>"
            }
          ]
        },
        {
          "html": "<p><a href=\"https://www.w3.org/TR/webdriver2/#dfn-traverse-the-history-by-a-delta\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-traverse-the-history-by-a-delta-1\">Traverse the history by a delta</a> –1\n  for <var>session</var>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-current-browsing-context\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-current-browsing-context-7\">current browsing context</a>.\n\n </p>"
        },
        {
          "html": "<p>If the previous step completed results in\n  a <a href=\"https://www.w3.org/TR/webdriver2/#dfn-pagehide\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-pagehide-1\"><code>pageHide</code></a> <a data-link-type=\"dfn\" data-lt=\"fire an event\" href=\"https://dom.spec.whatwg.org/#concept-event-fire\" id=\"ref-for-index-term-fire-an-event-3\">event firing</a>, wait\n  until <a href=\"https://www.w3.org/TR/webdriver2/#dfn-pageshow\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-pageshow-1\"><code>pageShow</code></a> <a data-link-type=\"dfn\" data-lt=\"fire an event\" href=\"https://dom.spec.whatwg.org/#concept-event-fire\" id=\"ref-for-index-term-fire-an-event-4\">event fires</a>\n  or <var>timer</var>' <a data-link-type=\"dfn|abstract-op\" href=\"https://www.w3.org/TR/webdriver2/#dfn-timeout-fired-flag\" class=\"internalDFN\" id=\"ref-for-dfn-timeout-fired-flag-4\">timeout fired flag</a> to be set,\n  whichever occurs first.\n\n </p>"
        },
        {
          "html": "If <var>timer</var>' <a data-link-type=\"dfn|abstract-op\" href=\"https://www.w3.org/TR/webdriver2/#dfn-timeout-fired-flag\" class=\"internalDFN\" id=\"ref-for-dfn-timeout-fired-flag-5\">timeout fired flag</a> is set:",
          "rationale": "handle",
          "steps": [
            {
              "html": "<p><a href=\"https://www.w3.org/TR/webdriver2/#dfn-handle-any-user-prompts\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-handle-any-user-prompts-4\">Handle any user prompts</a>.\n\n   </p>"
            },
            {
              "html": "<p>Return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-51\">error</a> with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-46\">error code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-timeout\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-timeout-4\">timeout</a>.\n  </p>"
            }
          ]
        },
        {
          "html": "<p>Return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-success\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-success-32\">success</a> with data <a href=\"https://www.w3.org/TR/webdriver2/#dfn-null\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-null-25\"><code>null</code></a>.\n</p>"
        }
      ]
    },
    {
      "html": "The <a href=\"https://www.w3.org/TR/webdriver2/#dfn-remote-end-steps\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-remote-end-steps-14\">remote end steps</a>, given <var>session</var>, <var>URL\nvariables</var> and <var>parameters</var> are:",
      "rationale": "if",
      "steps": [
        {
          "html": "<p>If <var>session</var>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-current-top-level-browsing-context\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-current-top-level-browsing-context-18\">current top-level browsing\n  context</a> is <a href=\"https://www.w3.org/TR/webdriver2/#dfn-no-longer-open\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-no-longer-open-5\">no longer open</a>, return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-52\">error</a>\n  with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-47\">error code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-no-such-window\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-no-such-window-4\">no such window</a>.\n\n </p>"
        },
        {
          "html": "<p><a href=\"https://www.w3.org/TR/webdriver2/#dfn-try\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-try-22\">Try</a> to <a href=\"https://www.w3.org/TR/webdriver2/#dfn-handle-any-user-prompts\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-handle-any-user-prompts-5\">handle any user prompts</a>\n with <var>session</var>.\n\n </p>"
        },
        {
          "html": "<p>Let <var>timeout</var> be <var>session</var>' <a href=\"https://www.w3.org/TR/webdriver2/#dfn-session-timeouts\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-session-timeouts-7\">session\n timeouts</a> <a data-link-type=\"dfn|abstract-op\" href=\"https://www.w3.org/TR/webdriver2/#dfn-page-load-timeout\" class=\"internalDFN\" id=\"ref-for-dfn-page-load-timeout-7\">page load timeout</a>.\n\n </p>"
        },
        {
          "html": "<p>Let <var>timer</var> be a new <a href=\"https://www.w3.org/TR/webdriver2/#dfn-timer\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-timer-4\">timer</a>.\n\n </p>"
        },
        {
          "html": "If <var>timeout</var> is not null:",
          "rationale": "start",
          "steps": [
            {
              "html": "<p><a href=\"https://www.w3.org/TR/webdriver2/#dfn-start-the-timer\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-start-the-timer-4\">Start the timer</a> with <var>timer</var> and <var>timeout</var>.\n  </p>"
            }
          ]
        },
        {
          "html": "<p><a href=\"https://www.w3.org/TR/webdriver2/#dfn-traverse-the-history-by-a-delta\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-traverse-the-history-by-a-delta-2\">Traverse the history by a delta</a> 1\n  for <var>session</var>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-current-browsing-context\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-current-browsing-context-8\">current browsing context</a>.\n\n </p>"
        },
        {
          "html": "<p>If the previous step completed results in a <a href=\"https://www.w3.org/TR/webdriver2/#dfn-pagehide\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-pagehide-2\"><code>pageHide</code></a>\n <a data-link-type=\"dfn\" href=\"https://dom.spec.whatwg.org/#concept-event\" id=\"ref-for-index-term-event-1\">event</a> firing, wait until <a href=\"https://www.w3.org/TR/webdriver2/#dfn-pageshow\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-pageshow-2\"><code>pageShow</code></a> <a data-link-type=\"dfn\" data-lt=\"fire an event\" href=\"https://dom.spec.whatwg.org/#concept-event-fire\" id=\"ref-for-index-term-fire-an-event-5\">event fires</a> or <var>timer</var>' <a data-link-type=\"dfn|abstract-op\" href=\"https://www.w3.org/TR/webdriver2/#dfn-timeout-fired-flag\" class=\"internalDFN\" id=\"ref-for-dfn-timeout-fired-flag-6\">timeout fired flag</a> to be set, whichever occurs first.\n\n </p>"
        },
        {
          "html": "If <var>timer</var>' <a data-link-type=\"dfn|abstract-op\" href=\"https://www.w3.org/TR/webdriver2/#dfn-timeout-fired-flag\" class=\"internalDFN\" id=\"ref-for-dfn-timeout-fired-flag-7\">timeout fired flag</a> is set:",
          "rationale": "handle",
          "steps": [
            {
              "html": "<p><a href=\"https://www.w3.org/TR/webdriver2/#dfn-handle-any-user-prompts\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-handle-any-user-prompts-6\">Handle any user prompts</a>.\n\n   </p>"
            },
            {
              "html": "<p>Return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-53\">error</a> with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-48\">error code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-timeout\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-timeout-5\">timeout</a>.\n  </p>"
            }
          ]
        },
        {
          "html": "<p>Return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-success\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-success-33\">success</a> with data <a href=\"https://www.w3.org/TR/webdriver2/#dfn-null\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-null-26\"><code>null</code></a>.\n</p>"
        }
      ]
    },
    {
      "html": "The <a href=\"https://www.w3.org/TR/webdriver2/#dfn-remote-end-steps\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-remote-end-steps-15\">remote end steps</a>, given <var>session</var>, <var>URL\nvariables</var> and <var>parameters</var> are:",
      "rationale": "if",
      "steps": [
        {
          "html": "<p>If <var>session</var>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-current-top-level-browsing-context\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-current-top-level-browsing-context-20\">current top-level browsing\n  context</a> is <a href=\"https://www.w3.org/TR/webdriver2/#dfn-no-longer-open\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-no-longer-open-6\">no longer open</a>, return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-54\">error</a>\n  with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-49\">error code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-no-such-window\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-no-such-window-5\">no such window</a>.\n\n </p>"
        },
        {
          "html": "<p><a href=\"https://www.w3.org/TR/webdriver2/#dfn-try\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-try-23\">Try</a> to <a href=\"https://www.w3.org/TR/webdriver2/#dfn-handle-any-user-prompts\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-handle-any-user-prompts-7\">handle any user prompts</a>\n with <var>session</var>.\n\n </p>"
        },
        {
          "html": "<p>Initiate <a href=\"https://www.w3.org/TR/webdriver2/#dfn-an-overridden-reload\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-an-overridden-reload-1\">an overridden reload</a>\n   of <var>session</var>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-current-top-level-browsing-context\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-current-top-level-browsing-context-21\">current top-level browsing\n   context</a>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-active-document\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-active-document-6\">active document</a>.\n </p>"
        },
        {
          "html": "If <var>URL</var> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-is-special\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-is-special-3\">is special</a> except for <code>file</code>:",
          "rationale": "try",
          "steps": [
            {
              "html": "<p><a href=\"https://www.w3.org/TR/webdriver2/#dfn-try\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-try-24\">Try</a> to <a href=\"https://www.w3.org/TR/webdriver2/#dfn-wait-for-navigation-to-complete\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-wait-for-navigation-to-complete-4\">wait for navigation to complete</a>\n   with <var>session</var>.\n\n   </p>"
            },
            {
              "html": "<p><a href=\"https://www.w3.org/TR/webdriver2/#dfn-try\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-try-25\">Try</a> to run the <a href=\"https://www.w3.org/TR/webdriver2/#dfn-post-navigation-checks\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-post-navigation-checks-3\">post-navigation checks</a>.\n  </p>"
            }
          ]
        },
        {
          "html": "<p><a href=\"https://www.w3.org/TR/webdriver2/#dfn-set-the-current-browsing-context\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-set-the-current-browsing-context-2\">Set the current browsing context</a>\n  with <var>session</var> and <var>session</var>'s<a href=\"https://www.w3.org/TR/webdriver2/#dfn-current-top-level-browsing-context\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-current-top-level-browsing-context-22\">current\n  top-level browsing context</a>.\n\n </p>"
        },
        {
          "html": "<p>Return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-success\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-success-34\">success</a> with data <a href=\"https://www.w3.org/TR/webdriver2/#dfn-null\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-null-27\"><code>null</code></a>.\n</p>"
        }
      ]
    },
    {
      "html": "The <a href=\"https://www.w3.org/TR/webdriver2/#dfn-remote-end-steps\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-remote-end-steps-16\">remote end steps</a>, given <var>session</var>, <var>URL\nvariables</var> and <var>parameters</var> are:",
      "rationale": "if",
      "steps": [
        {
          "html": "<p>If <var>session</var>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-current-top-level-browsing-context\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-current-top-level-browsing-context-24\">current top-level browsing\n  context</a> is <a href=\"https://www.w3.org/TR/webdriver2/#dfn-no-longer-open\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-no-longer-open-7\">no longer open</a>, return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-55\">error</a>\n  with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-50\">error code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-no-such-window\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-no-such-window-6\">no such window</a>.\n\n </p>"
        },
        {
          "html": "<p><a href=\"https://www.w3.org/TR/webdriver2/#dfn-try\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-try-26\">Try</a> to <a href=\"https://www.w3.org/TR/webdriver2/#dfn-handle-any-user-prompts\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-handle-any-user-prompts-8\">handle any user prompts</a>\n with <var>session</var>.\n\n </p>"
        },
        {
          "html": "<p>Let <var>title</var> be\n the <var>session</var>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-current-top-level-browsing-context\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-current-top-level-browsing-context-25\">current top-level browsing\n context</a>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-active-document\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-active-document-7\">active document</a>'s <a data-link-type=\"attribute\" href=\"https://html.spec.whatwg.org/multipage/dom.html#document.title\" id=\"ref-for-index-term-title-attribute-for-document-1\"><code>title</code></a>.\n\n </p>"
        },
        {
          "html": "<p>Return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-success\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-success-35\">success</a> with data <var>title</var>.\n</p>"
        }
      ]
    },
    {
      "name": "WindowProxy reference object",
      "href": "https://www.w3.org/TR/webdriver2/#dfn-windowproxy-reference-object",
      "html": "The <dfn id=\"dfn-windowproxy-reference-object\" tabindex=\"0\" aria-haspopup=\"dialog\" data-dfn-type=\"dfn\"><code>WindowProxy</code> reference object</dfn>\n with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-windowproxy\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-windowproxy-1\"><code>WindowProxy</code></a> object <var>window</var> is\n given by:",
      "rationale": "let",
      "steps": [
        {
          "html": "<p>Let <var>identifier</var> be the <a href=\"https://www.w3.org/TR/webdriver2/#dfn-web-window-identifier\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-web-window-identifier-2\">web window identifier</a>\n  if the associated <a href=\"https://www.w3.org/TR/webdriver2/#dfn-browsing-contexts\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-browsing-contexts-6\">browsing context</a> of <var>window</var>\n  is a <a data-link-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/document-sequences.html#top-level-browsing-context\" id=\"ref-for-index-term-top-level-browsing-contexts-8\">top-level browsing context</a>.\n\n  </p><p>Otherwise let it be the <a href=\"https://www.w3.org/TR/webdriver2/#dfn-web-frame-identifier\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-web-frame-identifier-2\">web frame identifier</a>.\n\n </p>"
        },
        {
          "html": "<p>Return a JSON <a href=\"https://www.w3.org/TR/webdriver2/#dfn-object\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-object-27\">Object</a> initialized with the following properties:\n\n  </p><dl>\n   <dt><var>identifier</var>\n   </dt><dd><p>Associated <a href=\"https://www.w3.org/TR/webdriver2/#dfn-window-handles\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-window-handles-2\">window handle</a> of the <var>window</var>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-browsing-contexts\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-browsing-contexts-7\">browsing context</a>.\n  </p></dd></dl>"
        }
      ]
    },
    {
      "name": "deserialize a web frame",
      "href": "https://www.w3.org/TR/webdriver2/#dfn-deserialize-a-web-frame",
      "html": "To <dfn id=\"dfn-deserialize-a-web-frame\" tabindex=\"0\" aria-haspopup=\"dialog\" data-dfn-type=\"dfn\">deserialize a web frame</dfn> by a\n  JSON <a href=\"https://www.w3.org/TR/webdriver2/#dfn-object\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-object-28\">Object</a> <var>object</var> that\n  <a href=\"https://www.w3.org/TR/webdriver2/#dfn-represents-a-web-frame\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-represents-a-web-frame-1\">represents a web frame</a>:",
      "rationale": "if",
      "steps": [
        {
          "html": "<p>If <var>object</var> has no <a href=\"https://www.w3.org/TR/webdriver2/#dfn-own-properties\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-own-properties-13\">own property</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-web-frame-identifier\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-web-frame-identifier-3\">web frame identifier</a>,\n    return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-56\">error</a> with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-51\">error code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-invalid-argument\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-invalid-argument-21\">invalid argument</a>.\n\n  </p>"
        },
        {
          "html": "<p>Let <var>reference</var> be the result of\n    <a data-lt=\"getting a property\" href=\"https://www.w3.org/TR/webdriver2/#dfn-getting-properties\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-getting-properties-12\">getting</a>\n    the <a href=\"https://www.w3.org/TR/webdriver2/#dfn-web-frame-identifier\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-web-frame-identifier-4\">web frame identifier</a> property\n    from <var>object</var>.\n\n  </p>"
        },
        {
          "html": "<p>If <var>reference</var> is not a <a href=\"https://www.w3.org/TR/webdriver2/#dfn-string\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-string-8\">String</a>,\n    return an <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-57\">error</a> with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-52\">error code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-invalid-argument\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-invalid-argument-22\">invalid argument</a>.\n\n  </p>"
        },
        {
          "html": "<p>Let <var>browsing context</var> be the <a href=\"https://www.w3.org/TR/webdriver2/#dfn-browsing-contexts\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-browsing-contexts-8\">browsing context</a> whose\n    <a href=\"https://www.w3.org/TR/webdriver2/#dfn-window-handles\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-window-handles-3\">window handle</a> is <var>reference</var>, or null if no such\n    <a href=\"https://www.w3.org/TR/webdriver2/#dfn-browsing-contexts\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-browsing-contexts-9\">browsing context</a> exists.\n\n  </p>"
        },
        {
          "html": "<p>If <var>browsing context</var> is null or a <a data-link-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/document-sequences.html#top-level-browsing-context\" id=\"ref-for-index-term-top-level-browsing-contexts-9\">top-level browsing context</a>,\n    return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-58\">error</a> with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-53\">error code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-no-such-frame\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-no-such-frame-1\">no such frame</a>.\n\n  </p>"
        },
        {
          "html": "<p>Return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-success\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-success-36\">success</a> with data <var>browsing context</var>'s associated window.\n</p>"
        }
      ]
    },
    {
      "name": "deserialize a web window",
      "href": "https://www.w3.org/TR/webdriver2/#dfn-deserialize-a-web-window",
      "html": "To <dfn id=\"dfn-deserialize-a-web-window\" tabindex=\"0\" aria-haspopup=\"dialog\" data-dfn-type=\"dfn\">deserialize a web window</dfn> by a\n  JSON <a href=\"https://www.w3.org/TR/webdriver2/#dfn-object\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-object-29\">Object</a> <var>object</var> that <a href=\"https://www.w3.org/TR/webdriver2/#dfn-represents-a-web-window\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-represents-a-web-window-1\">represents a web\n    window</a>:",
      "rationale": "if",
      "steps": [
        {
          "html": "<p>If <var>object</var> has no <a href=\"https://www.w3.org/TR/webdriver2/#dfn-own-properties\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-own-properties-14\">own property</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-web-window-identifier\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-web-window-identifier-3\">web window identifier</a>,\n    return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-59\">error</a> with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-54\">error code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-invalid-argument\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-invalid-argument-23\">invalid argument</a>.\n\n  </p>"
        },
        {
          "html": "<p>Let <var>reference</var> be the result of\n    <a data-lt=\"getting a property\" href=\"https://www.w3.org/TR/webdriver2/#dfn-getting-properties\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-getting-properties-13\">getting</a>\n    the <a href=\"https://www.w3.org/TR/webdriver2/#dfn-web-window-identifier\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-web-window-identifier-4\">web window identifier</a> property\n    from <var>object</var>.\n\n  </p>"
        },
        {
          "html": "<p>If <var>reference</var> is not a <a href=\"https://www.w3.org/TR/webdriver2/#dfn-string\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-string-9\">String</a>,\n    return an <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-60\">error</a> with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-55\">error code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-invalid-argument\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-invalid-argument-24\">invalid argument</a>.\n\n  </p>"
        },
        {
          "html": "<p>Let <var>browsing context</var> be the <a href=\"https://www.w3.org/TR/webdriver2/#dfn-browsing-contexts\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-browsing-contexts-10\">browsing context</a> whose\n      <a href=\"https://www.w3.org/TR/webdriver2/#dfn-window-handles\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-window-handles-4\">window handle</a> is <var>reference</var>, or null if no such\n      <a href=\"https://www.w3.org/TR/webdriver2/#dfn-browsing-contexts\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-browsing-contexts-11\">browsing context</a> exists.\n\n  </p>"
        },
        {
          "html": "<p>If <var>browsing context</var> is null or not a <a data-link-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/document-sequences.html#top-level-browsing-context\" id=\"ref-for-index-term-top-level-browsing-contexts-10\">top-level browsing context</a>,\n    return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-61\">error</a> with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-56\">error code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-no-such-window\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-no-such-window-7\">no such window</a>.\n\n  </p>"
        },
        {
          "html": "<p>Return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-success\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-success-37\">success</a> with data <var>browsing context</var>'s associated window.\n</p>"
        }
      ]
    },
    {
      "name": "set the current browsing context",
      "href": "https://www.w3.org/TR/webdriver2/#dfn-set-the-current-browsing-context",
      "html": "When required to <dfn id=\"dfn-set-the-current-browsing-context\" tabindex=\"0\" aria-haspopup=\"dialog\" data-dfn-type=\"dfn\">set the current browsing context</dfn> given\n   <var>session</var> and <var>context</var>, an implementation must\n   follow the following steps:",
      "rationale": "set",
      "steps": [
        {
          "html": "<p>Set <var>session</var>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-current-browsing-context\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-current-browsing-context-10\">current browsing\n   context</a> to <var>context</var>.\n\n  </p>"
        },
        {
          "html": "<p>Set the <var>session</var>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-current-parent-browsing-context\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-current-parent-browsing-context-1\">current parent browsing\n    context</a> to the <a href=\"https://www.w3.org/TR/webdriver2/#dfn-parent-browsing-context\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-parent-browsing-context-1\">parent browsing context</a>\n    of <var>context</var>, if that context exists, or <a href=\"https://www.w3.org/TR/webdriver2/#dfn-null\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-null-28\">null</a>\n    otherwise.\n</p>"
        }
      ]
    },
    {
      "name": "set the current top-level browsing context",
      "href": "https://www.w3.org/TR/webdriver2/#dfn-set-the-current-top-level-browsing-context",
      "html": "When required to <dfn id=\"dfn-set-the-current-top-level-browsing-context\" tabindex=\"0\" aria-haspopup=\"dialog\" data-dfn-type=\"dfn\">set the current top-level browsing\n   context</dfn> given <var>session</var> and <var>context</var>, an\n   implementation must:",
      "rationale": "assert",
      "steps": [
        {
          "html": "<p>Assert: <var>context</var> is a <a data-link-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/document-sequences.html#top-level-browsing-context\" id=\"ref-for-index-term-top-level-browsing-contexts-11\">top-level browsing context</a>.\n\n  </p>"
        },
        {
          "html": "<p>Set <var>session</var>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-current-top-level-browsing-context\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-current-top-level-browsing-context-28\">current top-level browsing\n      context</a> to <var>context</var>.\n\n  </p>"
        },
        {
          "html": "<p><a href=\"https://www.w3.org/TR/webdriver2/#dfn-set-the-current-browsing-context\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-set-the-current-browsing-context-3\">Set the current browsing context</a> with <var>session</var>\n   and <var>context</var>.\n</p>"
        }
      ]
    },
    {
      "html": "The <a href=\"https://www.w3.org/TR/webdriver2/#dfn-remote-end-steps\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-remote-end-steps-17\">remote end steps</a>, given <var>session</var>, <var>URL\nvariables</var> and <var>parameters</var> are:",
      "rationale": "if",
      "steps": [
        {
          "html": "<p>If <var>session</var>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-current-top-level-browsing-context\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-current-top-level-browsing-context-29\">current top-level browsing\n  context</a> is <a href=\"https://www.w3.org/TR/webdriver2/#dfn-no-longer-open\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-no-longer-open-8\">no longer open</a>, return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-62\">error</a>\n  with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-57\">error code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-no-such-window\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-no-such-window-8\">no such window</a>.\n\n </p>"
        },
        {
          "html": "<p>Return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-success\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-success-38\">success</a> with data being the <a href=\"https://www.w3.org/TR/webdriver2/#dfn-window-handles\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-window-handles-5\">window handle</a>\n  associated with <var>session</var>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-current-top-level-browsing-context\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-current-top-level-browsing-context-30\">current top-level browsing context</a>.\n</p>"
        }
      ]
    },
    {
      "html": "The <a href=\"https://www.w3.org/TR/webdriver2/#dfn-remote-end-steps\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-remote-end-steps-18\">remote end steps</a>, given <var>session</var>, <var>URL\nvariables</var> and <var>parameters</var> are:",
      "rationale": "if",
      "steps": [
        {
          "html": "<p>If <var>session</var>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-current-top-level-browsing-context\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-current-top-level-browsing-context-31\">current top-level browsing\n  context</a> is <a href=\"https://www.w3.org/TR/webdriver2/#dfn-no-longer-open\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-no-longer-open-9\">no longer open</a>, return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-63\">error</a>\n  with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-58\">error code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-no-such-window\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-no-such-window-9\">no such window</a>.\n\n </p>"
        },
        {
          "html": "<p><a href=\"https://www.w3.org/TR/webdriver2/#dfn-try\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-try-27\">Try</a> to <a href=\"https://www.w3.org/TR/webdriver2/#dfn-handle-any-user-prompts\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-handle-any-user-prompts-9\">handle any user prompts</a>\n with <var>session</var>.\n\n </p>"
        },
        {
          "html": "<p><a href=\"https://www.w3.org/TR/webdriver2/#dfn-close\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-close-3\">Close</a> <var>session</var>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-current-top-level-browsing-context\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-current-top-level-browsing-context-32\">current top-level\n browsing context</a>.\n\n </p>"
        },
        {
          "html": "<p>If there are no more open <a data-link-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/document-sequences.html#top-level-browsing-context\" id=\"ref-for-index-term-top-level-browsing-contexts-12\">top-level browsing contexts</a>,\n  then <a href=\"https://www.w3.org/TR/webdriver2/#dfn-try\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-try-28\">try</a> to <a href=\"https://www.w3.org/TR/webdriver2/#dfn-close-the-session\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-close-the-session-3\">close the session</a>.\n\n </p>"
        },
        {
          "html": "Return the result of running the <a href=\"https://www.w3.org/TR/webdriver2/#dfn-remote-end-steps\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-remote-end-steps-19\">remote end steps</a> for\n  the <a href=\"https://www.w3.org/TR/webdriver2/#dfn-get-window-handles\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-get-window-handles-2\">Get Window Handles</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-commands\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-commands-33\">command</a>,\n  with <var>session</var>, <var>URL variables</var>\n  and <var>parameters</var>."
        }
      ]
    },
    {
      "html": "The <a href=\"https://www.w3.org/TR/webdriver2/#dfn-remote-end-steps\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-remote-end-steps-20\">remote end steps</a>, given <var>session</var>, <var>URL\nvariables</var> and <var>parameters</var> are:",
      "rationale": "let",
      "steps": [
        {
          "html": "<p>Let <var>handle</var> be the result of\n  <a href=\"https://www.w3.org/TR/webdriver2/#dfn-getting-properties\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-getting-properties-14\">getting the property</a> \"<code>handle</code>\"\n  from <var>parameters</var>.\n\n </p>"
        },
        {
          "html": "<p>If <var>handle</var> is <a href=\"https://www.w3.org/TR/webdriver2/#dfn-undefined\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-undefined-7\">undefined</a>,\n  return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-64\">error</a> with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-59\">error code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-invalid-argument\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-invalid-argument-25\">invalid argument</a>.\n\n </p>"
        },
        {
          "html": "<p>If there is an active <a href=\"https://www.w3.org/TR/webdriver2/#dfn-user-prompts\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-user-prompts-1\">user prompt</a>, that prevents the\n  focusing of another <a data-link-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/document-sequences.html#top-level-browsing-context\" id=\"ref-for-index-term-top-level-browsing-contexts-13\">top-level browsing context</a>,\n  return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-65\">error</a> with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-60\">error code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-unexpected-alert-open\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-unexpected-alert-open-1\">unexpected alert open</a>.\n\n </p>"
        },
        {
          "html": "<p>If <var>handle</var> is equal to the associated <a href=\"https://www.w3.org/TR/webdriver2/#dfn-window-handles\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-window-handles-6\">window\n  handle</a> for some <a data-link-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/document-sequences.html#top-level-browsing-context\" id=\"ref-for-index-term-top-level-browsing-contexts-14\">top-level browsing context</a>,\n  let <var>context</var> be the that browsing context, and\n  <a href=\"https://www.w3.org/TR/webdriver2/#dfn-set-the-current-top-level-browsing-context\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-set-the-current-top-level-browsing-context-1\">set the current top-level browsing context</a>\n  with <var>session</var> and <var>context</var>.\n\n  </p><p>Otherwise, return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-66\">error</a> with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-61\">error code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-no-such-window\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-no-such-window-10\">no such window</a>.\n\n </p>"
        },
        {
          "html": "<p>Update any implementation-specific state that would result\n  from the user selecting <var>session</var>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-current-browsing-context\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-current-browsing-context-11\">current browsing context</a> for\n  interaction, without altering OS-level focus.\n\n </p>"
        },
        {
          "html": "<p>Return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-success\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-success-39\">success</a> with data <a href=\"https://www.w3.org/TR/webdriver2/#dfn-null\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-null-29\"><code>null</code></a>.\n</p>"
        }
      ]
    },
    {
      "html": "The <a href=\"https://www.w3.org/TR/webdriver2/#dfn-remote-end-steps\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-remote-end-steps-21\">remote end steps</a>, given <var>session</var>, <var>URL\nvariables</var> and <var>parameters</var> are:",
      "rationale": "let",
      "steps": [
        {
          "html": "<p>Let <var>handles</var> be a <a href=\"https://www.w3.org/TR/webdriver2/#dfn-list\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-list-6\">List</a>.\n\n </p>"
        },
        {
          "html": "<p>For each <a data-link-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/document-sequences.html#top-level-browsing-context\" id=\"ref-for-index-term-top-level-browsing-contexts-15\">top-level browsing context</a> in the <a href=\"https://www.w3.org/TR/webdriver2/#dfn-remote-ends\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-remote-ends-59\">remote end</a>,\n  push the associated <a href=\"https://www.w3.org/TR/webdriver2/#dfn-window-handles\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-window-handles-7\">window handle</a> onto <var>handles</var>.\n\n </p>"
        },
        {
          "html": "Return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-success\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-success-40\">success</a> with data <var>handles</var>."
        }
      ]
    },
    {
      "html": "The <a href=\"https://www.w3.org/TR/webdriver2/#dfn-remote-end-steps\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-remote-end-steps-22\">remote end steps</a>, given <var>session</var>, <var>URL\nvariables</var> and <var>parameters</var> are:",
      "rationale": "if",
      "steps": [
        {
          "html": "<p>If the implementation does not support creating new top-level\n  browsing contexts, return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-67\">error</a> with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-62\">error code</a>\n  <a href=\"https://www.w3.org/TR/webdriver2/#dfn-unsupported-operation\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-unsupported-operation-1\">unsupported operation</a>.\n\n </p>"
        },
        {
          "html": "<p>If <var>session</var>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-current-top-level-browsing-context\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-current-top-level-browsing-context-34\">current top-level browsing\n  context</a> is <a href=\"https://www.w3.org/TR/webdriver2/#dfn-no-longer-open\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-no-longer-open-10\">no longer open</a>, return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-68\">error</a>\n  with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-63\">error code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-no-such-window\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-no-such-window-11\">no such window</a>.\n\n </p>"
        },
        {
          "html": "<p><a href=\"https://www.w3.org/TR/webdriver2/#dfn-try\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-try-29\">Try</a> to <a href=\"https://www.w3.org/TR/webdriver2/#dfn-handle-any-user-prompts\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-handle-any-user-prompts-10\">handle any user prompts</a>\n with <var>session</var>.\n\n </p>"
        },
        {
          "html": "<p>Let <var>type hint</var> be the result of <a href=\"https://www.w3.org/TR/webdriver2/#dfn-getting-properties\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-getting-properties-15\">getting the property</a>\n  \"<code>type</code>\" from <var>parameters</var>.\n\n </p>"
        },
        {
          "html": "<p>Create a new <a data-link-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/document-sequences.html#top-level-browsing-context\" id=\"ref-for-index-term-top-level-browsing-contexts-17\">top-level browsing context</a> by running\n  the <a href=\"https://www.w3.org/TR/webdriver2/#dfn-window-open-steps\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-window-open-steps-1\">window open steps</a> with <var>URL</var> set to\n  \"<code>about:blank</code>\", <var>target</var> set to the empty\n  string, and <var>features</var> set to \"<code>noopener</code>\" and\n  the user agent configured to create a new browsing context. This must\n  be done without invoking the <a href=\"https://www.w3.org/TR/webdriver2/#dfn-focusing-steps\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-focusing-steps-1\">focusing steps</a> for the created browsing\n  context. If <var>type hint</var> has the value \"<code>tab</code>\",\n  and the implementation supports multiple browsing context in the\n  same OS window, the new browsing context should share an OS window\n  with <var>session</var>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-current-browsing-context\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-current-browsing-context-12\">current browsing context</a>. If <var>type hint</var> is\n  \"<code>window</code>\", and the implementation supports multiple\n  browsing contexts in separate OS windows, the created browsing\n  context should be in a new OS window. In all other cases the details\n  of how the browsing context is presented to the user are\n  implementation defined.\n\n </p>"
        },
        {
          "html": "<p>Let <var>handle</var> be the\n  associated <a href=\"https://www.w3.org/TR/webdriver2/#dfn-window-handles\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-window-handles-8\">window handle</a> of the newly created window.\n\n </p>"
        },
        {
          "html": "<p>Let <var>type</var> be \"<code>tab</code>\" if the newly created\n  window shares an OS-level window with <var>session</var>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-current-browsing-context\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-current-browsing-context-13\">current browsing\n  context</a>, or \"<code>window</code>\" otherwise.\n\n </p>"
        },
        {
          "html": "<p>Let <var>result</var> be a new JSON <a href=\"https://www.w3.org/TR/webdriver2/#dfn-object\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-object-30\">Object</a> initialized with:\n\n </p><dl>\n  <dt>\"<code>handle</code>\"\n  </dt><dd>The value of <var>handle</var>.\n\n  </dd><dt>\"<code>type</code>\"\n  </dt><dd>The value of <var>type</var>.\n\n </dd></dl>"
        },
        {
          "html": "<p>Return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-success\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-success-41\">success</a> with data <var>result</var>.\n</p>"
        }
      ]
    },
    {
      "rationale": "let",
      "steps": [
        {
          "html": "<p>Let <var>id</var> be the result of\n  <a href=\"https://www.w3.org/TR/webdriver2/#dfn-getting-properties\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-getting-properties-16\">getting the property</a> \"<code>id</code>\"\n  from <var>parameters</var>.\n\n </p>"
        },
        {
          "html": "<p>If <var>id</var> is not <a href=\"https://www.w3.org/TR/webdriver2/#dfn-null\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-null-30\"><code>null</code></a>,\n  a <code>Number</code> object,\n  or an <a href=\"https://www.w3.org/TR/webdriver2/#dfn-object\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-object-31\">Object</a> that <a href=\"https://www.w3.org/TR/webdriver2/#dfn-represents-a-web-element\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-represents-a-web-element-1\">represents a web element</a>,\n  return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-69\">error</a> with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-64\">error code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-invalid-argument\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-invalid-argument-26\">invalid argument</a>.\n\n </p>"
        },
        {
          "html": "Run the substeps of the first matching condition:",
          "rationale": ".switch",
          "steps": [
            {
              "operation": "switch",
              "steps": [
                {
                  "case": "id is null",
                  "html": "",
                  "rationale": "if",
                  "steps": [
                    {
                      "html": "<p>If <var>session</var>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-current-top-level-browsing-context\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-current-top-level-browsing-context-36\">current top-level browsing\n            context</a> is <a href=\"https://www.w3.org/TR/webdriver2/#dfn-no-longer-open\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-no-longer-open-11\">no longer open</a>, return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-70\">error</a>\n            with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-65\">error code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-no-such-window\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-no-such-window-12\">no such window</a>.\n\n          </p>"
                    },
                    {
                      "html": "<p><a href=\"https://www.w3.org/TR/webdriver2/#dfn-try\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-try-30\">Try</a> to <a href=\"https://www.w3.org/TR/webdriver2/#dfn-handle-any-user-prompts\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-handle-any-user-prompts-11\">handle any user prompts</a>\n          with <var>session</var>.\n\n     </p>"
                    },
                    {
                      "html": "<p><a href=\"https://www.w3.org/TR/webdriver2/#dfn-set-the-current-browsing-context\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-set-the-current-browsing-context-4\">Set the current browsing context</a> with\n         <var>session</var> and <var>session</var>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-current-top-level-browsing-context\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-current-top-level-browsing-context-37\">current\n         top-level browsing context</a>.\n    </p>"
                    }
                  ]
                },
                {
                  "case": "id is a Number object",
                  "html": "",
                  "rationale": "if",
                  "steps": [
                    {
                      "html": "<p>If <var>id</var> is less than 0 or greater than 2<sup>16</sup> – 1,\n      return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-71\">error</a> with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-66\">error code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-invalid-argument\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-invalid-argument-27\">invalid argument</a>.\n\n     </p>"
                    },
                    {
                      "html": "<p>If <var>session</var>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-current-browsing-context\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-current-browsing-context-16\">current browsing context</a> is <a href=\"https://www.w3.org/TR/webdriver2/#dfn-no-longer-open\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-no-longer-open-12\">no\n           longer open</a>, return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-72\">error</a> with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-67\">error code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-no-such-window\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-no-such-window-13\">no\n           such window</a>.\n\n     </p>"
                    },
                    {
                      "html": "<p><a href=\"https://www.w3.org/TR/webdriver2/#dfn-try\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-try-31\">Try</a> to <a href=\"https://www.w3.org/TR/webdriver2/#dfn-handle-any-user-prompts\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-handle-any-user-prompts-12\">handle any user prompts</a>\n         with <var>session</var>.\n\n     </p>"
                    },
                    {
                      "html": "<p>Let <var>window</var> be the <a href=\"https://www.w3.org/TR/webdriver2/#dfn-associated-window\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-associated-window-1\">associated window</a>\n      of <var>session</var>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-current-browsing-context\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-current-browsing-context-17\">current browsing context</a>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-active-document\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-active-document-8\">active document</a>.\n\n     </p>"
                    },
                    {
                      "html": "<p>If <var>id</var> is not\n      a <a href=\"https://www.w3.org/TR/webdriver2/#dfn-supported-property-index\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-supported-property-index-1\">supported property index</a> of <var>window</var>,\n      return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-73\">error</a> with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-68\">error code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-no-such-frame\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-no-such-frame-2\">no such frame</a>.\n\n     </p>"
                    },
                    {
                      "html": "<p>Let <var>child window</var> be\n      the <a href=\"https://www.w3.org/TR/webdriver2/#dfn-windowproxy\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-windowproxy-2\"><code>WindowProxy</code></a> object obtained by\n      calling\n      <var>window</var>.<a data-lt=\"window.[[\\getOwnProperty]]\" href=\"https://www.w3.org/TR/webdriver2/#dfn-window-getownproperty\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-window-getownproperty-1\"><code>[[GetOwnProperty]]</code></a>\n      (<var>id</var>).\n\n     </p>"
                    },
                    {
                      "html": "<p><a href=\"https://www.w3.org/TR/webdriver2/#dfn-set-the-current-browsing-context\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-set-the-current-browsing-context-5\">Set the current browsing context</a> with\n      <var>session</var> and <var>child window</var>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-browsing-contexts\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-browsing-contexts-13\">browsing context</a>.\n    </p>"
                    }
                  ]
                },
                {
                  "case": "id represents a web element",
                  "html": "",
                  "rationale": "if",
                  "steps": [
                    {
                      "html": "<p>If <var>session</var>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-current-browsing-context\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-current-browsing-context-18\">current browsing context</a> is <a href=\"https://www.w3.org/TR/webdriver2/#dfn-no-longer-open\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-no-longer-open-13\">no\n           longer open</a>, return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-74\">error</a> with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-69\">error code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-no-such-window\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-no-such-window-14\">no\n           such window</a>.\n\n      </p>"
                    },
                    {
                      "html": "<p><a href=\"https://www.w3.org/TR/webdriver2/#dfn-try\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-try-32\">Try</a> to <a href=\"https://www.w3.org/TR/webdriver2/#dfn-handle-any-user-prompts\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-handle-any-user-prompts-13\">handle any user prompts</a>\n       with <var>session</var>.\n\n     </p>"
                    },
                    {
                      "html": "<p>Let <var>element</var> be the result\n      of <a href=\"https://www.w3.org/TR/webdriver2/#dfn-try\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-try-33\">trying</a> to <a href=\"https://www.w3.org/TR/webdriver2/#dfn-get-a-known-element\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-get-a-known-element-1\">get a known element</a>\n      with <var>session</var> and <var>id</var>.\n\n     </p>"
                    },
                    {
                      "html": "<p>If <var>element</var> is not a <code><a data-link-type=\"element\" href=\"https://html.spec.whatwg.org/multipage/obsolete.html#frame\" id=\"ref-for-index-term-frame-element-2\">frame</a></code>\n      or <code><a data-link-type=\"element\" href=\"https://html.spec.whatwg.org/multipage/iframe-embed-object.html#the-iframe-element\" id=\"ref-for-index-term-iframe-element-2\">iframe</a></code> element,\n      return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-75\">error</a> with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-70\">error code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-no-such-frame\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-no-such-frame-3\">no such frame</a>.\n\n     </p>"
                    },
                    {
                      "html": "<p><a href=\"https://www.w3.org/TR/webdriver2/#dfn-set-the-current-browsing-context\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-set-the-current-browsing-context-6\">Set the current browsing context</a>\n     with <var>session</var> and <var>element</var>'s <a data-link-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/document-sequences.html#content-navigable\" id=\"ref-for-index-term-content-navigable-for-navigable-container-1\">content navigable</a>'s <a data-link-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/document-sequences.html#nav-bc\" id=\"ref-for-index-term-active-browsing-context-for-navigable-1\">active browsing context</a>.\n    </p>"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "html": "<p>Update any implementation-specific state that would result\n  from the user selecting <var>session</var>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-current-browsing-context\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-current-browsing-context-19\">current browsing context</a> for\n  interaction, without altering OS-level focus.\n\n </p>"
        },
        {
          "html": "<p>Return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-success\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-success-42\">success</a> with data <a href=\"https://www.w3.org/TR/webdriver2/#dfn-null\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-null-32\"><code>null</code></a>.\n</p>"
        }
      ]
    },
    {
      "html": "The <a href=\"https://www.w3.org/TR/webdriver2/#dfn-remote-end-steps\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-remote-end-steps-24\">remote end steps</a>, given <var>session</var>, <var>URL\nvariables</var> and <var>parameters</var> are:",
      "rationale": "if",
      "steps": [
        {
          "html": "If <var>session</var>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-current-browsing-context\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-current-browsing-context-22\">current browsing context</a> is already the\n  <a data-link-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/document-sequences.html#top-level-browsing-context\" id=\"ref-for-index-term-top-level-browsing-contexts-18\">top-level browsing context</a>:",
          "rationale": "if",
          "steps": [
            {
              "html": "<p>If <var>session</var>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-current-browsing-context\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-current-browsing-context-23\">current browsing context</a>\n   is <a href=\"https://www.w3.org/TR/webdriver2/#dfn-no-longer-open\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-no-longer-open-14\">no longer open</a>, return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-76\">error</a> with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-71\">error\n   code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-no-such-window\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-no-such-window-15\">no such window</a>.\n\n  </p>"
            },
            {
              "html": "<p>Return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-success\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-success-43\">success</a> with data <a href=\"https://www.w3.org/TR/webdriver2/#dfn-null\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-null-33\"><code>null</code></a>.\n\n </p>"
            }
          ]
        },
        {
          "html": "<p>If <var>session</var>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-current-parent-browsing-context\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-current-parent-browsing-context-2\">current parent browsing context</a>\n   is <a href=\"https://www.w3.org/TR/webdriver2/#dfn-no-longer-open\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-no-longer-open-15\">no longer open</a>, return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-77\">error</a> with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-72\">error\n   code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-no-such-window\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-no-such-window-16\">no such window</a>.\n\n  </p>"
        },
        {
          "html": "<p><a href=\"https://www.w3.org/TR/webdriver2/#dfn-try\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-try-34\">Try</a> to <a href=\"https://www.w3.org/TR/webdriver2/#dfn-handle-any-user-prompts\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-handle-any-user-prompts-14\">handle any user prompts</a>\n  with <var>session</var>.\n\n  </p>"
        },
        {
          "html": "<p>If <a href=\"https://www.w3.org/TR/webdriver2/#dfn-sessions\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-sessions-33\">session</a>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-current-parent-browsing-context\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-current-parent-browsing-context-3\">current parent browsing context</a> is\n  not <a href=\"https://www.w3.org/TR/webdriver2/#dfn-null\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-null-34\">null</a>, <a href=\"https://www.w3.org/TR/webdriver2/#dfn-set-the-current-browsing-context\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-set-the-current-browsing-context-7\">set the current browsing context</a>\n  with <var>session</var> and <a href=\"https://www.w3.org/TR/webdriver2/#dfn-current-parent-browsing-context\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-current-parent-browsing-context-4\">current parent browsing context</a>.\n\n  </p>"
        },
        {
          "html": "<p>Update any implementation-specific state that would result\n  from the user selecting <var>session</var>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-current-browsing-context\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-current-browsing-context-24\">current browsing context</a> for\n  interaction, without altering OS-level focus.\n\n </p>"
        },
        {
          "html": "<p>Return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-success\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-success-44\">success</a> with data <a href=\"https://www.w3.org/TR/webdriver2/#dfn-null\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-null-35\"><code>null</code></a>.\n\n</p>"
        }
      ]
    },
    {
      "html": "The <a href=\"https://www.w3.org/TR/webdriver2/#dfn-remote-end-steps\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-remote-end-steps-25\">remote end steps</a>, given <var>session</var>, <var>URL\nvariables</var> and <var>parameters</var> are:",
      "rationale": "if",
      "steps": [
        {
          "html": "<p>If <var>session</var>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-current-top-level-browsing-context\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-current-top-level-browsing-context-40\">current top-level browsing context</a> is <a href=\"https://www.w3.org/TR/webdriver2/#dfn-no-longer-open\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-no-longer-open-16\">no longer open</a>,\n   return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-79\">error</a> with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-73\">error code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-no-such-window\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-no-such-window-17\">no such window</a>.\n\n </p>"
        },
        {
          "html": "<p><a href=\"https://www.w3.org/TR/webdriver2/#dfn-try\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-try-35\">Try</a> to <a href=\"https://www.w3.org/TR/webdriver2/#dfn-handle-any-user-prompts\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-handle-any-user-prompts-15\">handle any user prompts</a>\n  with <var>session</var>.\n\n </p>"
        },
        {
          "html": "<p>Return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-success\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-success-45\">success</a> with data set to the <a href=\"https://www.w3.org/TR/webdriver2/#dfn-windowrect-object\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-windowrect-object-1\">WindowRect\n  object</a> for the <var>session</var>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-current-top-level-browsing-context\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-current-top-level-browsing-context-41\">current top-level browsing\n  context</a>.\n\n</p>"
        }
      ]
    },
    {
      "html": "The <a href=\"https://www.w3.org/TR/webdriver2/#dfn-remote-end-steps\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-remote-end-steps-26\">remote end steps</a>, given <var>session</var>, <var>URL\nvariables</var> and <var>parameters</var> are:",
      "rationale": "let",
      "steps": [
        {
          "html": "<p>Let <var>width</var> be the result of\n  <a href=\"https://www.w3.org/TR/webdriver2/#dfn-getting-properties\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-getting-properties-17\">getting a property</a> named \"<code>width</code>\"\n  from <var>parameters</var>.\n\n </p>"
        },
        {
          "html": "<p>If <var>width</var> is <a href=\"https://www.w3.org/TR/webdriver2/#dfn-undefined\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-undefined-8\">undefined</a>, let <var>width</var>\n  be null.\n\n </p>"
        },
        {
          "html": "<p>Let <var>height</var> be the result of\n  <a href=\"https://www.w3.org/TR/webdriver2/#dfn-getting-properties\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-getting-properties-18\">getting a property</a> named \"<code>height</code>\"\n  from <var>parameters</var>.\n\n </p>"
        },
        {
          "html": "<p>If <var>height</var> is <a href=\"https://www.w3.org/TR/webdriver2/#dfn-undefined\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-undefined-9\">undefined</a>, let <var>height</var>\n  be null.\n\n </p>"
        },
        {
          "html": "<p>Let <var>x</var> be the result of <a href=\"https://www.w3.org/TR/webdriver2/#dfn-getting-properties\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-getting-properties-19\">getting a property</a>\n  named \"<code>x</code>\" from <var>parameters</var>.\n\n </p>"
        },
        {
          "html": "<p>If <var>x</var> is <a href=\"https://www.w3.org/TR/webdriver2/#dfn-undefined\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-undefined-10\">undefined</a>, let <var>x</var> be null.\n\n </p>"
        },
        {
          "html": "<p>Let <var>y</var> be the result of <a href=\"https://www.w3.org/TR/webdriver2/#dfn-getting-properties\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-getting-properties-20\">getting a property</a>\n  named \"<code>y</code>\" from <var>parameters</var>.\n\n </p>"
        },
        {
          "html": "<p>If <var>y</var> is <a href=\"https://www.w3.org/TR/webdriver2/#dfn-undefined\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-undefined-11\">undefined</a>, let <var>y</var> be null.\n\n </p>"
        },
        {
          "html": "<p>If <var>width</var> or <var>height</var> is neither null, nor\n  a <a href=\"https://www.w3.org/TR/webdriver2/#dfn-number\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-number-2\">Number</a> from 0 to 2<sup>31</sup> − 1, return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-80\">error</a>\n  with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-74\">error code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-invalid-argument\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-invalid-argument-28\">invalid argument</a>.\n\n </p>"
        },
        {
          "html": "<p>If <var>x</var> or <var>y</var> is neither null, nor\n  a <a href=\"https://www.w3.org/TR/webdriver2/#dfn-number\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-number-3\">Number</a> from −(2<sup>31</sup>) to 2<sup>31</sup> − 1,\n  return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-81\">error</a> with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-75\">error code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-invalid-argument\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-invalid-argument-29\">invalid argument</a>.\n\n </p>"
        },
        {
          "html": "<p>If the <a href=\"https://www.w3.org/TR/webdriver2/#dfn-remote-ends\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-remote-ends-61\">remote end</a> does not support\n  the <a href=\"https://www.w3.org/TR/webdriver2/#dfn-set-window-rect\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-set-window-rect-3\">Set Window Rect</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-commands\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-commands-43\">command</a> for\n  <var>session</var>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-current-top-level-browsing-context\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-current-top-level-browsing-context-43\">current top-level browsing context</a>\n  for any reason, return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-82\">error</a> with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-76\">error\n  code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-unsupported-operation\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-unsupported-operation-3\">unsupported operation</a>.\n\n  </p>"
        },
        {
          "html": "<p>If <var>session</var>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-current-top-level-browsing-context\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-current-top-level-browsing-context-44\">current top-level browsing\n  context</a> is <a href=\"https://www.w3.org/TR/webdriver2/#dfn-no-longer-open\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-no-longer-open-17\">no longer open</a>, return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-83\">error</a>\n  with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-77\">error code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-no-such-window\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-no-such-window-18\">no such window</a>.\n\n </p>"
        },
        {
          "html": "<p><a href=\"https://www.w3.org/TR/webdriver2/#dfn-try\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-try-36\">Try</a> to <a href=\"https://www.w3.org/TR/webdriver2/#dfn-handle-any-user-prompts\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-handle-any-user-prompts-16\">handle any user prompts</a>\n  with <var>session</var>.\n\n </p>"
        },
        {
          "html": "<p><a href=\"https://www.w3.org/TR/webdriver2/#dfn-fully-exit-fullscreen\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-fully-exit-fullscreen-1\">Fully exit fullscreen</a>.\n\n </p>"
        },
        {
          "html": "<p><a href=\"https://www.w3.org/TR/webdriver2/#dfn-restore-the-window\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-restore-the-window-1\">Restore the window</a>.\n\n </p>"
        },
        {
          "html": "<p>Let <var>window</var> be the operating system window containing\n     <var>session</var>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-current-top-level-browsing-context\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-current-top-level-browsing-context-45\">current top-level browsing context</a>\n\n </p>"
        },
        {
          "html": "If the implementation is able to set the dimensions\n of <var>window</var>:",
          "rationale": "if",
          "steps": [
            {
              "html": "<p>If <var>width</var> is not null, set the width,\n    in <a href=\"https://www.w3.org/TR/webdriver2/#dfn-css-pixels\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-css-pixels-1\">CSS pixels</a>, of <var>window</var>, including\n    any <a href=\"https://www.w3.org/TR/webdriver2/#dfn-browser-chrome\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-browser-chrome-3\">browser chrome</a> and externally drawn window decorations,\n    to a value that is as close as possible to <var>width</var>.\n\n  </p>"
            },
            {
              "html": "<p>If <var>height</var> is not null, set the height,\n   in <a href=\"https://www.w3.org/TR/webdriver2/#dfn-css-pixels\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-css-pixels-2\">CSS pixels</a>, of <var>window</var>, including\n   any <a href=\"https://www.w3.org/TR/webdriver2/#dfn-browser-chrome\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-browser-chrome-4\">browser chrome</a> and externally drawn window decorations,\n   to a value that is as close as possible to <var>height</var>.\n\n  </p>"
            }
          ]
        },
        {
          "html": "If the implementation is able to set the position of <var>window</var>:",
          "rationale": "if",
          "steps": [
            {
              "html": "<p>If <var>x</var> is not null, set the x-coordinate of the\n    left edge of <var>window</var> to a value that is as close as\n    possible to <var>x</var>.\n\n   </p>"
            },
            {
              "html": "<p>If <var>y</var> is not null, set the y-coordinate of the top\n    edge of <var>window</var> to a value that is as close as possible\n    to <var>y</var>.\n  </p>"
            }
          ]
        },
        {
          "html": "<p>Return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-success\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-success-46\">success</a> with data set to the <a href=\"https://www.w3.org/TR/webdriver2/#dfn-windowrect-object\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-windowrect-object-2\">WindowRect\n  object</a> for the <var>session</var>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-current-top-level-browsing-context\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-current-top-level-browsing-context-48\">current top-level browsing\n  context</a>.\n</p>"
        }
      ]
    },
    {
      "html": "The <a href=\"https://www.w3.org/TR/webdriver2/#dfn-remote-end-steps\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-remote-end-steps-27\">remote end steps</a>, given <var>session</var>, <var>URL\nvariables</var> and <var>parameters</var> are:",
      "rationale": "if",
      "steps": [
        {
          "html": "<p>If the <a href=\"https://www.w3.org/TR/webdriver2/#dfn-remote-ends\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-remote-ends-62\">remote end</a> does not support the <a href=\"https://www.w3.org/TR/webdriver2/#dfn-maximize-window\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-maximize-window-3\">Maximize\n  Window</a> command for <var>session</var>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-current-top-level-browsing-context\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-current-top-level-browsing-context-50\">current top-level\n  browsing context</a> for any reason, return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-84\">error</a>\n  with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-78\">error code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-unsupported-operation\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-unsupported-operation-4\">unsupported operation</a>.\n\n </p>"
        },
        {
          "html": "<p>If <var>session</var>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-current-top-level-browsing-context\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-current-top-level-browsing-context-51\">current top-level browsing\n  context</a> is <a href=\"https://www.w3.org/TR/webdriver2/#dfn-no-longer-open\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-no-longer-open-18\">no longer open</a>, return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-85\">error</a>\n  with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-79\">error code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-no-such-window\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-no-such-window-19\">no such window</a>.\n\n </p>"
        },
        {
          "html": "<p><a href=\"https://www.w3.org/TR/webdriver2/#dfn-try\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-try-37\">Try</a> to <a href=\"https://www.w3.org/TR/webdriver2/#dfn-handle-any-user-prompts\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-handle-any-user-prompts-17\">handle any user prompts</a>\n  with <var>session</var>.\n\n </p>"
        },
        {
          "html": "<p><a href=\"https://www.w3.org/TR/webdriver2/#dfn-fully-exit-fullscreen\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-fully-exit-fullscreen-2\">Fully exit fullscreen</a>.\n\n </p>"
        },
        {
          "html": "<p><a href=\"https://www.w3.org/TR/webdriver2/#dfn-restore-the-window\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-restore-the-window-2\">Restore the window</a>.\n\n </p>"
        },
        {
          "html": "<p><a href=\"https://www.w3.org/TR/webdriver2/#dfn-maximize-the-window\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-maximize-the-window-1\">Maximize the window</a>\n  of <var>session</var>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-current-top-level-browsing-context\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-current-top-level-browsing-context-52\">current top-level browsing context</a>.\n\n </p>"
        },
        {
          "html": "<p>Return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-success\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-success-47\">success</a> with data set to the <a href=\"https://www.w3.org/TR/webdriver2/#dfn-windowrect-object\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-windowrect-object-3\">WindowRect\n  object</a> for the <var>session</var>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-current-top-level-browsing-context\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-current-top-level-browsing-context-53\">current top-level browsing\n  context</a>.\n</p>"
        }
      ]
    },
    {
      "html": "The <a href=\"https://www.w3.org/TR/webdriver2/#dfn-remote-end-steps\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-remote-end-steps-28\">remote end steps</a>, given <var>session</var>, <var>URL\nvariables</var> and <var>parameters</var> are:",
      "rationale": "if",
      "steps": [
        {
          "html": "<p>If the <a href=\"https://www.w3.org/TR/webdriver2/#dfn-remote-ends\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-remote-ends-63\">remote end</a> does not support the <a href=\"https://www.w3.org/TR/webdriver2/#dfn-minimize-window\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-minimize-window-3\">Minimize\n  Window</a> command for <var>session</var>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-current-top-level-browsing-context\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-current-top-level-browsing-context-55\">current top-level\n  browsing context</a> for any reason, return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-86\">error</a>\n  with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-80\">error code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-unsupported-operation\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-unsupported-operation-5\">unsupported operation</a>.\n\n </p>"
        },
        {
          "html": "<p>If <var>session</var>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-current-top-level-browsing-context\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-current-top-level-browsing-context-56\">current top-level browsing\n  context</a> is <a href=\"https://www.w3.org/TR/webdriver2/#dfn-no-longer-open\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-no-longer-open-19\">no longer open</a>, return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-87\">error</a>\n  with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-81\">error code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-no-such-window\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-no-such-window-20\">no such window</a>.\n\n </p>"
        },
        {
          "html": "<p><a href=\"https://www.w3.org/TR/webdriver2/#dfn-try\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-try-38\">Try</a> to <a href=\"https://www.w3.org/TR/webdriver2/#dfn-handle-any-user-prompts\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-handle-any-user-prompts-18\">handle any user prompts</a>\n  with <var>session</var>.\n\n </p>"
        },
        {
          "html": "<p><a href=\"https://www.w3.org/TR/webdriver2/#dfn-fully-exit-fullscreen\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-fully-exit-fullscreen-3\">Fully exit fullscreen</a>.\n\n </p>"
        },
        {
          "html": "<p><a href=\"https://www.w3.org/TR/webdriver2/#dfn-iconify-the-window\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-iconify-the-window-1\">Iconify the window</a>.\n\n </p>"
        },
        {
          "html": "<p>Return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-success\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-success-48\">success</a> with data set to the <a href=\"https://www.w3.org/TR/webdriver2/#dfn-windowrect-object\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-windowrect-object-4\">WindowRect\n  object</a> for the <var>session</var>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-current-top-level-browsing-context\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-current-top-level-browsing-context-57\">current top-level browsing\n  context</a>.\n</p>"
        }
      ]
    },
    {
      "html": "The <a href=\"https://www.w3.org/TR/webdriver2/#dfn-remote-end-steps\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-remote-end-steps-29\">remote end steps</a>, given <var>session</var>, <var>URL\nvariables</var> and <var>parameters</var> are:",
      "rationale": "if",
      "steps": [
        {
          "html": "<p>If the <a href=\"https://www.w3.org/TR/webdriver2/#dfn-remote-ends\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-remote-ends-64\">remote end</a> does not <a href=\"https://www.w3.org/TR/webdriver2/#dfn-support-fullscreen\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-support-fullscreen-1\">support fullscreen</a>\n  return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-88\">error</a> with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-82\">error code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-unsupported-operation\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-unsupported-operation-6\">unsupported operation</a>.\n\n </p>"
        },
        {
          "html": "<p>If <var>session</var>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-current-top-level-browsing-context\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-current-top-level-browsing-context-58\">current top-level browsing\n  context</a> is <a href=\"https://www.w3.org/TR/webdriver2/#dfn-no-longer-open\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-no-longer-open-20\">no longer open</a>, return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-89\">error</a>\n  with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-83\">error code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-no-such-window\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-no-such-window-21\">no such window</a>.\n\n </p>"
        },
        {
          "html": "<p><a href=\"https://www.w3.org/TR/webdriver2/#dfn-try\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-try-39\">Try</a> to <a href=\"https://www.w3.org/TR/webdriver2/#dfn-handle-any-user-prompts\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-handle-any-user-prompts-19\">handle any user prompts</a>\n  with <var>session</var>.\n\n </p>"
        },
        {
          "html": "<p><a href=\"https://www.w3.org/TR/webdriver2/#dfn-restore-the-window\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-restore-the-window-3\">Restore the window</a>.\n\n </p>"
        },
        {
          "html": "<p>Call <a href=\"https://www.w3.org/TR/webdriver2/#dfn-fullscreen-an-element\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-fullscreen-an-element-1\">fullscreen an element</a>\n  with <var>session</var>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-current-top-level-browsing-context\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-current-top-level-browsing-context-59\">current top-level browsing context</a>'s\n  <a href=\"https://www.w3.org/TR/webdriver2/#dfn-active-document\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-active-document-11\">active document</a>'s <a data-link-type=\"dfn\" href=\"https://dom.spec.whatwg.org/#document-element\" id=\"ref-for-index-term-document-element-1\">document element</a>.\n\n  </p>"
        },
        {
          "html": "<p>Return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-success\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-success-49\">success</a> with data set to the <a href=\"https://www.w3.org/TR/webdriver2/#dfn-windowrect-object\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-windowrect-object-5\">WindowRect\n  object</a> for the <var>session</var>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-current-top-level-browsing-context\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-current-top-level-browsing-context-60\">current top-level browsing\n  context</a>.\n</p>"
        }
      ]
    },
    {
      "name": "get a node",
      "href": "https://www.w3.org/TR/webdriver2/#dfn-get-a-node",
      "html": "To <dfn id=\"dfn-get-a-node\" tabindex=\"0\" aria-haspopup=\"dialog\" data-dfn-type=\"dfn\">get a node</dfn> given <var>session</var>,\n<var>browsing context</var>, and <var>reference</var>:",
      "rationale": ".algorithm",
      "steps": [
        {
          "html": "Let <var>browsing context group node map</var>\n  be <var>session</var>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-browsing-context-group-node-map\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-browsing-context-group-node-map-1\">browsing context group node map</a>."
        },
        {
          "html": "Let <var>browsing context group</var> be <var>browsing\n  context</var>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-browsing-context-group\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-browsing-context-group-2\">browsing context group</a>."
        },
        {
          "html": "If <var>browsing context group node map</var> does not\n  contain <var>browsing context group</var>, return null."
        },
        {
          "html": "Let <var>node id map</var> be <var>browsing context group node\n  map</var>[<var>browsing context group</var>]."
        },
        {
          "html": "Let <var>node</var> be the entry in <var>node id map</var> whose\n  value is <var>reference</var>, if such an entry exists, or null\n  otherwise."
        },
        {
          "html": "Return <var>node</var>."
        }
      ]
    },
    {
      "name": "get or create a node reference",
      "href": "https://www.w3.org/TR/webdriver2/#dfn-get-or-create-a-node-reference",
      "html": "To <dfn id=\"dfn-get-or-create-a-node-reference\" tabindex=\"0\" aria-haspopup=\"dialog\" data-dfn-type=\"dfn\">get or create a node reference</dfn>\ngiven <var>session</var>, <var>browsing context</var>, and <var>node</var>:",
      "rationale": ".algorithm",
      "steps": [
        {
          "html": "Let <var>browsing context group node map</var>\n  be <var>session</var>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-browsing-context-group-node-map\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-browsing-context-group-node-map-2\">browsing context group node map</a>."
        },
        {
          "html": "Let <var>browsing context group</var> be <var>browsing\n  context</var>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-browsing-context-group\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-browsing-context-group-3\">browsing context group</a>."
        },
        {
          "html": "If <var>browsing context group node map</var> does not\n  contain <var>browsing context group</var>, set <var>browsing context\n  group node map</var>[<var>browsing context group</var>] to a new <a href=\"https://www.w3.org/TR/webdriver2/#dfn-weak-map\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-weak-map-6\">weak map</a>."
        },
        {
          "html": "Let <var>node id map</var> be <var>browsing context group node\n  map</var>[<var>browsing context group</var>]."
        },
        {
          "html": "If <var>node id map</var> does not contain <var>node</var>:",
          "rationale": "let",
          "steps": [
            {
              "html": "Let <var>node id</var> be a new globally unique string."
            },
            {
              "html": "Set <var>node id map</var>[<var>node</var>] to <var>node id</var>."
            },
            {
              "html": "Let <var>navigable</var> be <var>browsing\n      context</var>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-active-document\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-active-document-12\">active document</a>'s <a data-link-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/document-sequences.html#node-navigable\" id=\"ref-for-index-term-node-navigable-1\">node navigable</a>."
            },
            {
              "html": "Let <var>navigable seen nodes map</var>\n      be <var>session</var>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-navigable-seen-nodes-map\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-navigable-seen-nodes-map-1\">navigable seen nodes map</a>."
            },
            {
              "html": "If <var>navigable seen nodes map</var> does not\n      contain <var>navigable</var>, set <var>navigable seen nodes\n      map</var>[<var>navigable</var>] to an empty set."
            },
            {
              "html": "Append <var>node id</var> to <var>navigable seen nodes\n      map</var>[<var>navigable</var>]."
            }
          ]
        },
        {
          "html": "<p>Return <var>node id map</var>[<var>node</var>].\n</p>"
        }
      ]
    },
    {
      "name": "node reference is known",
      "href": "https://www.w3.org/TR/webdriver2/#dfn-node-reference-is-known",
      "html": "A <dfn id=\"dfn-node-reference-is-known\" tabindex=\"0\" aria-haspopup=\"dialog\" data-dfn-type=\"dfn\">node reference is known</dfn> given <var>session</var>, <var>browsing\ncontext</var>, and <var>reference</var> if the following steps return true:",
      "rationale": ".algorithm",
      "steps": [
        {
          "html": "Let <var>navigable</var> be <var>browsing\n  context</var>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-active-document\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-active-document-13\">active document</a>'s <a data-link-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/document-sequences.html#node-navigable\" id=\"ref-for-index-term-node-navigable-2\">node navigable</a>."
        },
        {
          "html": "Let <var>navigable seen nodes map</var>\n  be <var>session</var>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-navigable-seen-nodes-map\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-navigable-seen-nodes-map-2\">navigable seen nodes map</a>."
        },
        {
          "html": "If <var>navigable seen nodes map</var>\n  <a data-link-type=\"dfn\" href=\"https://infra.spec.whatwg.org/#map-exists\" id=\"ref-for-index-term-contains-for-map-2\">contains</a> <var>navigable</var> and <var>navigable seen nodes\n  map</var>[<var>navigable</var>] <a data-link-type=\"dfn\" href=\"https://infra.spec.whatwg.org/#list-contain\" id=\"ref-for-index-term-contain-for-list-2\">contains</a> <var>reference</var>,\n  return true, otherwise return false."
        }
      ]
    },
    {
      "name": "get a known element",
      "href": "https://www.w3.org/TR/webdriver2/#dfn-get-a-known-element",
      "html": "To <dfn id=\"dfn-get-a-known-element\" tabindex=\"0\" aria-haspopup=\"dialog\" data-dfn-type=\"dfn\">get a known element</dfn> given <var>session</var> and <var>reference</var>:",
      "rationale": ".algorithm",
      "steps": [
        {
          "html": "If not <a href=\"https://www.w3.org/TR/webdriver2/#dfn-node-reference-is-known\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-node-reference-is-known-1\">node reference is known</a> with <var>session</var>,\n  <var>session</var>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-current-browsing-context\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-current-browsing-context-25\">current browsing context</a>,\n  and <var>reference</var> return\n  <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-90\">error</a> with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-84\">error code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-no-such-element\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-no-such-element-1\">no such element</a>."
        },
        {
          "html": "Let <var>node</var> be the result of <a href=\"https://www.w3.org/TR/webdriver2/#dfn-get-a-node\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-get-a-node-1\">get a node</a> with\n  <var>session</var>, <var>session</var>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-current-browsing-context\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-current-browsing-context-26\">current browsing\n  context</a>, and <var>reference</var>."
        },
        {
          "html": "If <var>node</var> is not null and <var>node</var> does not implement\n  <a data-link-type=\"interface\" data-lt=\"Element\" href=\"https://dom.spec.whatwg.org/#element\" id=\"ref-for-index-term-element-interface-1\"><code>Element</code></a> return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-91\">error</a> with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-85\">error code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-no-such-element\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-no-such-element-2\">no such element</a>."
        },
        {
          "html": "If <var>node</var> is null or <var>node</var> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-is-stale\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-is-stale-1\">is stale</a> return\n  <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-92\">error</a> with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-86\">error code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-stale-element-reference\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-stale-element-reference-1\">stale element reference</a>."
        },
        {
          "html": "Return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-success\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-success-50\">success</a> with data <var>node</var>."
        }
      ]
    },
    {
      "name": "get or create a web element reference",
      "href": "https://www.w3.org/TR/webdriver2/#dfn-get-or-create-a-web-element-reference",
      "html": "To <dfn id=\"dfn-get-or-create-a-web-element-reference\" tabindex=\"0\" aria-haspopup=\"dialog\" data-dfn-type=\"dfn\">get or create a web element reference</dfn>\n given <var>session</var> and <a data-link-type=\"dfn\" href=\"https://dom.spec.whatwg.org/#concept-element\" id=\"ref-for-index-term-element-4\"><var>element</var></a>:",
      "rationale": "assert",
      "steps": [
        {
          "html": "Assert: <var>element</var> implements <a data-link-type=\"interface\" data-lt=\"Element\" href=\"https://dom.spec.whatwg.org/#element\" id=\"ref-for-index-term-element-interface-2\"><code>Element</code></a>."
        },
        {
          "html": "Return the result of <a href=\"https://www.w3.org/TR/webdriver2/#dfn-try\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-try-40\">trying</a> to <a href=\"https://www.w3.org/TR/webdriver2/#dfn-get-or-create-a-node-reference\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-get-or-create-a-node-reference-1\">get or create a node\n  reference</a>\n  given <var>session</var>, <var>session</var>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-current-browsing-context\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-current-browsing-context-27\">current\n  browsing context</a>, and <var>element</var>."
        }
      ]
    },
    {
      "name": "web element reference object",
      "href": "https://www.w3.org/TR/webdriver2/#dfn-web-element-reference-object",
      "html": "The <dfn id=\"dfn-web-element-reference-object\" tabindex=\"0\" aria-haspopup=\"dialog\" data-dfn-type=\"dfn\">web element reference object</dfn> for <var>session</var>\nand <var>element</var> is:",
      "rationale": "let",
      "steps": [
        {
          "html": "<p>Let <var>identifier</var> be the <a href=\"https://www.w3.org/TR/webdriver2/#dfn-web-element-identifier\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-web-element-identifier-2\">web element identifier</a>.\n\n </p>"
        },
        {
          "html": "<p>Let <var>reference</var> be the result of <a href=\"https://www.w3.org/TR/webdriver2/#dfn-get-or-create-a-web-element-reference\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-get-or-create-a-web-element-reference-1\">get or create a\n web element reference</a> with <var>session</var> and <var>element</var>.\n\n </p>"
        },
        {
          "html": "<p>Return a JSON <a href=\"https://www.w3.org/TR/webdriver2/#dfn-object\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-object-34\">Object</a> initialized with a property with\n name <var>identifier</var> and value <var>reference</var>.\n</p>"
        }
      ]
    },
    {
      "name": "deserialize a web element",
      "href": "https://www.w3.org/TR/webdriver2/#dfn-deserialize-a-web-element",
      "html": "To <dfn id=\"dfn-deserialize-a-web-element\" tabindex=\"0\" aria-haspopup=\"dialog\" data-dfn-type=\"dfn\">deserialize a web element</dfn> by a\n JSON <a href=\"https://www.w3.org/TR/webdriver2/#dfn-object\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-object-35\">Object</a> <var>object</var> that <a href=\"https://www.w3.org/TR/webdriver2/#dfn-represents-a-web-element\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-represents-a-web-element-3\">represents a web\n element</a>:",
      "rationale": "if",
      "steps": [
        {
          "html": "<p>If <var>object</var> has no <a href=\"https://www.w3.org/TR/webdriver2/#dfn-own-properties\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-own-properties-16\">own property</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-web-element-identifier\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-web-element-identifier-3\">web element identifier</a>,\n  return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-93\">error</a> with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-87\">error code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-invalid-argument\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-invalid-argument-30\">invalid argument</a>.\n\n </p>"
        },
        {
          "html": "<p>Let <var>reference</var> be the result of\n  <a data-lt=\"getting a property\" href=\"https://www.w3.org/TR/webdriver2/#dfn-getting-properties\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-getting-properties-21\">getting</a> the <a href=\"https://www.w3.org/TR/webdriver2/#dfn-web-element-identifier\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-web-element-identifier-4\">web element\n  identifier</a> property from <var>object</var>.\n\n </p>"
        },
        {
          "html": "<p>If <var>reference</var> is not a <a href=\"https://www.w3.org/TR/webdriver2/#dfn-string\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-string-10\">String</a>,\n  return an <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-94\">error</a> with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-88\">error code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-invalid-argument\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-invalid-argument-31\">invalid argument</a>.\n\n </p>"
        },
        {
          "html": "<p>Let <var>element</var> be the result\n  of <a href=\"https://www.w3.org/TR/webdriver2/#dfn-try\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-try-41\">trying</a> to <a href=\"https://www.w3.org/TR/webdriver2/#dfn-get-a-known-element\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-get-a-known-element-2\">get a known element</a>\n  with <var>session</var> and <var>reference</var>.\n\n </p>"
        },
        {
          "html": "<p>Return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-success\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-success-51\">success</a> with data <var>element</var>.\n</p>"
        }
      ]
    },
    {
      "name": "scrolls into view",
      "href": "https://www.w3.org/TR/webdriver2/#dfn-scrolls-into-view",
      "html": "To <dfn data-lt=\"scrolls into view|scrolled into view|scroll into view\" id=\"dfn-scrolls-into-view\" tabindex=\"0\" aria-haspopup=\"dialog\" data-dfn-type=\"dfn\">scroll into view</dfn>\n an <var><a data-link-type=\"dfn\" href=\"https://dom.spec.whatwg.org/#concept-element\" id=\"ref-for-index-term-element-6\">element</a></var>\n perform the following steps\n only if the element is not already <a href=\"https://www.w3.org/TR/webdriver2/#dfn-in-view\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-in-view-1\">in view</a>:",
      "rationale": "let",
      "steps": [
        {
          "html": "<p>Let <var>options</var> be\n  the following <a href=\"https://www.w3.org/TR/webdriver2/#dfn-scrollintoviewoptions\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-scrollintoviewoptions-1\"><code>ScrollIntoViewOptions</code></a>:\n\n  </p><dl>\n   <dt>\"<code>behavior</code>\"\n   </dt><dd>\"<code>instant</code>\"\n\n   </dd><dt><a href=\"https://www.w3.org/TR/webdriver2/#dfn-logical-scroll-position-block\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-logical-scroll-position-block-1\">Logical scroll position \"<code>block</code>\"</a>\n   </dt><dd>\"<code>end</code>\"\n\n   </dd><dt><a href=\"https://www.w3.org/TR/webdriver2/#dfn-logical-scroll-position-inline\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-logical-scroll-position-inline-1\">Logical scroll position \"<code>inline</code>\"</a>\n   </dt><dd>\"<code>nearest</code>\"\n  </dd></dl>"
        },
        {
          "html": "<p>Run <a href=\"https://www.w3.org/TR/webdriver2/#dfn-call\" class=\"internalDFN\" data-link-type=\"idl\" id=\"ref-for-dfn-call-1\">Function.[[Call]]</a>(<a href=\"https://www.w3.org/TR/webdriver2/#dfn-scrollintoview\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-scrollintoview-1\">scrollIntoView</a>, <var>options</var>)\n with <var>element</var> as the this value.\n</p>"
        }
      ]
    },
    {
      "name": "center point",
      "href": "https://www.w3.org/TR/webdriver2/#dfn-center-point",
      "html": "An <a data-link-type=\"dfn\" href=\"https://dom.spec.whatwg.org/#concept-element\" id=\"ref-for-index-term-element-14\">element</a>'s <dfn data-lt=\"center point|in-view center point\" id=\"dfn-center-point\" tabindex=\"0\" aria-haspopup=\"dialog\" data-dfn-type=\"dfn\">in-view center point</dfn>\n is the origin position of the rectangle\n that is the intersection between\n the element's first <a data-link-type=\"interface\" data-lt=\"DOMRect\" href=\"https://www.w3.org/TR/geometry-1/#domrect\" id=\"ref-for-index-term-domrect-interface-1\"><code>DOMRect</code></a> of <a data-link-type=\"method\" data-lt=\"getClientRects()\" href=\"https://www.w3.org/TR/cssom-view-1/#dom-element-getclientrects\" id=\"ref-for-index-term-getclientrects-for-element-1\"><code>getClientRects</code></a><code>()</code>\n and the <a href=\"https://www.w3.org/TR/webdriver2/#dfn-viewport\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-viewport-2\">initial viewport</a>.\n It can be calculated this way:",
      "rationale": "let",
      "steps": [
        {
          "html": "<p>Let <var>rectangle</var> be\n  the first object of the <a data-link-type=\"interface\" data-lt=\"DOMRect\" href=\"https://www.w3.org/TR/geometry-1/#domrect\" id=\"ref-for-index-term-domrect-interface-2\"><code>DOMRect</code></a> collection\n  returned by calling <a data-link-type=\"method\" data-lt=\"getClientRects()\" href=\"https://www.w3.org/TR/cssom-view-1/#dom-element-getclientrects\" id=\"ref-for-index-term-getclientrects-for-element-2\"><code>getClientRects</code></a><code>()</code> on <a data-link-type=\"dfn\" href=\"https://dom.spec.whatwg.org/#concept-element\" id=\"ref-for-index-term-element-15\"><var>element</var></a>.\n\n </p>"
        },
        {
          "html": "<p>Let <var>left</var> be\n  <a href=\"https://www.w3.org/TR/webdriver2/#dfn-max\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-max-1\">max</a>(0, <a href=\"https://www.w3.org/TR/webdriver2/#dfn-min\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-min-1\">min</a>(<a href=\"https://www.w3.org/TR/webdriver2/#dfn-x-coordinate\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-x-coordinate-1\">x coordinate</a>,\n  <a href=\"https://www.w3.org/TR/webdriver2/#dfn-x-coordinate\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-x-coordinate-2\">x coordinate</a> + <a href=\"https://www.w3.org/TR/webdriver2/#dfn-width-dimension\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-width-dimension-1\">width dimension</a>)).\n\n </p>"
        },
        {
          "html": "<p>Let <var>right</var> be\n  <a href=\"https://www.w3.org/TR/webdriver2/#dfn-min\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-min-2\">min</a>(<a href=\"https://www.w3.org/TR/webdriver2/#dfn-innerwidth\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-innerwidth-1\">innerWidth</a>,\n  <a href=\"https://www.w3.org/TR/webdriver2/#dfn-max\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-max-2\">max</a>(<a href=\"https://www.w3.org/TR/webdriver2/#dfn-x-coordinate\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-x-coordinate-3\">x coordinate</a>,\n  <a href=\"https://www.w3.org/TR/webdriver2/#dfn-x-coordinate\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-x-coordinate-4\">x coordinate</a> + <a href=\"https://www.w3.org/TR/webdriver2/#dfn-width-dimension\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-width-dimension-2\">width dimension</a>)).\n\n </p>"
        },
        {
          "html": "<p>Let <var>top</var> be\n  <a href=\"https://www.w3.org/TR/webdriver2/#dfn-max\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-max-3\">max</a>(0, <a href=\"https://www.w3.org/TR/webdriver2/#dfn-min\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-min-3\">min</a>(<a href=\"https://www.w3.org/TR/webdriver2/#dfn-y-coordinate\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-y-coordinate-1\">y coordinate</a>,\n  <a href=\"https://www.w3.org/TR/webdriver2/#dfn-y-coordinate\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-y-coordinate-2\">y coordinate</a> + <a href=\"https://www.w3.org/TR/webdriver2/#dfn-height-dimension\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-height-dimension-1\">height dimension</a>)).\n\n </p>"
        },
        {
          "html": "<p>Let <var>bottom</var> be\n  <a href=\"https://www.w3.org/TR/webdriver2/#dfn-min\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-min-4\">min</a>(<a href=\"https://www.w3.org/TR/webdriver2/#dfn-innerheight\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-innerheight-1\">innerHeight</a>,\n  <a href=\"https://www.w3.org/TR/webdriver2/#dfn-max\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-max-4\">max</a>(<a href=\"https://www.w3.org/TR/webdriver2/#dfn-y-coordinate\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-y-coordinate-3\">y coordinate</a>,\n  <a href=\"https://www.w3.org/TR/webdriver2/#dfn-y-coordinate\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-y-coordinate-4\">y coordinate</a> + <a href=\"https://www.w3.org/TR/webdriver2/#dfn-height-dimension\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-height-dimension-2\">height dimension</a>)).\n\n </p>"
        },
        {
          "html": "<p>Let <var>x</var> be <a href=\"https://www.w3.org/TR/webdriver2/#dfn-floor\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-floor-1\">floor</a>((<var>left</var> + <var>right</var>) ÷ 2.0).\n\n </p>"
        },
        {
          "html": "<p>Let <var>y</var> be <a href=\"https://www.w3.org/TR/webdriver2/#dfn-floor\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-floor-2\">floor</a>((<var>top</var> + <var>bottom</var>) ÷ 2.0).\n\n </p>"
        },
        {
          "html": "<p>Return the pair of (<var>x</var>, <var>y</var>).\n</p>"
        }
      ]
    },
    {
      "name": "disabled",
      "href": "https://www.w3.org/TR/webdriver2/#dfn-disabled",
      "html": "An <a data-link-type=\"dfn\" href=\"https://dom.spec.whatwg.org/#concept-element\" id=\"ref-for-index-term-element-16\">element</a> <var>element</var> is <dfn id=\"dfn-disabled\" tabindex=\"0\" aria-haspopup=\"dialog\" data-dfn-type=\"dfn\">disabled</dfn> if the following steps\n return true:",
      "rationale": "if",
      "steps": [
        {
          "html": "If <var>element</var> is an <a data-link-type=\"element\" href=\"https://html.spec.whatwg.org/multipage/form-elements.html#the-option-element\" id=\"ref-for-index-term-option-element-1\">option</a> element or <var>element</var> is an <a data-link-type=\"element\" href=\"https://html.spec.whatwg.org/multipage/form-elements.html#the-optgroup-element\" id=\"ref-for-index-term-optgroup-element-1\">optgroup</a> element:",
          "rationale": "for",
          "steps": [
            {
              "html": "For each <a data-link-type=\"dfn\" href=\"https://dom.spec.whatwg.org/#concept-tree-inclusive-ancestor\" id=\"ref-for-index-term-inclusive-ancestor-for-tree-1\">inclusive ancestor</a> <var>ancestor</var> of <var>element</var>:",
              "rationale": "if",
              "steps": [
                {
                  "html": "<p>If <var>ancestor</var> is an <a data-link-type=\"element\" href=\"https://html.spec.whatwg.org/multipage/form-elements.html#the-optgroup-element\" id=\"ref-for-index-term-optgroup-element-2\">optgroup</a> element or <var>ancestor</var> is a <a data-link-type=\"element\" href=\"https://html.spec.whatwg.org/multipage/form-elements.html#the-select-element\" id=\"ref-for-index-term-select-element-1\">select</a>\n      element, and <var>ancestor</var> is <a data-link-type=\"dfn|abstract-op\" href=\"https://www.w3.org/TR/webdriver2/#dfn-actually-disabled\" class=\"internalDFN\" id=\"ref-for-dfn-actually-disabled-1\">actually disabled</a>, return true.\n    </p>"
                }
              ]
            },
            {
              "html": "<p>Return false.\n  </p>"
            }
          ]
        },
        {
          "html": "<p>Return <var>element</var> is <a data-link-type=\"dfn|abstract-op\" href=\"https://www.w3.org/TR/webdriver2/#dfn-actually-disabled\" class=\"internalDFN\" id=\"ref-for-dfn-actually-disabled-2\">actually disabled</a>.\n</p>"
        }
      ]
    },
    {
      "name": "pointer-interactable paint tree",
      "href": "https://www.w3.org/TR/webdriver2/#dfn-pointer-interactable-paint-tree",
      "html": "An <var><a data-link-type=\"dfn\" href=\"https://dom.spec.whatwg.org/#concept-element\" id=\"ref-for-index-term-element-20\">element</a></var>'s\n <dfn id=\"dfn-pointer-interactable-paint-tree\" tabindex=\"0\" aria-haspopup=\"dialog\" data-dfn-type=\"dfn\">pointer-interactable paint tree</dfn>\n is produced this way:",
      "rationale": "if",
      "steps": [
        {
          "html": "<p>If <var>element</var> is <a href=\"https://www.w3.org/TR/webdriver2/#dfn-not-in-the-same-tree\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-not-in-the-same-tree-1\">not in the same tree</a>\n  as <var>session</var>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-current-browsing-context\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-current-browsing-context-28\">current browsing context</a>'s\n  <a href=\"https://www.w3.org/TR/webdriver2/#dfn-active-document\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-active-document-15\">active document</a>, return an empty sequence.\n\n </p>"
        },
        {
          "html": "<p>Let <var>rectangles</var> be\n  the <a data-link-type=\"interface\" data-lt=\"DOMRect\" href=\"https://www.w3.org/TR/geometry-1/#domrect\" id=\"ref-for-index-term-domrect-interface-3\"><code>DOMRect</code></a> sequence\n  returned by calling <a data-link-type=\"method\" data-lt=\"getClientRects()\" href=\"https://www.w3.org/TR/cssom-view-1/#dom-element-getclientrects\" id=\"ref-for-index-term-getclientrects-for-element-3\"><code>getClientRects</code></a><code>()</code>.\n\n \n </p>"
        },
        {
          "html": "<p>If <var>rectangles</var> has the length of 0,\n  return an empty sequence.\n\n </p>"
        },
        {
          "html": "<p>Let <var>center point</var> be the <a href=\"https://www.w3.org/TR/webdriver2/#dfn-center-point\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-center-point-6\">in-view center point</a>\n  of the first indexed element in <var>rectangles</var>.\n\n </p>"
        },
        {
          "html": "<p>Return the <a href=\"https://www.w3.org/TR/webdriver2/#dfn-paint-order\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-paint-order-3\">elements from point</a>\n  given the coordinates <var>center point</var>.\n</p>"
        }
      ]
    },
    {
      "name": "get a known shadow root",
      "href": "https://www.w3.org/TR/webdriver2/#dfn-get-a-known-shadow-root",
      "html": "To <dfn id=\"dfn-get-a-known-shadow-root\" tabindex=\"0\" aria-haspopup=\"dialog\" data-dfn-type=\"dfn\">get a known shadow root</dfn> given <var>session</var>\n and <var>reference</var>:",
      "rationale": ".algorithm",
      "steps": [
        {
          "html": "If not <a href=\"https://www.w3.org/TR/webdriver2/#dfn-node-reference-is-known\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-node-reference-is-known-2\">node reference is known</a> with <var>session</var>,\n  <var>session</var>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-current-browsing-context\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-current-browsing-context-29\">current browsing context</a>,\n  and <var>reference</var> return\n  <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-95\">error</a> with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-89\">error code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-no-such-shadow-root\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-no-such-shadow-root-1\">no such shadow root</a>."
        },
        {
          "html": "Let <var>node</var> be the result of <a href=\"https://www.w3.org/TR/webdriver2/#dfn-get-a-node\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-get-a-node-2\">get a node</a> with\n  <var>session</var>, <var>session</var>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-current-browsing-context\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-current-browsing-context-30\">current browsing\n  context</a>, and <var>reference</var>."
        },
        {
          "html": "If <var>node</var> is not null and <var>node</var> does not implement\n  <a data-link-type=\"interface\" data-lt=\"ShadowRoot\" href=\"https://dom.spec.whatwg.org/#shadowroot\" id=\"ref-for-index-term-shadowroot-interface-1\"><code>ShadowRoot</code></a> return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-96\">error</a> with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-90\">error code</a>\n  <a href=\"https://www.w3.org/TR/webdriver2/#dfn-no-such-shadow-root\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-no-such-shadow-root-2\">no such shadow root</a>."
        },
        {
          "html": "If <var>node</var> is null or <var>node</var> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-is-detached\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-is-detached-1\">is detached</a> return\n  <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-97\">error</a> with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-91\">error code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-detached-shadow-root\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-detached-shadow-root-1\">detached shadow root</a>."
        },
        {
          "html": "Return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-success\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-success-52\">success</a> with data <var>node</var>."
        }
      ]
    },
    {
      "name": "get or create a shadow root reference",
      "href": "https://www.w3.org/TR/webdriver2/#dfn-get-or-create-a-shadow-root-reference",
      "html": "To <dfn id=\"dfn-get-or-create-a-shadow-root-reference\" tabindex=\"0\" aria-haspopup=\"dialog\" data-dfn-type=\"dfn\">get or create a shadow root reference</dfn>\n given <var>session</var> and <var>shadow root</var>:",
      "rationale": "assert",
      "steps": [
        {
          "html": "Assert: <var>element</var> implements <a data-link-type=\"interface\" data-lt=\"ShadowRoot\" href=\"https://dom.spec.whatwg.org/#shadowroot\" id=\"ref-for-index-term-shadowroot-interface-2\"><code>ShadowRoot</code></a>."
        },
        {
          "html": "Return the result of <a href=\"https://www.w3.org/TR/webdriver2/#dfn-try\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-try-42\">trying</a> to <a href=\"https://www.w3.org/TR/webdriver2/#dfn-get-or-create-a-node-reference\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-get-or-create-a-node-reference-2\">get or create a node\n   reference</a>\n   with <var>session</var>, <var>session</var>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-current-browsing-context\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-current-browsing-context-31\">current\n   browsing context</a>, and <var>element</var>."
        }
      ]
    },
    {
      "name": "shadow root reference object",
      "href": "https://www.w3.org/TR/webdriver2/#dfn-shadow-root-reference-object",
      "html": "The <dfn id=\"dfn-shadow-root-reference-object\" tabindex=\"0\" aria-haspopup=\"dialog\" data-dfn-type=\"dfn\">shadow root reference object</dfn> for <var>session</var>\n and <var>shadow root</var> is given by:",
      "rationale": "let",
      "steps": [
        {
          "html": "<p>Let <var>identifier</var> be the <a href=\"https://www.w3.org/TR/webdriver2/#dfn-shadow-root-identifier\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-shadow-root-identifier-2\">shadow root identifier</a>.\n\n   </p>"
        },
        {
          "html": "<p>Let <var>reference</var> be the result of <a href=\"https://www.w3.org/TR/webdriver2/#dfn-get-or-create-a-shadow-root-reference\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-get-or-create-a-shadow-root-reference-1\">get or create a\n    shadow root reference</a> with <var>session</var> and <var>shadow root</var>.\n\n </p>"
        },
        {
          "html": "<p>Return a JSON <a href=\"https://www.w3.org/TR/webdriver2/#dfn-object\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-object-37\">Object</a> initialized with a property with\n     name <var>identifier</var> and value <var>reference</var>.\n </p>"
        }
      ]
    },
    {
      "name": "deserialize a shadow root",
      "href": "https://www.w3.org/TR/webdriver2/#dfn-deserialize-a-shadow-root",
      "html": "When required to <dfn id=\"dfn-deserialize-a-shadow-root\" tabindex=\"0\" aria-haspopup=\"dialog\" data-dfn-type=\"dfn\">deserialize a shadow root</dfn>\n  by a JSON <a href=\"https://www.w3.org/TR/webdriver2/#dfn-object\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-object-38\">Object</a> <var>object</var> that <a href=\"https://www.w3.org/TR/webdriver2/#dfn-represents-a-shadow-root\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-represents-a-shadow-root-1\">represents a shadow root</a>:",
      "rationale": "if",
      "steps": [
        {
          "html": "<p>If <var>object</var> has no <a href=\"https://www.w3.org/TR/webdriver2/#dfn-own-properties\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-own-properties-18\">own property</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-shadow-root-identifier\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-shadow-root-identifier-3\">shadow root identifier</a>,\n   return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-98\">error</a> with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-92\">error code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-invalid-argument\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-invalid-argument-32\">invalid argument</a>.\n\n  </p>"
        },
        {
          "html": "<p>Let <var>reference</var> be the result of\n   <a data-lt=\"getting a property\" href=\"https://www.w3.org/TR/webdriver2/#dfn-getting-properties\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-getting-properties-22\">getting</a>\n   the <a href=\"https://www.w3.org/TR/webdriver2/#dfn-shadow-root-identifier\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-shadow-root-identifier-4\">shadow root identifier</a> property\n   from <var>object</var>.\n\n  </p>"
        },
        {
          "html": "<p>If <var>reference</var> is not a <a href=\"https://www.w3.org/TR/webdriver2/#dfn-string\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-string-11\">String</a>,\n   return an <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-99\">error</a> with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-93\">error code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-invalid-argument\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-invalid-argument-33\">invalid argument</a>.\n\n  </p>"
        },
        {
          "html": "<p>Let <var>shadow</var> be the result\n   of <a href=\"https://www.w3.org/TR/webdriver2/#dfn-try\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-try-43\">trying</a> to <a href=\"https://www.w3.org/TR/webdriver2/#dfn-get-a-known-shadow-root\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-get-a-known-shadow-root-1\">get a known shadow root</a>\n   with <var>session</var> and <var>reference</var>.\n\n  </p>"
        },
        {
          "html": "<p>Return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-success\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-success-53\">success</a> with data <var>shadow</var>.\n </p>"
        }
      ]
    },
    {
      "name": "find",
      "href": "https://www.w3.org/TR/webdriver2/#dfn-find",
      "html": "When required to <dfn id=\"dfn-find\" tabindex=\"0\" aria-haspopup=\"dialog\" data-dfn-type=\"dfn\">find</dfn> given <var>session</var>, <var>start\n node</var>, <var>using</var> and <var>value</var>, a <a href=\"https://www.w3.org/TR/webdriver2/#dfn-remote-ends\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-remote-ends-67\">remote\n end</a> must run the following steps:",
      "rationale": "let",
      "steps": [
        {
          "html": "<p>Let <var>location strategy</var> be equal to <var>using</var>.\n\n </p>"
        },
        {
          "html": "<p>Let <var>selector</var> be equal to <var>value</var>.\n\n </p>"
        },
        {
          "html": "<p>Let <var>timeout</var> be <var>session</var>'s\n <a href=\"https://www.w3.org/TR/webdriver2/#dfn-session-timeouts\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-session-timeouts-8\">session timeouts</a>' <a data-link-type=\"dfn|abstract-op\" href=\"https://www.w3.org/TR/webdriver2/#dfn-implicit-wait-timeout\" class=\"internalDFN\" id=\"ref-for-dfn-implicit-wait-timeout-3\">implicit wait timeout</a>.\n\n </p>"
        },
        {
          "html": "<p>Let <var>timer</var> be a new <a href=\"https://www.w3.org/TR/webdriver2/#dfn-timer\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-timer-5\">timer</a>.\n\n </p>"
        },
        {
          "html": "If <var>timeout</var> is not null:",
          "rationale": "start",
          "steps": [
            {
              "html": "<p><a href=\"https://www.w3.org/TR/webdriver2/#dfn-start-the-timer\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-start-the-timer-5\">Start the timer</a> with <var>timer</var>\n   and <var>timeout</var>.\n </p>"
            }
          ]
        },
        {
          "html": "<p>Let <var>elements returned</var> be an empty <a href=\"https://www.w3.org/TR/webdriver2/#dfn-list\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-list-7\">List</a>.\n\n\n </p>"
        },
        {
          "html": "While <var>elements returned</var> is empty\n and <var>timer<var>'s <a data-link-type=\"dfn|abstract-op\" href=\"https://www.w3.org/TR/webdriver2/#dfn-timeout-fired-flag\" class=\"internalDFN\" id=\"ref-for-dfn-timeout-fired-flag-8\">timeout fired flag</a> is not set:\n\n  </var></var>",
          "rationale": "set",
          "steps": [
            {
              "html": "<p>Set <var>elements returned</var> to the result of <a href=\"https://www.w3.org/TR/webdriver2/#dfn-try\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-try-44\">trying</a> to call\n   the relevant <a href=\"https://www.w3.org/TR/webdriver2/#dfn-strategy\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-strategy-1\">element location strategy</a> with arguments\n   <var>start node</var>, and <var>selector</var>.\n\n   </p>"
            },
            {
              "html": "If a <a href=\"https://www.w3.org/TR/webdriver2/#dfn-domexception\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-domexception-1\"><code>DOMException</code></a>, <a href=\"https://www.w3.org/TR/webdriver2/#dfn-syntaxerror\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-syntaxerror-1\"><code>SyntaxError</code></a>,\n   <a href=\"https://www.w3.org/TR/webdriver2/#dfn-xpathexception\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-xpathexception-1\"><code>XPathException</code></a>, or other error occurs during the\n   execution of the <a href=\"https://www.w3.org/TR/webdriver2/#dfn-strategy\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-strategy-2\">element location strategy</a>, return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-100\">error</a>\n   <a href=\"https://www.w3.org/TR/webdriver2/#dfn-invalid-selector\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-invalid-selector-1\">invalid selector</a>."
            }
          ]
        },
        {
          "html": "<p>Let <var>result</var> be an empty <a href=\"https://www.w3.org/TR/webdriver2/#dfn-list\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-list-8\">List</a>.\n\n </p>"
        },
        {
          "html": "<p>For each <var>element</var> in <var>elements returned</var>,\n append the <a href=\"https://www.w3.org/TR/webdriver2/#dfn-web-element-reference-object\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-web-element-reference-object-1\">web element reference object</a>\n for <var>session</var> and <var>element</var>, to <var>result</var>.\n\n </p>"
        },
        {
          "html": "<p>Return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-success\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-success-54\">success</a> with data <var>result</var>.\n</p>"
        }
      ]
    },
    {
      "name": "CSS Selector",
      "href": "https://www.w3.org/TR/webdriver2/#dfn-css-selector",
      "html": "To find a <a href=\"https://www.w3.org/TR/webdriver2/#dfn-web-elements\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-web-elements-1\">web element</a> with\n the <dfn id=\"dfn-css-selector\" tabindex=\"0\" aria-haspopup=\"dialog\" data-dfn-type=\"dfn\">CSS Selector</dfn> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-strategy\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-strategy-3\">strategy</a>\n the following steps need to be completed:",
      "rationale": "let",
      "steps": [
        {
          "html": "<p>Let <var>elements</var> be the result of calling\n  <a data-link-type=\"method\" data-lt=\"querySelectorAll()\" href=\"https://dom.spec.whatwg.org/#dom-parentnode-queryselectorall\" id=\"ref-for-index-term-queryselectorall-for-parentnode-1\"><code>querySelectorAll</code></a><code>()</code> with <var>start node</var> as <a href=\"https://www.w3.org/TR/webdriver2/#dfn-this\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-this-1\">this</a>\n  and <var>selector</var> as the argument. If this causes an exception\n  to be thrown, return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-101\">error</a> with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-94\">error code</a>\n  <a href=\"https://www.w3.org/TR/webdriver2/#dfn-invalid-selector\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-invalid-selector-2\">invalid selector</a>.\n\n </p>"
        },
        {
          "html": "<p>Return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-success\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-success-55\">success</a> with data <var>elements</var>.\n</p>"
        }
      ]
    },
    {
      "name": "link text selector",
      "href": "https://www.w3.org/TR/webdriver2/#dfn-link-text-selector",
      "html": "To find a <a href=\"https://www.w3.org/TR/webdriver2/#dfn-web-elements\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-web-elements-2\">web element</a>\n with the <dfn data-lt=\"link text selector|Link Text\" id=\"dfn-link-text-selector\" tabindex=\"0\" aria-haspopup=\"dialog\" data-dfn-type=\"dfn\">Link Text</dfn> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-strategy\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-strategy-4\">strategy</a>\n the following steps need to be completed:",
      "rationale": "let",
      "steps": [
        {
          "html": "<p>Let <var>elements</var> be the result of calling\n  <a data-link-type=\"method\" data-lt=\"querySelectorAll()\" href=\"https://dom.spec.whatwg.org/#dom-parentnode-queryselectorall\" id=\"ref-for-index-term-queryselectorall-for-parentnode-2\"><code>querySelectorAll</code></a><code>()</code> with <var>start node</var> as <a href=\"https://www.w3.org/TR/webdriver2/#dfn-this\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-this-2\">this</a>\n  and \"<code>a</code>\" as the argument. If this throws an exception,\n  return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-102\">error</a> with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-95\">error code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-unknown-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-unknown-error-3\">unknown error</a>.\n\n </p>"
        },
        {
          "html": "<p>Let <var>result</var> be an empty <a data-link-type=\"interface\" data-lt=\"NodeList\" href=\"https://dom.spec.whatwg.org/#nodelist\" id=\"ref-for-index-term-nodelist-interface-1\"><code>NodeList</code></a>.\n\n </p>"
        },
        {
          "html": "For each <var>element</var> in <var>elements</var>:",
          "rationale": "let",
          "steps": [
            {
              "html": "<p>Let <var>rendered text</var> be the value that would be\n    returned via a call to <a href=\"https://www.w3.org/TR/webdriver2/#dfn-get-element-text\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-get-element-text-2\">Get Element Text</a>\n    for <var>element</var>.\n\n   </p>"
            },
            {
              "html": "<p>Let <var>trimmed text</var> be the result of removing\n    all <a href=\"https://www.w3.org/TR/webdriver2/#dfn-whitespace\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-whitespace-1\">whitespace</a> from the start and end of the\n    string <var>rendered text</var>.\n\n   </p>"
            },
            {
              "html": "<p>If <var>trimmed text</var> equals <var>selector</var>,\n    append <var>element</var> to <var>result</var>.\n  </p>"
            }
          ]
        },
        {
          "html": "<p>Return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-success\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-success-56\">success</a> with data <var>result</var>.\n</p>"
        }
      ]
    },
    {
      "html": "To find a <a href=\"https://www.w3.org/TR/webdriver2/#dfn-web-elements\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-web-elements-3\">web element</a>\n with the <a href=\"https://www.w3.org/TR/webdriver2/#dfn-partial-link-text-selector\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-partial-link-text-selector-2\">Partial Link Text</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-strategy\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-strategy-7\">strategy</a>\n the following steps need to be completed:",
      "rationale": "let",
      "steps": [
        {
          "html": "<p>Let <var>elements</var> be the result of calling\n  <a data-link-type=\"method\" data-lt=\"querySelectorAll()\" href=\"https://dom.spec.whatwg.org/#dom-parentnode-queryselectorall\" id=\"ref-for-index-term-queryselectorall-for-parentnode-3\"><code>querySelectorAll</code></a><code>()</code> with <var>start node</var> as <a href=\"https://www.w3.org/TR/webdriver2/#dfn-this\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-this-3\">this</a>\n  and \"<code>a</code>\" as the argument. If this throws an exception,\n  return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-103\">error</a> with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-96\">error code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-unknown-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-unknown-error-4\">unknown error</a>.\n\n </p>"
        },
        {
          "html": "<p>Let <var>result</var> be an empty <a data-link-type=\"interface\" data-lt=\"NodeList\" href=\"https://dom.spec.whatwg.org/#nodelist\" id=\"ref-for-index-term-nodelist-interface-2\"><code>NodeList</code></a>.\n\n </p>"
        },
        {
          "html": "For each <var>element</var> in <var>elements</var>:",
          "rationale": "let",
          "steps": [
            {
              "html": "<p>Let <var>rendered text</var> be the value that would be\n    returned via a call to <a href=\"https://www.w3.org/TR/webdriver2/#dfn-get-element-text\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-get-element-text-3\">Get Element Text</a>\n    for <var>element</var>.\n\n   </p>"
            },
            {
              "html": "<p>If <var>rendered text</var> contains <var>selector</var>,\n    append <var>element</var> to <var>result</var>.\n  </p>"
            }
          ]
        },
        {
          "html": "<p>Return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-success\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-success-57\">success</a> with data <var>result</var>.\n</p>"
        }
      ]
    },
    {
      "name": "XPath Selector",
      "href": "https://www.w3.org/TR/webdriver2/#dfn-xpath-selector",
      "html": "To find a <a href=\"https://www.w3.org/TR/webdriver2/#dfn-web-elements\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-web-elements-5\">web element</a> with\n the <dfn id=\"dfn-xpath-selector\" tabindex=\"0\" aria-haspopup=\"dialog\" data-dfn-type=\"dfn\">XPath Selector</dfn> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-strategy\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-strategy-9\">strategy</a>\n the following steps need to be completed:",
      "rationale": "let",
      "steps": [
        {
          "html": "<p>Let <var>evaluateResult</var> be the result of\n  calling <a href=\"https://www.w3.org/TR/webdriver2/#dfn-evaluate\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-evaluate-1\"><code>evaluate</code></a>,\n  with arguments <var>selector</var>,\n  <var>start node</var>,\n  <a href=\"https://www.w3.org/TR/webdriver2/#dfn-null\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-null-36\"><code>null</code></a>,\n  <a href=\"https://www.w3.org/TR/webdriver2/#dfn-ordered_node_snapshot_type\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-ordered_node_snapshot_type-1\">ORDERED_NODE_SNAPSHOT_TYPE</a>,\n  and <a href=\"https://www.w3.org/TR/webdriver2/#dfn-null\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-null-37\"><code>null</code></a>.\n\n  </p>"
        },
        {
          "html": "<p>Let <var>index</var> be 0.\n\n </p>"
        },
        {
          "html": "<p>Let <var>length</var> be the result of <a href=\"https://www.w3.org/TR/webdriver2/#dfn-getting-properties\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-getting-properties-23\">getting the\n  property</a> \"<code>snapshotLength</code>\"\n  from <var>evaluateResult</var>. If this throws\n  an <a href=\"https://www.w3.org/TR/webdriver2/#dfn-xpathexception\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-xpathexception-2\">XPathException</a> return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-104\">error</a> with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-97\">error\n  code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-invalid-selector\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-invalid-selector-3\">invalid selector</a>, otherwise if this throws any other\n  exception return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-105\">error</a> with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-98\">error code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-unknown-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-unknown-error-5\">unknown\n  error</a>.\n\n </p>"
        },
        {
          "html": "<p>Let <var>result</var> be an empty <a data-link-type=\"interface\" data-lt=\"NodeList\" href=\"https://dom.spec.whatwg.org/#nodelist\" id=\"ref-for-index-term-nodelist-interface-3\"><code>NodeList</code></a>.\n\n </p>"
        },
        {
          "html": "Repeat, while <var>index</var> is less than <var>length</var>:",
          "rationale": "let",
          "steps": [
            {
              "html": "Let <var>node</var> be the result of calling <a href=\"https://www.w3.org/TR/webdriver2/#dfn-snapshotitem\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-snapshotitem-1\">snapshotItem</a> with\n    <var>evaluateResult</var> as <a href=\"https://www.w3.org/TR/webdriver2/#dfn-this\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-this-5\">this</a> and <var>index</var> as the\n    argument."
            },
            {
              "html": "<p>If <var>node</var> is not an <a data-link-type=\"dfn\" href=\"https://dom.spec.whatwg.org/#concept-element\" id=\"ref-for-index-term-element-22\">element</a> return an <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-106\">error</a>\n    with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-99\">error code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-invalid-selector\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-invalid-selector-4\">invalid selector</a>.\n\n   </p>"
            },
            {
              "html": "Append <var>node</var> to <var>result</var>."
            },
            {
              "html": "Increment <var>index</var> by 1."
            }
          ]
        },
        {
          "html": "<p>Return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-success\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-success-59\">success</a> with data <var>result</var>.\n\n</p>"
        }
      ]
    },
    {
      "html": "The <a href=\"https://www.w3.org/TR/webdriver2/#dfn-remote-end-steps\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-remote-end-steps-30\">remote end steps</a>, given <var>session</var>, <var>URL\nvariables</var> and <var>parameters</var> are:",
      "rationale": "let",
      "steps": [
        {
          "html": "<p>Let <var>location strategy</var> be the result of <a href=\"https://www.w3.org/TR/webdriver2/#dfn-getting-properties\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-getting-properties-24\">getting a\n  property</a> named \"<code>using</code>\" from <var>parameters</var>.\n\n </p>"
        },
        {
          "html": "<p>If <var>location strategy</var> is not present as a keyword in the\n  <a href=\"https://www.w3.org/TR/webdriver2/#dfn-table-of-location-strategies\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-table-of-location-strategies-1\">table of location strategies</a>, return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-107\">error</a> with\n  <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-100\">error code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-invalid-argument\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-invalid-argument-34\">invalid argument</a>.\n\n </p>"
        },
        {
          "html": "<p>Let <var>selector</var> be the result of <a href=\"https://www.w3.org/TR/webdriver2/#dfn-getting-properties\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-getting-properties-25\">getting a\n  property</a> named \"<code>value</code>\" from <var>parameters</var>.\n\n </p>"
        },
        {
          "html": "<p>If <var>selector</var> is <a href=\"https://www.w3.org/TR/webdriver2/#dfn-undefined\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-undefined-12\">undefined</a>,\n  return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-108\">error</a> with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-101\">error code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-invalid-argument\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-invalid-argument-35\">invalid argument</a>.\n\n </p>"
        },
        {
          "html": "<p>If <var>session</var>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-current-browsing-context\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-current-browsing-context-34\">current browsing context</a>\n  is <a href=\"https://www.w3.org/TR/webdriver2/#dfn-no-longer-open\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-no-longer-open-21\">no longer open</a>, return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-109\">error</a> with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-102\">error\n  code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-no-such-window\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-no-such-window-22\">no such window</a>.\n\n </p>"
        },
        {
          "html": "<p><a href=\"https://www.w3.org/TR/webdriver2/#dfn-try\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-try-45\">Try</a> to <a href=\"https://www.w3.org/TR/webdriver2/#dfn-handle-any-user-prompts\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-handle-any-user-prompts-20\">handle any user prompts</a>\n  with <var>session</var>.\n\n </p>"
        },
        {
          "html": "<p>Let <var>start node</var> be\n  <var>session</var>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-current-browsing-context\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-current-browsing-context-35\">current browsing context</a>'s <a data-link-type=\"dfn\" href=\"https://dom.spec.whatwg.org/#document-element\" id=\"ref-for-index-term-document-element-3\">document element</a>.\n\n </p>"
        },
        {
          "html": "<p>If <var>start node</var> is <a href=\"https://www.w3.org/TR/webdriver2/#dfn-null\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-null-38\"><code>null</code></a>,\n  return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-110\">error</a> with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-103\">error code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-no-such-element\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-no-such-element-3\">no such element</a>.\n\n </p>"
        },
        {
          "html": "<p>Let <var>result</var> be the result of <a href=\"https://www.w3.org/TR/webdriver2/#dfn-try\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-try-46\">trying</a>\n  to <a href=\"https://www.w3.org/TR/webdriver2/#dfn-find\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-find-1\">Find</a> with <var>session</var>, <var>start\n  node</var>, <var>location strategy</var>, and <var>selector</var>.\n\n </p>"
        },
        {
          "html": "<p>If <var>result</var> is empty, return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-111\">error</a>\n with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-104\">error code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-no-such-element\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-no-such-element-4\">no such element</a>. Otherwise, return the\n first element of <var>result</var>.\n</p>"
        }
      ]
    },
    {
      "html": "The <a href=\"https://www.w3.org/TR/webdriver2/#dfn-remote-end-steps\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-remote-end-steps-31\">remote end steps</a>, given <var>session</var>, <var>URL\nvariables</var> and <var>parameters</var> are:",
      "rationale": "let",
      "steps": [
        {
          "html": "<p>Let <var>location strategy</var> be the result of <a href=\"https://www.w3.org/TR/webdriver2/#dfn-getting-properties\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-getting-properties-26\">getting a\n  property</a> named \"<code>using</code>\" from <var>parameters</var>.\n\n </p>"
        },
        {
          "html": "<p>If <var>location strategy</var> is not present as a keyword in the\n  <a href=\"https://www.w3.org/TR/webdriver2/#dfn-table-of-location-strategies\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-table-of-location-strategies-2\">table of location strategies</a>, return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-112\">error</a> with\n  <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-105\">error code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-invalid-argument\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-invalid-argument-36\">invalid argument</a>.\n\n </p>"
        },
        {
          "html": "<p>Let <var>selector</var> be the result of <a href=\"https://www.w3.org/TR/webdriver2/#dfn-getting-properties\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-getting-properties-27\">getting a\n  property</a> named \"<code>value</code>\" from <var>parameters</var>.\n\n </p>"
        },
        {
          "html": "<p>If <var>selector</var> is <a href=\"https://www.w3.org/TR/webdriver2/#dfn-undefined\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-undefined-13\">undefined</a>,\n  return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-113\">error</a> with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-106\">error code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-invalid-argument\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-invalid-argument-37\">invalid argument</a>.\n\n </p>"
        },
        {
          "html": "<p>If <var>session</var>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-current-browsing-context\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-current-browsing-context-36\">current browsing context</a>\n  is <a href=\"https://www.w3.org/TR/webdriver2/#dfn-no-longer-open\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-no-longer-open-22\">no longer open</a>, return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-114\">error</a> with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-107\">error\n  code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-no-such-window\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-no-such-window-23\">no such window</a>.\n\n </p>"
        },
        {
          "html": "<p><a href=\"https://www.w3.org/TR/webdriver2/#dfn-try\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-try-47\">Try</a> to <a href=\"https://www.w3.org/TR/webdriver2/#dfn-handle-any-user-prompts\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-handle-any-user-prompts-21\">handle any user prompts</a>\n  with <var>session</var>.\n\n </p>"
        },
        {
          "html": "<p>Let <var>start node</var> be\n  <var>session</var>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-current-browsing-context\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-current-browsing-context-37\">current browsing context</a>'s <a data-link-type=\"dfn\" href=\"https://dom.spec.whatwg.org/#document-element\" id=\"ref-for-index-term-document-element-4\">document\n  element</a>.\n\n </p>"
        },
        {
          "html": "<p>If <var>start node</var> is <a href=\"https://www.w3.org/TR/webdriver2/#dfn-null\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-null-39\"><code>null</code></a>,\n  return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-115\">error</a> with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-108\">error code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-no-such-element\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-no-such-element-5\">no such element</a>.\n\n </p>"
        },
        {
          "html": "Return the result of <a href=\"https://www.w3.org/TR/webdriver2/#dfn-try\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-try-48\">trying</a> to <a href=\"https://www.w3.org/TR/webdriver2/#dfn-find\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-find-2\">Find</a> with <var>session</var>,\n  <var>start node</var>, <var>location strategy</var>, and <var>selector</var>."
        }
      ]
    },
    {
      "html": "The <a href=\"https://www.w3.org/TR/webdriver2/#dfn-remote-end-steps\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-remote-end-steps-32\">remote end steps</a>, given <var>session</var>, <var>URL\nvariables</var> and <var>parameters</var> are:",
      "rationale": "let",
      "steps": [
        {
          "html": "<p>Let <var>location strategy</var> be the result of <a href=\"https://www.w3.org/TR/webdriver2/#dfn-getting-properties\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-getting-properties-28\">getting a\n  property</a> named \"<code>using</code>\" from <var>parameters</var>.\n\n </p>"
        },
        {
          "html": "<p>If <var>location strategy</var> is not present as a keyword in the\n  <a href=\"https://www.w3.org/TR/webdriver2/#dfn-table-of-location-strategies\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-table-of-location-strategies-3\">table of location strategies</a>, return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-116\">error</a> with\n  <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-109\">error code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-invalid-argument\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-invalid-argument-38\">invalid argument</a>.\n\n </p>"
        },
        {
          "html": "<p>Let <var>selector</var> be the result of <a href=\"https://www.w3.org/TR/webdriver2/#dfn-getting-properties\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-getting-properties-29\">getting a\n  property</a> named \"<code>value</code>\" from <var>parameters</var>.\n\n </p>"
        },
        {
          "html": "<p>If <var>selector</var> is <a href=\"https://www.w3.org/TR/webdriver2/#dfn-undefined\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-undefined-14\">undefined</a>,\n  return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-117\">error</a> with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-110\">error code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-invalid-argument\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-invalid-argument-39\">invalid argument</a>.\n\n </p>"
        },
        {
          "html": "<p>If <var>session</var>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-current-browsing-context\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-current-browsing-context-38\">current browsing context</a>\n  is <a href=\"https://www.w3.org/TR/webdriver2/#dfn-no-longer-open\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-no-longer-open-23\">no longer open</a>, return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-118\">error</a> with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-111\">error\n  code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-no-such-window\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-no-such-window-24\">no such window</a>.\n\n </p>"
        },
        {
          "html": "<p><a href=\"https://www.w3.org/TR/webdriver2/#dfn-try\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-try-49\">Try</a> to <a href=\"https://www.w3.org/TR/webdriver2/#dfn-handle-any-user-prompts\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-handle-any-user-prompts-22\">handle any user prompts</a>\n  with <var>session</var>.\n\n </p>"
        },
        {
          "html": "<p>Let <var>start node</var> be the result\n  of <a href=\"https://www.w3.org/TR/webdriver2/#dfn-try\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-try-50\">trying</a> to <a href=\"https://www.w3.org/TR/webdriver2/#dfn-get-a-known-element\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-get-a-known-element-3\">get a known element</a>\n  with <var>session</var> and <var>URL variables</var>[\"<code>element id</code>\"].\n\n </p>"
        },
        {
          "html": "Let <var>result</var> be the value of <a href=\"https://www.w3.org/TR/webdriver2/#dfn-try\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-try-51\">trying</a> to <a href=\"https://www.w3.org/TR/webdriver2/#dfn-find\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-find-3\">Find</a> with\n  <var>session</var>, <var>start node</var>, <var>location strategy</var>,\n  and <var>selector</var>."
        },
        {
          "html": "<p>If <var>result</var> is empty, return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-119\">error</a>\n  with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-112\">error code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-no-such-element\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-no-such-element-6\">no such element</a>. Otherwise, return the\n  first element of <var>result</var>.\n</p>"
        }
      ]
    },
    {
      "html": "The <a href=\"https://www.w3.org/TR/webdriver2/#dfn-remote-end-steps\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-remote-end-steps-33\">remote end steps</a>, given <var>session</var>, <var>URL\nvariables</var> and <var>parameters</var> are:",
      "rationale": "let",
      "steps": [
        {
          "html": "<p>Let <var>location strategy</var> be the result of <a href=\"https://www.w3.org/TR/webdriver2/#dfn-getting-properties\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-getting-properties-30\">getting a\n  property</a> named \"<code>using</code>\" from <var>parameters</var>.\n\n </p>"
        },
        {
          "html": "<p>If <var>location strategy</var> is not present as a keyword in the\n  <a href=\"https://www.w3.org/TR/webdriver2/#dfn-table-of-location-strategies\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-table-of-location-strategies-4\">table of location strategies</a>, return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-120\">error</a> with\n  <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-113\">error code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-invalid-argument\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-invalid-argument-40\">invalid argument</a>.\n\n </p>"
        },
        {
          "html": "<p>Let <var>selector</var> be the result of <a href=\"https://www.w3.org/TR/webdriver2/#dfn-getting-properties\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-getting-properties-31\">getting a\n  property</a> named \"<code>value</code>\" from <var>parameters</var>.\n\n </p>"
        },
        {
          "html": "<p>If <var>selector</var> is <a href=\"https://www.w3.org/TR/webdriver2/#dfn-undefined\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-undefined-15\">undefined</a>,\n  return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-121\">error</a> with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-114\">error code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-invalid-argument\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-invalid-argument-41\">invalid argument</a>.\n\n </p>"
        },
        {
          "html": "<p>If <var>session</var>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-current-browsing-context\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-current-browsing-context-39\">current browsing context</a>\n  is <a href=\"https://www.w3.org/TR/webdriver2/#dfn-no-longer-open\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-no-longer-open-24\">no longer open</a>, return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-122\">error</a> with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-115\">error\n  code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-no-such-window\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-no-such-window-25\">no such window</a>.\n\n </p>"
        },
        {
          "html": "<p><a href=\"https://www.w3.org/TR/webdriver2/#dfn-try\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-try-52\">Try</a> to <a href=\"https://www.w3.org/TR/webdriver2/#dfn-handle-any-user-prompts\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-handle-any-user-prompts-23\">handle any user prompts</a>\n  with <var>session</var>.\n\n </p>"
        },
        {
          "html": "<p>Let <var>start node</var> be the result\n  of <a href=\"https://www.w3.org/TR/webdriver2/#dfn-try\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-try-53\">trying</a> to <a href=\"https://www.w3.org/TR/webdriver2/#dfn-get-a-known-element\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-get-a-known-element-4\">get a known element</a>\n  with <var>session</var> and <var>URL variables</var>[\"<code>element id</code>\"].\n\n </p>"
        },
        {
          "html": "Return the result of <a href=\"https://www.w3.org/TR/webdriver2/#dfn-try\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-try-54\">trying</a> to <a href=\"https://www.w3.org/TR/webdriver2/#dfn-find\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-find-4\">Find</a> with <var>session</var>,\n  <var>start node</var>, <var>location strategy</var>, and <var>selector</var>."
        }
      ]
    },
    {
      "html": "The <a href=\"https://www.w3.org/TR/webdriver2/#dfn-remote-end-steps\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-remote-end-steps-34\">remote end steps</a>, given <var>session</var>, <var>URL\nvariables</var> and <var>parameters</var> are:",
      "rationale": "let",
      "steps": [
        {
          "html": "<p>Let <var>location strategy</var> be the result\n  of <a href=\"https://www.w3.org/TR/webdriver2/#dfn-getting-properties\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-getting-properties-32\">getting a property</a> called \"<code>using</code>\".\n\n  </p>"
        },
        {
          "html": "<p>If <var>location strategy</var> is not present as a keyword in the\n  <a href=\"https://www.w3.org/TR/webdriver2/#dfn-table-of-location-strategies\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-table-of-location-strategies-5\">table of location strategies</a>, return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-123\">error</a> with\n  <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-116\">error code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-invalid-argument\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-invalid-argument-42\">invalid argument</a>.\n\n  </p>"
        },
        {
          "html": "<p>Let <var>selector</var> be the result\n  of <a href=\"https://www.w3.org/TR/webdriver2/#dfn-getting-properties\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-getting-properties-33\">getting a property</a> called \"<code>value</code>\".\n\n  </p>"
        },
        {
          "html": "<p>If <var>selector</var> is <a href=\"https://www.w3.org/TR/webdriver2/#dfn-undefined\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-undefined-16\">undefined</a>,\n  return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-124\">error</a> with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-117\">error code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-invalid-argument\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-invalid-argument-43\">invalid argument</a>.\n\n  </p>"
        },
        {
          "html": "<p>If <var>session</var>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-current-browsing-context\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-current-browsing-context-40\">current browsing\n  context</a> is <a href=\"https://www.w3.org/TR/webdriver2/#dfn-no-longer-open\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-no-longer-open-25\">no longer open</a>, return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-125\">error</a>\n  with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-118\">error code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-no-such-window\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-no-such-window-26\">no such window</a>.\n\n  </p>"
        },
        {
          "html": "<p><a href=\"https://www.w3.org/TR/webdriver2/#dfn-handle-any-user-prompts\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-handle-any-user-prompts-24\">Handle any user prompts</a> and return its value if it is an <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-126\">error</a>.\n\n  </p>"
        },
        {
          "html": "<p>Let <var>start node</var> be the result of <a href=\"https://www.w3.org/TR/webdriver2/#dfn-try\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-try-55\">trying</a>\n  to <a href=\"https://www.w3.org/TR/webdriver2/#dfn-get-a-known-shadow-root\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-get-a-known-shadow-root-2\">get a known shadow root</a> with <var>session</var>\n  and <var>URL variables</var>[\"<code>shadow id</code>\"].\n\n  </p>"
        },
        {
          "html": "Let <var>result</var> be the value of <a href=\"https://www.w3.org/TR/webdriver2/#dfn-try\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-try-56\">trying</a> to <a href=\"https://www.w3.org/TR/webdriver2/#dfn-find\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-find-5\">Find</a> with\n  <var>session</var>, <var>start node</var>, <var>location strategy</var>,\n  and <var>selector</var>."
        },
        {
          "html": "<p>If <var>result</var> is empty, return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-127\">error</a>\n  with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-119\">error code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-no-such-element\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-no-such-element-7\">no such element</a>. Otherwise, return the\n  first element of <var>result</var>.\n</p>"
        }
      ]
    },
    {
      "html": "The <a href=\"https://www.w3.org/TR/webdriver2/#dfn-remote-end-steps\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-remote-end-steps-35\">remote end steps</a>, given <var>session</var>, <var>URL\nvariables</var> and <var>parameters</var> are:",
      "rationale": "let",
      "steps": [
        {
          "html": "<p>Let <var>location strategy</var> be the result\n  of <a href=\"https://www.w3.org/TR/webdriver2/#dfn-getting-properties\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-getting-properties-34\">getting a property</a> called \"<code>using</code>\".\n\n  </p>"
        },
        {
          "html": "<p>If <var>location strategy</var> is not present as a keyword in the\n  <a href=\"https://www.w3.org/TR/webdriver2/#dfn-table-of-location-strategies\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-table-of-location-strategies-6\">table of location strategies</a>, return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-128\">error</a> with\n  <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-120\">error code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-invalid-argument\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-invalid-argument-44\">invalid argument</a>.\n\n  </p>"
        },
        {
          "html": "<p>Let <var>selector</var> be the result\n  of <a href=\"https://www.w3.org/TR/webdriver2/#dfn-getting-properties\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-getting-properties-35\">getting a property</a> called \"<code>value</code>\".\n\n  </p>"
        },
        {
          "html": "<p>If <var>selector</var> is <a href=\"https://www.w3.org/TR/webdriver2/#dfn-undefined\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-undefined-17\">undefined</a>,\n  return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-129\">error</a> with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-121\">error code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-invalid-argument\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-invalid-argument-45\">invalid argument</a>.\n\n  </p>"
        },
        {
          "html": "<p>If <var>session</var>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-current-browsing-context\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-current-browsing-context-41\">current browsing context</a>\n  is <a href=\"https://www.w3.org/TR/webdriver2/#dfn-no-longer-open\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-no-longer-open-26\">no longer open</a>, return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-130\">error</a> with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-122\">error\n  code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-no-such-window\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-no-such-window-27\">no such window</a>.\n\n  </p>"
        },
        {
          "html": "<p><a href=\"https://www.w3.org/TR/webdriver2/#dfn-handle-any-user-prompts\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-handle-any-user-prompts-25\">Handle any user prompts</a> and return its value if it is an <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-131\">error</a>.\n\n  </p>"
        },
        {
          "html": "<p>Let <var>start node</var> be the result\n  of <a href=\"https://www.w3.org/TR/webdriver2/#dfn-try\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-try-57\">trying</a> to <a href=\"https://www.w3.org/TR/webdriver2/#dfn-get-a-known-shadow-root\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-get-a-known-shadow-root-3\">get a known shadow root</a>\n  with <var>session</var> and <var>URL variables</var>[\"<code>shadow id</code>\"].\n\n  </p>"
        },
        {
          "html": "Return the result of <a href=\"https://www.w3.org/TR/webdriver2/#dfn-try\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-try-58\">trying</a> to <a href=\"https://www.w3.org/TR/webdriver2/#dfn-find\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-find-6\">Find</a> with <var>session</var>,\n  <var>start node</var>, <var>location strategy</var>, and <var>selector</var>."
        }
      ]
    },
    {
      "html": "The <a href=\"https://www.w3.org/TR/webdriver2/#dfn-remote-end-steps\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-remote-end-steps-36\">remote end steps</a>, given <var>session</var>, <var>URL\nvariables</var> and <var>parameters</var> are:",
      "rationale": "if",
      "steps": [
        {
          "html": "<p>If <var>session</var>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-current-browsing-context\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-current-browsing-context-42\">current browsing context</a>\n  is <a href=\"https://www.w3.org/TR/webdriver2/#dfn-no-longer-open\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-no-longer-open-27\">no longer open</a>, return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-132\">error</a> with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-123\">error\n  code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-no-such-window\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-no-such-window-28\">no such window</a>.\n\n </p>"
        },
        {
          "html": "<p><a href=\"https://www.w3.org/TR/webdriver2/#dfn-try\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-try-59\">Try</a> to <a href=\"https://www.w3.org/TR/webdriver2/#dfn-handle-any-user-prompts\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-handle-any-user-prompts-26\">handle any user prompts</a>\n  with <var>session</var>.\n\n </p>"
        },
        {
          "html": "<p>Let <var>active element</var> be the <a href=\"https://www.w3.org/TR/webdriver2/#dfn-active-element\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-active-element-1\">active element</a>\n  of <var>session</var>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-current-browsing-context\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-current-browsing-context-43\">current browsing\n  context</a>'s <a data-link-type=\"dfn\" href=\"https://dom.spec.whatwg.org/#document-element\" id=\"ref-for-index-term-document-element-5\">document element</a>.\n\n </p>"
        },
        {
          "html": "<p>If <var>active element</var> is a non-null <a data-link-type=\"dfn\" href=\"https://dom.spec.whatwg.org/#concept-element\" id=\"ref-for-index-term-element-24\">element</a>,\n  return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-success\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-success-60\">success</a> with data set to <a href=\"https://www.w3.org/TR/webdriver2/#dfn-web-element-reference-object\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-web-element-reference-object-2\">web element reference\n  object</a> for <var>session</var> and <var>active element</var>.\n\n  </p><p>Otherwise, return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-133\">error</a> with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-124\">error code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-no-such-element\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-no-such-element-8\">no such element</a>.\n</p>"
        }
      ]
    },
    {
      "html": "The <a href=\"https://www.w3.org/TR/webdriver2/#dfn-remote-end-steps\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-remote-end-steps-37\">remote end steps</a>, given <var>session</var>, <var>URL\nvariables</var> and <var>parameters</var> are:",
      "rationale": "if",
      "steps": [
        {
          "html": "<p>If <var>session</var>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-current-browsing-context\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-current-browsing-context-44\">current browsing context</a>\n  is <a href=\"https://www.w3.org/TR/webdriver2/#dfn-no-longer-open\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-no-longer-open-28\">no longer open</a>, return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-134\">error</a> with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-125\">error\n  code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-no-such-window\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-no-such-window-29\">no such window</a>.\n\n  </p>"
        },
        {
          "html": "<p><a href=\"https://www.w3.org/TR/webdriver2/#dfn-handle-any-user-prompts\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-handle-any-user-prompts-27\">Handle any user prompts</a> and return its value if it is an <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-135\">error</a>.\n\n  </p>"
        },
        {
          "html": "<p>Let <var>element</var> be the result of <a href=\"https://www.w3.org/TR/webdriver2/#dfn-try\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-try-60\">trying</a>\n    to <a href=\"https://www.w3.org/TR/webdriver2/#dfn-get-a-known-element\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-get-a-known-element-5\">get a known element</a> with <var>session</var> and <var>URL\n    variables</var>[<var>element id</var>].\n\n  </p>"
        },
        {
          "html": "<p>Let <var>shadow root</var> be <var>element</var>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-shadow-roots\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-shadow-roots-4\">shadow root</a>.\n\n  </p>"
        },
        {
          "html": "<p>If <var>shadow root</var> is null, return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-136\">error</a>\n    with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-126\">error code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-no-such-shadow-root\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-no-such-shadow-root-3\">no such shadow root</a>.\n\n  </p>"
        },
        {
          "html": "<p>Let <var>serialized</var> be the <a href=\"https://www.w3.org/TR/webdriver2/#dfn-shadow-root-reference-object\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-shadow-root-reference-object-1\">shadow root reference object</a>\n  for <var>session</var> and <var>shadow root</var>.\n\n  </p>"
        },
        {
          "html": "<p>Return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-success\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-success-61\">success</a> with data <var>serialized</var>.\n\n</p>"
        }
      ]
    },
    {
      "name": "calculate the absolute position",
      "href": "https://www.w3.org/TR/webdriver2/#dfn-calculate-the-absolute-position",
      "html": "To <dfn id=\"dfn-calculate-the-absolute-position\" tabindex=\"0\" aria-haspopup=\"dialog\" data-dfn-type=\"dfn\">calculate the absolute position</dfn>\ngiven <var>session</var> and <var>element</var>:",
      "rationale": "let",
      "steps": [
        {
          "html": "<p>Let <var>rect</var> be the value\n  returned by calling <a data-link-type=\"method\" data-lt=\"getBoundingClientRect()\" href=\"https://www.w3.org/TR/cssom-view-1/#dom-element-getboundingclientrect\" id=\"ref-for-index-term-getboundingclientrect-for-element-1\"><code>getBoundingClientRect</code></a><code>()</code>.\n\n </p>"
        },
        {
          "html": "<p>Let <var>window</var> be the <a href=\"https://www.w3.org/TR/webdriver2/#dfn-associated-window\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-associated-window-2\">associated window</a>\n  of <var>session</var>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-current-top-level-browsing-context\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-current-top-level-browsing-context-61\">current top-level browsing context</a>.\n\n </p>"
        },
        {
          "html": "<p>Let <var>x</var> be\n  (<a href=\"https://www.w3.org/TR/webdriver2/#dfn-scrollx\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-scrollx-1\">scrollX</a> of <var>window</var> +\n  <var>rect</var>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-x-coordinate\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-x-coordinate-5\">x coordinate</a>).\n\n </p>"
        },
        {
          "html": "<p>Let <var>y</var> be\n  (<a href=\"https://www.w3.org/TR/webdriver2/#dfn-scrolly\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-scrolly-1\">scrollY</a> of <var>window</var> +\n  <var>rect</var>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-y-coordinate\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-y-coordinate-5\">y coordinate</a>).\n\n </p>"
        },
        {
          "html": "<p>Return a pair of (<var>x</var>, <var>y</var>).\n</p>"
        }
      ]
    },
    {
      "name": "not in the same tree",
      "href": "https://www.w3.org/TR/webdriver2/#dfn-not-in-the-same-tree",
      "html": "To determine if <a data-link-type=\"dfn\" href=\"https://dom.spec.whatwg.org/#concept-node\" id=\"ref-for-index-term-node-1\">node</a> is <dfn id=\"dfn-not-in-the-same-tree\" tabindex=\"0\" aria-haspopup=\"dialog\" data-dfn-type=\"dfn\">not in the same tree</dfn>\n as another <a data-link-type=\"dfn\" href=\"https://dom.spec.whatwg.org/#concept-node\" id=\"ref-for-index-term-node-2\">node</a>, <var>other</var>,\n run the following substeps:",
      "rationale": "if",
      "steps": [
        {
          "html": "<p>If the <a data-link-type=\"dfn\" href=\"https://dom.spec.whatwg.org/#concept-node\" id=\"ref-for-index-term-node-3\">node</a>'s <a data-link-type=\"dfn\" href=\"https://dom.spec.whatwg.org/#concept-node-document\" id=\"ref-for-index-term-node-document-for-node-3\">node document</a>\n  is not <var>other</var>'s <a data-link-type=\"dfn\" href=\"https://dom.spec.whatwg.org/#concept-node-document\" id=\"ref-for-index-term-node-document-for-node-4\">node document</a>,\n  return true.\n\n </p>"
        },
        {
          "html": "<p>Return true if the result of calling the <a data-link-type=\"dfn\" href=\"https://dom.spec.whatwg.org/#concept-node\" id=\"ref-for-index-term-node-4\">node</a>'s\n  <a data-link-type=\"method\" data-lt=\"compareDocumentPosition()\" href=\"https://dom.spec.whatwg.org/#dom-node-comparedocumentposition\" id=\"ref-for-index-term-comparedocumentposition-for-node-1\"><code>compareDocumentPosition</code></a><code>()</code> with <var>other</var> as argument\n  is <a data-link-type=\"const\" href=\"https://dom.spec.whatwg.org/#dom-node-document_position_disconnected\" id=\"ref-for-index-term-document_position_disconnected-for-node-1\"><code>DOCUMENT_POSITION_DISCONNECTED</code></a> (1),\n  otherwise return false.\n</p>"
        }
      ]
    },
    {
      "name": "container",
      "href": "https://www.w3.org/TR/webdriver2/#dfn-container",
      "html": "An <a data-link-type=\"dfn\" href=\"https://dom.spec.whatwg.org/#concept-element\" id=\"ref-for-index-term-element-25\"><var>element</var></a>'s <dfn id=\"dfn-container\" tabindex=\"0\" aria-haspopup=\"dialog\" data-dfn-type=\"dfn\">container</dfn> is:",
      "rationale": ".switch",
      "steps": [
        {
          "operation": "switch",
          "steps": [
            {
              "case": "option element in a valid element context",
              "html": "The <a data-link-type=\"dfn\" href=\"https://dom.spec.whatwg.org/#concept-element\" id=\"ref-for-index-term-element-26\"><var>element</var></a>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-element-context\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-element-context-3\">element context</a>,\n  which is determined by:",
              "rationale": "let",
              "steps": [
                {
                  "html": "<p>Let <var>datalist parent</var> be\n    the first <code><a data-link-type=\"element\" href=\"https://html.spec.whatwg.org/multipage/form-elements.html#the-datalist-element\" id=\"ref-for-index-term-datalist-element-1\">datalist</a></code> element reached\n    by traversing the tree in reverse order from <var>element</var>,\n    or <a href=\"https://www.w3.org/TR/webdriver2/#dfn-undefined\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-undefined-18\">undefined</a> if the root of the tree is reached.\n\n   </p>"
                },
                {
                  "html": "<p>Let <var>select parent</var> be the\n    first <code><a data-link-type=\"element\" href=\"https://html.spec.whatwg.org/multipage/form-elements.html#the-select-element\" id=\"ref-for-index-term-select-element-3\">select</a></code> element reached\n    by traversing the tree in reverse order from <var>element</var>,\n    or <a href=\"https://www.w3.org/TR/webdriver2/#dfn-undefined\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-undefined-19\">undefined</a> if the root of the tree is reached.\n\n   </p>"
                },
                {
                  "html": "<p>If <var>datalist parent</var> is <a href=\"https://www.w3.org/TR/webdriver2/#dfn-undefined\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-undefined-20\">undefined</a>,\n    the <a href=\"https://www.w3.org/TR/webdriver2/#dfn-element-context\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-element-context-4\">element context</a> is <var>select parent</var>.\n    Otherwise, the <a href=\"https://www.w3.org/TR/webdriver2/#dfn-element-context\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-element-context-5\">element context</a> is <var>datalist parent</var>.\n  </p>"
                }
              ]
            },
            {
              "case": "optgroup element in a valid element context",
              "html": "The <a data-link-type=\"dfn\" href=\"https://dom.spec.whatwg.org/#concept-element\" id=\"ref-for-index-term-element-26\"><var>element</var></a>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-element-context\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-element-context-3\">element context</a>,\n  which is determined by:",
              "rationale": "let",
              "steps": [
                {
                  "html": "<p>Let <var>datalist parent</var> be\n    the first <code><a data-link-type=\"element\" href=\"https://html.spec.whatwg.org/multipage/form-elements.html#the-datalist-element\" id=\"ref-for-index-term-datalist-element-1\">datalist</a></code> element reached\n    by traversing the tree in reverse order from <var>element</var>,\n    or <a href=\"https://www.w3.org/TR/webdriver2/#dfn-undefined\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-undefined-18\">undefined</a> if the root of the tree is reached.\n\n   </p>"
                },
                {
                  "html": "<p>Let <var>select parent</var> be the\n    first <code><a data-link-type=\"element\" href=\"https://html.spec.whatwg.org/multipage/form-elements.html#the-select-element\" id=\"ref-for-index-term-select-element-3\">select</a></code> element reached\n    by traversing the tree in reverse order from <var>element</var>,\n    or <a href=\"https://www.w3.org/TR/webdriver2/#dfn-undefined\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-undefined-19\">undefined</a> if the root of the tree is reached.\n\n   </p>"
                },
                {
                  "html": "<p>If <var>datalist parent</var> is <a href=\"https://www.w3.org/TR/webdriver2/#dfn-undefined\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-undefined-20\">undefined</a>,\n    the <a href=\"https://www.w3.org/TR/webdriver2/#dfn-element-context\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-element-context-4\">element context</a> is <var>select parent</var>.\n    Otherwise, the <a href=\"https://www.w3.org/TR/webdriver2/#dfn-element-context\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-element-context-5\">element context</a> is <var>datalist parent</var>.\n  </p>"
                }
              ]
            },
            {
              "case": "option element in an invalid element context",
              "html": "<p>The element does not have a container.\n\n </p>"
            },
            {
              "case": "Otherwise",
              "html": "<p>The container is the <a data-link-type=\"dfn\" href=\"https://dom.spec.whatwg.org/#concept-element\" id=\"ref-for-index-term-element-27\">element</a> itself.\n</p>"
            }
          ]
        }
      ]
    },
    {
      "html": "The <a href=\"https://www.w3.org/TR/webdriver2/#dfn-remote-end-steps\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-remote-end-steps-38\">remote end steps</a>, given <var>session</var>, <var>URL\nvariables</var> and <var>parameters</var> are:",
      "rationale": "if",
      "steps": [
        {
          "html": "<p>If <var>session</var>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-current-browsing-context\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-current-browsing-context-45\">current browsing context</a>\n  is <a href=\"https://www.w3.org/TR/webdriver2/#dfn-no-longer-open\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-no-longer-open-29\">no longer open</a>, return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-137\">error</a> with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-127\">error\n  code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-no-such-window\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-no-such-window-30\">no such window</a>.\n\n </p>"
        },
        {
          "html": "<p><a href=\"https://www.w3.org/TR/webdriver2/#dfn-try\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-try-61\">Try</a> to <a href=\"https://www.w3.org/TR/webdriver2/#dfn-handle-any-user-prompts\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-handle-any-user-prompts-28\">handle any user prompts</a>\n  with <var>session</var>.\n\n </p>"
        },
        {
          "html": "<p>Let <var>element</var> be the result of <a href=\"https://www.w3.org/TR/webdriver2/#dfn-try\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-try-62\">trying</a>\n  to <a href=\"https://www.w3.org/TR/webdriver2/#dfn-get-a-known-element\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-get-a-known-element-6\">get a known element</a> with <var>session</var> and <var>URL\n  variables</var>[<var>element id</var>].\n\n </p>"
        },
        {
          "html": "Let <var>selected</var> be the value\n  corresponding to the first matching statement:",
          "rationale": ".switch",
          "steps": [
            {
              "operation": "switch",
              "steps": [
                {
                  "case": "element is an input element with a type attribute in the Checkbox- or Radio Button state",
                  "html": "<p>The result of <var>element</var>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-checkedness\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-checkedness-1\">checkedness</a>.\n\n   </p>"
                },
                {
                  "case": "element is an option element",
                  "html": "<p>The result of <var>element</var>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-selectedness\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-selectedness-1\">selectedness</a>.\n\n   </p>"
                },
                {
                  "case": "Otherwise",
                  "html": "False."
                }
              ]
            }
          ]
        },
        {
          "html": "<p>Return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-success\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-success-62\">success</a> with data <var>selected</var>.\n</p>"
        }
      ]
    },
    {
      "html": "The <a href=\"https://www.w3.org/TR/webdriver2/#dfn-remote-end-steps\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-remote-end-steps-39\">remote end steps</a>, given <var>session</var>, <var>URL\nvariables</var> and <var>parameters</var> are:",
      "rationale": "if",
      "steps": [
        {
          "html": "<p>If <var>session</var>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-current-browsing-context\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-current-browsing-context-46\">current browsing context</a>\n  is <a href=\"https://www.w3.org/TR/webdriver2/#dfn-no-longer-open\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-no-longer-open-30\">no longer open</a>, return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-138\">error</a> with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-128\">error\n  code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-no-such-window\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-no-such-window-31\">no such window</a>.\n\n </p>"
        },
        {
          "html": "<p><a href=\"https://www.w3.org/TR/webdriver2/#dfn-try\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-try-63\">Try</a> to <a href=\"https://www.w3.org/TR/webdriver2/#dfn-handle-any-user-prompts\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-handle-any-user-prompts-29\">handle any user prompts</a>\n  with <var>session</var>.\n\n </p>"
        },
        {
          "html": "<p>Let <var>element</var> be the result of <a href=\"https://www.w3.org/TR/webdriver2/#dfn-try\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-try-64\">trying</a>\n  to <a href=\"https://www.w3.org/TR/webdriver2/#dfn-get-a-known-element\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-get-a-known-element-7\">get a known element</a> with <var>session</var> and <var>URL\n  variables</var>' element id.\n\n </p>"
        },
        {
          "html": "<p>Let <var>name</var> be <var>URL variables</var>[\"<code>name</code>\"].\n\n </p>"
        },
        {
          "html": "Let <var>result</var> be the result of the first matching condition:",
          "rationale": ".switch",
          "steps": [
            {
              "operation": "switch",
              "steps": [
                {
                  "case": "If name is a boolean attribute",
                  "html": "<p>\"<code>true</code>\" (string)\n     if the <var>element</var> <a data-link-type=\"method\" data-lt=\"hasAttribute()\" href=\"https://dom.spec.whatwg.org/#dom-element-hasattribute\" id=\"ref-for-index-term-hasattribute-for-element-1\"><code>hasAttribute</code></a><code>()</code> with <var>name</var>,\n     otherwise <a href=\"https://www.w3.org/TR/webdriver2/#dfn-null\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-null-40\"><code>null</code></a>.\n\n    </p>"
                },
                {
                  "case": "Otherwise",
                  "html": "<p>The result of <a data-link-type=\"dfn\" data-lt=\"get an attribute by name\" href=\"https://dom.spec.whatwg.org/#concept-element-attributes-get-by-name\" id=\"ref-for-index-term-get-an-attribute-by-name-1\">getting an attribute by name</a>\n     <var>name</var>.\n   </p>"
                }
              ]
            }
          ]
        },
        {
          "html": "<p>Return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-success\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-success-63\">success</a> with data <var>result</var>.\n</p>"
        }
      ]
    },
    {
      "html": "The <a href=\"https://www.w3.org/TR/webdriver2/#dfn-remote-end-steps\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-remote-end-steps-40\">remote end steps</a>, given <var>session</var>, <var>URL\nvariables</var> and <var>parameters</var> are:",
      "rationale": "if",
      "steps": [
        {
          "html": "<p>If <var>session</var>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-current-browsing-context\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-current-browsing-context-47\">current browsing context</a>\n  is <a href=\"https://www.w3.org/TR/webdriver2/#dfn-no-longer-open\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-no-longer-open-31\">no longer open</a>, return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-139\">error</a> with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-129\">error\n  code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-no-such-window\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-no-such-window-32\">no such window</a>.\n\n </p>"
        },
        {
          "html": "<p><a href=\"https://www.w3.org/TR/webdriver2/#dfn-try\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-try-65\">Try</a> to <a href=\"https://www.w3.org/TR/webdriver2/#dfn-handle-any-user-prompts\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-handle-any-user-prompts-30\">handle any user prompts</a>\n  with <var>session</var>.\n\n </p>"
        },
        {
          "html": "<p>Let <var>element</var> be the result of <a href=\"https://www.w3.org/TR/webdriver2/#dfn-try\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-try-66\">trying</a>\n  to <a href=\"https://www.w3.org/TR/webdriver2/#dfn-get-a-known-element\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-get-a-known-element-8\">get a known element</a> with <var>session</var> and <var>URL\n  variables</var>' element id.\n\n </p>"
        },
        {
          "html": "<p>Let <var>name</var> <var>URL variables</var>[\"<code>name</code>\"].\n\n </p>"
        },
        {
          "html": "<p>Let <var>property</var> be the result of calling\n  the <a href=\"https://www.w3.org/TR/webdriver2/#dfn-getproperty\" class=\"internalDFN\" data-link-type=\"idl\" id=\"ref-for-dfn-getproperty-1\">Object.[[GetProperty]]</a>(<var>name</var>) on <var>element</var>.\n\n </p>"
        },
        {
          "html": "<p>Let <var>result</var> be the value of\n  <var>property</var> if not <a href=\"https://www.w3.org/TR/webdriver2/#dfn-undefined\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-undefined-21\">undefined</a>, or <a href=\"https://www.w3.org/TR/webdriver2/#dfn-null\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-null-41\"><code>null</code></a>.\n\n </p>"
        },
        {
          "html": "<p>Return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-success\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-success-64\">success</a> with data <var>result</var>.\n</p>"
        }
      ]
    },
    {
      "html": "The <a href=\"https://www.w3.org/TR/webdriver2/#dfn-remote-end-steps\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-remote-end-steps-41\">remote end steps</a>, given <var>session</var>, <var>URL\nvariables</var> and <var>parameters</var> are:",
      "rationale": "if",
      "steps": [
        {
          "html": "<p>If <var>session</var>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-current-browsing-context\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-current-browsing-context-48\">current browsing context</a>\n  is <a href=\"https://www.w3.org/TR/webdriver2/#dfn-no-longer-open\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-no-longer-open-32\">no longer open</a>, return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-140\">error</a> with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-130\">error\n  code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-no-such-window\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-no-such-window-33\">no such window</a>.\n\n </p>"
        },
        {
          "html": "<p><a href=\"https://www.w3.org/TR/webdriver2/#dfn-try\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-try-67\">Try</a> to <a href=\"https://www.w3.org/TR/webdriver2/#dfn-handle-any-user-prompts\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-handle-any-user-prompts-31\">handle any user prompts</a>\n  with <var>session</var>.\n\n </p>"
        },
        {
          "html": "<p>Let <var>element</var> be the result\n  of <a href=\"https://www.w3.org/TR/webdriver2/#dfn-try\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-try-68\">trying</a> to <a href=\"https://www.w3.org/TR/webdriver2/#dfn-get-a-known-element\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-get-a-known-element-9\">get a known element</a>\n  with <var>URL variables</var>[\"<code>element id</code>\"].\n\n </p>"
        },
        {
          "html": "Let <var>computed value</var> be the result of the first matching condition:",
          "rationale": ".switch",
          "steps": [
            {
              "operation": "switch",
              "steps": [
                {
                  "case": "session's current browsing context's active document's type is not \"xml\"",
                  "html": "<a href=\"https://www.w3.org/TR/webdriver2/#dfn-computed-value\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-computed-value-1\">computed value</a> of parameter <var>URL\n    variables</var>[\"<code>property name</code>\"]\n    from <var>element</var>'s style declarations."
                },
                {
                  "case": "Otherwise",
                  "html": "\"\" (empty string)"
                }
              ]
            }
          ]
        },
        {
          "html": "Return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-success\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-success-65\">success</a> with data <var>computed value</var>."
        }
      ]
    },
    {
      "html": "The <a href=\"https://www.w3.org/TR/webdriver2/#dfn-remote-end-steps\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-remote-end-steps-42\">remote end steps</a>, given <var>session</var>, <var>URL\nvariables</var> and <var>parameters</var> are:",
      "rationale": "if",
      "steps": [
        {
          "html": "<p>If <var>session</var>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-current-browsing-context\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-current-browsing-context-50\">current browsing context</a>\n  is <a href=\"https://www.w3.org/TR/webdriver2/#dfn-no-longer-open\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-no-longer-open-33\">no longer open</a>, return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-141\">error</a> with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-131\">error\n  code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-no-such-window\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-no-such-window-34\">no such window</a>.\n\n </p>"
        },
        {
          "html": "<p><a href=\"https://www.w3.org/TR/webdriver2/#dfn-try\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-try-69\">Try</a> to <a href=\"https://www.w3.org/TR/webdriver2/#dfn-handle-any-user-prompts\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-handle-any-user-prompts-32\">handle any user prompts</a>\n  with <var>session</var>.\n\n </p>"
        },
        {
          "html": "<p>Let <var>element</var> be the result of <a href=\"https://www.w3.org/TR/webdriver2/#dfn-try\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-try-70\">trying</a>\n  to <a href=\"https://www.w3.org/TR/webdriver2/#dfn-get-a-known-element\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-get-a-known-element-10\">get a known element</a> with <var>session</var> and <var>URL\n  variables</var>[<var>element id</var>].\n\n </p>"
        },
        {
          "html": "<p>Let <var>rendered text</var> be the result of performing\n  implementation-specific steps whose result is exactly the same as\n  the result of\n  a <a href=\"https://www.w3.org/TR/webdriver2/#dfn-call\" class=\"internalDFN\" data-link-type=\"idl\" id=\"ref-for-dfn-call-2\">Function.[[Call]]</a>(<a href=\"https://www.w3.org/TR/webdriver2/#dfn-null\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-null-42\"><code>null</code></a>, <var>element</var>)\n  with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-bot-dom-getvisibletext\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-bot-dom-getvisibletext-1\"><code>bot.dom.getVisibleText</code></a> as the this value.\n\n </p>"
        },
        {
          "html": "<p>Return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-success\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-success-66\">success</a> with data <var>rendered text</var>.\n</p>"
        }
      ]
    },
    {
      "html": "The <a href=\"https://www.w3.org/TR/webdriver2/#dfn-remote-end-steps\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-remote-end-steps-43\">remote end steps</a>, given <var>session</var>, <var>URL\nvariables</var> and <var>parameters</var> are:",
      "rationale": "if",
      "steps": [
        {
          "html": "<p>If <var>session</var>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-current-browsing-context\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-current-browsing-context-51\">current browsing context</a>\n  is <a href=\"https://www.w3.org/TR/webdriver2/#dfn-no-longer-open\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-no-longer-open-34\">no longer open</a>, return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-142\">error</a> with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-132\">error\n  code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-no-such-window\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-no-such-window-35\">no such window</a>.\n\n </p>"
        },
        {
          "html": "<p><a href=\"https://www.w3.org/TR/webdriver2/#dfn-try\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-try-71\">Try</a> to <a href=\"https://www.w3.org/TR/webdriver2/#dfn-handle-any-user-prompts\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-handle-any-user-prompts-33\">handle any user prompts</a>\n  with <var>session</var>.\n\n </p>"
        },
        {
          "html": "<p>Let <var>element</var> be the result\n  of <a href=\"https://www.w3.org/TR/webdriver2/#dfn-try\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-try-72\">trying</a> to <a href=\"https://www.w3.org/TR/webdriver2/#dfn-get-a-known-element\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-get-a-known-element-11\">get a known element</a>\n  with <var>URL variables</var>[\"<code>element id</code>\"].\n\n </p>"
        },
        {
          "html": "<p>Let <var>qualified name</var> be the result of getting\n  <var>element</var>'s <a data-link-type=\"attribute\" href=\"https://dom.spec.whatwg.org/#dom-element-tagname\" id=\"ref-for-index-term-tagname-attribute-for-element-1\"><code>tagName</code></a> IDL attribute.\n\n </p>"
        },
        {
          "html": "<p>Return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-success\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-success-67\">success</a> with data <var>qualified name</var>.\n</p>"
        }
      ]
    },
    {
      "html": "The <a href=\"https://www.w3.org/TR/webdriver2/#dfn-remote-end-steps\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-remote-end-steps-44\">remote end steps</a>, given <var>session</var>, <var>URL\nvariables</var> and <var>parameters</var> are:",
      "rationale": "if",
      "steps": [
        {
          "html": "<p>If <var>session</var>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-current-browsing-context\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-current-browsing-context-54\">current browsing context</a>\n  is <a href=\"https://www.w3.org/TR/webdriver2/#dfn-no-longer-open\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-no-longer-open-35\">no longer open</a>, return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-143\">error</a> with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-133\">error\n  code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-no-such-window\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-no-such-window-36\">no such window</a>.\n\n </p>"
        },
        {
          "html": "<p><a href=\"https://www.w3.org/TR/webdriver2/#dfn-try\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-try-73\">Try</a> to <a href=\"https://www.w3.org/TR/webdriver2/#dfn-handle-any-user-prompts\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-handle-any-user-prompts-34\">handle any user prompts</a>\n  with <var>session</var>.\n\n </p>"
        },
        {
          "html": "<p>Let <var>element</var> be the result\n  of <a href=\"https://www.w3.org/TR/webdriver2/#dfn-try\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-try-74\">trying</a> to <a href=\"https://www.w3.org/TR/webdriver2/#dfn-get-a-known-element\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-get-a-known-element-12\">get a known element</a>\n  with <var>session</var> and <var>URL variables</var>[\"<code>element id</code>\"].\n\n </p>"
        },
        {
          "html": "<p>Let <var>coordinates</var> be <a href=\"https://www.w3.org/TR/webdriver2/#dfn-calculate-the-absolute-position\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-calculate-the-absolute-position-1\">calculate the absolute\n  position</a> with <var>session</var> and <var>element</var>.\n\n </p>"
        },
        {
          "html": "<p>Let <var>rect</var> be <var>element</var>'s\n  <a href=\"https://www.w3.org/TR/webdriver2/#dfn-bounding-rectangle\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-bounding-rectangle-3\">bounding rectangle</a>.\n\n </p>"
        },
        {
          "html": "<p>Let <var>body</var> be a new JSON <a href=\"https://www.w3.org/TR/webdriver2/#dfn-object\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-object-39\">Object</a> initialized with:\n\n  </p><dl>\n   <dt>\"<code>x</code>\"\n   </dt><dd>The first value of <var>coordinates</var>.\n\n   </dd><dt>\"<code>y</code>\"\n   </dt><dd>The second value of <var>coordinates</var>.\n\n   </dd><dt>\"<code>width</code>\"\n   </dt><dd>Value of <var>rect</var>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-width-dimension\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-width-dimension-3\">width dimension</a>.\n\n   </dd><dt>\"<code>height</code>\"\n   </dt><dd>Value of <var>rect</var>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-height-dimension\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-height-dimension-3\">height dimension</a>.\n  </dd></dl>"
        },
        {
          "html": "<p>Return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-success\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-success-68\">success</a> with data <var>body</var>.\n</p>"
        }
      ]
    },
    {
      "html": "The <a href=\"https://www.w3.org/TR/webdriver2/#dfn-remote-end-steps\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-remote-end-steps-45\">remote end steps</a>, given <var>session</var>, <var>URL\nvariables</var> and <var>parameters</var> are:",
      "rationale": "if",
      "steps": [
        {
          "html": "<p>If <var>session</var>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-current-browsing-context\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-current-browsing-context-55\">current browsing context</a>\n  is <a href=\"https://www.w3.org/TR/webdriver2/#dfn-no-longer-open\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-no-longer-open-36\">no longer open</a>, return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-144\">error</a> with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-134\">error\n  code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-no-such-window\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-no-such-window-37\">no such window</a>.\n\n </p>"
        },
        {
          "html": "<p><a href=\"https://www.w3.org/TR/webdriver2/#dfn-try\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-try-75\">Try</a> to <a href=\"https://www.w3.org/TR/webdriver2/#dfn-handle-any-user-prompts\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-handle-any-user-prompts-35\">handle any user prompts</a>\n  with <var>session</var>.\n\n </p>"
        },
        {
          "html": "<p>Let <var>element</var> be the result of <a href=\"https://www.w3.org/TR/webdriver2/#dfn-try\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-try-76\">trying</a>\n  to <a href=\"https://www.w3.org/TR/webdriver2/#dfn-get-a-known-element\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-get-a-known-element-13\">get a known element</a> with <var>session</var> and <var>URL\n  variables</var>[<var>element id</var>].\n\n </p>"
        },
        {
          "html": "<p>Let <var>enabled</var> be a boolean initially set to true\n  if <var>session</var>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-current-browsing-context\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-current-browsing-context-56\">current browsing context</a>'s\n  <a data-link-type=\"dfn|abstract-op\" href=\"https://www.w3.org/TR/webdriver2/#dfn-active-document\" class=\"internalDFN\" id=\"ref-for-dfn-active-document-18\">active document</a>'s <a data-link-type=\"dfn\" href=\"https://dom.spec.whatwg.org/#concept-document-type\" id=\"ref-for-index-term-type-for-document-2\">type</a> is not\n  \"<code>xml</code>\".\n\n  </p><p>Otherwise, let <var>enabled</var> to false\n   and jump to the last step of this algorithm.\n\n </p>"
        },
        {
          "html": "<p>Set <var>enabled</var> to false if a form control is <a href=\"https://www.w3.org/TR/webdriver2/#dfn-disabled\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-disabled-2\">disabled</a>.\n\n </p>"
        },
        {
          "html": "<p>Return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-success\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-success-69\">success</a> with data <var>enabled</var>.\n</p>"
        }
      ]
    },
    {
      "html": "The <a href=\"https://www.w3.org/TR/webdriver2/#dfn-remote-end-steps\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-remote-end-steps-46\">remote end steps</a>, given <var>session</var>, <var>URL\nvariables</var> and <var>parameters</var> are:",
      "rationale": "if",
      "steps": [
        {
          "html": "<p>If <var>session</var>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-current-browsing-context\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-current-browsing-context-57\">current browsing context</a> is <a href=\"https://www.w3.org/TR/webdriver2/#dfn-no-longer-open\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-no-longer-open-37\">no longer open</a>,\n        return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-145\">error</a> with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-135\">error code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-no-such-window\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-no-such-window-38\">no such window</a>.\n\n    </p>"
        },
        {
          "html": "<p><a href=\"https://www.w3.org/TR/webdriver2/#dfn-try\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-try-77\">Try</a> to <a href=\"https://www.w3.org/TR/webdriver2/#dfn-handle-any-user-prompts\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-handle-any-user-prompts-36\">handle any user prompts</a>\n     with <var>session</var>.\n\n    </p>"
        },
        {
          "html": "<p>Let <var>element</var> be the result\n        of <a href=\"https://www.w3.org/TR/webdriver2/#dfn-try\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-try-78\">trying</a> to <a href=\"https://www.w3.org/TR/webdriver2/#dfn-get-a-known-element\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-get-a-known-element-14\">get a known element</a>\n        with <var>URL variables</var>[\"<code>element id</code>\"].\n\n    </p>"
        },
        {
          "html": "<p>Let <var>role</var> be the result of computing the <a href=\"https://www.w3.org/TR/webdriver2/#dfn-wai-aria-role\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-wai-aria-role-1\">WAI-ARIA role</a> of <var>element</var>.\n\n    </p>"
        },
        {
          "html": "<p>Return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-success\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-success-70\">success</a> with data <var>role</var>.\n  </p>"
        }
      ]
    },
    {
      "html": "The <a href=\"https://www.w3.org/TR/webdriver2/#dfn-remote-end-steps\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-remote-end-steps-47\">remote end steps</a>, given <var>session</var>, <var>URL\nvariables</var> and <var>parameters</var> are:",
      "rationale": "if",
      "steps": [
        {
          "html": "<p>If <var>session</var>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-current-browsing-context\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-current-browsing-context-58\">current browsing context</a> is <a href=\"https://www.w3.org/TR/webdriver2/#dfn-no-longer-open\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-no-longer-open-38\">no longer open</a>,\n          return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-146\">error</a> with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-136\">error code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-no-such-window\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-no-such-window-39\">no such window</a>.\n\n      </p>"
        },
        {
          "html": "<p><a href=\"https://www.w3.org/TR/webdriver2/#dfn-try\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-try-79\">Try</a> to <a href=\"https://www.w3.org/TR/webdriver2/#dfn-handle-any-user-prompts\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-handle-any-user-prompts-37\">handle any user prompts</a>\n          with <var>session</var>.\n\n      </p>"
        },
        {
          "html": "<p>Let <var>element</var> be the result of <a href=\"https://www.w3.org/TR/webdriver2/#dfn-try\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-try-80\">trying</a>\n          to <a href=\"https://www.w3.org/TR/webdriver2/#dfn-get-a-known-element\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-get-a-known-element-15\">get a known element</a> with <var>session</var>\n          and <var>URL variables</var>[\"<code>element id</code>\"].\n\n      </p>"
        },
        {
          "html": "<p>Let <var>label</var> be the result of a <a href=\"https://www.w3.org/TR/webdriver2/#dfn-accessible-name-and-description-computation\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-accessible-name-and-description-computation-1\">Accessible\n      Name and Description Computation</a> for the <a href=\"https://www.w3.org/TR/webdriver2/#dfn-accessible-name\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-accessible-name-1\">Accessible\n      Name</a> of the <var>element</var>.\n\n      </p>"
        },
        {
          "html": "<p>Return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-success\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-success-71\">success</a> with data <var>label</var>.\n    </p>"
        }
      ]
    },
    {
      "html": "The <a href=\"https://www.w3.org/TR/webdriver2/#dfn-remote-end-steps\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-remote-end-steps-48\">remote end steps</a>, given <var>session</var>, <var>URL\nvariables</var> and <var>parameters</var> are:",
      "rationale": ".algorithm",
      "steps": [
        {
          "html": "<p>If <var>session</var>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-current-browsing-context\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-current-browsing-context-59\">current browsing context</a>\n  is <a href=\"https://www.w3.org/TR/webdriver2/#dfn-no-longer-open\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-no-longer-open-39\">no longer open</a>, return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-149\">error</a> with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-137\">error\n  code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-no-such-window\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-no-such-window-40\">no such window</a>.\n\n </p>"
        },
        {
          "html": "<p><a href=\"https://www.w3.org/TR/webdriver2/#dfn-try\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-try-81\">Try</a> to <a href=\"https://www.w3.org/TR/webdriver2/#dfn-handle-any-user-prompts\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-handle-any-user-prompts-38\">handle any user prompts</a>\n  with <var>session</var>.\n\n </p>"
        },
        {
          "html": "<p>Let <var>element</var> be the result of <a href=\"https://www.w3.org/TR/webdriver2/#dfn-try\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-try-82\">trying</a>\n  to <a href=\"https://www.w3.org/TR/webdriver2/#dfn-get-a-known-element\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-get-a-known-element-16\">get a known element</a> with <var>session</var>\n  and <var>element id</var>.\n\n </p>"
        },
        {
          "html": "<p>If the <var>element</var> is\n  an <code><a data-link-type=\"element\" href=\"https://www.w3.org/TR/webdriver2/#dfn-input\" class=\"internalDFN\" id=\"ref-for-dfn-input-7\">input</a></code> element in the <a href=\"https://www.w3.org/TR/webdriver2/#dfn-file-upload-state\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-file-upload-state-2\">file upload state</a>\n  return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-150\">error</a> with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-138\">error code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-invalid-argument\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-invalid-argument-46\">invalid argument</a>.\n\n </p>"
        },
        {
          "html": "<p><a href=\"https://www.w3.org/TR/webdriver2/#dfn-scrolls-into-view\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-scrolls-into-view-3\">Scroll into view</a> the <var>element</var>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-container\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-container-1\">container</a>.\n\n </p>"
        },
        {
          "html": "<p>If <var>element</var>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-container\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-container-2\">container</a> is still not <a href=\"https://www.w3.org/TR/webdriver2/#dfn-in-view\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-in-view-2\">in view</a>,\n  return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-151\">error</a> with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-139\">error code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-element-not-interactable\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-element-not-interactable-2\">element not interactable</a>.\n\n </p>"
        },
        {
          "html": "<p>If <var>element</var>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-container\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-container-3\">container</a>\n  is <a href=\"https://www.w3.org/TR/webdriver2/#dfn-obscuring\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-obscuring-5\">obscured</a> by another <a data-link-type=\"dfn\" href=\"https://dom.spec.whatwg.org/#concept-element\" id=\"ref-for-index-term-element-33\">element</a>,\n  return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-152\">error</a> with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-140\">error code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-element-click-intercepted\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-element-click-intercepted-2\">element click intercepted</a>.\n\n </p>"
        },
        {
          "html": "Matching on <var>element</var>:",
          "rationale": ".switch",
          "steps": [
            {
              "operation": "switch",
              "steps": [
                {
                  "case": "option element",
                  "html": "",
                  "rationale": "let",
                  "steps": [
                    {
                      "html": "<p>Let <var>parent node</var> be the <var>element</var>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-container\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-container-4\">container</a>.\n\n       </p>"
                    },
                    {
                      "html": "<p><a data-link-type=\"dfn\" data-lt=\"fire an event\" href=\"https://dom.spec.whatwg.org/#concept-event-fire\" id=\"ref-for-index-term-fire-an-event-6\">Fire</a> a <a href=\"https://www.w3.org/TR/webdriver2/#dfn-mouseover-event\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-mouseover-event-1\">mouseOver event</a> at <var>parent node</var>.\n\n       </p>"
                    },
                    {
                      "html": "<p><a data-link-type=\"dfn\" data-lt=\"fire an event\" href=\"https://dom.spec.whatwg.org/#concept-event-fire\" id=\"ref-for-index-term-fire-an-event-7\">Fire</a> a <a href=\"https://www.w3.org/TR/webdriver2/#dfn-mousemove-event\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-mousemove-event-1\">mouseMove event</a> at <var>parent node</var>.\n\n       </p>"
                    },
                    {
                      "html": "<p><a data-link-type=\"dfn\" data-lt=\"fire an event\" href=\"https://dom.spec.whatwg.org/#concept-event-fire\" id=\"ref-for-index-term-fire-an-event-8\">Fire</a> a <a href=\"https://www.w3.org/TR/webdriver2/#dfn-mousedown-event\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-mousedown-event-1\">mouseDown event</a> at <var>parent node</var>.\n\n       </p>"
                    },
                    {
                      "html": "<p>Run the <a href=\"https://www.w3.org/TR/webdriver2/#dfn-focusing-steps\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-focusing-steps-2\">focusing steps</a> on <var>parent node</var>.\n\n       </p>"
                    },
                    {
                      "html": "If <var>element</var> is not <a href=\"https://www.w3.org/TR/webdriver2/#dfn-disabled\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-disabled-3\">disabled</a>:",
                      "rationale": "fire",
                      "steps": [
                        {
                          "html": "<p><a data-link-type=\"dfn\" data-lt=\"fire an event\" href=\"https://dom.spec.whatwg.org/#concept-event-fire\" id=\"ref-for-index-term-fire-an-event-9\">Fire</a> an <a href=\"https://www.w3.org/TR/webdriver2/#dfn-input\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-input-8\"><code>input</code></a> event at <var>parent node</var>.\n\n         </p>"
                        },
                        {
                          "html": "<p>Let <var>previous selectedness</var> be equal\n          to <var>element</var> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-selectedness\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-selectedness-2\">selectedness</a>.\n\n         </p>"
                        },
                        {
                          "html": "<p>If <var>element</var>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-container\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-container-5\">container</a>\n          has the <a href=\"https://www.w3.org/TR/webdriver2/#dfn-multiple-attribute\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-multiple-attribute-1\"><code>multiple</code> attribute</a>,\n          toggle the <var>element</var>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-selectedness\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-selectedness-3\">selectedness</a> state\n          by setting it to the opposite value of its current <a href=\"https://www.w3.org/TR/webdriver2/#dfn-selectedness\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-selectedness-4\">selectedness</a>.\n\n          </p><p>Otherwise,\n           set the <var>element</var>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-selectedness\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-selectedness-5\">selectedness</a> state to true.\n\n         </p>"
                        },
                        {
                          "html": "<p>If <var>previous selectedness</var> is false,\n          <a data-link-type=\"dfn\" data-lt=\"fire an event\" href=\"https://dom.spec.whatwg.org/#concept-event-fire\" id=\"ref-for-index-term-fire-an-event-10\">fire</a> a <a href=\"https://www.w3.org/TR/webdriver2/#dfn-change\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-change-1\"><code>change</code></a> event\n          at <var>parent node</var>.\n        </p>"
                        }
                      ]
                    },
                    {
                      "html": "<p><a data-link-type=\"dfn\" data-lt=\"fire an event\" href=\"https://dom.spec.whatwg.org/#concept-event-fire\" id=\"ref-for-index-term-fire-an-event-11\">Fire</a> a <a href=\"https://www.w3.org/TR/webdriver2/#dfn-mouseup-event\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-mouseup-event-1\">mouseUp event</a> at <var>parent node</var>.\n\n       </p>"
                    },
                    {
                      "html": "<p><a data-link-type=\"dfn\" data-lt=\"fire an event\" href=\"https://dom.spec.whatwg.org/#concept-event-fire\" id=\"ref-for-index-term-fire-an-event-12\">Fire</a> a <a href=\"https://www.w3.org/TR/webdriver2/#dfn-click-event\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-click-event-1\">click event</a> at <var>parent node</var>.\n     </p>"
                    }
                  ]
                },
                {
                  "case": "Otherwise",
                  "html": "",
                  "rationale": "let",
                  "steps": [
                    {
                      "html": "<p>Let <var>input state</var> be the result of <a href=\"https://www.w3.org/TR/webdriver2/#dfn-get-the-input-state\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-get-the-input-state-1\">get the\n     input state</a> given <var>session</var>\n     and <var>session</var>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-current-top-level-browsing-context\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-current-top-level-browsing-context-62\">current top-level browsing\n     context</a>.\n\n     </p>"
                    },
                    {
                      "html": "<p>Let <var>actions options</var> be a new <a href=\"https://www.w3.org/TR/webdriver2/#dfn-actions-options\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-actions-options-1\">actions options</a>\n     with the <a href=\"https://www.w3.org/TR/webdriver2/#dfn-is-element-origin\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-is-element-origin-1\">is element origin</a> steps set to <a href=\"https://www.w3.org/TR/webdriver2/#dfn-represents-a-web-element\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-represents-a-web-element-4\">represents a web\n     element</a>, and the <a href=\"https://www.w3.org/TR/webdriver2/#dfn-get-element-origin\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-get-element-origin-1\">get element origin</a> steps set\n     to <a href=\"https://www.w3.org/TR/webdriver2/#dfn-get-a-webelement-origin\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-get-a-webelement-origin-1\">get a WebElement origin</a>.\n\n     </p>"
                    },
                    {
                      "html": "<p>Let <var>input id</var> be a the result of <a href=\"https://www.w3.org/TR/webdriver2/#dfn-generating-a-uuid\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-generating-a-uuid-2\">generating a\n     UUID</a>.\n\n     </p>"
                    },
                    {
                      "html": "<p>Let <var>source</var> be the result of <a href=\"https://www.w3.org/TR/webdriver2/#dfn-create-an-input-source\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-create-an-input-source-1\">create an input\n     source</a> with <var>input state</var>, and \"<code>pointer</code>\".\n\n     </p>"
                    },
                    {
                      "html": "<p><a href=\"https://www.w3.org/TR/webdriver2/#dfn-add-an-input-source\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-add-an-input-source-1\">Add an input source</a> with <var>input\n     state</var>, <var>input id</var> and <var>source</var>.\n\n     </p>"
                    },
                    {
                      "html": "<p>Let <var>click point</var> be\n      the <var>element</var>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-center-point\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-center-point-9\">in-view center point</a>.\n\n     </p>"
                    },
                    {
                      "html": "<p>Let <var>pointer move action</var> be an <a href=\"https://www.w3.org/TR/webdriver2/#dfn-action-object\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-action-object-1\">action\n      object</a> constructed with arguments <var>input id</var>,\n      \"<code>pointer</code>\", and \"<code>pointerMove</code>\".\n\n     </p>"
                    },
                    {
                      "html": "<p><a href=\"https://www.w3.org/TR/webdriver2/#dfn-set-a-property\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-set-a-property-8\">Set a property</a> <code>x</code> to <code>0</code> on\n      <var>pointer move action</var>.\n\n     </p>"
                    },
                    {
                      "html": "<p><a href=\"https://www.w3.org/TR/webdriver2/#dfn-set-a-property\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-set-a-property-9\">Set a property</a> <code>y</code> to <code>0</code> on\n      <var>pointer move action</var>.\n\n     </p>"
                    },
                    {
                      "html": "<p><a href=\"https://www.w3.org/TR/webdriver2/#dfn-set-a-property\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-set-a-property-10\">Set a property</a> <code>origin</code>\n      to <var>element</var> on <var>pointer move action</var>.\n\n     </p>"
                    },
                    {
                      "html": "<p>Let <var>pointer down action</var> be an <a href=\"https://www.w3.org/TR/webdriver2/#dfn-action-object\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-action-object-2\">action\n      object</a> constructed with arguments <var>input id</var>,\n      \"<code>pointer</code>\", and \"<code>pointerDown</code>\".\n\n     </p>"
                    },
                    {
                      "html": "<p><a href=\"https://www.w3.org/TR/webdriver2/#dfn-set-a-property\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-set-a-property-11\">Set a property</a> <code>button</code>  to <code>0</code>\n      on <var>pointer down action</var>.\n\n     </p>"
                    },
                    {
                      "html": "<p>Let <var>pointer up action</var> be an <a href=\"https://www.w3.org/TR/webdriver2/#dfn-action-object\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-action-object-3\">action\n      object</a> constructed with arguments <var>input id</var>,\n      \"<code>pointer</code>\", and \"<code>pointerUp</code>\" as arguments.\n\n     </p>"
                    },
                    {
                      "html": "<p><a href=\"https://www.w3.org/TR/webdriver2/#dfn-set-a-property\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-set-a-property-12\">Set a property</a> <code>button</code>\n      to <code>0</code> on <var>pointer up action</var>.\n\n     </p>"
                    },
                    {
                      "html": "<p>Let <var>actions</var> be the list «<var>pointer move\n     action</var>, <var>pointer down action</var>, <var>pointer up\n     action</var>».\n\n     </p>"
                    },
                    {
                      "html": "<p><a href=\"https://www.w3.org/TR/webdriver2/#dfn-dispatch-a-list-of-actions\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-dispatch-a-list-of-actions-1\">Dispatch a list of actions</a> with <var>input\n     state</var>, <var>actions</var>, <var>session</var>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-current-browsing-context\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-current-browsing-context-60\">current\n     browsing context</a>, and <var>actions options</var>.\n\n     </p>"
                    },
                    {
                      "html": "<p><a href=\"https://www.w3.org/TR/webdriver2/#dfn-remove-an-input-source\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-remove-an-input-source-1\">Remove an input source</a> with <var>input state</var>\n     and <var>input id</var>.\n    </p>"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "html": "<p>Wait until the user agent event loop has spun enough times to\n  process the DOM events generated by the previous step.\n\n </p>"
        },
        {
          "html": "<p>Perform implementation-defined steps to allow\n  any <a data-lt=\"navigation\" href=\"https://www.w3.org/TR/webdriver2/#dfn-navigating\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-navigating-8\">navigations</a> triggered by the click\n  to start.\n\n  </p>"
        },
        {
          "html": "<p><a href=\"https://www.w3.org/TR/webdriver2/#dfn-try\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-try-83\">Try</a> to <a href=\"https://www.w3.org/TR/webdriver2/#dfn-wait-for-navigation-to-complete\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-wait-for-navigation-to-complete-5\">wait for navigation to complete</a>\n with <var>session</var>.\n\n </p>"
        },
        {
          "html": "<p><a href=\"https://www.w3.org/TR/webdriver2/#dfn-try\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-try-84\">Try</a> to run the <a href=\"https://www.w3.org/TR/webdriver2/#dfn-post-navigation-checks\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-post-navigation-checks-4\">post-navigation checks</a>.\n\n </p>"
        },
        {
          "html": "<p>Return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-success\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-success-72\">success</a> with data <a href=\"https://www.w3.org/TR/webdriver2/#dfn-null\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-null-43\"><code>null</code></a>.\n</p>"
        }
      ]
    },
    {
      "name": "clear a content editable element",
      "href": "https://www.w3.org/TR/webdriver2/#dfn-clear-a-content-editable-element",
      "html": "To <dfn id=\"dfn-clear-a-content-editable-element\" tabindex=\"0\" aria-haspopup=\"dialog\" data-dfn-type=\"dfn\">clear a content editable element</dfn>:",
      "rationale": ".algorithm",
      "steps": [
        {
          "html": "<p>If <var>element</var>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-innerhtml-idl-attribute\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-innerhtml-idl-attribute-1\"><code>innerHTML</code> IDL attribute</a>\n  is an empty string do nothing and return.\n\n </p>"
        },
        {
          "html": "<p>Run the <a href=\"https://www.w3.org/TR/webdriver2/#dfn-focusing-steps\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-focusing-steps-3\">focusing steps</a> for <var>element</var>.\n\n </p>"
        },
        {
          "html": "<p>Set <var>element</var>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-innerhtml-idl-attribute\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-innerhtml-idl-attribute-2\"><code>innerHTML</code> IDL attribute</a>\n  to an empty string.\n\n </p>"
        },
        {
          "html": "<p>Run the <a href=\"https://www.w3.org/TR/webdriver2/#dfn-unfocusing-steps\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-unfocusing-steps-1\">unfocusing steps</a> for the <var>element</var>.\n</p>"
        }
      ]
    },
    {
      "name": "clear a resettable element",
      "href": "https://www.w3.org/TR/webdriver2/#dfn-clear-a-resettable-element",
      "html": "To <dfn id=\"dfn-clear-a-resettable-element\" tabindex=\"0\" aria-haspopup=\"dialog\" data-dfn-type=\"dfn\">clear a resettable element</dfn>:",
      "rationale": ".algorithm",
      "steps": [
        {
          "html": "Let <var>empty</var> be the result of the first matching condition:",
          "rationale": ".switch",
          "steps": [
            {
              "operation": "switch",
              "steps": [
                {
                  "case": "element is an input element whose type attribute is in the File Upload state",
                  "html": "True if the list of <a href=\"https://www.w3.org/TR/webdriver2/#dfn-selected-files\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-selected-files-2\">selected files</a> has a length of 0,\n    and false otherwise."
                },
                {
                  "case": "Otherwise",
                  "html": "True if its <a href=\"https://www.w3.org/TR/webdriver2/#dfn-value\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-value-2\">value</a> IDL attribute is an empty string,\n    and false otherwise."
                }
              ]
            }
          ]
        },
        {
          "html": "<p>If <var>element</var> is a <a href=\"https://www.w3.org/TR/webdriver2/#dfn-candidate-for-constraint-validation\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-candidate-for-constraint-validation-1\">candidate for constraint validation</a>\n  it <a href=\"https://www.w3.org/TR/webdriver2/#dfn-satisfies-its-constraints\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-satisfies-its-constraints-1\">satisfies its constraints</a>,\n  and <var>empty</var> is true,\n  abort these substeps.\n\n </p>"
        },
        {
          "html": "<p>Invoke the <a href=\"https://www.w3.org/TR/webdriver2/#dfn-focusing-steps\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-focusing-steps-4\">focusing steps</a> for <var>element</var>.\n\n </p>"
        },
        {
          "html": "<p>Invoke the <a href=\"https://www.w3.org/TR/webdriver2/#dfn-clear-algorithm\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-clear-algorithm-6\">clear algorithm</a> for <var>element</var>.\n\n </p>"
        },
        {
          "html": "<p>Invoke the <a href=\"https://www.w3.org/TR/webdriver2/#dfn-unfocusing-steps\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-unfocusing-steps-2\">unfocusing steps</a> for the <var>element</var>.\n</p>"
        }
      ]
    },
    {
      "html": "The <a href=\"https://www.w3.org/TR/webdriver2/#dfn-remote-end-steps\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-remote-end-steps-49\">remote end steps</a>, given <var>session</var>, <var>URL\nvariables</var> and <var>parameters</var> are:",
      "rationale": ".algorithm",
      "steps": [
        {
          "html": "<p>If <var>session</var>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-current-browsing-context\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-current-browsing-context-61\">current browsing context</a>\n  is <a href=\"https://www.w3.org/TR/webdriver2/#dfn-no-longer-open\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-no-longer-open-40\">no longer open</a>, return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-153\">error</a> with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-141\">error\n  code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-no-such-window\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-no-such-window-41\">no such window</a>.\n\n </p>"
        },
        {
          "html": "<p><a href=\"https://www.w3.org/TR/webdriver2/#dfn-try\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-try-85\">Try</a> to <a href=\"https://www.w3.org/TR/webdriver2/#dfn-handle-any-user-prompts\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-handle-any-user-prompts-39\">handle any user prompts</a>\n  with <var>session</var>.\n\n </p>"
        },
        {
          "html": "<p>Let <var>element</var> be the result\n  of <a href=\"https://www.w3.org/TR/webdriver2/#dfn-try\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-try-86\">trying</a> to <a href=\"https://www.w3.org/TR/webdriver2/#dfn-get-a-known-element\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-get-a-known-element-17\">get a known element</a>\n  with <var>session</var> and <var>element id</var>.\n\n </p>"
        },
        {
          "html": "<p>If <var>element</var> is not <a href=\"https://www.w3.org/TR/webdriver2/#dfn-editable\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-editable-2\">editable</a>,\n  return an <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-154\">error</a> with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-142\">error code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-invalid-element-state\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-invalid-element-state-1\">invalid element state</a>.\n\n </p>"
        },
        {
          "html": "<p><a href=\"https://www.w3.org/TR/webdriver2/#dfn-scrolls-into-view\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-scrolls-into-view-4\">Scroll into view</a> the <var>element</var>.\n\n </p>"
        },
        {
          "html": "<p>Let <var>timeout</var> be <var>session</var>'s\n <a href=\"https://www.w3.org/TR/webdriver2/#dfn-session-timeouts\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-session-timeouts-9\">session timeouts</a>' <a data-link-type=\"dfn|abstract-op\" href=\"https://www.w3.org/TR/webdriver2/#dfn-implicit-wait-timeout\" class=\"internalDFN\" id=\"ref-for-dfn-implicit-wait-timeout-4\">implicit wait timeout</a>.\n\n </p>"
        },
        {
          "html": "<p>Let <var>timer</var> be a new <a href=\"https://www.w3.org/TR/webdriver2/#dfn-timer\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-timer-6\">timer</a>.\n\n </p>"
        },
        {
          "html": "If <var>timeout</var> is not null:",
          "rationale": "start",
          "steps": [
            {
              "html": "<p><a href=\"https://www.w3.org/TR/webdriver2/#dfn-start-the-timer\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-start-the-timer-6\">Start the timer</a> with <var>timer</var>\n   and <var>timeout</var>.\n </p>"
            }
          ]
        },
        {
          "html": "<p>Wait for <var>element</var> to become <a href=\"https://www.w3.org/TR/webdriver2/#dfn-interactable\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-interactable-3\">interactable</a>,\n or <var>timer</var>'s <a data-link-type=\"dfn|abstract-op\" href=\"https://www.w3.org/TR/webdriver2/#dfn-timeout-fired-flag\" class=\"internalDFN\" id=\"ref-for-dfn-timeout-fired-flag-9\">timeout fired flag</a> to be set,\n whichever occurs first.\n\n </p>"
        },
        {
          "html": "<p>If <var>element</var> is not <a href=\"https://www.w3.org/TR/webdriver2/#dfn-interactable\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-interactable-4\">interactable</a>,\n  return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-155\">error</a> with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-143\">error code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-element-not-interactable\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-element-not-interactable-3\">element not interactable</a>.\n\n </p>"
        },
        {
          "html": "Run the substeps of the first matching statement:",
          "rationale": ".switch",
          "steps": [
            {
              "operation": "switch",
              "steps": [
                {
                  "case": "element is a mutable form control element",
                  "html": "<p>Invoke the steps to <a href=\"https://www.w3.org/TR/webdriver2/#dfn-clear-a-resettable-element\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-clear-a-resettable-element-1\">clear a resettable element</a>.\n\n   </p>"
                },
                {
                  "case": "element is a mutable element",
                  "html": "<p>Invoke the steps to <a href=\"https://www.w3.org/TR/webdriver2/#dfn-clear-a-content-editable-element\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-clear-a-content-editable-element-1\">clear a content editable element</a>.\n\n   </p>"
                },
                {
                  "case": "Otherwise",
                  "html": "<p>Return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-156\">error</a> with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-144\">error code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-invalid-element-state\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-invalid-element-state-2\">invalid element state</a>.\n  </p>"
                }
              ]
            }
          ]
        },
        {
          "html": "<p>Return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-success\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-success-73\">success</a> with data <a href=\"https://www.w3.org/TR/webdriver2/#dfn-null\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-null-44\"><code>null</code></a>.\n</p>"
        }
      ]
    },
    {
      "name": "clear the modifier key state",
      "href": "https://www.w3.org/TR/webdriver2/#dfn-clear-the-modifier-key-state",
      "html": "To <dfn id=\"dfn-clear-the-modifier-key-state\" tabindex=\"0\" aria-haspopup=\"dialog\" data-dfn-type=\"dfn\">clear the modifier key state</dfn> given <var>input\n state</var>, <var>input id</var>, <var>source</var>, <var>undo\n actions</var>, and <var>browsing context</var>:",
      "rationale": ".algorithm",
      "steps": [
        {
          "html": "<p>If <var>source</var> is not a <a href=\"https://www.w3.org/TR/webdriver2/#dfn-key-input-source\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-key-input-source-2\">key input source</a>\n  return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-158\">error</a> with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-145\">error code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-invalid-argument\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-invalid-argument-47\">invalid argument</a>.\n\n </p>"
        },
        {
          "html": "<p>Let <var>actions options</var> be a new <a href=\"https://www.w3.org/TR/webdriver2/#dfn-actions-options\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-actions-options-2\">actions options</a>\n  with the <a href=\"https://www.w3.org/TR/webdriver2/#dfn-is-element-origin\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-is-element-origin-2\">is element origin</a> steps set to <a href=\"https://www.w3.org/TR/webdriver2/#dfn-represents-a-web-element\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-represents-a-web-element-5\">represents a web\n  element</a>, and the <a href=\"https://www.w3.org/TR/webdriver2/#dfn-get-element-origin\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-get-element-origin-2\">get element origin</a> steps set\n  to <a href=\"https://www.w3.org/TR/webdriver2/#dfn-get-a-webelement-origin\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-get-a-webelement-origin-2\">get a WebElement origin</a>.\n\n </p>"
        },
        {
          "html": "For each <var>entry key</var>\n  in the lexically sorted keys of <var>undo actions</var>:",
          "rationale": "let",
          "steps": [
            {
              "html": "<p>Let <var>action</var> be the value of <var>undo actions</var>\n    equal to the key <var>entry key</var>.\n\n   </p>"
            },
            {
              "html": "<p>If <var>action</var> is not an <a href=\"https://www.w3.org/TR/webdriver2/#dfn-action-object\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-action-object-4\">action object</a> with\n    type \"<code>key</code>\" and subtype \"<code>keyUp</code>\",\n    return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-159\">error</a> with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-146\">error code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-invalid-argument\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-invalid-argument-48\">invalid\n    argument</a>.\n\n   </p>"
            },
            {
              "html": "<p>Let <var>actions</var> be the list «<var>action</var>»\n\n   </p>"
            },
            {
              "html": "<p><a href=\"https://www.w3.org/TR/webdriver2/#dfn-dispatch-a-list-of-actions\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-dispatch-a-list-of-actions-2\">Dispatch a list of actions</a> with <var>input\n   state</var>, <var>actions</var>, <var>browsing context</var>,\n   and <a href=\"https://www.w3.org/TR/webdriver2/#dfn-actions-options\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-actions-options-3\">actions options</a>.\n  </p>"
            }
          ]
        }
      ]
    },
    {
      "name": "dispatch the events for a typeable string",
      "href": "https://www.w3.org/TR/webdriver2/#dfn-dispatch-the-events-for-a-typeable-string",
      "html": "To <dfn id=\"dfn-dispatch-the-events-for-a-typeable-string\" tabindex=\"0\" aria-haspopup=\"dialog\" data-dfn-type=\"dfn\">dispatch the events for a typeable string</dfn>\ngiven <var>input state</var>, <var>input id</var>, <var>source</var>,\n<var>text</var>, and <var>browsing context</var>:",
      "rationale": ".algorithm",
      "steps": [
        {
          "html": "<p>Let <var>actions options</var> be a new <a href=\"https://www.w3.org/TR/webdriver2/#dfn-actions-options\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-actions-options-4\">actions options</a>\n  with the <a href=\"https://www.w3.org/TR/webdriver2/#dfn-is-element-origin\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-is-element-origin-3\">is element origin</a> steps set to <a href=\"https://www.w3.org/TR/webdriver2/#dfn-represents-a-web-element\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-represents-a-web-element-6\">represents a web\n  element</a>, and the <a href=\"https://www.w3.org/TR/webdriver2/#dfn-get-element-origin\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-get-element-origin-3\">get element origin</a> steps set\n  to <a href=\"https://www.w3.org/TR/webdriver2/#dfn-get-a-webelement-origin\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-get-a-webelement-origin-3\">get a WebElement origin</a>.\n\n </p>"
        },
        {
          "html": "For each <var>char</var> of <var>text</var>:",
          "rationale": "let",
          "steps": [
            {
              "html": "<p>Let <var>global key state</var> be the result of <a href=\"https://www.w3.org/TR/webdriver2/#dfn-get-the-global-key-state\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-get-the-global-key-state-1\">get the\n   global key state</a> with <var>input state</var>.\n\n   </p>"
            },
            {
              "html": "If <var>char</var> is a <a href=\"https://www.w3.org/TR/webdriver2/#dfn-shifted-character\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-shifted-character-1\">shifted character</a>, and\n   the <a href=\"https://www.w3.org/TR/webdriver2/#dfn-shifted-state\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-shifted-state-1\">shifted state</a> of <var>source</var> is false:",
              "rationale": "let",
              "steps": [
                {
                  "html": "<p>Let <var>action</var> be an <a href=\"https://www.w3.org/TR/webdriver2/#dfn-action-object\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-action-object-5\">action object</a>\n      constructed with <var>input id</var>, \"<code>key</code>\", and\n      \"<code>keyDown</code>\", and set its <code>value</code> property\n      to U+E008 (\"left shift\").</p>"
                },
                {
                  "html": "<p>Let <var>actions</var> be the list «<var>action</var>».\n\n      </p>"
                },
                {
                  "html": "<p><a href=\"https://www.w3.org/TR/webdriver2/#dfn-dispatch-a-list-of-actions\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-dispatch-a-list-of-actions-3\">Dispatch a list of actions</a> with <var>input\n      state</var>, <var>actions</var>, and <var>browsing context</var>.\n    </p>"
                }
              ]
            },
            {
              "html": "If <var>char</var> is not a <a href=\"https://www.w3.org/TR/webdriver2/#dfn-shifted-character\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-shifted-character-2\">shifted character</a>\n   and the <a href=\"https://www.w3.org/TR/webdriver2/#dfn-shifted-state\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-shifted-state-2\">shifted state</a> of <var>source</var> is true:",
              "rationale": "let",
              "steps": [
                {
                  "html": "<p>Let <var>action</var> be an <a href=\"https://www.w3.org/TR/webdriver2/#dfn-action-object\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-action-object-6\">action object</a>\n     constructed with <var>input id</var>, \"<code>key</code>\", and\n     \"<code>keyUp</code>\", and set its <code>value</code> property to\n     U+E008 (\"left shift\").</p>"
                },
                {
                  "html": "<p>Let <var>tick actions</var> be the list «<var>action</var>».\n\n     </p>"
                },
                {
                  "html": "<p><a href=\"https://www.w3.org/TR/webdriver2/#dfn-dispatch-a-list-of-actions\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-dispatch-a-list-of-actions-4\">Dispatch a list of actions</a> with <var>input\n     state</var>, <var>actions</var>, <var>browsing context</var>,\n     and <var>actions options</var>.\n    </p>"
                }
              ]
            },
            {
              "html": "<p>Let <var>keydown action</var> be an <a href=\"https://www.w3.org/TR/webdriver2/#dfn-action-object\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-action-object-7\">action object</a>\n   constructed with arguments <var>input id</var>, \"<code>key</code>\",\n   and \"<code>keyDown</code>\".\n\n   </p>"
            },
            {
              "html": "<p>Set the <code>value</code> property of <var>keydown\n   action</var> to <var>char</var>.\n\n   </p>"
            },
            {
              "html": "<p>Let <var>keyup action</var> be a copy of <var>keydown action</var>\n   with the subtype property changed to \"<code>keyUp</code>\".\n\n   </p>"
            },
            {
              "html": "<p>Let <var>actions</var> be the list «<var>keydown\n   action</var>, <var>keyup action</var>».\n\n   </p>"
            },
            {
              "html": "<p><a href=\"https://www.w3.org/TR/webdriver2/#dfn-dispatch-a-list-of-actions\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-dispatch-a-list-of-actions-5\">Dispatch a list of actions</a> with <var>input\n   state</var>, <var>actions</var>, <var>browsing context</var>,\n   and <var>actions options</var>.\n  </p>"
            }
          ]
        }
      ]
    },
    {
      "name": "dispatch actions for a string",
      "href": "https://www.w3.org/TR/webdriver2/#dfn-dispatch-actions-for-a-string",
      "html": "To <dfn id=\"dfn-dispatch-actions-for-a-string\" tabindex=\"0\" aria-haspopup=\"dialog\" data-dfn-type=\"dfn\">dispatch actions for a string</dfn> given <var>input\nstate</var>, <var>input id</var>, <var>source</var>,\n<var>text</var>, <var>browsing context</var>, and <var>actions options</var>:",
      "rationale": ".algorithm",
      "steps": [
        {
          "html": "<p>Let <var>clusters</var> be an array created by\n <a href=\"https://www.w3.org/TR/webdriver2/#dfn-breaking-text-into-extended-grapheme-clusters\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-breaking-text-into-extended-grapheme-clusters-1\">breaking <var>text</var> into extended grapheme clusters</a>.\n\n </p>"
        },
        {
          "html": "<p>Let <var>undo actions</var> be an empty map.\n\n </p>"
        },
        {
          "html": "<p>Let <var>current typeable text</var> be an empty list.\n\n </p>"
        },
        {
          "html": "For each <var>cluster</var> corresponding to an indexed\n property in <var>clusters</var> run the substeps of the first matching\n statement:",
          "rationale": ".switch",
          "steps": [
            {
              "operation": "switch",
              "steps": [
                {
                  "case": "cluster is the null key",
                  "html": "",
                  "rationale": "dispatch",
                  "steps": [
                    {
                      "html": "<p><a href=\"https://www.w3.org/TR/webdriver2/#dfn-dispatch-the-events-for-a-typeable-string\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-dispatch-the-events-for-a-typeable-string-1\">Dispatch the events for a typeable string</a> with\n    <var>input state</var>, <var>input\n    id</var>, <var>source</var>, <var>current typeable text</var>,\n    and <var>browsing context</var>. Empty <var>current typeable\n    text</var>.\n\n    </p>"
                    },
                    {
                      "html": "<p><a href=\"https://www.w3.org/TR/webdriver2/#dfn-try\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-try-87\">Try</a> to <a href=\"https://www.w3.org/TR/webdriver2/#dfn-clear-the-modifier-key-state\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-clear-the-modifier-key-state-1\">clear the modifier key state</a> with\n    <var>input state</var>, <var>input id</var>, <var>source</var>,\n    <var>undo actions</var> and <var>browsing context</var>.\n\n    </p>"
                    },
                    {
                      "html": "<p>Clear <var>undo actions</var>.\n   </p>"
                    }
                  ]
                },
                {
                  "case": "cluster is a modifier key",
                  "html": "",
                  "rationale": "dispatch",
                  "steps": [
                    {
                      "html": "<p><a href=\"https://www.w3.org/TR/webdriver2/#dfn-dispatch-the-events-for-a-typeable-string\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-dispatch-the-events-for-a-typeable-string-2\">Dispatch the events for a typeable string</a> with\n    <var>input state</var>, <var>input id</var>, <var>source</var>,\n    <var>current typeable text</var>, and <var>browsing context</var>.\n\n    </p>"
                    },
                    {
                      "html": "<p>Empty<var>current typeable text</var>.\n\n    </p>"
                    },
                    {
                      "html": "<p>Let <var>keydown action</var> be an <a href=\"https://www.w3.org/TR/webdriver2/#dfn-action-object\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-action-object-8\">action object</a>\n    constructed with arguments <var>input id</var>,\n    \"<code>key</code>\", and \"<code>keyDown</code>\".\n\n   </p>"
                    },
                    {
                      "html": "<p>Set the <code>value</code> property of <var>keydown\n   action</var> to <var>cluster</var>.\n\n   </p>"
                    },
                    {
                      "html": "<p>Let <var>actions</var> be the list «<var>keydown\n   action</var>»\n\n   </p>"
                    },
                    {
                      "html": "<p><a href=\"https://www.w3.org/TR/webdriver2/#dfn-dispatch-a-list-of-actions\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-dispatch-a-list-of-actions-6\">Dispatch a list of actions</a> with <var>input\n   state</var>, <var>actions</var>, <var>browsing\n   context</var>, and <var>actions options</var>.\n\n   </p>"
                    },
                    {
                      "html": "<p>Add an entry to <var>undo actions</var> with\n   key <var>cluster</var> and value being a copy of <var>keydown\n   action</var> with the subtype property modified to\n   \"<code>keyUp</code>\".\n  </p>"
                    }
                  ]
                },
                {
                  "case": "cluster is typeable",
                  "html": "<p>Append <var>cluster</var> to <var>current typeable\n  text</var>.\n\n  </p>"
                },
                {
                  "case": "Otherwise",
                  "html": "",
                  "rationale": "dispatch",
                  "steps": [
                    {
                      "html": "<p><a href=\"https://www.w3.org/TR/webdriver2/#dfn-dispatch-the-events-for-a-typeable-string\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-dispatch-the-events-for-a-typeable-string-3\">Dispatch the events for a typeable string</a> with\n    <var>input state</var>, <var>input id</var>, <var>source</var>,\n    <var>current typeable text</var>, and <var>browsing context</var>.\n\n    </p>"
                    },
                    {
                      "html": "<p>Empty <var>current typeable text</var>.\n\n    </p>"
                    },
                    {
                      "html": "<p><a href=\"https://www.w3.org/TR/webdriver2/#dfn-dispatch-a-composition-event\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-dispatch-a-composition-event-1\">Dispatch a <code>composition event</code></a> with\n    arguments \"<code>compositionstart</code>\", <a href=\"https://www.w3.org/TR/webdriver2/#dfn-undefined\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-undefined-23\">undefined</a>,\n    and <var>browsing context</var>.\n\n    </p>"
                    },
                    {
                      "html": "<p><a href=\"https://www.w3.org/TR/webdriver2/#dfn-dispatch-a-composition-event\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-dispatch-a-composition-event-2\">Dispatch a <code>composition event</code></a> with arguments\n    \"<code>compositionupdate</code>\", <var>cluster</var>,\n    and <var>browsing context</var>.\n\n    </p>"
                    },
                    {
                      "html": "<p><a href=\"https://www.w3.org/TR/webdriver2/#dfn-dispatch-a-composition-event\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-dispatch-a-composition-event-3\">Dispatch a <code>composition event</code></a> with arguments\n    \"<code>compositionend</code>\", <var>cluster</var>,\n    and <var>browsing context</var>.\n   </p>"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "html": "<p><a href=\"https://www.w3.org/TR/webdriver2/#dfn-dispatch-the-events-for-a-typeable-string\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-dispatch-the-events-for-a-typeable-string-4\">Dispatch the events for a typeable string</a>\n with <var>input state</var>, <var>input id</var>\n and <var>source</var>, <var>current typeable text</var>,\n and <var>browsing context</var>.\n\n </p>"
        },
        {
          "html": "<p><a href=\"https://www.w3.org/TR/webdriver2/#dfn-try\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-try-88\">Try</a> to <a href=\"https://www.w3.org/TR/webdriver2/#dfn-clear-the-modifier-key-state\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-clear-the-modifier-key-state-2\">clear the modifier key state</a> with\n <var>input state</var>, <var>input id</var>, <var>source</var>,\n <var>undo actions</var>, and <var>browsing context</var>.\n</p>"
        }
      ]
    },
    {
      "html": "The <a href=\"https://www.w3.org/TR/webdriver2/#dfn-remote-end-steps\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-remote-end-steps-50\">remote end steps</a>, given <var>session</var>, <var>URL\nvariables</var> and <var>parameters</var> are:",
      "rationale": ".algorithm",
      "steps": [
        {
          "html": "<p>Let <var>text</var> be the result\n  of <a href=\"https://www.w3.org/TR/webdriver2/#dfn-getting-properties\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-getting-properties-36\">getting a property</a> named \"<code>text</code>\"\n  from <var>parameters</var>.\n\n </p>"
        },
        {
          "html": "<p>If <var>text</var> is not a <a href=\"https://www.w3.org/TR/webdriver2/#dfn-string\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-string-12\">String</a>,\n  return an <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-160\">error</a> with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-147\">error code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-invalid-argument\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-invalid-argument-49\">invalid argument</a>.\n\n </p>"
        },
        {
          "html": "<p>If <var>session</var>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-current-browsing-context\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-current-browsing-context-62\">current browsing context</a>\n  is <a href=\"https://www.w3.org/TR/webdriver2/#dfn-no-longer-open\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-no-longer-open-41\">no longer open</a>, return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-161\">error</a> with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-148\">error\n  code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-no-such-window\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-no-such-window-42\">no such window</a>.\n\n </p>"
        },
        {
          "html": "<p><a href=\"https://www.w3.org/TR/webdriver2/#dfn-try\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-try-89\">Try</a> to <a href=\"https://www.w3.org/TR/webdriver2/#dfn-handle-any-user-prompts\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-handle-any-user-prompts-40\">handle any user prompts</a>\n  with <var>session</var>.\n\n </p>"
        },
        {
          "html": "<p>Let <var>element</var> be the result of <a href=\"https://www.w3.org/TR/webdriver2/#dfn-try\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-try-90\">trying</a>\n  to <a href=\"https://www.w3.org/TR/webdriver2/#dfn-get-a-known-element\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-get-a-known-element-18\">get a known element</a> with <var>session</var> and <var>URL\n  variables</var>[<var>element id</var>].\n\n </p>"
        },
        {
          "html": "<p>Let <var>file</var> be true if <var>element</var> is\n   <code><a data-link-type=\"element\" href=\"https://www.w3.org/TR/webdriver2/#dfn-input\" class=\"internalDFN\" id=\"ref-for-dfn-input-13\">input</a></code> element in the <a href=\"https://www.w3.org/TR/webdriver2/#dfn-file-upload-state\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-file-upload-state-4\">file upload state</a>, or false\n   otherwise.\n\n </p>"
        },
        {
          "html": "If <var>file</var> is false or the <a href=\"https://www.w3.org/TR/webdriver2/#dfn-sessions\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-sessions-37\">session</a>'s\n  <a href=\"https://www.w3.org/TR/webdriver2/#dfn-strict-file-interactability\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-strict-file-interactability-4\">strict file interactability</a>, is true run the following substeps:",
          "rationale": "scroll",
          "steps": [
            {
              "html": "<p><a href=\"https://www.w3.org/TR/webdriver2/#dfn-scrolls-into-view\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-scrolls-into-view-6\">Scroll into view</a> the <var>element</var>.\n\n   </p>"
            },
            {
              "html": "<p>Let <var>timeout</var> be <var>session</var>'s\n   <a href=\"https://www.w3.org/TR/webdriver2/#dfn-session-timeouts\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-session-timeouts-10\">session timeouts</a>' <a data-link-type=\"dfn|abstract-op\" href=\"https://www.w3.org/TR/webdriver2/#dfn-implicit-wait-timeout\" class=\"internalDFN\" id=\"ref-for-dfn-implicit-wait-timeout-5\">implicit wait timeout</a>.\n\n   </p>"
            },
            {
              "html": "<p>Let <var>timer</var> be a new <a href=\"https://www.w3.org/TR/webdriver2/#dfn-timer\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-timer-7\">timer</a>.\n\n   </p>"
            },
            {
              "html": "If <var>timeout</var> is not null:",
              "rationale": "start",
              "steps": [
                {
                  "html": "<p><a href=\"https://www.w3.org/TR/webdriver2/#dfn-start-the-timer\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-start-the-timer-7\">Start the timer</a> with <var>timer</var>\n     and <var>timeout</var>.\n    </p>"
                }
              ]
            },
            {
              "html": "<p>Wait for <var>element</var> to\n   become <a href=\"https://www.w3.org/TR/webdriver2/#dfn-keyboard-interactable\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-keyboard-interactable-4\">keyboard-interactable</a>, or <var>timer</var>'s\n   <a data-link-type=\"dfn|abstract-op\" href=\"https://www.w3.org/TR/webdriver2/#dfn-timeout-fired-flag\" class=\"internalDFN\" id=\"ref-for-dfn-timeout-fired-flag-10\">timeout fired flag</a> to be set, whichever occurs first.\n\n   </p>"
            },
            {
              "html": "<p>If <var>element</var> is not <a href=\"https://www.w3.org/TR/webdriver2/#dfn-keyboard-interactable\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-keyboard-interactable-5\">keyboard-interactable</a>,\n    return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-162\">error</a> with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-149\">error code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-element-not-interactable\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-element-not-interactable-5\">element not interactable</a>.\n\n   </p>"
            },
            {
              "html": "<p>If <var>element</var> is not the <a href=\"https://www.w3.org/TR/webdriver2/#dfn-active-element\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-active-element-2\">active element</a> run\n    the <a href=\"https://www.w3.org/TR/webdriver2/#dfn-focusing-steps\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-focusing-steps-5\">focusing steps</a> for the <var>element</var>.\n  </p>"
            }
          ]
        },
        {
          "html": "Run the substeps of the first matching condition:",
          "rationale": ".switch",
          "steps": [
            {
              "operation": "switch",
              "steps": [
                {
                  "case": "file is true",
                  "html": "",
                  "rationale": "let",
                  "steps": [
                    {
                      "html": "<p>Let <var>files</var> be the result of splitting <var>text</var>\n      on the newline (<code>\\n</code>) character.\n\n     </p>"
                    },
                    {
                      "html": "<p>If <var>files</var> is of 0 length,\n      return an <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-163\">error</a> with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-150\">error code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-invalid-argument\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-invalid-argument-50\">invalid argument</a>.\n\n     </p>"
                    },
                    {
                      "html": "<p>Let <var>multiple</var> equal the result\n      of calling <a data-link-type=\"method\" data-lt=\"hasAttribute()\" href=\"https://dom.spec.whatwg.org/#dom-element-hasattribute\" id=\"ref-for-index-term-hasattribute-for-element-2\"><code>hasAttribute</code></a><code>()</code> with \"multiple\"\n      on <var>element</var>.\n\n     </p>"
                    },
                    {
                      "html": "<p>if <var>multiple</var> is <code>false</code> and the\n      length of <var>files</var> is not equal to 1,\n      return an <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-164\">error</a> with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-151\">error code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-invalid-argument\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-invalid-argument-51\">invalid argument</a>.\n\n     </p>"
                    },
                    {
                      "html": "<p>Verify that each file given by the user exists.\n      If any do not, return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-165\">error</a>\n      with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-152\">error code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-invalid-argument\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-invalid-argument-52\">invalid argument</a>.\n\n     </p>"
                    },
                    {
                      "html": "<p>Complete implementation specific steps\n      equivalent to setting the <a href=\"https://www.w3.org/TR/webdriver2/#dfn-selected-files\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-selected-files-3\">selected files</a>\n      on the <code><a data-link-type=\"element\" href=\"https://www.w3.org/TR/webdriver2/#dfn-input\" class=\"internalDFN\" id=\"ref-for-dfn-input-14\">input</a></code> element.\n      If <var>multiple</var> is <code>true</code>\n      <var>files</var> are be appended to <var>element</var>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-selected-files\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-selected-files-4\">selected files</a>.\n\n     </p>"
                    },
                    {
                      "html": "<p><a data-link-type=\"dfn\" data-lt=\"fire an event\" href=\"https://dom.spec.whatwg.org/#concept-event-fire\" id=\"ref-for-index-term-fire-an-event-13\">Fire</a> these events in order on <var>element</var>:\n      </p>",
                      "ignored": [
                        "input change"
                      ]
                    },
                    {
                      "html": "<p>Return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-success\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-success-74\">success</a> with data <a href=\"https://www.w3.org/TR/webdriver2/#dfn-null\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-null-45\"><code>null</code></a>.\n    </p>"
                    }
                  ]
                },
                {
                  "case": "element is a non-typeable form control",
                  "html": "",
                  "rationale": "if",
                  "steps": [
                    {
                      "html": "<p>If <var>element</var> does not have an <a href=\"https://www.w3.org/TR/webdriver2/#dfn-own-properties\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-own-properties-19\">own property</a>\n      named <code>value</code> return an <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-166\">error</a> with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-153\">error\n      code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-element-not-interactable\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-element-not-interactable-6\">element not interactable</a>\n\n     </p>"
                    },
                    {
                      "html": "<p>If <var>element</var> is not <a href=\"https://www.w3.org/TR/webdriver2/#dfn-mutable\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-mutable-2\">mutable</a> return\n      an <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-167\">error</a> with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-154\">error code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-element-not-interactable\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-element-not-interactable-7\">element not\n      interactable</a>.\n\n     </p>"
                    },
                    {
                      "html": "<p><a href=\"https://www.w3.org/TR/webdriver2/#dfn-set-a-property\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-set-a-property-13\">Set a property</a> <code>value</code> to <var>text</var>\n      on <var>element</var>.\n\n     </p>"
                    },
                    {
                      "html": "<p>If <var>element</var> is <a href=\"https://www.w3.org/TR/webdriver2/#dfn-suffering-from-bad-input\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-suffering-from-bad-input-1\">suffering from bad input</a>\n      return an <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-168\">error</a> with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-155\">error code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-invalid-argument\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-invalid-argument-53\">invalid\n      argument</a>.\n\n     </p>"
                    },
                    {
                      "html": "<p>Return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-success\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-success-75\">success</a> with data <a href=\"https://www.w3.org/TR/webdriver2/#dfn-null\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-null-46\"><code>null</code></a>.\n    </p>"
                    }
                  ]
                },
                {
                  "case": "element is content editable",
                  "html": "If <var><a data-link-type=\"dfn\" href=\"https://dom.spec.whatwg.org/#concept-element\" id=\"ref-for-index-term-element-39\">element</a></var> does not currently have focus,\n      set the text insertion caret after any child content."
                },
                {
                  "case": "Otherwise",
                  "html": "",
                  "rationale": "if",
                  "steps": [
                    {
                      "html": "<p>If <var>element</var> does not currently have focus,\n        let <var>current text length</var> be the\n        <a data-link-type=\"dfn\" href=\"https://infra.spec.whatwg.org/#string-length\" id=\"ref-for-index-term-length-for-string-1\">length</a> of <var><a data-link-type=\"dfn\" href=\"https://dom.spec.whatwg.org/#concept-element\" id=\"ref-for-index-term-element-40\">element</a></var>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-api-value\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-api-value-1\">API value</a>.\n\n      </p>"
                    },
                    {
                      "html": "<p>Set the text insertion caret using <a href=\"https://www.w3.org/TR/webdriver2/#dfn-set-selection-range\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-set-selection-range-1\">set selection range</a>\n       using <var>current text length</var> for both the <code>start</code>\n       and <code>end</code> parameters.\n     </p>"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "html": "<p>Let <var>input state</var> be the result of <a href=\"https://www.w3.org/TR/webdriver2/#dfn-get-the-input-state\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-get-the-input-state-2\">get the input\n state</a> with <var>session</var>\n and <var>session</var>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-current-top-level-browsing-context\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-current-top-level-browsing-context-63\">current top-level browsing\n context</a>.\n\n </p>"
        },
        {
          "html": "<p>Let <var>input id</var> be a the result of <a href=\"https://www.w3.org/TR/webdriver2/#dfn-generating-a-uuid\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-generating-a-uuid-3\">generating a\n UUID</a>.\n\n </p>"
        },
        {
          "html": "<p>Let <var>source</var> be the result of <a href=\"https://www.w3.org/TR/webdriver2/#dfn-create-an-input-source\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-create-an-input-source-2\">create an input\n source</a> with <var>input state</var>, and \"<code>key</code>\".\n\n </p>"
        },
        {
          "html": "<p><a href=\"https://www.w3.org/TR/webdriver2/#dfn-add-an-input-source\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-add-an-input-source-2\">Add an input source</a> with <var>input\n state</var>, <var>input id</var> and <var>source</var>.\n\n </p>"
        },
        {
          "html": "<p><a href=\"https://www.w3.org/TR/webdriver2/#dfn-dispatch-actions-for-a-string\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-dispatch-actions-for-a-string-1\">Dispatch actions for a string</a> with arguments <var>input\n state</var>, <var>input id</var>, and <var>source</var>,\n<var>text</var>, and <var>session</var>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-current-browsing-context\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-current-browsing-context-63\">current browsing\ncontext</a>.\n\n </p>"
        },
        {
          "html": "<p><a href=\"https://www.w3.org/TR/webdriver2/#dfn-remove-an-input-source\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-remove-an-input-source-2\">Remove an input source</a> with <var>input state</var>\n and <var>input id</var>.\n\n </p>"
        },
        {
          "html": "<p>Return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-success\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-success-76\">success</a> with data <a href=\"https://www.w3.org/TR/webdriver2/#dfn-null\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-null-47\"><code>null</code></a>.\n</p>"
        }
      ]
    },
    {
      "html": "The <a href=\"https://www.w3.org/TR/webdriver2/#dfn-remote-end-steps\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-remote-end-steps-51\">remote end steps</a>, given <var>session</var>, <var>URL\nvariables</var> and <var>parameters</var> are:",
      "rationale": "if",
      "steps": [
        {
          "html": "<p>If <var>session</var>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-current-browsing-context\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-current-browsing-context-65\">current browsing context</a>\n  is <a href=\"https://www.w3.org/TR/webdriver2/#dfn-no-longer-open\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-no-longer-open-42\">no longer open</a>, return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-169\">error</a> with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-156\">error\n  code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-no-such-window\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-no-such-window-43\">no such window</a>.\n\n </p>"
        },
        {
          "html": "<p><a href=\"https://www.w3.org/TR/webdriver2/#dfn-try\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-try-91\">Try</a> to <a href=\"https://www.w3.org/TR/webdriver2/#dfn-handle-any-user-prompts\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-handle-any-user-prompts-41\">handle any user prompts</a>\n  with <var>session</var>.\n\n </p>"
        },
        {
          "html": "<p>Let <var>source</var> be the result of invoking the\n  <a href=\"https://www.w3.org/TR/webdriver2/#dfn-fragment-serializing-algorithm\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-fragment-serializing-algorithm-1\">fragment serializing algorithm</a> on a fictional node whose only\n  child is the <a data-link-type=\"dfn\" href=\"https://dom.spec.whatwg.org/#document-element\" id=\"ref-for-index-term-document-element-8\">document element</a> providing <code>true</code> for the\n  <code>require well-formed</code> flag. If this causes an exception\n  to be thrown, let <var>source</var> be <a href=\"https://www.w3.org/TR/webdriver2/#dfn-null\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-null-48\"><code>null</code></a>.\n\n </p>"
        },
        {
          "html": "<p>Let <var>source</var> be the result of <a href=\"https://www.w3.org/TR/webdriver2/#dfn-serializing-to-string\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-serializing-to-string-1\">serializing to string</a>\n  <var>session</var>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-current-browsing-context\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-current-browsing-context-66\">current browsing context</a>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-active-document\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-active-document-20\">active document</a>,\n  if <var>source</var> is <a href=\"https://www.w3.org/TR/webdriver2/#dfn-null\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-null-49\"><code>null</code></a>.\n\n </p>"
        },
        {
          "html": "<p>Return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-success\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-success-77\">success</a> with data <var>source</var>.\n</p>"
        }
      ]
    },
    {
      "name": "JSON deserialize",
      "href": "https://www.w3.org/TR/webdriver2/#dfn-json-deserialize",
      "html": "To <dfn id=\"dfn-json-deserialize\" tabindex=\"0\" aria-haspopup=\"dialog\" data-dfn-type=\"dfn\">JSON deserialize</dfn>\ngiven <var>session</var>, <var>value</var> and optional\nargument <var>seen</var>, a <a href=\"https://www.w3.org/TR/webdriver2/#dfn-remote-ends\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-remote-ends-69\">remote end</a> must run the following\nsteps:",
      "rationale": "if",
      "steps": [
        {
          "html": "<p>If <var>seen</var> is not provided,\n  let <var>seen</var> be an empty <a href=\"https://www.w3.org/TR/webdriver2/#dfn-list\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-list-9\">List</a>.\n\n </p>"
        },
        {
          "html": "<p>Jump to the first appropriate step below:\n\n </p>"
        },
        {
          "html": "Matching on <var>value</var>:",
          "rationale": ".switch",
          "steps": [
            {
              "operation": "switch",
              "steps": [
                {
                  "case": "undefined",
                  "html": "<p>Return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-success\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-success-78\">success</a> with data <var>value</var>.\n\n   </p>"
                },
                {
                  "case": "null",
                  "html": "<p>Return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-success\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-success-78\">success</a> with data <var>value</var>.\n\n   </p>"
                },
                {
                  "case": "type Boolean",
                  "html": "<p>Return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-success\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-success-78\">success</a> with data <var>value</var>.\n\n   </p>"
                },
                {
                  "case": "type Number",
                  "html": "<p>Return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-success\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-success-78\">success</a> with data <var>value</var>.\n\n   </p>"
                },
                {
                  "case": "type String",
                  "html": "<p>Return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-success\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-success-78\">success</a> with data <var>value</var>.\n\n   </p>"
                },
                {
                  "case": "Object that represents a web element",
                  "html": "<p>Return the <a data-lt=\"deserialize a web element\" href=\"https://www.w3.org/TR/webdriver2/#dfn-deserialize-a-web-element\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-deserialize-a-web-element-1\">deserialized</a>\n    <a href=\"https://www.w3.org/TR/webdriver2/#dfn-web-elements\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-web-elements-12\">web element</a> of <var>value</var>.\n\n   </p>"
                },
                {
                  "case": "Object that represents a shadow root",
                  "html": "<p>Return the <a data-lt=\"deserialize a shadow root\" href=\"https://www.w3.org/TR/webdriver2/#dfn-deserialize-a-shadow-root\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-deserialize-a-shadow-root-1\">deserialized</a>\n    <a href=\"https://www.w3.org/TR/webdriver2/#dfn-shadow-roots\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-shadow-roots-5\">shadow root</a> of <var>value</var>.\n\n   </p>"
                },
                {
                  "case": "Object that represents a web frame",
                  "html": "<p>Return the <a data-lt=\"deserialize a web frame\" href=\"https://www.w3.org/TR/webdriver2/#dfn-deserialize-a-web-frame\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-deserialize-a-web-frame-1\">deserialized</a>\n    <a href=\"https://www.w3.org/TR/webdriver2/#dfn-web-frames\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-web-frames-1\">web frame</a> of <var>value</var>.\n\n   </p>"
                },
                {
                  "case": "Object that represents a web window",
                  "html": "<p>Return the <a data-lt=\"deserialize a web window\" href=\"https://www.w3.org/TR/webdriver2/#dfn-deserialize-a-web-window\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-deserialize-a-web-window-1\">deserialized</a>\n    <a href=\"https://www.w3.org/TR/webdriver2/#dfn-web-windows\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-web-windows-1\">web window</a> of <var>value</var>.\n\n   </p>"
                },
                {
                  "case": "instance of Array",
                  "html": "<p>Return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-clone-an-object\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-clone-an-object-1\">clone an object</a> algorithm\n    with <var>session</var>, <var>value</var> and <var>seen</var>,\n    and the <a href=\"https://www.w3.org/TR/webdriver2/#dfn-json-deserialize\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-json-deserialize-1\">JSON deserialize</a> algorithm as the clone algorithm.\n  </p>"
                },
                {
                  "case": "instance of Object",
                  "html": "<p>Return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-clone-an-object\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-clone-an-object-1\">clone an object</a> algorithm\n    with <var>session</var>, <var>value</var> and <var>seen</var>,\n    and the <a href=\"https://www.w3.org/TR/webdriver2/#dfn-json-deserialize\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-json-deserialize-1\">JSON deserialize</a> algorithm as the clone algorithm.\n  </p>"
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "name": "internal JSON clone",
      "href": "https://www.w3.org/TR/webdriver2/#dfn-internal-json-clone",
      "html": "To <dfn id=\"dfn-internal-json-clone\" tabindex=\"0\" aria-haspopup=\"dialog\" data-dfn-type=\"dfn\">internal JSON clone</dfn>\n given <var>session</var>, <var>value</var> and <var>seen</var>,\n return the value of the first matching statement, matching\n on <var>value</var>:",
      "rationale": ".switch",
      "steps": [
        {
          "operation": "switch",
          "steps": [
            {
              "case": "undefined",
              "html": "<p>Return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-success\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-success-79\">success</a> with data <a href=\"https://www.w3.org/TR/webdriver2/#dfn-null\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-null-52\"><code>null</code></a>.\n\n </p>"
            },
            {
              "case": "null",
              "html": "<p>Return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-success\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-success-79\">success</a> with data <a href=\"https://www.w3.org/TR/webdriver2/#dfn-null\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-null-52\"><code>null</code></a>.\n\n </p>"
            },
            {
              "case": "type Boolean",
              "html": "<p>Return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-success\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-success-80\">success</a> with data <var>value</var>.\n\n </p>"
            },
            {
              "case": "type Number",
              "html": "<p>Return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-success\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-success-80\">success</a> with data <var>value</var>.\n\n </p>"
            },
            {
              "case": "type String",
              "html": "<p>Return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-success\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-success-80\">success</a> with data <var>value</var>.\n\n </p>"
            },
            {
              "case": "instance of Element",
              "html": "Otherwise:",
              "rationale": "let",
              "steps": [
                {
                  "html": "<p>Let <var>reference</var> be the <a href=\"https://www.w3.org/TR/webdriver2/#dfn-web-element-reference-object\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-web-element-reference-object-3\">web element reference object</a>\n    for <var>session</var> and <var>value</var>.\n\n   </p>"
                },
                {
                  "html": "<p>Return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-success\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-success-81\">success</a> with data <var>reference</var>.\n  </p>"
                }
              ]
            },
            {
              "case": "instance of ShadowRoot",
              "html": "Otherwise:",
              "rationale": "let",
              "steps": [
                {
                  "html": "<p>Let <var>reference</var> be the <a href=\"https://www.w3.org/TR/webdriver2/#dfn-shadow-root-reference-object\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-shadow-root-reference-object-2\">shadow root reference object</a>\n    for <var>session</var> and <var>value</var>.\n\n    </p>"
                },
                {
                  "html": "<p>Return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-success\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-success-82\">success</a> with data <var>reference</var>.\n  </p>"
                }
              ]
            },
            {
              "case": "a WindowProxy object",
              "html": "Otherwise:",
              "rationale": "let",
              "steps": [
                {
                  "html": "<p>Let <var>reference</var> be the\n    <a href=\"https://www.w3.org/TR/webdriver2/#dfn-windowproxy-reference-object\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-windowproxy-reference-object-1\"><code>WindowProxy</code> reference object</a> for <var>value</var>.\n\n    </p>"
                },
                {
                  "html": "<p>Return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-success\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-success-83\">success</a> with data <var>reference</var>.\n  </p>"
                }
              ]
            },
            {
              "case": "has an own property named \"toJSON\" that is a Function",
              "html": "Return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-success\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-success-84\">success</a> with the value returned by\n  <a href=\"https://www.w3.org/TR/webdriver2/#dfn-call\" class=\"internalDFN\" data-link-type=\"idl\" id=\"ref-for-dfn-call-3\">Function.[[Call]]</a>(<code>toJSON</code>) with <var>value</var>\n  as the this value."
            },
            {
              "case": "Otherwise",
              "html": "",
              "rationale": "let",
              "steps": [
                {
                  "html": "<p>Let <var>result</var> be\n    <a href=\"https://www.w3.org/TR/webdriver2/#dfn-clone-an-object\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-clone-an-object-2\">clone an object</a> with <var>session</var> <var>value</var>\n    and <var>seen</var>, and <a href=\"https://www.w3.org/TR/webdriver2/#dfn-internal-json-clone\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-internal-json-clone-2\">internal JSON clone</a> as the\n    <var>clone algorithm</var>.\n\n   </p>"
                },
                {
                  "html": "Return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-success\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-success-85\">success</a> with data <var>result</var>."
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "name": "clone an object",
      "href": "https://www.w3.org/TR/webdriver2/#dfn-clone-an-object",
      "html": "To <dfn id=\"dfn-clone-an-object\" tabindex=\"0\" aria-haspopup=\"dialog\" data-dfn-type=\"dfn\">clone an object</dfn>, given <var>session</var>, <var>value</var>,\n <var>seen</var>, and <var>clone algorithm</var>:",
      "rationale": "if",
      "steps": [
        {
          "html": "<p>If <var>value</var> is in <var>seen</var>,\n  return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-173\">error</a> with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-160\">error code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-javascript-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-javascript-error-1\">javascript error</a>.\n\n </p>"
        },
        {
          "html": "<p>Append <var>value</var> to <var>seen</var>.\n\n </p>"
        },
        {
          "html": "Let <var>result</var> be the value of the first matching statement,\n  matching on <var>value</var>:",
          "rationale": ".switch",
          "steps": [
            {
              "operation": "switch",
              "steps": [
                {
                  "case": "a collection",
                  "html": "<p>A new <a href=\"https://www.w3.org/TR/webdriver2/#dfn-array\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-array-3\">Array</a>\n    which <code>length</code> property is equal\n    to the result of <a href=\"https://www.w3.org/TR/webdriver2/#dfn-getting-properties\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-getting-properties-37\">getting the property</a> <code>length</code>\n    of <var>value</var>.\n\n   </p>"
                },
                {
                  "case": "Otherwise",
                  "html": "<p>A new <a href=\"https://www.w3.org/TR/webdriver2/#dfn-object\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-object-46\">Object</a>.\n  </p>"
                }
              ]
            }
          ]
        },
        {
          "html": "For each enumerable property\n  in <var>value</var>, run the following substeps:",
          "rationale": "let",
          "steps": [
            {
              "html": "<p>Let <var>name</var> be the name of the property.\n\n  </p>"
            },
            {
              "html": "<p>Let <var>source property value</var> be the result of\n   <a href=\"https://www.w3.org/TR/webdriver2/#dfn-getting-properties\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-getting-properties-38\">getting a property</a> named <var>name</var> from <var>value</var>.\n   If doing so causes script to be run and that script throws an error,\n   return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-174\">error</a> with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-161\">error code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-javascript-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-javascript-error-2\">javascript error</a>.\n\n  </p>"
            },
            {
              "html": "<p>Let <var>cloned property result</var> be the result of\n   calling the <var>clone algorithm</var> with <var>session</var>,\n   <var>source property value</var> and <var>seen</var>.\n\n  </p>"
            },
            {
              "html": "<p>If <var>cloned property result</var> is a <a href=\"https://www.w3.org/TR/webdriver2/#dfn-success\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-success-86\">success</a>,\n   <a href=\"https://www.w3.org/TR/webdriver2/#dfn-set-a-property\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-set-a-property-14\">set a property</a> of <var>result</var> with\n   name <var>name</var> and value equal to <var>cloned property result</var>'s data.\n\n  </p>"
            },
            {
              "html": "<p>Otherwise, return <var>cloned property result</var>.\n </p>"
            }
          ]
        },
        {
          "html": "<p>Remove the last element of <var>seen</var>.\n\n </p>"
        },
        {
          "html": "Return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-success\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-success-87\">success</a> with data <var>result</var>."
        }
      ]
    },
    {
      "name": "extract the script arguments from a request",
      "href": "https://www.w3.org/TR/webdriver2/#dfn-extract-the-script-arguments-from-a-request",
      "html": "When required to <dfn id=\"dfn-extract-the-script-arguments-from-a-request\" tabindex=\"0\" aria-haspopup=\"dialog\" data-dfn-type=\"dfn\">extract the script arguments from a\n request</dfn> with argument <var>parameters</var> the implementation must:",
      "rationale": "let",
      "steps": [
        {
          "html": "<p>Let <var>script</var> be the result of <a href=\"https://www.w3.org/TR/webdriver2/#dfn-getting-properties\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-getting-properties-39\">getting a\n  property</a> named \"<code>script</code>\" from <var>parameters</var>.\n\n </p>"
        },
        {
          "html": "<p>If <var>script</var> is not a <a href=\"https://www.w3.org/TR/webdriver2/#dfn-string\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-string-15\">String</a>,\n  return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-175\">error</a> with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-162\">error code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-invalid-argument\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-invalid-argument-54\">invalid argument</a>.\n\n </p>"
        },
        {
          "html": "<p>Let <var>args</var> be the result of <a href=\"https://www.w3.org/TR/webdriver2/#dfn-getting-properties\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-getting-properties-40\">getting a property</a>\n  named \"<code>args</code>\" from <var>parameters</var>.\n\n </p>"
        },
        {
          "html": "<p>If <var>args</var> is not an <a href=\"https://www.w3.org/TR/webdriver2/#dfn-array\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-array-4\">Array</a> return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-176\">error</a>\n  with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-163\">error code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-invalid-argument\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-invalid-argument-55\">invalid argument</a>.\n\n </p>"
        },
        {
          "html": "<p>Let <var>arguments</var> be <a href=\"https://www.w3.org/TR/webdriver2/#dfn-json-deserialize\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-json-deserialize-2\">JSON deserialize</a>\n  with <var>session</var> and <var>args</var>.\n\n </p>"
        },
        {
          "html": "<p>Return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-success\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-success-88\">success</a> with data <var>script</var>\n  and <var>arguments</var>.\n</p>"
        }
      ]
    },
    {
      "html": "If at any point during the algorithm a <a href=\"https://www.w3.org/TR/webdriver2/#dfn-user-prompts\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-user-prompts-2\">user prompt</a> appears,\n immediately return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-completion\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-completion-2\">Completion</a> { [[Type]]: <code>normal</code>, [[Value]]: <a href=\"https://www.w3.org/TR/webdriver2/#dfn-null\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-null-53\"><code>null</code></a>,\n [[Target]]: <code>empty</code> }, but continue to run the other steps of this algorithm <a data-link-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel\" id=\"ref-for-index-term-in-parallel-2\">in parallel</a>.",
      "rationale": "let",
      "steps": [
        {
          "html": "<p>Let <var>window</var> be the <a href=\"https://www.w3.org/TR/webdriver2/#dfn-associated-window\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-associated-window-3\">associated window</a>\n  of <var>session</var>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-current-browsing-context\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-current-browsing-context-67\">current browsing context</a>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-active-document\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-active-document-21\">active\n  document</a>.\n\n </p>"
        },
        {
          "html": "<p>Let <var>environment settings</var> be\n  <var>window</var>'s <a data-link-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object\" id=\"ref-for-index-term-relevant-settings-object-1\">relevant settings object</a>.\n\n </p>"
        },
        {
          "html": "Let <var>global scope</var> be\n  <var>environment settings</var> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-realm\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-realm-1\">realm</a>'s\n  <a href=\"https://www.w3.org/TR/webdriver2/#dfn-global-environment\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-global-environment-1\">global environment</a>."
        },
        {
          "html": "<p>If <var>body</var> is not parsable as a <a href=\"https://www.w3.org/TR/webdriver2/#dfn-functionbody\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-functionbody-1\">FunctionBody</a>\n  or if parsing detects an <a href=\"https://www.w3.org/TR/webdriver2/#dfn-early-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-early-error-1\">early error</a>,\n  return\n  <a href=\"https://www.w3.org/TR/webdriver2/#dfn-completion\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-completion-3\">Completion</a> { [[Type]]: <code>normal</code>, [[Value]]: <a href=\"https://www.w3.org/TR/webdriver2/#dfn-null\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-null-54\"><code>null</code></a>, [[Target]]: <code>empty</code> }.\n\n </p>"
        },
        {
          "html": "<p>If <var>body</var> begins with a <a href=\"https://www.w3.org/TR/webdriver2/#dfn-directive-prologue\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-directive-prologue-1\">directive prologue</a>\n  that contains a <a href=\"https://www.w3.org/TR/webdriver2/#dfn-use-strict-directive\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-use-strict-directive-1\">use strict directive</a>\n  then let <var>strict</var> be true,\n  otherwise let <var>strict</var> be false.\n\n </p>"
        },
        {
          "html": "<p><a data-link-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/webappapis.html#prepare-to-run-script\" id=\"ref-for-index-term-prepare-to-run-script-1\">Prepare to run script</a> with <var>environment settings</var>.\n\n </p>"
        },
        {
          "html": "<p><a data-link-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/webappapis.html#prepare-to-run-a-callback\" id=\"ref-for-index-term-prepare-to-run-a-callback-1\">Prepare to run a callback</a> with <var>environment settings</var>.\n\n </p>"
        },
        {
          "html": "<p>Let <var>function</var> be the result of\n  calling <a href=\"https://www.w3.org/TR/webdriver2/#dfn-functioncreate\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-functioncreate-1\">FunctionCreate</a>, with arguments:\n\n  </p><dl>\n   <dt><var>kind</var>\n   </dt><dd>Normal.\n\n   </dd><dt><var>list</var>\n   </dt><dd>An empty <a href=\"https://www.w3.org/TR/webdriver2/#dfn-list\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-list-11\">List</a>.\n\n   </dd><dt><var>body</var>\n   </dt><dd>The result of parsing <var>body</var> above.\n\n   </dd><dt><var>global scope</var>\n   </dt><dd>The result of parsing <var>global scope</var> above.\n\n   </dd><dt><var>strict</var>\n   </dt><dd>The result of parsing <var>strict</var> above.\n  </dd></dl>"
        },
        {
          "html": "<p>Let <var>completion</var> be\n  <a href=\"https://www.w3.org/TR/webdriver2/#dfn-call\" class=\"internalDFN\" data-link-type=\"idl\" id=\"ref-for-dfn-call-4\">Function.[[Call]]</a>(<var>window</var>,\n  <var>parameters</var>) with <var>function</var> as the this value.\n\n </p>"
        },
        {
          "html": "<p><a data-link-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/webappapis.html#clean-up-after-running-a-callback\" id=\"ref-for-index-term-clean-up-after-running-a-callback-1\">Clean up after running a callback</a>\n  with <var>environment settings</var>.\n\n </p>"
        },
        {
          "html": "<p><a data-link-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/webappapis.html#clean-up-after-running-script\" id=\"ref-for-index-term-clean-up-after-running-script-1\">Clean up after running script</a>\n  with <var>environment settings</var>.\n\n </p>"
        },
        {
          "html": "<p>Return <var>completion</var>.\n</p>"
        }
      ]
    },
    {
      "html": "The <a href=\"https://www.w3.org/TR/webdriver2/#dfn-remote-end-steps\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-remote-end-steps-52\">remote end steps</a>, given <var>session</var>, <var>URL\nvariables</var> and <var>parameters</var> are:",
      "rationale": "let",
      "steps": [
        {
          "html": "<p>Let <var>body</var> and <var>arguments</var> be the result of\n  <a href=\"https://www.w3.org/TR/webdriver2/#dfn-try\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-try-92\">trying</a> to <a href=\"https://www.w3.org/TR/webdriver2/#dfn-extract-the-script-arguments-from-a-request\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-extract-the-script-arguments-from-a-request-1\">extract the script arguments from a request</a>\n  with argument <var>parameters</var>.\n\n </p>"
        },
        {
          "html": "<p>If <var>session</var>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-current-browsing-context\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-current-browsing-context-68\">current browsing context</a>\n  is <a href=\"https://www.w3.org/TR/webdriver2/#dfn-no-longer-open\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-no-longer-open-43\">no longer open</a>, return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-177\">error</a> with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-164\">error\n  code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-no-such-window\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-no-such-window-44\">no such window</a>.\n\n </p>"
        },
        {
          "html": "<p><a href=\"https://www.w3.org/TR/webdriver2/#dfn-try\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-try-93\">Try</a> to <a href=\"https://www.w3.org/TR/webdriver2/#dfn-handle-any-user-prompts\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-handle-any-user-prompts-42\">handle any user prompts</a>\n  with <var>session</var>.\n\n </p>"
        },
        {
          "html": "<p>Let <var>timeout</var> be <var>session</var>'s\n <a href=\"https://www.w3.org/TR/webdriver2/#dfn-session-timeouts\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-session-timeouts-11\">session timeouts</a>' <a data-link-type=\"dfn|abstract-op\" href=\"https://www.w3.org/TR/webdriver2/#dfn-script-timeout\" class=\"internalDFN\" id=\"ref-for-dfn-script-timeout-3\">script timeout</a>.\n\n </p>"
        },
        {
          "html": "<p>Let <var>timer</var> be a new <a href=\"https://www.w3.org/TR/webdriver2/#dfn-timer\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-timer-8\">timer</a>.\n\n </p>"
        },
        {
          "html": "If <var>timeout</var> is not null:",
          "rationale": "start",
          "steps": [
            {
              "html": "<p><a href=\"https://www.w3.org/TR/webdriver2/#dfn-start-the-timer\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-start-the-timer-8\">Start the timer</a> with <var>timer</var>\n   and <var>timeout</var>.\n </p>"
            }
          ]
        },
        {
          "html": "<p>Let <var>promise</var> be <a data-link-type=\"dfn\" href=\"https://webidl.spec.whatwg.org/#a-new-promise\" id=\"ref-for-index-term-a-new-promise-1\">a new Promise</a>.\n\n </p>"
        },
        {
          "html": "Run the following substeps <a data-link-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel\" id=\"ref-for-index-term-in-parallel-3\">in parallel</a>:",
          "rationale": "let",
          "steps": [
            {
              "html": "<p>Let <var>scriptPromise</var> be the result of <a href=\"https://www.w3.org/TR/webdriver2/#dfn-promise-call\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-promise-call-1\">promise-calling</a>\n        <a href=\"https://www.w3.org/TR/webdriver2/#dfn-execute-a-function-body\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-execute-a-function-body-1\">execute a function body</a>, with arguments\n        <var>body</var> and <var>arguments</var>.\n\n    </p>"
            },
            {
              "html": "<p>Upon fulfillment of <var>scriptPromise</var> with value <var>v</var>,\n      <a data-link-type=\"dfn\" href=\"https://webidl.spec.whatwg.org/#resolve\" id=\"ref-for-index-term-resolve-1\">resolve</a> <var>promise</var> with value <var>v</var>.\n\n    </p>"
            },
            {
              "html": "<p>Upon rejection of <var>scriptPromise</var> with value <var>r</var>,\n      <a data-link-type=\"dfn\" href=\"https://webidl.spec.whatwg.org/#reject\" id=\"ref-for-index-term-reject-1\">reject</a> <var>promise</var> with value <var>r</var>.\n   </p>"
            }
          ]
        },
        {
          "html": "<p>Wait until <var>promise</var> is resolved,\n  or <var>timer</var>'s <a data-link-type=\"dfn|abstract-op\" href=\"https://www.w3.org/TR/webdriver2/#dfn-timeout-fired-flag\" class=\"internalDFN\" id=\"ref-for-dfn-timeout-fired-flag-11\">timeout fired flag</a> is set,\n  whichever occurs first.\n\n  </p>"
        },
        {
          "html": "<p>If <var>promise</var> is still pending and\n  <var>timer</var>'s <a data-link-type=\"dfn|abstract-op\" href=\"https://www.w3.org/TR/webdriver2/#dfn-timeout-fired-flag\" class=\"internalDFN\" id=\"ref-for-dfn-timeout-fired-flag-12\">timeout fired flag</a> is set,\n  return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-178\">error</a> with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-165\">error code</a> <a data-lt=\"script\n  timeout error\" href=\"https://www.w3.org/TR/webdriver2/#dfn-script-timeout-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-script-timeout-error-1\">script timeout</a>.\n\n  </p>"
        },
        {
          "html": "<p>If <var>promise</var> is fulfilled with value <var>v</var>,\n  let <var>result</var> be <a href=\"https://www.w3.org/TR/webdriver2/#dfn-json-clone\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-json-clone-1\">JSON clone</a> with <var>session</var>\n  and <var>v</var>, and return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-success\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-success-89\">success</a> with\n  data <var>result</var>.\n\n  </p>"
        },
        {
          "html": "<p>If <var>promise</var> is rejected with reason <var>r</var>,\n  let <var>result</var> be <a href=\"https://www.w3.org/TR/webdriver2/#dfn-json-clone\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-json-clone-2\">JSON clone</a> with <var>session</var>\n  and <var>r</var>, and return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-179\">error</a> with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-166\">error\n  code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-javascript-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-javascript-error-3\">javascript error</a> and data <var>result</var>.\n</p>"
        }
      ]
    },
    {
      "html": "The <a href=\"https://www.w3.org/TR/webdriver2/#dfn-remote-end-steps\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-remote-end-steps-53\">remote end steps</a>, given <var>session</var>, <var>URL\nvariables</var> and <var>parameters</var> are:",
      "rationale": "let",
      "steps": [
        {
          "html": "<p>Let <var>body</var> and <var>arguments</var> by the result of <a href=\"https://www.w3.org/TR/webdriver2/#dfn-try\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-try-94\">trying</a> to\n     <a href=\"https://www.w3.org/TR/webdriver2/#dfn-extract-the-script-arguments-from-a-request\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-extract-the-script-arguments-from-a-request-2\">extract the script arguments from a request</a> with\n     argument <var>parameters</var>.\n\n  </p>"
        },
        {
          "html": "<p>If <var>session</var>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-current-browsing-context\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-current-browsing-context-69\">current browsing context</a>\n   is <a href=\"https://www.w3.org/TR/webdriver2/#dfn-no-longer-open\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-no-longer-open-44\">no longer open</a>, return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-180\">error</a> with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-167\">error\n   code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-no-such-window\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-no-such-window-45\">no such window</a>.\n\n  </p>"
        },
        {
          "html": "<p><a href=\"https://www.w3.org/TR/webdriver2/#dfn-try\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-try-95\">Try</a> to <a href=\"https://www.w3.org/TR/webdriver2/#dfn-handle-any-user-prompts\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-handle-any-user-prompts-43\">handle any user prompts</a>\n   with <var>session</var>.\n\n  </p>"
        },
        {
          "html": "<p>Let <var>timeout</var> be <var>session</var>'s\n  <a href=\"https://www.w3.org/TR/webdriver2/#dfn-session-timeouts\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-session-timeouts-12\">session timeouts</a>' <a data-link-type=\"dfn|abstract-op\" href=\"https://www.w3.org/TR/webdriver2/#dfn-script-timeout\" class=\"internalDFN\" id=\"ref-for-dfn-script-timeout-4\">script timeout</a>.\n\n  </p>"
        },
        {
          "html": "<p>Let <var>timer</var> be a new <a href=\"https://www.w3.org/TR/webdriver2/#dfn-timer\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-timer-9\">timer</a>.\n\n  </p>"
        },
        {
          "html": "If <var>timeout</var> is not null:",
          "rationale": "start",
          "steps": [
            {
              "html": "<p><a href=\"https://www.w3.org/TR/webdriver2/#dfn-start-the-timer\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-start-the-timer-9\">Start the timer</a> with <var>timer</var>\n    and <var>timeout</var>.\n  </p>"
            }
          ]
        },
        {
          "html": "<p>Let <var>promise</var> be <a data-link-type=\"dfn\" href=\"https://webidl.spec.whatwg.org/#a-new-promise\" id=\"ref-for-index-term-a-new-promise-2\">a new Promise</a>.\n\n  </p>"
        },
        {
          "html": "Run the following substeps <a data-link-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel\" id=\"ref-for-index-term-in-parallel-4\">in parallel</a>:",
          "rationale": "let",
          "steps": [
            {
              "html": "<p>Let <var>resolvingFunctions</var> be <a href=\"https://www.w3.org/TR/webdriver2/#dfn-createresolvingfunctions\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-createresolvingfunctions-1\">CreateResolvingFunctions</a>(<var>promise</var>).\n\n    </p>"
            },
            {
              "html": "<p>Append <var>resolvingFunctions</var><code>.[[Resolve]]</code> to\n      <var>arguments</var>.\n\n    </p>"
            },
            {
              "html": "<p>Let <var>scriptResult</var> be the result of calling\n      <a href=\"https://www.w3.org/TR/webdriver2/#dfn-execute-a-function-body\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-execute-a-function-body-2\">execute a function body</a>, with arguments\n      <var>body</var> and <var>arguments</var>.\n\n    </p>"
            },
            {
              "html": "<p>If <var>scriptResult</var>.[[Type]] is not <code>normal</code>, then <a data-link-type=\"dfn\" href=\"https://webidl.spec.whatwg.org/#reject\" id=\"ref-for-index-term-reject-2\">reject</a>\n      <var>promise</var> with value <var>scriptResult</var>.[[Value]], and abort these steps.\n\n      </p>"
            },
            {
              "html": "<p>If <a data-lt=\"ecmascript type\" href=\"https://www.w3.org/TR/webdriver2/#dfn-ecmascript-type\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-ecmascript-type-2\">Type</a>(<var>scriptResult</var>.[[Value]])\n      is not <a href=\"https://www.w3.org/TR/webdriver2/#dfn-object\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-object-47\">Object</a>, then abort these steps.\n\n    </p>"
            },
            {
              "html": "<p>Let <var>then</var> be <a href=\"https://www.w3.org/TR/webdriver2/#dfn-get\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-get-1\">Get</a>(<var>scriptResult</var>.[[Value]], \"then\").\n\n    </p>"
            },
            {
              "html": "<p>If <var>then</var>.[[Type]] is not <code>normal</code>, then <a data-link-type=\"dfn\" href=\"https://webidl.spec.whatwg.org/#reject\" id=\"ref-for-index-term-reject-3\">reject</a>\n      <var>promise</var> with value <var>then</var>.[[Value]], and abort these steps.\n\n    </p>"
            },
            {
              "html": "<p>If <a href=\"https://www.w3.org/TR/webdriver2/#dfn-iscallable\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-iscallable-1\">IsCallable</a>(<var>then</var>.[[Type]]) is <code>false</code>,\n      then abort these steps.\n\n    </p>"
            },
            {
              "html": "<p>Let <var>scriptPromise</var> be <a href=\"https://www.w3.org/TR/webdriver2/#dfn-promiseresolve\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-promiseresolve-1\">PromiseResolve</a>(<a href=\"https://www.w3.org/TR/webdriver2/#dfn-promise\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-promise-1\">Promise</a>,\n      <var>scriptResult</var>.[[Value]]).\n\n    </p>"
            },
            {
              "html": "<p>Upon fulfillment of <var>scriptPromise</var> with value <var>v</var>,\n      <a data-link-type=\"dfn\" href=\"https://webidl.spec.whatwg.org/#resolve\" id=\"ref-for-index-term-resolve-2\">resolve</a> <var>promise</var> with value <var>v</var>.\n\n    </p>"
            },
            {
              "html": "<p>Upon rejection of <var>scriptPromise</var> with value <var>r</var>,\n      <a data-link-type=\"dfn\" href=\"https://webidl.spec.whatwg.org/#reject\" id=\"ref-for-index-term-reject-4\">reject</a> <var>promise</var> with value <var>r</var>.\n  </p>"
            }
          ]
        },
        {
          "html": "<p>Wait until <var>promise</var> is resolved,\n   or <var>timer</var>'s <a data-link-type=\"dfn|abstract-op\" href=\"https://www.w3.org/TR/webdriver2/#dfn-timeout-fired-flag\" class=\"internalDFN\" id=\"ref-for-dfn-timeout-fired-flag-13\">timeout fired flag</a> is set,\n   whichever occurs first.\n\n   </p>"
        },
        {
          "html": "<p>If <var>promise</var> is still pending and\n   <var>timer</var>'s <a data-link-type=\"dfn|abstract-op\" href=\"https://www.w3.org/TR/webdriver2/#dfn-timeout-fired-flag\" class=\"internalDFN\" id=\"ref-for-dfn-timeout-fired-flag-14\">timeout fired flag</a> is set,\n   return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-181\">error</a> with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-168\">error code</a> <a data-lt=\"script\n   timeout error\" href=\"https://www.w3.org/TR/webdriver2/#dfn-script-timeout-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-script-timeout-error-2\">script timeout</a>.\n\n  </p>"
        },
        {
          "html": "<p>If <var>promise</var> is fulfilled with value <var>v</var>,\n  let <var>result</var> be <a href=\"https://www.w3.org/TR/webdriver2/#dfn-json-clone\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-json-clone-3\">JSON clone</a> with <var>session</var>\n  and <var>v</var>, and return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-success\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-success-90\">success</a> with\n  data <var>result</var>.\n\n  </p>"
        },
        {
          "html": "<p>If <var>promise</var> is rejected with reason <var>r</var>,\n  let <var>result</var> be <a href=\"https://www.w3.org/TR/webdriver2/#dfn-json-clone\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-json-clone-4\">JSON clone</a> with <var>session</var>\n  and <var>r</var>, and return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-182\">error</a> with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-169\">error\n  code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-javascript-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-javascript-error-4\">javascript error</a> and data <var>result</var>.\n</p>"
        }
      ]
    },
    {
      "name": "delete cookies",
      "href": "https://www.w3.org/TR/webdriver2/#dfn-delete-cookies",
      "html": "To <dfn id=\"dfn-delete-cookies\" tabindex=\"0\" aria-haspopup=\"dialog\" data-dfn-type=\"dfn\">delete cookies</dfn> given an optional filter argument\n <var>name</var> that is a string:",
      "rationale": "for",
      "steps": [
        {
          "html": "For each <a href=\"https://www.w3.org/TR/webdriver2/#dfn-cookies\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-cookies-5\">cookie</a> among <a href=\"https://www.w3.org/TR/webdriver2/#dfn-associated-cookies\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-associated-cookies-2\">all associated cookies</a> of\n  <var>session</var>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-current-browsing-context\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-current-browsing-context-71\">current browsing context</a>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-active-document\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-active-document-23\">active\n  document</a>, run the substeps of the first matching condition:",
          "rationale": ".switch",
          "steps": [
            {
              "operation": "switch",
              "steps": [
                {
                  "case": "name is undefined",
                  "html": "<p>Set the <a href=\"https://www.w3.org/TR/webdriver2/#dfn-cookie-expiry-time\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-cookie-expiry-time-1\">cookie expiry time</a>\n    to a <a href=\"https://www.w3.org/TR/webdriver2/#dfn-unix-timestamp\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-unix-timestamp-2\">Unix timestamp</a> in the past.\n\n   </p>"
                },
                {
                  "case": "name is equal to cookie name",
                  "html": "<p>Set the <a href=\"https://www.w3.org/TR/webdriver2/#dfn-cookie-expiry-time\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-cookie-expiry-time-1\">cookie expiry time</a>\n    to a <a href=\"https://www.w3.org/TR/webdriver2/#dfn-unix-timestamp\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-unix-timestamp-2\">Unix timestamp</a> in the past.\n\n   </p>"
                },
                {
                  "case": "Otherwise",
                  "html": "Do nothing."
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "html": "The <a href=\"https://www.w3.org/TR/webdriver2/#dfn-remote-end-steps\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-remote-end-steps-54\">remote end steps</a>, given <var>session</var>, <var>URL\nvariables</var> and <var>parameters</var> are:",
      "rationale": "if",
      "steps": [
        {
          "html": "<p>If <var>session</var>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-current-browsing-context\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-current-browsing-context-72\">current browsing context</a>\n  is <a href=\"https://www.w3.org/TR/webdriver2/#dfn-no-longer-open\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-no-longer-open-45\">no longer open</a>, return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-183\">error</a> with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-170\">error\n  code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-no-such-window\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-no-such-window-46\">no such window</a>.\n\n </p>"
        },
        {
          "html": "<p><a href=\"https://www.w3.org/TR/webdriver2/#dfn-try\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-try-96\">Try</a> to <a href=\"https://www.w3.org/TR/webdriver2/#dfn-handle-any-user-prompts\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-handle-any-user-prompts-44\">handle any user prompts</a>\n  with <var>session</var>.\n\n </p>"
        },
        {
          "html": "<p>Let <var>cookies</var> be a new <a href=\"https://www.w3.org/TR/webdriver2/#dfn-list\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-list-12\">List</a>.\n\n </p>"
        },
        {
          "html": "For each <var>cookie</var> in <a href=\"https://www.w3.org/TR/webdriver2/#dfn-associated-cookies\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-associated-cookies-3\">all associated cookies</a> of\n  <var>session</var>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-current-browsing-context\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-current-browsing-context-73\">current browsing context</a>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-active-document\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-active-document-24\">active\n  document</a>:",
          "rationale": "let",
          "steps": [
            {
              "html": "<p>Let <var>serialized cookie</var> be the result\n     of <a data-lt=\"serialized cookie\" href=\"https://www.w3.org/TR/webdriver2/#dfn-serialized-cookie\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-serialized-cookie-3\">serializing</a> <var>cookie</var>.\n\n   </p>"
            },
            {
              "html": "<p>Append <var>serialized cookie</var> to <var>cookies</var>\n  </p>"
            }
          ]
        },
        {
          "html": "<p>Return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-success\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-success-91\">success</a> with data <var>cookies</var>.\n</p>"
        }
      ]
    },
    {
      "html": "The <a href=\"https://www.w3.org/TR/webdriver2/#dfn-remote-end-steps\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-remote-end-steps-55\">remote end steps</a>, given <var>session</var>, <var>URL\nvariables</var> and <var>parameters</var> are:",
      "rationale": "if",
      "steps": [
        {
          "html": "<p>If <var>session</var>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-current-browsing-context\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-current-browsing-context-74\">current browsing context</a>\n  is <a href=\"https://www.w3.org/TR/webdriver2/#dfn-no-longer-open\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-no-longer-open-46\">no longer open</a>, return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-184\">error</a> with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-171\">error\n  code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-no-such-window\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-no-such-window-47\">no such window</a>.\n\n </p>"
        },
        {
          "html": "<p><a href=\"https://www.w3.org/TR/webdriver2/#dfn-try\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-try-97\">Try</a> to <a href=\"https://www.w3.org/TR/webdriver2/#dfn-handle-any-user-prompts\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-handle-any-user-prompts-45\">handle any user prompts</a>\n  with <var>session</var>.\n\n </p>"
        },
        {
          "html": "<p>If the <var>URL variables</var>[\"<code>name</code>\" is equal to\n  a <a href=\"https://www.w3.org/TR/webdriver2/#dfn-cookies\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-cookies-6\">cookie</a>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-cookie-name\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-cookie-name-2\">cookie name</a> amongst <a href=\"https://www.w3.org/TR/webdriver2/#dfn-associated-cookies\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-associated-cookies-4\">all associated\n  cookies</a> of <var>session</var>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-current-browsing-context\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-current-browsing-context-75\">current browsing\n  context</a>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-active-document\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-active-document-25\">active document</a>, return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-success\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-success-92\">success</a> with\n  the <a href=\"https://www.w3.org/TR/webdriver2/#dfn-serialized-cookie\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-serialized-cookie-4\">serialized cookie</a> as data.\n\n  </p><p>Otherwise, return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-185\">error</a>\n   with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-172\">error code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-no-such-cookie\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-no-such-cookie-1\">no such cookie</a>.\n</p>"
        }
      ]
    },
    {
      "html": "The <a href=\"https://www.w3.org/TR/webdriver2/#dfn-remote-end-steps\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-remote-end-steps-56\">remote end steps</a>, given <var>session</var>, <var>URL\nvariables</var> and <var>parameters</var> are:",
      "rationale": "let",
      "steps": [
        {
          "html": "<p>Let <var>data</var> be the result of <a href=\"https://www.w3.org/TR/webdriver2/#dfn-getting-properties\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-getting-properties-41\">getting a property</a>\n  named \"<code>cookie</code>\" from <var>parameters</var>.\n\n </p>"
        },
        {
          "html": "<p>If <var>data</var> is not a JSON <a href=\"https://www.w3.org/TR/webdriver2/#dfn-object\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-object-49\">Object</a>\n  with all the required (non-optional) JSON keys\n  listed in the <a href=\"https://www.w3.org/TR/webdriver2/#dfn-table-for-cookie-conversion\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-table-for-cookie-conversion-2\">table for cookie conversion</a>,\n  return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-186\">error</a> with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-173\">error code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-invalid-argument\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-invalid-argument-56\">invalid argument</a>.\n\n </p>"
        },
        {
          "html": "<p>If <var>session</var>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-current-browsing-context\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-current-browsing-context-76\">current browsing context</a>\n  is <a href=\"https://www.w3.org/TR/webdriver2/#dfn-no-longer-open\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-no-longer-open-47\">no longer open</a>, return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-187\">error</a> with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-174\">error\n  code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-no-such-window\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-no-such-window-48\">no such window</a>.\n\n </p>"
        },
        {
          "html": "<p><a href=\"https://www.w3.org/TR/webdriver2/#dfn-try\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-try-98\">Try</a> to <a href=\"https://www.w3.org/TR/webdriver2/#dfn-handle-any-user-prompts\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-handle-any-user-prompts-46\">handle any user prompts</a>\n  with <var>session</var>.\n\n </p>"
        },
        {
          "html": "<p>If <var>session</var>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-current-browsing-context\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-current-browsing-context-77\">current browsing\n  context</a>'s <a data-link-type=\"dfn\" href=\"https://dom.spec.whatwg.org/#document-element\" id=\"ref-for-index-term-document-element-9\">document element</a> is\n  a <a href=\"https://www.w3.org/TR/webdriver2/#dfn-cookie-averse-document-object\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-cookie-averse-document-object-1\">cookie-averse <code>Document</code> object</a>,\n  return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-188\">error</a> with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-175\">error code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-invalid-cookie-domain\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-invalid-cookie-domain-1\">invalid cookie\n  domain</a>.\n\n </p>"
        },
        {
          "html": "<p>If <a href=\"https://www.w3.org/TR/webdriver2/#dfn-cookie-name\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-cookie-name-3\">cookie name</a> or <a href=\"https://www.w3.org/TR/webdriver2/#dfn-cookie-value\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-cookie-value-1\">cookie value</a> is <a href=\"https://www.w3.org/TR/webdriver2/#dfn-null\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-null-55\"><code>null</code></a>,\n  <a href=\"https://www.w3.org/TR/webdriver2/#dfn-cookie-domain\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-cookie-domain-1\">cookie domain</a> is not equal to <var>session</var>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-current-browsing-context\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-current-browsing-context-78\">current\n  browsing context</a>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-active-document\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-active-document-26\">active document</a>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-domains\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-domains-2\">domain</a>,\n  <a href=\"https://www.w3.org/TR/webdriver2/#dfn-cookie-secure-only\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-cookie-secure-only-1\">cookie secure only</a> or <a href=\"https://www.w3.org/TR/webdriver2/#dfn-cookie-http-only\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-cookie-http-only-2\">cookie HTTP only</a> are not boolean types,\n  or <a href=\"https://www.w3.org/TR/webdriver2/#dfn-cookie-expiry-time\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-cookie-expiry-time-2\">cookie expiry time</a> is not an integer type, or it less than 0 or greater than\n  the <a href=\"https://www.w3.org/TR/webdriver2/#dfn-maximum-safe-integer\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-maximum-safe-integer-2\">maximum safe integer</a>, return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-189\">error</a> with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-176\">error\n  code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-invalid-argument\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-invalid-argument-57\">invalid argument</a>.\n\n </p>"
        },
        {
          "html": "<p><a href=\"https://www.w3.org/TR/webdriver2/#dfn-creating-a-cookie\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-creating-a-cookie-2\">Create a cookie</a> in\n  the <a href=\"https://www.w3.org/TR/webdriver2/#dfn-cookie-store\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-cookie-store-3\">cookie store</a> associated with\n  the <a href=\"https://www.w3.org/TR/webdriver2/#dfn-active-document\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-active-document-27\">active document</a>'s <a data-link-type=\"element\" href=\"https://html.spec.whatwg.org/multipage/sections.html#the-address-element\" id=\"ref-for-index-term-address-element-2\">address</a>\n  using <a href=\"https://www.w3.org/TR/webdriver2/#dfn-cookie-name\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-cookie-name-4\">cookie name</a> <var>name</var>,\n  <a href=\"https://www.w3.org/TR/webdriver2/#dfn-cookie-value\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-cookie-value-2\">cookie value</a> <var>value</var>,\n  and an attribute-value list of the following cookie concepts\n  listed in the <a href=\"https://www.w3.org/TR/webdriver2/#dfn-table-for-cookie-conversion\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-table-for-cookie-conversion-3\">table for cookie conversion</a>\n  from <var>data</var>:\n\n  </p><dl>\n   <dt><a href=\"https://www.w3.org/TR/webdriver2/#dfn-cookie-path\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-cookie-path-1\">Cookie path</a>\n   </dt><dd><p>The value if the entry exists, otherwise \"<code>/</code>\".\n\n   </p></dd><dt><a href=\"https://www.w3.org/TR/webdriver2/#dfn-cookie-domain\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-cookie-domain-2\">Cookie domain</a>\n   </dt><dd><p>The value if the entry exists,\n    otherwise <var>session</var>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-current-browsing-context\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-current-browsing-context-79\">current browsing context</a>'s\n    <a href=\"https://www.w3.org/TR/webdriver2/#dfn-active-document\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-active-document-28\">active document</a>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-url\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-url-9\">URL</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-domains\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-domains-3\">domain</a>.\n\n   </p></dd><dt><a href=\"https://www.w3.org/TR/webdriver2/#dfn-cookie-secure-only\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-cookie-secure-only-2\">Cookie secure only</a>\n   </dt><dd><p>The value if the entry exists, otherwise false.\n\n   </p></dd><dt><a href=\"https://www.w3.org/TR/webdriver2/#dfn-cookie-http-only\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-cookie-http-only-3\">Cookie HTTP only</a>\n   </dt><dd><p>The value if the entry exists, otherwise false.\n\n   </p></dd><dt><a href=\"https://www.w3.org/TR/webdriver2/#dfn-cookie-expiry-time\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-cookie-expiry-time-3\">Cookie expiry time</a>\n   </dt><dd><p>The value if the entry exists, otherwise leave unset to\n    indicate that this is a session cookie.\n\n    </p>\n\n   </dd><dt><a href=\"https://www.w3.org/TR/webdriver2/#dfn-cookie-same-site\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-cookie-same-site-1\">Cookie same site</a>\n   </dt><dd><p>The value if the entry exists, otherwise leave unset to\n    indicate that no same site policy is defined.\n  </p></dd></dl>\n\n  <p>If there is an <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-190\">error</a> during this step,\n   return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-191\">error</a> with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-177\">error code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-unable-to-set-cookie\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-unable-to-set-cookie-1\">unable to set cookie</a>.\n\n </p>"
        },
        {
          "html": "<p>Return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-success\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-success-93\">success</a> with data <a href=\"https://www.w3.org/TR/webdriver2/#dfn-null\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-null-56\"><code>null</code></a>.\n</p>"
        }
      ]
    },
    {
      "html": "The <a href=\"https://www.w3.org/TR/webdriver2/#dfn-remote-end-steps\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-remote-end-steps-57\">remote end steps</a>, given <var>session</var>, <var>URL\nvariables</var> and <var>parameters</var> are:",
      "rationale": "if",
      "steps": [
        {
          "html": "<p>If <var>session</var>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-current-browsing-context\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-current-browsing-context-80\">current browsing context</a>\n  is <a href=\"https://www.w3.org/TR/webdriver2/#dfn-no-longer-open\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-no-longer-open-48\">no longer open</a>, return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-192\">error</a> with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-178\">error\n  code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-no-such-window\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-no-such-window-49\">no such window</a>.\n\n </p>"
        },
        {
          "html": "<p><a href=\"https://www.w3.org/TR/webdriver2/#dfn-try\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-try-99\">Try</a> to <a href=\"https://www.w3.org/TR/webdriver2/#dfn-handle-any-user-prompts\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-handle-any-user-prompts-47\">handle any user prompts</a>\n  with <var>session</var>.\n\n </p>"
        },
        {
          "html": "<p><a href=\"https://www.w3.org/TR/webdriver2/#dfn-delete-cookies\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-delete-cookies-1\">Delete cookies</a> using the <var>URL\n  variables</var>[\"<code>name</code>\"] as the filter argument.\n\n </p>"
        },
        {
          "html": "<p>Return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-success\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-success-94\">success</a> with data <a href=\"https://www.w3.org/TR/webdriver2/#dfn-null\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-null-57\"><code>null</code></a>.\n</p>"
        }
      ]
    },
    {
      "html": "The <a href=\"https://www.w3.org/TR/webdriver2/#dfn-remote-end-steps\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-remote-end-steps-58\">remote end steps</a>, given <var>session</var>, <var>URL\nvariables</var> and <var>parameters</var> are:",
      "rationale": "if",
      "steps": [
        {
          "html": "<p>If <var>session</var>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-current-browsing-context\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-current-browsing-context-81\">current browsing context</a>\n  is <a href=\"https://www.w3.org/TR/webdriver2/#dfn-no-longer-open\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-no-longer-open-49\">no longer open</a>, return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-193\">error</a> with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-179\">error\n  code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-no-such-window\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-no-such-window-50\">no such window</a>.\n\n </p>"
        },
        {
          "html": "<p><a href=\"https://www.w3.org/TR/webdriver2/#dfn-try\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-try-100\">Try</a> to <a href=\"https://www.w3.org/TR/webdriver2/#dfn-handle-any-user-prompts\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-handle-any-user-prompts-48\">handle any user prompts</a>\n  with <var>session</var>.\n\n </p>"
        },
        {
          "html": "<p><a href=\"https://www.w3.org/TR/webdriver2/#dfn-delete-cookies\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-delete-cookies-2\">Delete cookies</a>, giving no filtering argument.\n\n </p>"
        },
        {
          "html": "<p>Return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-success\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-success-95\">success</a> with data <a href=\"https://www.w3.org/TR/webdriver2/#dfn-null\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-null-58\"><code>null</code></a>.\n</p>"
        }
      ]
    },
    {
      "name": "get a WebElement origin",
      "href": "https://www.w3.org/TR/webdriver2/#dfn-get-a-webelement-origin",
      "html": "To <dfn id=\"dfn-get-a-webelement-origin\" tabindex=\"0\" aria-haspopup=\"dialog\" data-dfn-type=\"dfn\">get a WebElement origin</dfn>\ngiven <var>session</var>, <var>origin</var> and <var>browsing\ncontext</var>:,",
      "rationale": ".algorithm",
      "steps": [
        {
          "html": "<p>Assert: <var>browsing context</var> is the <a href=\"https://www.w3.org/TR/webdriver2/#dfn-current-browsing-context\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-current-browsing-context-82\">current\n  browsing context</a>.\n\n  </p>"
        },
        {
          "html": "<p>Let <var>element</var> be equal to the result\n  of <a href=\"https://www.w3.org/TR/webdriver2/#dfn-try\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-try-101\">trying</a> to <a href=\"https://www.w3.org/TR/webdriver2/#dfn-get-a-known-element\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-get-a-known-element-19\">get a known element</a> with\n  <var>session</var> and <var>origin</var>.\n\n  </p>"
        },
        {
          "html": "<p>Return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-success\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-success-96\">success</a> with data <var>element</var>.\n</p>"
        }
      ]
    },
    {
      "name": "create an input source",
      "href": "https://www.w3.org/TR/webdriver2/#dfn-create-an-input-source",
      "html": "To <dfn id=\"dfn-create-an-input-source\" tabindex=\"0\" aria-haspopup=\"dialog\" data-dfn-type=\"dfn\">create an input source</dfn> given <var>input\nstate</var>, <var>type</var> and optional <var>subtype</var>:",
      "rationale": "run",
      "steps": [
        {
          "html": "<p>Run the substeps matching the first matching value\n of <var>type</var>:\n\n  </p><dl>\n    <dt>\"<code>none</code>\"\n    </dt><dd>Let <var>source</var> be the result of <a href=\"https://www.w3.org/TR/webdriver2/#dfn-create-a-null-input-source\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-create-a-null-input-source-1\">create a null input\n    source</a>.\n\n    </dd><dt>\"<code>key</code>\"\n    </dt><dd>Let <var>source</var> be the result of <a href=\"https://www.w3.org/TR/webdriver2/#dfn-create-a-key-input-source\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-create-a-key-input-source-1\">create a key input\n    source</a>.\n\n    </dd><dt>\"<code>pointer</code>\"\n    </dt><dd>Let <var>source</var> be the result of <a href=\"https://www.w3.org/TR/webdriver2/#dfn-create-a-pointer-input-source\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-create-a-pointer-input-source-1\">create a pointer\n    input source</a> with <var>input state</var> and <var>subtype</var>.\n\n    </dd><dt>\"<code>wheel</code>\"\n    </dt><dd>Let <var>source</var> be the result of <a href=\"https://www.w3.org/TR/webdriver2/#dfn-create-a-wheel-input-source\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-create-a-wheel-input-source-1\">create a wheel input\n    source</a>.\n\n    </dd><dt>Otherwise:\n    </dt><dd>Return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-194\">error</a> with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-180\">error code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-invalid-argument\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-invalid-argument-58\">invalid argument</a>.\n  </dd></dl>"
        },
        {
          "html": "Return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-success\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-success-97\">success</a> with data <var>source</var>."
        }
      ]
    },
    {
      "name": "get the input state",
      "href": "https://www.w3.org/TR/webdriver2/#dfn-get-the-input-state",
      "html": "To <dfn id=\"dfn-get-the-input-state\" tabindex=\"0\" aria-haspopup=\"dialog\" data-dfn-type=\"dfn\">get the input state</dfn> given <var>session</var>\nand <var>browsing context</var>:",
      "rationale": ".algorithm",
      "steps": [
        {
          "html": "<p>Assert: <var>browsing context</var> is a <a data-link-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/document-sequences.html#top-level-browsing-context\" id=\"ref-for-index-term-top-level-browsing-contexts-26\">top-level browsing\n context</a>.\n\n </p>"
        },
        {
          "html": "<p>Let <var>input state map</var>\n be <var>session</var>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-browsing-context-input-state-map\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-browsing-context-input-state-map-1\">browsing context input state map</a>.\n\n </p>"
        },
        {
          "html": "<p>If <var>input state map</var> does not\n <a data-link-type=\"dfn\" data-lt=\"exist\" href=\"https://infra.spec.whatwg.org/#map-exists\" id=\"ref-for-index-term-contains-for-map-3\">contain</a> <var>browsing context</var>, set <var>input\n state map</var>[<var>browsing context</var>] to <a href=\"https://www.w3.org/TR/webdriver2/#dfn-create-an-input-state\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-create-an-input-state-1\">create an input\n state</a>.\n\n </p>"
        },
        {
          "html": "<p>Return <var>input state map</var>[<var>browsing\n context</var>].\n</p>"
        }
      ]
    },
    {
      "name": "reset the input state",
      "href": "https://www.w3.org/TR/webdriver2/#dfn-reset-the-input-state",
      "html": "To <dfn id=\"dfn-reset-the-input-state\" tabindex=\"0\" aria-haspopup=\"dialog\" data-dfn-type=\"dfn\">reset the input state</dfn> given <var>session</var>\nand <var>browsing context</var>:",
      "rationale": ".algorithm",
      "steps": [
        {
          "html": "<p>Assert: <var>browsing context</var> is a <a data-link-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/document-sequences.html#top-level-browsing-context\" id=\"ref-for-index-term-top-level-browsing-contexts-27\">top-level browsing\n context</a>.\n\n </p>"
        },
        {
          "html": "<p>Let <var>input state map</var>\n be <var>session</var>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-browsing-context-input-state-map\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-browsing-context-input-state-map-2\">browsing context input state map</a>.\n\n </p>"
        },
        {
          "html": "<p>If <var>input state map</var>[<var>browsing context</var>]\n <a data-link-type=\"dfn\" href=\"https://infra.spec.whatwg.org/#map-exists\" id=\"ref-for-index-term-contains-for-map-4\">exists</a>, then <a data-link-type=\"dfn\" href=\"https://dom.spec.whatwg.org/#concept-node-remove\" id=\"ref-for-index-term-remove-1\">remove</a> <var>input state map</var>[<var>browsing\n context</var>].\n</p>"
        }
      ]
    },
    {
      "name": "create an input state",
      "href": "https://www.w3.org/TR/webdriver2/#dfn-create-an-input-state",
      "html": "To <dfn id=\"dfn-create-an-input-state\" tabindex=\"0\" aria-haspopup=\"dialog\" data-dfn-type=\"dfn\">create an input state</dfn>:",
      "rationale": ".algorithm",
      "steps": [
        {
          "html": "<p>Let <var>input state</var> be an <a href=\"https://www.w3.org/TR/webdriver2/#dfn-input-state\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-input-state-4\">input state</a> with\n the <a href=\"https://www.w3.org/TR/webdriver2/#dfn-input-state-map\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-input-state-map-2\">input state map</a> set to an empty map, and the <a href=\"https://www.w3.org/TR/webdriver2/#dfn-input-cancel-list\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-input-cancel-list-1\">input\n cancel list</a> set to an empty list.\n\n </p>"
        },
        {
          "html": "<p>Return <var>input state</var>.\n</p>"
        }
      ]
    },
    {
      "name": "add an input source",
      "href": "https://www.w3.org/TR/webdriver2/#dfn-add-an-input-source",
      "html": "To <dfn id=\"dfn-add-an-input-source\" tabindex=\"0\" aria-haspopup=\"dialog\" data-dfn-type=\"dfn\">add an input source</dfn> given <var>input state</var>,\n<var>input id</var>, and <var>source</var>:",
      "rationale": ".algorithm",
      "steps": [
        {
          "html": "<p>Let <var>input state map</var> be <var>input\n  state</var>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-input-state-map\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-input-state-map-3\">input state map</a>.\n\n  </p>"
        },
        {
          "html": "Set <var>input state map</var>[<var>input id</var>]\n  to <var>source</var>."
        }
      ]
    },
    {
      "name": "remove an input source",
      "href": "https://www.w3.org/TR/webdriver2/#dfn-remove-an-input-source",
      "html": "To <dfn id=\"dfn-remove-an-input-source\" tabindex=\"0\" aria-haspopup=\"dialog\" data-dfn-type=\"dfn\">remove an input source</dfn> given <var>input state</var>,\nand <var>input id</var>:",
      "rationale": ".algorithm",
      "steps": [
        {
          "html": "<p>Assert: None of the items in <var>input\n  state</var>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-input-cancel-list\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-input-cancel-list-2\">input cancel list</a> has id equal\n  to <var>input id</var>.\n\n  </p>"
        },
        {
          "html": "<p>Let <var>input state map</var> be <var>input\n  state</var>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-input-state-map\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-input-state-map-4\">input state map</a>.\n\n  </p>"
        },
        {
          "html": "Remove <var>input state map</var>[<var>input id</var>]."
        }
      ]
    },
    {
      "name": "get an input source",
      "href": "https://www.w3.org/TR/webdriver2/#dfn-get-an-input-source",
      "html": "To <dfn id=\"dfn-get-an-input-source\" tabindex=\"0\" aria-haspopup=\"dialog\" data-dfn-type=\"dfn\">get an input source</dfn> given <var>input state</var>\nand <var>input id</var>:",
      "rationale": ".algorithm",
      "steps": [
        {
          "html": "<p>Let <var>input state map</var> be <var>input\n  state</var>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-input-state-map\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-input-state-map-5\">input state map</a>.\n\n  </p>"
        },
        {
          "html": "<p>If <var>input state map</var>[<var>input id</var>] exists,\n  return <var>input state map</var>[<var>input id</var>].\n\n </p>"
        },
        {
          "html": "<p>Return undefined.</p>"
        }
      ]
    },
    {
      "name": "get or create an input source",
      "href": "https://www.w3.org/TR/webdriver2/#dfn-get-or-create-an-input-source",
      "html": "To <dfn id=\"dfn-get-or-create-an-input-source\" tabindex=\"0\" aria-haspopup=\"dialog\" data-dfn-type=\"dfn\">get or create an input source</dfn> given <var>input\nstate</var>, <var>type</var>, <var>input id</var>, and\noptional <var>subtype</var>:",
      "rationale": ".algorithm",
      "steps": [
        {
          "html": "<p>Let <var>source</var> be <a href=\"https://www.w3.org/TR/webdriver2/#dfn-get-an-input-source\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-get-an-input-source-1\">get an input source</a>\n  with <var>input state</var> and <var>input id</var>.\n\n  </p>"
        },
        {
          "html": "<p>If <var>source</var> is not undefined and <var>source</var>'s\n  type is not equal to <var>type</var>, or <var>source</var> is\n  a <a href=\"https://www.w3.org/TR/webdriver2/#dfn-pointer-input-source\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-pointer-input-source-4\">pointer input source</a>, return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-195\">error</a> with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-181\">error\n  code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-invalid-argument\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-invalid-argument-59\">invalid argument</a>.\n\n  </p>"
        },
        {
          "html": "<p>If <var>source</var> is undefined, set <var>source</var> to\n  the result of <a href=\"https://www.w3.org/TR/webdriver2/#dfn-try\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-try-102\">trying</a> to <a href=\"https://www.w3.org/TR/webdriver2/#dfn-create-an-input-source\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-create-an-input-source-3\">create an input source</a>\n  with <var>input state</var> and <var>type</var>.\n\n </p>"
        },
        {
          "html": "<p>Return success with data <var>source</var>.</p>"
        }
      ]
    },
    {
      "name": "get the global key state",
      "href": "https://www.w3.org/TR/webdriver2/#dfn-get-the-global-key-state",
      "html": "To <dfn id=\"dfn-get-the-global-key-state\" tabindex=\"0\" aria-haspopup=\"dialog\" data-dfn-type=\"dfn\">get the global key state</dfn> given <var>input state</var>:",
      "rationale": ".algorithm",
      "steps": [
        {
          "html": "<p>Let <var>input state map</var> be <var>input\n  state</var>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-input-state-map\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-input-state-map-6\">input state map</a>.\n\n </p>"
        },
        {
          "html": "<p>Let <var>sources</var> be the result of <a data-link-type=\"dfn\" href=\"https://infra.spec.whatwg.org/#map-getting-the-values\" id=\"ref-for-index-term-getting-the-values-for-map-1\">getting the values</a> with <var>input state map</var>.\n\n </p>"
        },
        {
          "html": "<p>Let <var>key state</var> be a new <a href=\"https://www.w3.org/TR/webdriver2/#dfn-global-key-state\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-global-key-state-1\">global key state</a>\n  with <code>pressed</code> set to an empty\n  set, <code>altKey</code>, <code>ctrlKey</code>, <code>metaKey</code>,\n  and <code>shiftKey</code> set to false.\n\n </p>"
        },
        {
          "html": "For each <var>source</var> in <var>sources</var>:",
          "rationale": "if",
          "steps": [
            {
              "html": "<p>If <var>source</var> is not a <a href=\"https://www.w3.org/TR/webdriver2/#dfn-key-input-source\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-key-input-source-6\">key input source</a>,\n   continue to the first step of this loop.\n\n  </p>"
            },
            {
              "html": "<p>Set <var>key state</var>'s <code>pressed</code> item to the\n  union of its current value and <var>source</var>'s pressed item.\n\n  </p>"
            },
            {
              "html": "<p>If <var>source</var>'s <code>alt</code> item is true,\n  set <var>key state</var>'s <code>altKey</code> item to true.\n\n  </p>"
            },
            {
              "html": "<p>If <var>source</var>'s <code>ctrl</code> item is true,\n  set <var>key state</var>'s <code>ctrlKey</code> item to true.\n\n  </p>"
            },
            {
              "html": "<p>If <var>source</var>'s <code>meta</code> item is true,\n  set <var>key state</var>'s <code>metaKey</code> item to true.\n\n  </p>"
            },
            {
              "html": "<p>If <var>source</var>'s <code>shift</code> item is true,\n  set <var>key state</var>'s <code>shiftKey</code> item to true.\n </p>"
            }
          ]
        },
        {
          "html": "<p>Return <var>key state</var>.\n</p>"
        }
      ]
    },
    {
      "name": "get a pointer id",
      "href": "https://www.w3.org/TR/webdriver2/#dfn-get-a-pointer-id",
      "html": "To <dfn id=\"dfn-get-a-pointer-id\" tabindex=\"0\" aria-haspopup=\"dialog\" data-dfn-type=\"dfn\">get a pointer id</dfn> given <var>input state</var>\nand <var>subtype</var>:",
      "rationale": ".algorithm",
      "steps": [
        {
          "html": "Let <var>minimum id</var> be 0 if <var>subtype</var> is\n \"<code>mouse</code>\", or 2 otherwise."
        },
        {
          "html": "Let <var>pointer ids</var> be an empty set."
        },
        {
          "html": "<p>Let <var>sources</var> be the result of <a data-link-type=\"dfn\" href=\"https://infra.spec.whatwg.org/#map-getting-the-values\" id=\"ref-for-index-term-getting-the-values-for-map-2\">getting the values</a> with <var>input state</var>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-input-state-map\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-input-state-map-7\">input state map</a>.\n\n </p>"
        },
        {
          "html": "For each <var>source</var> in <var>sources</var>.:",
          "rationale": "if",
          "steps": [
            {
              "html": "<p>If <var>source</var> is a <a href=\"https://www.w3.org/TR/webdriver2/#dfn-pointer-input-source\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-pointer-input-source-5\">pointer input source</a>,\n    append <var>source</var>'s pointerId to <var>pointer ids</var>.\n  </p>"
            }
          ]
        },
        {
          "html": "<p>Return the smallest integer that is greater than or equal\n to <var>minimum id</var> and that is not contained in <var>pointer\n ids</var>.\n</p>"
        }
      ]
    },
    {
      "name": "get coordinates relative to an origin",
      "href": "https://www.w3.org/TR/webdriver2/#dfn-get-coordinates-relative-to-an-origin",
      "html": "To <dfn id=\"dfn-get-coordinates-relative-to-an-origin\" tabindex=\"0\" aria-haspopup=\"dialog\" data-dfn-type=\"dfn\">get coordinates relative to an origin</dfn>\ngiven <var>source</var>, <var>x offset</var>, <var>y offset</var>,\n<var>origin</var>, <var>browsing context</var>, and <var>actions\noptions</var>:",
      "rationale": ".algorithm",
      "steps": [
        {
          "html": "<p>Run the substeps of the first matching value\n  of <var>origin</var>\n  </p><dl>\n   <dt>\"<code>viewport</code>\"\n   </dt><dd>\n    \n   </dd>\n\n   <dt>\"<code>pointer</code>\"\n   </dt><dd>\n    \n   </dd>\n\n   <dt>Otherwise</dt>\n   <dd>\n    \n   </dd>\n  </dl>",
          "rationale": "let",
          "steps": [
            {
              "html": "<p>Let <var>x</var> equal <var>x offset</var> and\n     <var>y</var> equal <var>y offset</var>.\n    </p>"
            }
          ],
          "additional": [
            {
              "html": "",
              "rationale": "let",
              "steps": [
                {
                  "html": "<p>Let <var>start x</var> be equal to the <code>x</code>\n     property of <var>source</var>.\n\n     </p>"
                },
                {
                  "html": "<p>Let <var>start y</var> be equal to the <code>y</code>\n     property of <var>source</var>.\n\n     </p>"
                },
                {
                  "html": "<p>Let <var>x</var> equal <var>start x</var> +\n     <var>x offset</var> and <var>y</var> equal\n     <var>start y</var> + <var>y  offset</var>.\n    </p>"
                }
              ]
            },
            {
              "html": "",
              "rationale": "let",
              "steps": [
                {
                  "html": "<p>Let <var>element</var> be the result of <a href=\"https://www.w3.org/TR/webdriver2/#dfn-try\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-try-103\">trying</a> to\n     run <var>actions options</var>' <a href=\"https://www.w3.org/TR/webdriver2/#dfn-get-element-origin\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-get-element-origin-4\">get element origin</a>\n     steps with <var>origin</var> and <var>browsing context</var>.\n\n     </p>"
                },
                {
                  "html": "<p>If <var>element</var> is null, return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-196\">error</a> with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-182\">error\n     code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-no-such-element\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-no-such-element-9\">no such element</a>.\n\n     </p>"
                },
                {
                  "html": "<p>Let <var>x element</var> and <var>y element</var> be the\n     result of calculating the <a href=\"https://www.w3.org/TR/webdriver2/#dfn-center-point\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-center-point-10\">in-view center point</a>\n     of <var>element</var>.\n\n     </p>"
                },
                {
                  "html": "<p>Let <var>x</var> equal <var>x element</var> +\n     <var>x offset</var>, and <var>y</var> equal\n     <var>y element</var> + <var>y offset</var>.\n    </p>"
                }
              ]
            }
          ]
        },
        {
          "html": "<p>Return (<var>x</var>, <var>y</var>)\n</p>"
        }
      ]
    },
    {
      "name": "extract an action sequence",
      "href": "https://www.w3.org/TR/webdriver2/#dfn-extract-an-action-sequence",
      "html": "To <dfn id=\"dfn-extract-an-action-sequence\" tabindex=\"0\" aria-haspopup=\"dialog\" data-dfn-type=\"dfn\">extract an action sequence</dfn> given\n <var>input state</var>, <var>parameters</var>, and <var>actions\n options</var>:",
      "rationale": ".algorithm",
      "steps": [
        {
          "html": "<p>Let <var>actions</var> be the result of <a href=\"https://www.w3.org/TR/webdriver2/#dfn-getting-properties\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-getting-properties-42\">getting a\n  property</a> named \"<code>actions</code>\" from <var>parameters</var>.\n\n </p>"
        },
        {
          "html": "<p>If <var>actions</var> is <a href=\"https://www.w3.org/TR/webdriver2/#dfn-undefined\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-undefined-27\">undefined</a> or is not\n  an <a href=\"https://www.w3.org/TR/webdriver2/#dfn-array\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-array-5\">Array</a>, return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-197\">error</a> with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-183\">error\n  code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-invalid-argument\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-invalid-argument-60\">invalid argument</a>.\n\n \n </p>"
        },
        {
          "html": "<p>Let <var>actions by tick</var> be an empty <a href=\"https://www.w3.org/TR/webdriver2/#dfn-list\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-list-13\">List</a>.</p>"
        },
        {
          "html": "For each value <var>action sequence</var>\n  corresponding to an indexed property in <var>actions</var>:",
          "rationale": "let",
          "steps": [
            {
              "html": "<p>Let <var>source actions</var> be the result of <a href=\"https://www.w3.org/TR/webdriver2/#dfn-try\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-try-104\">trying</a>\n    to <a href=\"https://www.w3.org/TR/webdriver2/#dfn-process-an-input-source-action-sequence\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-process-an-input-source-action-sequence-1\">process an input source action sequence</a> given <var>input\n    state</var>, <var>action sequence</var>, and <var>actions\n    options</var>.\n\n   </p>"
            },
            {
              "html": "For each <var>action</var> in <var>source actions</var>:",
              "rationale": "let",
              "steps": [
                {
                  "html": "<p>Let <var>i</var> be the zero-based index\n      of <var>action</var> in <var>source actions</var>.\n\n     </p>"
                },
                {
                  "html": "<p>If the length of <var>actions by tick</var> is less\n      than <var>i</var> + 1, append a new <a href=\"https://www.w3.org/TR/webdriver2/#dfn-list\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-list-14\">List</a> to\n      <var>actions by tick</var>.</p>"
                },
                {
                  "html": "<p>Append <var>action</var> to the <a href=\"https://www.w3.org/TR/webdriver2/#dfn-list\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-list-15\">List</a> at\n      index <var>i</var> in <var>actions by tick</var>.</p>"
                }
              ]
            }
          ]
        },
        {
          "html": "<p>Return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-success\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-success-98\">success</a> with data\n  <var>actions by tick</var>.\n</p>"
        }
      ]
    },
    {
      "name": "process an input source action sequence",
      "href": "https://www.w3.org/TR/webdriver2/#dfn-process-an-input-source-action-sequence",
      "html": "When required to <dfn id=\"dfn-process-an-input-source-action-sequence\" tabindex=\"0\" aria-haspopup=\"dialog\" data-dfn-type=\"dfn\">process an input source action\n sequence</dfn>, given <var>input state</var>, <var>action\n sequence</var>, and <var>actions options</var>, a <a href=\"https://www.w3.org/TR/webdriver2/#dfn-remote-ends\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-remote-ends-77\">remote end</a>\n must:",
      "rationale": ".algorithm",
      "steps": [
        {
          "html": "<p>Let <var>type</var> be the result of <a href=\"https://www.w3.org/TR/webdriver2/#dfn-getting-properties\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-getting-properties-43\">getting a property</a>\n  named \"<code>type</code>\" from <var>action sequence</var>.\n\n </p>"
        },
        {
          "html": "<p>If <var>type</var> is\n  not \"<code>key</code>\", \"<code>pointer</code>\",\n  \"<code>wheel</code>\", or \"<code>none</code>\",\n  return an <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-198\">error</a> with\n  <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-184\">error code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-invalid-argument\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-invalid-argument-61\">invalid argument</a>.\n\n </p>"
        },
        {
          "html": "<p>Let <var>id</var> be the result of\n  <a href=\"https://www.w3.org/TR/webdriver2/#dfn-getting-properties\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-getting-properties-44\">getting the property</a> \"<code>id</code>\" from\n  <var>action sequence</var>.\n\n \n </p>"
        },
        {
          "html": "<p>If <var>id</var> is <a href=\"https://www.w3.org/TR/webdriver2/#dfn-undefined\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-undefined-28\">undefined</a> or is not a <a href=\"https://www.w3.org/TR/webdriver2/#dfn-string\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-string-16\">String</a>,\n  return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-199\">error</a> with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-185\">error code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-invalid-argument\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-invalid-argument-62\">invalid argument</a>.\n\n </p>"
        },
        {
          "html": "<p>If <var>type</var> is equal to \"<code>pointer</code>\",\n  let <var>parameters data</var> be the result\n  of <a href=\"https://www.w3.org/TR/webdriver2/#dfn-getting-properties\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-getting-properties-45\">getting the property</a> \"<code>parameters</code>\"\n  from <var>action sequence</var>.\n  Then let <var>parameters</var> be the result\n  of <a href=\"https://www.w3.org/TR/webdriver2/#dfn-try\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-try-105\">trying</a> to <a href=\"https://www.w3.org/TR/webdriver2/#dfn-process-pointer-parameters\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-process-pointer-parameters-1\">process pointer parameters</a>\n  with argument <var>parameters data</var>.\n\n  </p>"
        },
        {
          "html": "<p>Let <var>source</var> be the result of trying to <a href=\"https://www.w3.org/TR/webdriver2/#dfn-get-or-create-an-input-source\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-get-or-create-an-input-source-1\">get or\n  create an input source</a> given <var>input\n  state</var>, <var>type</var> and <var>id</var>.\n\n </p>"
        },
        {
          "html": "<p>If <var>parameters</var> is not <a href=\"https://www.w3.org/TR/webdriver2/#dfn-undefined\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-undefined-29\">undefined</a>,\n  then if its <code>pointerType</code> property is not equal to\n  <var>source</var>'s subtype property, return an <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-200\">error</a>\n  with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-186\">error code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-invalid-argument\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-invalid-argument-63\">invalid argument</a>.\n\n </p>"
        },
        {
          "html": "<p>Let <var>action items</var> be the result of <a href=\"https://www.w3.org/TR/webdriver2/#dfn-getting-properties\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-getting-properties-46\">getting a\n  property</a> named \"<code>actions</code>\" from\n  <var>action sequence</var>.\n\n </p>"
        },
        {
          "html": "<p>If <var>action items</var> is not an <a href=\"https://www.w3.org/TR/webdriver2/#dfn-array\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-array-6\">Array</a>,\n  return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-201\">error</a> with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-187\">error code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-invalid-argument\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-invalid-argument-64\">invalid argument</a>.\n\n </p>"
        },
        {
          "html": "<p>Let <var>actions</var> be a new list.\n\n </p>"
        },
        {
          "html": "For each <var>action item</var> in <var>action items</var>:",
          "rationale": "if",
          "steps": [
            {
              "html": "<p>If <var>action item</var> is not an <a href=\"https://www.w3.org/TR/webdriver2/#dfn-object\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-object-51\">Object</a>\n    return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-202\">error</a> with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-188\">error code</a>\n    <a href=\"https://www.w3.org/TR/webdriver2/#dfn-invalid-argument\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-invalid-argument-65\">invalid argument</a>.\n\n   </p>"
            },
            {
              "html": "<p>If <var>type</var> is \"<code>none</code>\"\n    let <var>action</var> be the result of <a href=\"https://www.w3.org/TR/webdriver2/#dfn-try\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-try-106\">trying</a> to <a href=\"https://www.w3.org/TR/webdriver2/#dfn-process-a-null-action\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-process-a-null-action-1\">process\n    a null action</a> with parameters <var>id</var>, and\n    <var>action item</var>.\n\n   </p>"
            },
            {
              "html": "<p>Otherwise, if <var>type</var> is \"<code>key</code>\"\n    let <var>action</var> be the result of <a href=\"https://www.w3.org/TR/webdriver2/#dfn-try\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-try-107\">trying</a> to <a href=\"https://www.w3.org/TR/webdriver2/#dfn-process-a-key-action\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-process-a-key-action-1\">process\n    a key action</a> with parameters <var>id</var>, and\n    <var>action item</var>.\n\n   </p>"
            },
            {
              "html": "<p>Otherwise, if <var>type</var> is \"<code>pointer</code>\"\n    let <var>action</var> be the result of <a href=\"https://www.w3.org/TR/webdriver2/#dfn-try\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-try-108\">trying</a> to <a href=\"https://www.w3.org/TR/webdriver2/#dfn-process-a-pointer-action\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-process-a-pointer-action-1\">process\n    a pointer action</a> with parameters <var>id</var>,\n    <var>parameters</var>, <var>action item</var>, and <var>actions\n    options</var>.\n\n   </p>"
            },
            {
              "html": "<p>Otherwise, if <var>type</var> is \"<code>wheel</code>\"\n    let <var>action</var> be the result of <a href=\"https://www.w3.org/TR/webdriver2/#dfn-try\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-try-109\">trying</a> to <a href=\"https://www.w3.org/TR/webdriver2/#dfn-process-a-wheel-action\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-process-a-wheel-action-1\">process\n    a wheel action</a> with parameters <var>id</var>, and\n    <var>action item</var>, and <var>actions options</var>.\n\n   </p>"
            },
            {
              "html": "<p>Append <var>action</var> to <var>actions</var>.\n  </p>"
            }
          ]
        },
        {
          "html": "<p>Return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-success\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-success-99\">success</a> with data <var>actions</var>.\n</p>"
        }
      ]
    },
    {
      "name": "process pointer parameters",
      "href": "https://www.w3.org/TR/webdriver2/#dfn-process-pointer-parameters",
      "html": "To <dfn id=\"dfn-process-pointer-parameters\" tabindex=\"0\" aria-haspopup=\"dialog\" data-dfn-type=\"dfn\">process pointer parameters</dfn> given\n <var>parameters data</var>:",
      "rationale": ".algorithm",
      "steps": [
        {
          "html": "<p>\nLet <var>parameters</var> be the <a href=\"https://www.w3.org/TR/webdriver2/#dfn-default-pointer-parameters\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-default-pointer-parameters-1\">default pointer parameters</a>.\n\n</p>"
        },
        {
          "html": "<p>\nIf <var>parameters data</var> is <a href=\"https://www.w3.org/TR/webdriver2/#dfn-undefined\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-undefined-30\">undefined</a>,\nreturn <a href=\"https://www.w3.org/TR/webdriver2/#dfn-success\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-success-100\">success</a> with data <var>parameters</var>.\n\n</p>"
        },
        {
          "html": "<p>\nIf <var>parameters data</var> is not an <a href=\"https://www.w3.org/TR/webdriver2/#dfn-object\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-object-52\">Object</a>,\nreturn <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-203\">error</a> with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-189\">error code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-invalid-argument\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-invalid-argument-66\">invalid argument</a>.\n\n</p>"
        },
        {
          "html": "<p>\nLet <var>pointer type</var> be the result\nof <a href=\"https://www.w3.org/TR/webdriver2/#dfn-getting-properties\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-getting-properties-47\">getting a property</a> named \"<code>pointerType</code>\"\nfrom <var>parameters data</var>.\n\n</p>"
        },
        {
          "html": "If <var>pointer type</var> is not <a href=\"https://www.w3.org/TR/webdriver2/#dfn-undefined\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-undefined-31\">undefined</a>:",
          "rationale": "if",
          "steps": [
            {
              "html": "<p>\n  If <var>pointer type</var> does not have one of the values\n  \"<code>mouse</code>\",\n  \"<code>pen</code>\",\n  or \"<code>touch</code>\",\n  return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-204\">error</a> with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-190\">error code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-invalid-argument\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-invalid-argument-67\">invalid argument</a>.\n\n  </p>"
            },
            {
              "html": "<p>\n  Set the <code>pointerType</code> property of <var>parameters</var>\n  to <var>pointer type</var>.\n  </p>"
            }
          ]
        },
        {
          "html": "<p>Return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-success\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-success-101\">success</a> with data <var>parameters</var>.\n</p>"
        }
      ]
    },
    {
      "name": "process a null action",
      "href": "https://www.w3.org/TR/webdriver2/#dfn-process-a-null-action",
      "html": "To <dfn id=\"dfn-process-a-null-action\" tabindex=\"0\" aria-haspopup=\"dialog\" data-dfn-type=\"dfn\">process a null action</dfn> given\n<var>id</var> and <var>action item</var>:",
      "rationale": ".algorithm",
      "steps": [
        {
          "html": "<p>\nLet <var>subtype</var> be the result of <a href=\"https://www.w3.org/TR/webdriver2/#dfn-getting-properties\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-getting-properties-48\">getting a property</a>\nnamed \"<code>type</code>\" from <var>action item</var>.\n\n</p>"
        },
        {
          "html": "<p>\nIf <var>subtype</var> is not \"<code>pause</code>\",\nreturn <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-205\">error</a> with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-191\">error code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-invalid-argument\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-invalid-argument-68\">invalid argument</a>.\n\n</p>"
        },
        {
          "html": "<p>\nLet <var>action</var> be an <a href=\"https://www.w3.org/TR/webdriver2/#dfn-action-object\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-action-object-10\">action object</a> constructed with arguments\n<var>id</var>,\n<code>\"none\"</code>,\nand <var>subtype</var>.\n\n</p>"
        },
        {
          "html": "<p>\nLet <var>result</var> be the result\nof <a href=\"https://www.w3.org/TR/webdriver2/#dfn-try\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-try-110\">trying</a> to <a href=\"https://www.w3.org/TR/webdriver2/#dfn-process-a-pause-action\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-process-a-pause-action-1\">process a pause action</a>\nwith arguments <var>action item</var> and <var>action</var>.\n\n</p>"
        },
        {
          "html": "<p>\nReturn <var>result</var>.\n</p>"
        }
      ]
    },
    {
      "name": "process a key action",
      "href": "https://www.w3.org/TR/webdriver2/#dfn-process-a-key-action",
      "html": "To <dfn id=\"dfn-process-a-key-action\" tabindex=\"0\" aria-haspopup=\"dialog\" data-dfn-type=\"dfn\">process a key action</dfn> given\n<var>id</var> and <var>action item</var>:",
      "rationale": ".algorithm",
      "steps": [
        {
          "html": "<p>\nLet <var>subtype</var> be the result of <a href=\"https://www.w3.org/TR/webdriver2/#dfn-getting-properties\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-getting-properties-49\">getting a property</a>\nnamed \"<code>type</code>\" from <var>action item</var>.\n\n</p>"
        },
        {
          "html": "<p>\nIf <var>subtype</var> is not one of the values\n\"<code>keyUp</code>\",\n\"<code>keyDown</code>\",\nor \"<code>pause</code>\",\nreturn an <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-206\">error</a> with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-192\">error code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-invalid-argument\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-invalid-argument-69\">invalid argument</a>.\n\n</p>"
        },
        {
          "html": "<p>\nLet <var>action</var> be an <a href=\"https://www.w3.org/TR/webdriver2/#dfn-action-object\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-action-object-11\">action object</a> constructed with arguments\n<var>id</var>,\n\"<code>key</code>\",\nand <var>subtype</var>.\n\n</p>"
        },
        {
          "html": "<p>\nIf <var>subtype</var> is \"<code>pause</code>\",\nlet <var>result</var> be the result\nof <a href=\"https://www.w3.org/TR/webdriver2/#dfn-try\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-try-111\">trying</a> to <a href=\"https://www.w3.org/TR/webdriver2/#dfn-process-a-pause-action\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-process-a-pause-action-2\">process a pause action</a> with arguments\n<var>action item</var> and <var>action</var>,\nand return <var>result</var>.\n\n</p>"
        },
        {
          "html": "<p> Let <var>key</var> be the result of <a href=\"https://www.w3.org/TR/webdriver2/#dfn-getting-properties\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-getting-properties-50\">getting a property</a>\nnamed \"<code>value</code>\" from <var>action item</var>.\n\n</p>"
        },
        {
          "html": "<p>\nIf <var>key</var> is not a <a href=\"https://www.w3.org/TR/webdriver2/#dfn-string\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-string-17\">String</a> containing a single <a href=\"https://www.w3.org/TR/webdriver2/#dfn-unicode-code-point\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-unicode-code-point-2\">unicode code point</a>\n\nreturn <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-207\">error</a> with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-193\">error code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-invalid-argument\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-invalid-argument-70\">invalid argument</a>.\n\n</p>"
        },
        {
          "html": "<p>\nSet the <code>value</code> property on <var>action</var> to <var>key</var>.\n\n</p>"
        },
        {
          "html": "<p>\nReturn success with data <var>action</var>.\n</p>"
        }
      ]
    },
    {
      "name": "process a pointer action",
      "href": "https://www.w3.org/TR/webdriver2/#dfn-process-a-pointer-action",
      "html": "To <dfn id=\"dfn-process-a-pointer-action\" tabindex=\"0\" aria-haspopup=\"dialog\" data-dfn-type=\"dfn\">process a pointer action</dfn> given <var>id</var>,\n<var>parameters</var>, <var>action item</var>, and <var>action\noptions</var>:",
      "rationale": ".algorithm",
      "steps": [
        {
          "html": "<p>\nLet <var>subtype</var> be the result\nof <a href=\"https://www.w3.org/TR/webdriver2/#dfn-getting-properties\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-getting-properties-51\">getting a property</a> named \"<code>type</code>\"\nfrom <var>action item</var>.\n\n</p>"
        },
        {
          "html": "<p>\nIf <var>subtype</var> is not one of the values\n\"<code>pause</code>\",\n\"<code>pointerUp</code>\",\n\"<code>pointerDown</code>\",\n\"<code>pointerMove</code>\",\nor \"<code>pointerCancel</code>\",\nreturn an <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-208\">error</a> with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-194\">error code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-invalid-argument\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-invalid-argument-71\">invalid argument</a>.\n\n</p>"
        },
        {
          "html": "<p>\nLet <var>action</var> be an <a href=\"https://www.w3.org/TR/webdriver2/#dfn-action-object\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-action-object-12\">action object</a> constructed with arguments\n<var>id</var>,\n\"<code>pointer</code>\",\nand <var>subtype</var>.\n\n</p>"
        },
        {
          "html": "<p>\nIf <var>subtype</var> is \"<code>pause</code>\",\nlet <var>result</var> be the result of <a href=\"https://www.w3.org/TR/webdriver2/#dfn-try\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-try-112\">trying</a> to\n<a href=\"https://www.w3.org/TR/webdriver2/#dfn-process-a-pause-action\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-process-a-pause-action-3\">process a pause action</a> with arguments\n<var>action item</var>, <var>action</var>, and <var>actions\noptions</var>, and return <var>result</var>.\n\n</p>"
        },
        {
          "html": "<p>\nSet the <code>pointerType</code> property of <var>action</var>\nequal to the <code>pointerType</code> property of <var>parameters</var>.\n\n</p>"
        },
        {
          "html": "<p>\nIf <var>subtype</var> is \"<code>pointerUp</code>\" or \"<code>pointerDown</code>\",\n<a href=\"https://www.w3.org/TR/webdriver2/#dfn-process-a-pointer-up-or-pointer-down-action\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-process-a-pointer-up-or-pointer-down-action-1\">process a pointer up or pointer down action</a> with arguments\n<var>action item</var> and <var>action</var>.\nIf doing so results in an <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-209\">error</a>, return that <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-210\">error</a>.\n\n</p>"
        },
        {
          "html": "<p>\nIf <var>subtype</var> is \"<code>pointerMove</code>\"\n<a href=\"https://www.w3.org/TR/webdriver2/#dfn-process-a-pointer-move-action\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-process-a-pointer-move-action-1\">process a pointer move action</a> with arguments\n<var>action item</var>, <var>action</var>, and <var>actions\noptions</var>.  If doing so results in an <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-211\">error</a>, return\nthat <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-212\">error</a>.\n\n</p>"
        },
        {
          "html": "<p>\nIf <var>subtype</var> is \"<code>pointerCancel</code>\"\n.\nIf doing so results in an <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-213\">error</a>, return that <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-214\">error</a>.\n\n</p>"
        },
        {
          "html": "<p>\nReturn <a href=\"https://www.w3.org/TR/webdriver2/#dfn-success\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-success-102\">success</a> with data <var>action</var>.\n</p>"
        }
      ]
    },
    {
      "name": "process a wheel action",
      "href": "https://www.w3.org/TR/webdriver2/#dfn-process-a-wheel-action",
      "html": "To <dfn id=\"dfn-process-a-wheel-action\" tabindex=\"0\" aria-haspopup=\"dialog\" data-dfn-type=\"dfn\">process a wheel action</dfn> given\n<var>id</var>, <var>action item</var>, and <var>actions\noptions</var>:",
      "rationale": ".algorithm",
      "steps": [
        {
          "html": "<p>\nLet <var>subtype</var> be the result\nof <a href=\"https://www.w3.org/TR/webdriver2/#dfn-getting-properties\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-getting-properties-52\">getting a property</a> named \"<code>type</code>\"\nfrom <var>action item</var>.\n\n</p>"
        },
        {
          "html": "<p>\nIf <var>subtype</var> is not the value\n\"<code>pause</code>\", or\n\"<code>scroll</code>\",\nreturn an <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-215\">error</a> with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-195\">error code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-invalid-argument\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-invalid-argument-72\">invalid argument</a>.\n\n</p>"
        },
        {
          "html": "<p>\nLet <var>action</var> be an <a href=\"https://www.w3.org/TR/webdriver2/#dfn-action-object\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-action-object-13\">action object</a> constructed with arguments\n<var>id</var>,\n\"<code>wheel</code>\",\nand <var>subtype</var>.\n\n</p>"
        },
        {
          "html": "<p>\nIf <var>subtype</var> is \"<code>pause</code>\",\nlet <var>result</var> be the result of <a href=\"https://www.w3.org/TR/webdriver2/#dfn-try\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-try-113\">trying</a> to\n<a href=\"https://www.w3.org/TR/webdriver2/#dfn-process-a-pause-action\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-process-a-pause-action-4\">process a pause action</a> with arguments\n<var>action item</var> and <var>action</var>,\nand return <var>result</var>.\n\n</p>"
        },
        {
          "html": "<p>\nLet <var>duration</var> be the result of <a href=\"https://www.w3.org/TR/webdriver2/#dfn-getting-properties\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-getting-properties-53\">getting a property</a>\nnamed \"<code>duration</code>\" from <var>action item</var>.\n\n</p>"
        },
        {
          "html": "<p>\nIf <var>duration</var> is not <a href=\"https://www.w3.org/TR/webdriver2/#dfn-undefined\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-undefined-32\">undefined</a> and <var>duration</var>\nis not an <a href=\"https://www.w3.org/TR/webdriver2/#dfn-integer\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-integer-2\">Integer</a> greater than or equal to 0, return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-216\">error</a>\nwith <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-196\">error code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-invalid-argument\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-invalid-argument-73\">invalid argument</a>.\n\n</p>"
        },
        {
          "html": "<p>\nSet the <code>duration</code> property of <var>action</var>\nto <var>duration</var>.\n\n</p>"
        },
        {
          "html": "<p>\nLet <var>origin</var> be the result of <a href=\"https://www.w3.org/TR/webdriver2/#dfn-getting-properties\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-getting-properties-54\">getting the property</a>\n<code>origin</code> from <var>action item</var>.\n\n</p>"
        },
        {
          "html": "<p>\nIf <var>origin</var> is <a href=\"https://www.w3.org/TR/webdriver2/#dfn-undefined\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-undefined-33\">undefined</a> let\n<var>origin</var> equal \"<code>viewport</code>\".\n\n</p>"
        },
        {
          "html": "<p>\nIf <var>origin</var> is not equal to \"<code>viewport</code>\",\nor <var>actions options</var>' <a href=\"https://www.w3.org/TR/webdriver2/#dfn-is-element-origin\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-is-element-origin-4\">is element origin</a> steps given\n<var>origin</var> return false, return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-217\">error</a> with\n<a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-197\">error code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-invalid-argument\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-invalid-argument-74\">invalid argument</a>.\n\n</p>"
        },
        {
          "html": "<p>\nSet the <code>origin</code> property of <var>action</var>\nto <var>origin</var>.\n\n</p>"
        },
        {
          "html": "<p>\nLet <var>x</var> be the result of <a href=\"https://www.w3.org/TR/webdriver2/#dfn-getting-properties\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-getting-properties-55\">getting the property</a>\n<code>x</code> from <var>action item</var>.\n\n</p>"
        },
        {
          "html": "<p> If <var>x</var> is not an <a href=\"https://www.w3.org/TR/webdriver2/#dfn-integer\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-integer-3\">Integer</a>, return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-218\">error</a>\nwith <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-198\">error code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-invalid-argument\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-invalid-argument-75\">invalid argument</a>.\n\n</p>"
        },
        {
          "html": "<p>\nSet the <code>x</code> property of <var>action</var> to <var>x</var>.\n\n</p>"
        },
        {
          "html": "<p>\nLet <var>y</var> be the result of <a href=\"https://www.w3.org/TR/webdriver2/#dfn-getting-properties\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-getting-properties-56\">getting the property</a>\n<code>y</code> from <var>action item</var>.\n\n</p>"
        },
        {
          "html": "<p> If <var>y</var> is not an <a href=\"https://www.w3.org/TR/webdriver2/#dfn-integer\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-integer-4\">Integer</a>, return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-219\">error</a>\nwith <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-199\">error code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-invalid-argument\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-invalid-argument-76\">invalid argument</a>.\n\n</p>"
        },
        {
          "html": "<p>\nSet the <code>y</code> property of <var>action</var> to <var>y</var>.\n\n</p>"
        },
        {
          "html": "<p>\nLet <var>deltaX</var> be the result of <a href=\"https://www.w3.org/TR/webdriver2/#dfn-getting-properties\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-getting-properties-57\">getting the property</a>\n<code>deltaX</code> from <var>action item</var>.\n\n</p>"
        },
        {
          "html": "<p> If <var>deltaX</var> is not an <a href=\"https://www.w3.org/TR/webdriver2/#dfn-integer\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-integer-5\">Integer</a>,\nreturn <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-220\">error</a> with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-200\">error code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-invalid-argument\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-invalid-argument-77\">invalid argument</a>.\n\n</p>"
        },
        {
          "html": "<p>\nSet the <code>deltaX</code> property of <var>action</var> to <var>deltaX</var>.\n\n</p>"
        },
        {
          "html": "<p>\nLet <var>deltaY</var> be the result of <a href=\"https://www.w3.org/TR/webdriver2/#dfn-getting-properties\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-getting-properties-58\">getting the property</a>\n<code>deltaY</code> from <var>action item</var>.\n\n</p>"
        },
        {
          "html": "<p> If <var>deltaY</var> is not an <a href=\"https://www.w3.org/TR/webdriver2/#dfn-integer\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-integer-6\">Integer</a>,\nreturn <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-221\">error</a> with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-201\">error code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-invalid-argument\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-invalid-argument-78\">invalid argument</a>.\n\n</p>"
        },
        {
          "html": "<p>\nSet the <code>deltaY</code> property of <var>action</var> to <var>deltaY</var>.\n\n</p>"
        },
        {
          "html": "<p>\nReturn <a href=\"https://www.w3.org/TR/webdriver2/#dfn-success\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-success-103\">success</a> with data <var>action</var>.\n</p>"
        }
      ]
    },
    {
      "name": "process a pause action",
      "href": "https://www.w3.org/TR/webdriver2/#dfn-process-a-pause-action",
      "html": "To <dfn id=\"dfn-process-a-pause-action\" tabindex=\"0\" aria-haspopup=\"dialog\" data-dfn-type=\"dfn\">process a pause action</dfn> given <var>action item</var>,\nand <var>action</var>:",
      "rationale": ".algorithm",
      "steps": [
        {
          "html": "<p>Let <var>duration</var> be the result of <a href=\"https://www.w3.org/TR/webdriver2/#dfn-getting-properties\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-getting-properties-59\">getting the\n  property</a> \"<code>duration</code>\" from <var>action item</var>.\n\n </p>"
        },
        {
          "html": "<p>If <var>duration</var> is not <a href=\"https://www.w3.org/TR/webdriver2/#dfn-undefined\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-undefined-34\">undefined</a>\n  and <var>duration</var> is not an <a href=\"https://www.w3.org/TR/webdriver2/#dfn-integer\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-integer-7\">Integer</a> greater than or\n  equal to 0, return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-222\">error</a> with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-202\">error code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-invalid-argument\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-invalid-argument-79\">invalid\n  argument</a>.\n\n </p>"
        },
        {
          "html": "<p>Set the <code>duration</code> property of <var>action</var>\n to <var>duration</var>.\n\n </p>"
        },
        {
          "html": "<p>Return success with data <var>action</var>.\n</p>"
        }
      ]
    },
    {
      "name": "process a pointer up or pointer down action",
      "href": "https://www.w3.org/TR/webdriver2/#dfn-process-a-pointer-up-or-pointer-down-action",
      "html": "To <dfn id=\"dfn-process-a-pointer-up-or-pointer-down-action\" tabindex=\"0\" aria-haspopup=\"dialog\" data-dfn-type=\"dfn\">process a pointer up or pointer down action</dfn>\n given <var>action item</var>, and <var>action</var>:",
      "rationale": ".algorithm",
      "steps": [
        {
          "html": "<p>Let <var>button</var> be the result\n  of getting the property <code>button</code>\n  from <var>action item</var>.\n\n </p>"
        },
        {
          "html": "<p>If <var>button</var> is not an <a href=\"https://www.w3.org/TR/webdriver2/#dfn-integer\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-integer-8\">Integer</a> greater than or\n  equal to 0 return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-223\">error</a> with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-203\">error code</a>\n  <a href=\"https://www.w3.org/TR/webdriver2/#dfn-invalid-argument\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-invalid-argument-80\">invalid argument</a>.\n\n </p>"
        },
        {
          "html": "<p>Set the <code>button</code> property of <var>action</var>\n  to <var>button</var>.\n\n </p>"
        },
        {
          "html": "<p>Let <var>width</var> be the result\n  of getting the property <code>width</code>\n  from <var>action item</var>.\n\n </p>"
        },
        {
          "html": "<p>If <var>width</var> is not <a href=\"https://www.w3.org/TR/webdriver2/#dfn-undefined\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-undefined-35\">undefined</a>\n  and <var>width</var> is not a <a href=\"https://www.w3.org/TR/webdriver2/#dfn-number\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-number-6\">Number</a> greater than or\n  equal to 0 return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-224\">error</a> with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-204\">error code</a>\n  <a href=\"https://www.w3.org/TR/webdriver2/#dfn-invalid-argument\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-invalid-argument-81\">invalid argument</a>.\n\n </p>"
        },
        {
          "html": "<p>Set the <code>width</code> property of <var>action</var>\n  to <var>width</var>.\n\n </p>"
        },
        {
          "html": "<p>Let <var>height</var> be the result\n  of getting the property <code>height</code>\n  from <var>action item</var>.\n\n </p>"
        },
        {
          "html": "<p>If <var>height</var> is not <a href=\"https://www.w3.org/TR/webdriver2/#dfn-undefined\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-undefined-36\">undefined</a>\n  and <var>height</var> is not a <a href=\"https://www.w3.org/TR/webdriver2/#dfn-number\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-number-7\">Number</a> greater than or\n  equal to 0 return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-225\">error</a> with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-205\">error code</a>\n  <a href=\"https://www.w3.org/TR/webdriver2/#dfn-invalid-argument\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-invalid-argument-82\">invalid argument</a>.\n\n </p>"
        },
        {
          "html": "<p>Set the <code>height</code> property of <var>action</var>\n  to <var>height</var>.\n\n </p>"
        },
        {
          "html": "<p>Let <var>pressure</var> be the result\n  of getting the property <code>pressure</code>\n  from <var>action item</var>.\n\n </p>"
        },
        {
          "html": "<p>If <var>pressure</var> is not <a href=\"https://www.w3.org/TR/webdriver2/#dfn-undefined\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-undefined-37\">undefined</a>\n  and <var>pressure</var> is not a <a href=\"https://www.w3.org/TR/webdriver2/#dfn-number\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-number-8\">Number</a> greater than or\n  equal to 0 and less than or equal to 1 return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-226\">error</a> with\n  <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-206\">error code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-invalid-argument\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-invalid-argument-83\">invalid argument</a>.\n\n </p>"
        },
        {
          "html": "<p>Set the <code>pressure</code> property of <var>action</var>\n  to <var>pressure</var>.\n\n </p>"
        },
        {
          "html": "<p>Let <var>tangentialPressure</var> be the result\n  of getting the property <code>tangentialPressure</code>\n  from <var>action item</var>.\n\n </p>"
        },
        {
          "html": "<p>If <var>tangentialPressure</var> is not <a href=\"https://www.w3.org/TR/webdriver2/#dfn-undefined\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-undefined-38\">undefined</a>\n  and <var>tangentialPressure</var> is not a <a href=\"https://www.w3.org/TR/webdriver2/#dfn-number\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-number-9\">Number</a> greater\n  than or equal to -1 and less than or equal to 1 return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-227\">error</a>\n  with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-207\">error code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-invalid-argument\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-invalid-argument-84\">invalid argument</a>.\n\n </p>"
        },
        {
          "html": "<p>Set the <code>tangentialPressure</code> property of <var>action</var>\n  to <var>tangentialPressure</var>.\n\n </p>"
        },
        {
          "html": "<p>Let <var>tiltX</var> be the result\n  of getting the property <code>tiltX</code>\n  from <var>action item</var>.\n\n </p>"
        },
        {
          "html": "<p>If <var>tiltX</var> is not <a href=\"https://www.w3.org/TR/webdriver2/#dfn-undefined\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-undefined-39\">undefined</a>\n  and <var>tiltX</var> is not an <a href=\"https://www.w3.org/TR/webdriver2/#dfn-integer\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-integer-9\">Integer</a> greater than or\n  equal to -90 and less than or equal to 90 return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-228\">error</a> with\n  <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-208\">error code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-invalid-argument\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-invalid-argument-85\">invalid argument</a>.\n\n </p>"
        },
        {
          "html": "<p>Set the <code>tiltX</code> property of <var>action</var>\n  to <var>tiltX</var>.\n\n </p>"
        },
        {
          "html": "<p>Let <var>tiltY</var> be the result\n  of getting the property <code>tiltY</code>\n  from <var>action item</var>.\n\n </p>"
        },
        {
          "html": "<p>If <var>tiltY</var> is not <a href=\"https://www.w3.org/TR/webdriver2/#dfn-undefined\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-undefined-40\">undefined</a>\n  and <var>tiltY</var> is not an <a href=\"https://www.w3.org/TR/webdriver2/#dfn-integer\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-integer-10\">Integer</a> greater than or\n  equal to -90 and less than or equal to 90 return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-229\">error</a> with\n  <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-209\">error code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-invalid-argument\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-invalid-argument-86\">invalid argument</a>.\n\n </p>"
        },
        {
          "html": "<p>Set the <code>tiltY</code> property of <var>action</var>\n  to <var>tiltY</var>.\n\n </p>"
        },
        {
          "html": "<p>Let <var>twist</var> be the result\n  of getting the property <code>twist</code>\n  from <var>action item</var>.\n\n </p>"
        },
        {
          "html": "<p>If <var>twist</var> is not <a href=\"https://www.w3.org/TR/webdriver2/#dfn-undefined\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-undefined-41\">undefined</a>\n  and <var>twist</var> is not an <a href=\"https://www.w3.org/TR/webdriver2/#dfn-integer\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-integer-11\">Integer</a> greater than or\n  equal to 0 and less than or equal to 359 return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-230\">error</a> with\n  <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-210\">error code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-invalid-argument\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-invalid-argument-87\">invalid argument</a>.\n\n </p>"
        },
        {
          "html": "<p>Set the <code>twist</code> property of <var>action</var>\n  to <var>twist</var>.\n\n </p>"
        },
        {
          "html": "<p>Let <var>altitudeAngle</var> be the result\n  of getting the property <code>altitudeAngle</code>\n  from <var>action item</var>.\n\n </p>"
        },
        {
          "html": "<p>If <var>altitudeAngle</var> is not <a href=\"https://www.w3.org/TR/webdriver2/#dfn-undefined\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-undefined-42\">undefined</a>\n  and <var>altitudeAngle</var> is not a <a href=\"https://www.w3.org/TR/webdriver2/#dfn-number\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-number-10\">Number</a> greater than\n  or equal to 0 and less than or equal to π/2 return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-231\">error</a> with\n  <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-211\">error code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-invalid-argument\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-invalid-argument-88\">invalid argument</a>.\n\n </p>"
        },
        {
          "html": "<p>Set the <code>altitudeAngle</code> property of <var>action</var>\n  to <var>altitudeAngle</var>.\n\n </p>"
        },
        {
          "html": "<p>Let <var>azimuthAngle</var> be the result\n  of getting the property <code>azimuthAngle</code>\n  from <var>action item</var>.\n\n </p>"
        },
        {
          "html": "<p>If <var>azimuthAngle</var> is not <a href=\"https://www.w3.org/TR/webdriver2/#dfn-undefined\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-undefined-43\">undefined</a>\n  and <var>azimuthAngle</var> is not a <a href=\"https://www.w3.org/TR/webdriver2/#dfn-number\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-number-11\">Number</a> greater than\n  or equal to 0 and less than or equal to 2π return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-232\">error</a> with\n  <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-212\">error code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-invalid-argument\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-invalid-argument-89\">invalid argument</a>.\n\n </p>"
        },
        {
          "html": "<p>Set the <code>azimuthAngle</code> property of <var>action</var>\n  to <var>azimuthAngle</var>.\n\n </p>"
        },
        {
          "html": "<p>Return success with data <a href=\"https://www.w3.org/TR/webdriver2/#dfn-null\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-null-59\"><code>null</code></a>.\n</p>"
        }
      ]
    },
    {
      "name": "process a pointer move action",
      "href": "https://www.w3.org/TR/webdriver2/#dfn-process-a-pointer-move-action",
      "html": "To <dfn id=\"dfn-process-a-pointer-move-action\" tabindex=\"0\" aria-haspopup=\"dialog\" data-dfn-type=\"dfn\">process a pointer move action</dfn> given <var>action\nitem</var>, <var>action</var>, and <var>actions options</var>:",
      "rationale": ".algorithm",
      "steps": [
        {
          "html": "<p>Let <var>duration</var> be the result\n  of getting the property <code>duration</code>\n  from <var>action item</var>.\n\n </p>"
        },
        {
          "html": "<p>If <var>duration</var> is not <a href=\"https://www.w3.org/TR/webdriver2/#dfn-undefined\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-undefined-44\">undefined</a>\n  and <var>duration</var> is not an <a href=\"https://www.w3.org/TR/webdriver2/#dfn-integer\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-integer-12\">Integer</a> greater than or equal to 0,\n  return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-233\">error</a> with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-213\">error code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-invalid-argument\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-invalid-argument-90\">invalid argument</a>.\n\n </p>"
        },
        {
          "html": "<p>Set the <code>duration</code> property of <var>action</var>\n  to <var>duration</var>.\n\n </p>"
        },
        {
          "html": "<p>Let <var>origin</var> be the result\n  of <a href=\"https://www.w3.org/TR/webdriver2/#dfn-getting-properties\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-getting-properties-60\">getting the property</a> <code>origin</code>\n  from <var>action item</var>.\n\n </p>"
        },
        {
          "html": "<p>If <var>origin</var> is <a href=\"https://www.w3.org/TR/webdriver2/#dfn-undefined\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-undefined-45\">undefined</a> let\n  <var>origin</var> equal \"<code>viewport</code>\".\n\n </p>"
        },
        {
          "html": "<p>If <var>origin</var> is not equal to \"<code>viewport</code>\"\n  or \"<code>pointer</code>\", and <var>actions options</var> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-is-element-origin\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-is-element-origin-5\">is\n  element origin</a> steps given <var>origin</var> return false,\n  return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-234\">error</a> with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-214\">error code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-invalid-argument\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-invalid-argument-91\">invalid argument</a>.\n\n </p>"
        },
        {
          "html": "<p>Set the <code>origin</code> property of <var>action</var>\n  to <var>origin</var>.\n\n </p>"
        },
        {
          "html": "<p>Let <var>x</var> be the result\n  of <a href=\"https://www.w3.org/TR/webdriver2/#dfn-getting-properties\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-getting-properties-61\">getting the property</a> <code>x</code>\n  from <var>action item</var>.\n\n </p>"
        },
        {
          "html": "<p>If <var>x</var> is not a <a href=\"https://www.w3.org/TR/webdriver2/#dfn-number\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-number-12\">Number</a>, return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-235\">error</a>\n  with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-215\">error code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-invalid-argument\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-invalid-argument-92\">invalid argument</a>.\n\n </p>"
        },
        {
          "html": "<p>Set the <code>x</code> property of <var>action</var>\n  to <var>x</var>.\n\n </p>"
        },
        {
          "html": "<p>Let <var>y</var> be the result\n  of <a href=\"https://www.w3.org/TR/webdriver2/#dfn-getting-properties\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-getting-properties-62\">getting the property</a> <code>y</code>\n  from <var>action item</var>.\n\n </p>"
        },
        {
          "html": "<p>If <var>y</var> is not a <a href=\"https://www.w3.org/TR/webdriver2/#dfn-number\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-number-13\">Number</a>, return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-236\">error</a>\n  with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-216\">error code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-invalid-argument\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-invalid-argument-93\">invalid argument</a>.\n\n </p>"
        },
        {
          "html": "<p>Set the <code>y</code> property of <var>action</var>\n  to <var>y</var>.\n\n </p>"
        },
        {
          "html": "<p>Let <var>width</var> be the result\n  of getting the property <code>width</code>\n  from <var>action item</var>.\n\n </p>"
        },
        {
          "html": "<p>If <var>width</var> is not <a href=\"https://www.w3.org/TR/webdriver2/#dfn-undefined\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-undefined-46\">undefined</a>\n  and <var>width</var> is not a <a href=\"https://www.w3.org/TR/webdriver2/#dfn-number\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-number-14\">Number</a> greater than or\n  equal to 0 return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-237\">error</a> with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-217\">error code</a>\n  <a href=\"https://www.w3.org/TR/webdriver2/#dfn-invalid-argument\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-invalid-argument-94\">invalid argument</a>.\n\n </p>"
        },
        {
          "html": "<p>Set the <code>width</code> property of <var>action</var>\n  to <var>width</var>.\n\n </p>"
        },
        {
          "html": "<p>Let <var>height</var> be the result\n  of getting the property <code>height</code>\n  from <var>action item</var>.\n\n </p>"
        },
        {
          "html": "<p>If <var>height</var> is not <a href=\"https://www.w3.org/TR/webdriver2/#dfn-undefined\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-undefined-47\">undefined</a>\n  and <var>height</var> is not a <a href=\"https://www.w3.org/TR/webdriver2/#dfn-number\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-number-15\">Number</a> greater than or\n  equal to 0 return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-238\">error</a> with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-218\">error code</a>\n  <a href=\"https://www.w3.org/TR/webdriver2/#dfn-invalid-argument\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-invalid-argument-95\">invalid argument</a>.\n\n </p>"
        },
        {
          "html": "<p>Set the <code>height</code> property of <var>action</var>\n  to <var>height</var>.\n\n </p>"
        },
        {
          "html": "<p>Let <var>pressure</var> be the result\n  of getting the property <code>pressure</code>\n  from <var>action item</var>.\n\n </p>"
        },
        {
          "html": "<p>If <var>pressure</var> is not <a href=\"https://www.w3.org/TR/webdriver2/#dfn-undefined\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-undefined-48\">undefined</a>\n  and <var>pressure</var> is not a <a href=\"https://www.w3.org/TR/webdriver2/#dfn-number\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-number-16\">Number</a> greater than or\n  equal to 0 and less than or equal to 1 return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-239\">error</a> with\n  <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-219\">error code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-invalid-argument\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-invalid-argument-96\">invalid argument</a>.\n\n </p>"
        },
        {
          "html": "<p>Set the <code>pressure</code> property of <var>action</var>\n  to <var>pressure</var>.\n\n </p>"
        },
        {
          "html": "<p>Let <var>tangentialPressure</var> be the result\n  of getting the property <code>tangentialPressure</code>\n  from <var>action item</var>.\n\n </p>"
        },
        {
          "html": "<p>If <var>tangentialPressure</var> is not <a href=\"https://www.w3.org/TR/webdriver2/#dfn-undefined\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-undefined-49\">undefined</a>\n  and <var>tangentialPressure</var> is not a <a href=\"https://www.w3.org/TR/webdriver2/#dfn-number\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-number-17\">Number</a> greater\n  than or equal to -1 and less than or equal to 1 return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-240\">error</a>\n  with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-220\">error code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-invalid-argument\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-invalid-argument-97\">invalid argument</a>.\n\n </p>"
        },
        {
          "html": "<p>Set the <code>tangentialPressure</code> property of <var>action</var>\n  to <var>tangentialPressure</var>.\n\n </p>"
        },
        {
          "html": "<p>Let <var>tiltX</var> be the result\n  of getting the property <code>tiltX</code>\n  from <var>action item</var>.\n\n </p>"
        },
        {
          "html": "<p>If <var>tiltX</var> is not <a href=\"https://www.w3.org/TR/webdriver2/#dfn-undefined\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-undefined-50\">undefined</a>\n  and <var>tiltX</var> is not an <a href=\"https://www.w3.org/TR/webdriver2/#dfn-integer\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-integer-13\">Integer</a> greater than or\n  equal to -90 and less than or equal to 90 return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-241\">error</a> with\n  <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-221\">error code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-invalid-argument\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-invalid-argument-98\">invalid argument</a>.\n\n </p>"
        },
        {
          "html": "<p>Set the <code>tiltX</code> property of <var>action</var>\n  to <var>tiltX</var>.\n\n </p>"
        },
        {
          "html": "<p>Let <var>tiltY</var> be the result\n  of getting the property <code>tiltY</code>\n  from <var>action item</var>.\n\n </p>"
        },
        {
          "html": "<p>If <var>tiltY</var> is not <a href=\"https://www.w3.org/TR/webdriver2/#dfn-undefined\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-undefined-51\">undefined</a>\n  and <var>tiltY</var> is not an <a href=\"https://www.w3.org/TR/webdriver2/#dfn-integer\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-integer-14\">Integer</a> greater than or\n  equal to -90 and less than or equal to 90 return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-242\">error</a> with\n  <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-222\">error code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-invalid-argument\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-invalid-argument-99\">invalid argument</a>.\n\n </p>"
        },
        {
          "html": "<p>Set the <code>tiltY</code> property of <var>action</var>\n  to <var>tiltY</var>.\n\n </p>"
        },
        {
          "html": "<p>Let <var>twist</var> be the result\n  of getting the property <code>twist</code>\n  from <var>action item</var>.\n\n </p>"
        },
        {
          "html": "<p>If <var>twist</var> is not <a href=\"https://www.w3.org/TR/webdriver2/#dfn-undefined\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-undefined-52\">undefined</a>\n  and <var>twist</var> is not an <a href=\"https://www.w3.org/TR/webdriver2/#dfn-integer\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-integer-15\">Integer</a> greater than or\n  equal to 0 and less than or equal to 359 return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-243\">error</a> with\n  <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-223\">error code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-invalid-argument\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-invalid-argument-100\">invalid argument</a>.\n\n </p>"
        },
        {
          "html": "<p>Set the <code>twist</code> property of <var>action</var>\n  to <var>twist</var>.\n\n </p>"
        },
        {
          "html": "<p>Let <var>altitudeAngle</var> be the result\n  of getting the property <code>altitudeAngle</code>\n  from <var>action item</var>.\n\n </p>"
        },
        {
          "html": "<p>If <var>altitudeAngle</var> is not <a href=\"https://www.w3.org/TR/webdriver2/#dfn-undefined\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-undefined-53\">undefined</a>\n  and <var>altitudeAngle</var> is not a <a href=\"https://www.w3.org/TR/webdriver2/#dfn-number\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-number-18\">Number</a> greater than\n  or equal to 0 and less than or equal to π/2 return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-244\">error</a> with\n  <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-224\">error code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-invalid-argument\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-invalid-argument-101\">invalid argument</a>.\n\n </p>"
        },
        {
          "html": "<p>Set the <code>altitudeAngle</code> property of <var>action</var>\n  to <var>altitudeAngle</var>.\n\n </p>"
        },
        {
          "html": "<p>Let <var>azimuthAngle</var> be the result\n  of getting the property <code>azimuthAngle</code>\n  from <var>action item</var>.\n\n </p>"
        },
        {
          "html": "<p>If <var>azimuthAngle</var> is not <a href=\"https://www.w3.org/TR/webdriver2/#dfn-undefined\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-undefined-54\">undefined</a>\n  and <var>azimuthAngle</var> is not a <a href=\"https://www.w3.org/TR/webdriver2/#dfn-number\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-number-19\">Number</a> greater than\n  or equal to 0 and less than or equal to 2π return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-245\">error</a> with\n  <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-225\">error code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-invalid-argument\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-invalid-argument-102\">invalid argument</a>.\n\n </p>"
        },
        {
          "html": "<p>Set the <code>azimuthAngle</code> property of <var>action</var>\n  to <var>azimuthAngle</var>.\n\n </p>"
        },
        {
          "html": "<p>Return success with data <a href=\"https://www.w3.org/TR/webdriver2/#dfn-null\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-null-60\"><code>null</code></a>.\n</p>"
        }
      ]
    },
    {
      "name": "wait for an action queue token",
      "href": "https://www.w3.org/TR/webdriver2/#dfn-wait-for-an-action-queue-token",
      "html": "To <dfn id=\"dfn-wait-for-an-action-queue-token\" tabindex=\"0\" aria-haspopup=\"dialog\" data-dfn-type=\"dfn\">wait for an action queue token</dfn> given <var>input state</var>:",
      "rationale": ".algorithm",
      "steps": [
        {
          "html": "<p>Let <var>token</var> be a new unique identifier.\n\n </p>"
        },
        {
          "html": "<p>Enqueue <var>token</var> in <var>input state</var>'s\n  <a href=\"https://www.w3.org/TR/webdriver2/#dfn-actions-queue\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-actions-queue-1\">actions queue</a>.\n\n </p>"
        },
        {
          "html": "<p>Wait for <var>token</var> to be the first item\n  in <var>input state</var>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-actions-queue\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-actions-queue-2\">actions queue</a>.\n\n </p>"
        }
      ]
    },
    {
      "name": "dispatch actions",
      "href": "https://www.w3.org/TR/webdriver2/#dfn-dispatch-actions",
      "html": "To <dfn id=\"dfn-dispatch-actions\" tabindex=\"0\" aria-haspopup=\"dialog\" data-dfn-type=\"dfn\">dispatch actions</dfn> given <var>input\nstate</var>, <var>actions by tick</var>, <var>browsing\ncontext</var>, and <var>actions options</var>:",
      "rationale": ".algorithm",
      "steps": [
        {
          "html": "<p><a href=\"https://www.w3.org/TR/webdriver2/#dfn-wait-for-an-action-queue-token\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-wait-for-an-action-queue-token-1\">Wait for an action queue token</a> with <var>input state</var>.\n\n </p>"
        },
        {
          "html": "<p>Let <var>actions result</var> be the result of\n  <a href=\"https://www.w3.org/TR/webdriver2/#dfn-dispatch-actions-inner\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-dispatch-actions-inner-1\">dispatch actions inner</a> with <var>input state</var>, <var>actions by\n  tick</var>, <var>browsing context</var>, and <var>actions options</var>.\n\n </p>"
        },
        {
          "html": "<p>Dequeue <var>input state</var>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-actions-queue\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-actions-queue-3\">actions queue</a>.\n  </p><p>Assert: this returns <var>token</var>\n\n </p>"
        },
        {
          "html": "<p>Return <var>actions result</var>.\n</p>"
        }
      ]
    },
    {
      "name": "dispatch actions inner",
      "href": "https://www.w3.org/TR/webdriver2/#dfn-dispatch-actions-inner",
      "html": "To <dfn id=\"dfn-dispatch-actions-inner\" tabindex=\"0\" aria-haspopup=\"dialog\" data-dfn-type=\"dfn\">dispatch actions inner</dfn> given <var>input\nstate</var>, <var>actions by tick</var>, <var>browsing\ncontext</var>, and <var>actions options</var>:",
      "rationale": ".algorithm",
      "steps": [
        {
          "html": "For each item <var>tick actions</var> in\n  <var>actions by tick</var>:",
          "rationale": "if",
          "steps": [
            {
              "html": "If <var>browsing context</var> is <a href=\"https://www.w3.org/TR/webdriver2/#dfn-no-longer-open\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-no-longer-open-50\">no longer open</a>, return\n    <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-246\">error</a> with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-226\">error code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-no-such-window\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-no-such-window-51\">no such window</a>."
            },
            {
              "html": "<p>Let <var>tick duration</var> be the result of <a href=\"https://www.w3.org/TR/webdriver2/#dfn-computing-the-tick-duration\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-computing-the-tick-duration-1\">computing\n    the tick duration</a> with argument <var>tick actions</var>.\n\n   </p>"
            },
            {
              "html": "<p><a href=\"https://www.w3.org/TR/webdriver2/#dfn-try\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-try-114\">Try</a> to <a href=\"https://www.w3.org/TR/webdriver2/#dfn-dispatch-tick-actions\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-dispatch-tick-actions-1\">dispatch tick actions</a> with\n   <var>input state</var>, <var>tick actions</var>, <var>tick duration</var>,\n   <var>browsing context</var>, and <var>actions options</var>.\n\n   </p>"
            },
            {
              "html": "<p>Wait until the following conditions are all met:\n\n    </p><ul>\n     <li><p>There are no pending <a href=\"https://www.w3.org/TR/webdriver2/#dfn-asynchronously-wait\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-asynchronously-wait-1\">asynchronous waits</a> arising\n      from the last invocation of the <a href=\"https://www.w3.org/TR/webdriver2/#dfn-dispatch-tick-actions\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-dispatch-tick-actions-2\">dispatch tick actions</a>\n      steps.\n\n     </p></li><li><p>The user agent event loop has spun enough times to process\n      the DOM events generated by the last invocation of\n      the <a href=\"https://www.w3.org/TR/webdriver2/#dfn-dispatch-tick-actions\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-dispatch-tick-actions-3\">dispatch tick actions</a> steps.\n\n     </p></li><li><p>At least <var>tick duration</var> milliseconds have\n      passed.\n    </p></li></ul>"
            }
          ]
        },
        {
          "html": "<p>Return success with data <a href=\"https://www.w3.org/TR/webdriver2/#dfn-null\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-null-61\"><code>null</code></a>.\n</p>"
        }
      ]
    },
    {
      "name": "computing the tick duration",
      "href": "https://www.w3.org/TR/webdriver2/#dfn-computing-the-tick-duration",
      "html": "To\n <dfn data-lt=\"computing the tick duration|compute the tick duration\" id=\"dfn-computing-the-tick-duration\" tabindex=\"0\" aria-haspopup=\"dialog\" data-dfn-type=\"dfn\">compute the tick duration</dfn>\n given <var>tick actions</var>:",
      "rationale": ".algorithm",
      "steps": [
        {
          "html": "<p>Let <var>max duration</var> be 0.\n\n </p>"
        },
        {
          "html": "For each <var>action object</var> in <var>tick actions</var>:",
          "rationale": "let",
          "steps": [
            {
              "html": "<p>let <var>duration</var> be <a href=\"https://www.w3.org/TR/webdriver2/#dfn-undefined\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-undefined-55\">undefined</a>.\n\n   </p>"
            },
            {
              "html": "<p>If <var>action object</var> has subtype property set to\n    \"<code>pause</code>\" or <var>action object</var> has type property\n    set to \"<code>pointer</code>\" and subtype property set to\n    \"<code>pointerMove</code>\", or <var>action object</var> has type\n    property set to \"<code>wheel</code>\" and subtype property set to\n    \"<code>scroll</code>\", let <var>duration</var> be equal to\n    the <code>duration</code> property of <var>action object</var>.\n\n   </p>"
            },
            {
              "html": "<p>If <var>duration</var> is not <a href=\"https://www.w3.org/TR/webdriver2/#dfn-undefined\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-undefined-56\">undefined</a>,\n    and <var>duration</var> is greater than <var>max duration</var>,\n    let <var>max duration</var> be equal to duration.\n  </p>"
            }
          ]
        },
        {
          "html": "<p>Return <var>max duration</var>.\n</p>"
        }
      ]
    },
    {
      "name": "dispatch tick actions",
      "href": "https://www.w3.org/TR/webdriver2/#dfn-dispatch-tick-actions",
      "html": "To <dfn id=\"dfn-dispatch-tick-actions\" tabindex=\"0\" aria-haspopup=\"dialog\" data-dfn-type=\"dfn\">dispatch tick actions</dfn> given <var>input\n state</var>, <var>tick actions</var>, <var>tick duration</var>,\n <var>browsing context</var>, and <var>actions options</var>:",
      "rationale": ".algorithm",
      "steps": [
        {
          "html": "For each <var>action object</var> in <var>tick actions</var>:",
          "rationale": "let",
          "steps": [
            {
              "html": "<p>Let <var>input id</var> be equal to the value\n    of <var>action object</var>'s id property.\n\n   </p>"
            },
            {
              "html": "<p>Let <var>source type</var> be equal to the value\n    of <var>action object</var>'s type property.\n\n   </p>"
            },
            {
              "html": "<p>Let <var>source</var> be the result of <a href=\"https://www.w3.org/TR/webdriver2/#dfn-get-an-input-source\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-get-an-input-source-2\">get an input\n    source</a> given <var>input state</var> and <var>input id</var>.\n\n   </p>"
            },
            {
              "html": "<p>Assert: <var>source</var> is not undefined.\n\n   </p>"
            },
            {
              "html": "<p>Let <var>global key state</var> be the result of <a href=\"https://www.w3.org/TR/webdriver2/#dfn-get-the-global-key-state\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-get-the-global-key-state-2\">get the\n   global key state</a> with <var>input state</var>.\n\n   </p>"
            },
            {
              "html": "<p>Let <var>subtype</var> be <var>action\n   object</var>'s subtype.\n\n   </p>"
            },
            {
              "html": "<p>Let <var>algorithm</var> be the value of the column\n    <i>dispatch action algorithm</i> from the following table where the\n    <i>source type</i> column is <var>source type</var> and\n    the <i>subtype</i> column is equal to <var>subtype</var>.\n\n</p><table class=\"simple\">\n<tbody><tr><th>source type             </th><th>subtype                             </th><th>Dispatch action algorithm\n</th></tr><tr><td>\"<code>none</code>\"     </td><td>\"<code>pause</code>\"                </td><td><a href=\"https://www.w3.org/TR/webdriver2/#dfn-dispatch-a-pause-action\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-dispatch-a-pause-action-1\">Dispatch a pause action</a>\n</td></tr><tr><td>\"<code>key</code>\"      </td><td>\"<code>pause</code>\"                </td><td><a href=\"https://www.w3.org/TR/webdriver2/#dfn-dispatch-a-pause-action\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-dispatch-a-pause-action-2\">Dispatch a pause action</a>\n</td></tr><tr><td>\"<code>key</code>\"      </td><td>\"<code>keyDown</code>\"              </td><td><a href=\"https://www.w3.org/TR/webdriver2/#dfn-dispatch-a-keydown-action\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-dispatch-a-keydown-action-1\">Dispatch a keyDown action</a>\n</td></tr><tr><td>\"<code>key</code>\"      </td><td>\"<code>keyUp</code>\"                </td><td><a href=\"https://www.w3.org/TR/webdriver2/#dfn-dispatch-a-keyup-action\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-dispatch-a-keyup-action-1\">Dispatch a keyUp action</a>\n</td></tr><tr><td>\"<code>pointer</code>\"  </td><td>\"<code>pause</code>\"                </td><td><a href=\"https://www.w3.org/TR/webdriver2/#dfn-dispatch-a-pause-action\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-dispatch-a-pause-action-3\">Dispatch a pause action</a>\n</td></tr><tr><td>\"<code>pointer</code>\"  </td><td>\"<code>pointerDown</code>\"          </td><td><a href=\"https://www.w3.org/TR/webdriver2/#dfn-dispatch-a-pointerdown-action\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-dispatch-a-pointerdown-action-1\">Dispatch a pointerDown action</a>\n</td></tr><tr><td>\"<code>pointer</code>\"  </td><td>\"<code>pointerUp</code>\"            </td><td><a href=\"https://www.w3.org/TR/webdriver2/#dfn-dispatch-a-pointerup-action\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-dispatch-a-pointerup-action-1\">Dispatch a pointerUp action</a>\n</td></tr><tr><td>\"<code>pointer</code>\"  </td><td>\"<code>pointerMove</code>\"          </td><td><a href=\"https://www.w3.org/TR/webdriver2/#dfn-dispatch-a-pointermove-action\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-dispatch-a-pointermove-action-1\">Dispatch a pointerMove action</a>\n</td></tr><tr><td>\"<code>pointer</code>\"  </td><td>\"<code>pointerCancel</code>\"        </td><td><a href=\"https://www.w3.org/TR/webdriver2/#dfn-dispatch-a-pointercancel-action\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-dispatch-a-pointercancel-action-1\">Dispatch a pointerCancel action</a>\n</td></tr><tr><td>\"<code>wheel</code>\"    </td><td>\"<code>pause</code>\"                </td><td><a href=\"https://www.w3.org/TR/webdriver2/#dfn-dispatch-a-pause-action\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-dispatch-a-pause-action-4\">Dispatch a pause action</a>\n</td></tr><tr><td>\"<code>wheel</code>\"    </td><td>\"<code>scroll</code>\"               </td><td><a href=\"https://www.w3.org/TR/webdriver2/#dfn-dispatch-a-scroll-action\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-dispatch-a-scroll-action-1\">Dispatch a scroll action</a>\n</td></tr></tbody></table>"
            },
            {
              "html": "<a href=\"https://www.w3.org/TR/webdriver2/#dfn-try\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-try-115\">Try</a> to run <var>algorithm</var> with arguments\n    <var>action object</var>, <var>source</var>, <var>global key\n    state</var>, <var>tick duration</var>, <var>browsing\n    context</var>, and <var>actions options</var>."
            },
            {
              "html": "<p>If <var>subtype</var> is \"<code>keyDown</code>\", append\n    a copy of <var>action object</var> with the <var>subtype</var>\n    property changed to \"<code>keyUp</code>\" to <var>input\n    state</var>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-input-cancel-list\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-input-cancel-list-3\">input cancel list</a>.\n\n   </p>"
            },
            {
              "html": "<p>If <var>subtype</var> is \"<code>pointerDown</code>\", append\n    a copy of <var>action object</var> with the <var>subtype</var>\n    property changed to \"<code>pointerUp</code>\" to <var>input\n    state</var>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-input-cancel-list\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-input-cancel-list-4\">input cancel list</a>.\n\n  </p>"
            }
          ]
        },
        {
          "html": "<p>Return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-success\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-success-104\">success</a> with data <a href=\"https://www.w3.org/TR/webdriver2/#dfn-null\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-null-62\"><code>null</code></a>.\n</p>"
        }
      ]
    },
    {
      "name": "dispatch a list of actions",
      "href": "https://www.w3.org/TR/webdriver2/#dfn-dispatch-a-list-of-actions",
      "html": "To <dfn id=\"dfn-dispatch-a-list-of-actions\" tabindex=\"0\" aria-haspopup=\"dialog\" data-dfn-type=\"dfn\">dispatch a list of actions</dfn> given <var>input\nstate</var>, <var>actions</var>, <var>browsing context</var>,\nand <var>actions options</var>:",
      "rationale": ".algorithm",
      "steps": [
        {
          "html": "<p>Let <var>tick actions</var> be the list «<var>actions</var>»\n\n </p>"
        },
        {
          "html": "<p>Let <var>actions by tick</var> be the list «<var>tick\n actions</var>».\n\n </p>"
        },
        {
          "html": "<p>Return the result of <a href=\"https://www.w3.org/TR/webdriver2/#dfn-dispatch-actions\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-dispatch-actions-2\">dispatch actions</a> with <var>input\n state</var>, <var>actions by tick</var>, <var>browsing context</var>,\n and <var>actions options</var>.\n</p>"
        }
      ]
    },
    {
      "name": "dispatch a pause action",
      "href": "https://www.w3.org/TR/webdriver2/#dfn-dispatch-a-pause-action",
      "html": "To <dfn id=\"dfn-dispatch-a-pause-action\" tabindex=\"0\" aria-haspopup=\"dialog\" data-dfn-type=\"dfn\">dispatch a pause action</dfn> given <var>action\nobject</var>, <var>source</var>, <var>global key\nstate</var>, <var>tick duration</var>,\n<var>browsing context</var>, and <var>actions options</var>:",
      "rationale": ".algorithm",
      "steps": [
        {
          "html": "<p>Return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-success\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-success-105\">success</a> with data <a href=\"https://www.w3.org/TR/webdriver2/#dfn-null\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-null-63\"><code>null</code></a>.\n</p>"
        }
      ]
    },
    {
      "name": "dispatch a keyDown action",
      "href": "https://www.w3.org/TR/webdriver2/#dfn-dispatch-a-keydown-action",
      "html": "To <dfn id=\"dfn-dispatch-a-keydown-action\" tabindex=\"0\" aria-haspopup=\"dialog\" data-dfn-type=\"dfn\">dispatch a keyDown action</dfn> given <var>action\nobject</var>, <var>source</var>, <var>global key state</var>, <var>tick\nduration</var>, <var>browsing context</var>, and <var>actions options</var>:",
      "rationale": ".algorithm",
      "steps": [
        {
          "html": "<p>Let <var>raw key</var> be equal to the\n  <var>action object</var>'s <code>value</code> property.\n\n </p>"
        },
        {
          "html": "<p>Let <var>key</var> be equal to the <a href=\"https://www.w3.org/TR/webdriver2/#dfn-normalized-key-value\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-normalized-key-value-1\">normalized key value</a>\n  for <var>raw key</var>.\n\n </p>"
        },
        {
          "html": "<p>If the <var>source</var>'s <code>pressed</code> property\n  contains <var>key</var>, let <var>repeat</var> be true, otherwise\n  let <var>repeat</var> be false.\n\n </p>"
        },
        {
          "html": "<p>Let <var>code</var> be the <a href=\"https://www.w3.org/TR/webdriver2/#dfn-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-code-2\">code</a> for <var>raw key</var>.\n\n </p>"
        },
        {
          "html": "<p>Let <var>location</var> be the <a href=\"https://www.w3.org/TR/webdriver2/#dfn-key-location\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-key-location-1\">key location</a>\n  for <var>raw key</var>.\n\n </p>"
        },
        {
          "html": "<p>Let <var>charCode</var>, <var>keyCode</var>\n  and <var>which</var> be the implementation-specific values of\n  the <code>charCode</code>, <code>keyCode</code>\n  and <code>which</code> properties appropriate for a key with\n  key <var>key</var> and location <var>location</var> on a 102 key US\n  keyboard, following the guidelines in [<cite><a class=\"bibref\" data-link-type=\"biblio\" href=\"https://www.w3.org/TR/webdriver2/#bib-ui-events\" title=\"UI Events\">UI-EVENTS</a></cite>].\n\n </p>"
        },
        {
          "html": "<p>If <var>key</var> is <code>\"Alt\"</code>, let\n  <var>source</var>'s <code>alt</code> property be true.\n\n </p>"
        },
        {
          "html": "<p>If <var>key</var> is <code>\"Shift\"</code>, let\n  <var>source</var>'s <code>shift</code> property be true.\n\n </p>"
        },
        {
          "html": "<p>If <var>key</var> is <code>\"Control\"</code>, let\n  <var>source</var>'s <code>ctrl</code> property be true.\n\n </p>"
        },
        {
          "html": "<p>If <var>key</var> is <code>\"Meta\"</code>, let\n  <var>source</var>'s <code>meta</code> property be true.\n\n </p>"
        },
        {
          "html": "<p>Add <var>key</var> to <var>source</var>'s <code>pressed</code>\n property.\n\n </p>"
        },
        {
          "html": "<p><a href=\"https://www.w3.org/TR/webdriver2/#dfn-perform-implementation-specific-action-dispatch-steps\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-perform-implementation-specific-action-dispatch-steps-2\">Perform implementation-specific action dispatch steps</a>\n  on <var>browsing context</var> equivalent to pressing a key on the\n  keyboard in accordance with the requirements of [<cite><a class=\"bibref\" data-link-type=\"biblio\" href=\"https://www.w3.org/TR/webdriver2/#bib-ui-events\" title=\"UI Events\">UI-EVENTS</a></cite>], and\n  producing the following events, as appropriate, with the specified\n  properties.  This will always produce events including at least\n  a <code>keyDown</code> event.\n  </p><ul>\n   <li><a href=\"https://w3c.github.io/uievents/#keydown\"><code>keyDown</code></a>\n    with properties:\n    <table class=\"simple\">\n     <tbody><tr>\n      <th>Attribute</th>\n      <th>Value</th>\n     </tr>\n     <tr><td><code>key</code></td><td><var>key</var>\n     </td></tr><tr><td><code>code</code></td><td><var>code</var>\n     </td></tr><tr><td><code>location</code></td><td><var>location</var>\n     </td></tr><tr><td><code>altKey</code></td><td><var>source</var>'s <code>alt</code> property\n     </td></tr><tr><td><code>shiftKey</code></td><td><var>source</var>'s <code>shift</code> property\n     </td></tr><tr><td><code>ctrlKey</code></td><td><var>source</var>'s <code>ctrl</code> property\n     </td></tr><tr><td><code>metaKey</code></td><td><var>source</var>'s <code>meta</code> property\n     </td></tr><tr><td><code>repeat</code></td><td><var>repeat</var>\n     </td></tr><tr><td><code>isComposing</code></td><td><var>false</var>\n     </td></tr><tr><td><code>charCode</code></td><td><var>charCode</var>\n     </td></tr><tr><td><code>keyCode</code></td><td><var>keyCode</var>\n     </td></tr><tr><td><code>which</code></td><td><var>which</var>\n    </td></tr></tbody></table>\n\n   </li><li><a href=\"https://w3c.github.io/uievents/#keypress\"><code>keyPress</code></a>\n    with properties:\n    <table class=\"simple\">\n     <tbody><tr>\n      <th>Attribute</th>\n      <th>Value</th>\n     </tr>\n     <tr><td><code>key</code></td><td><var>key</var>\n     </td></tr><tr><td><code>code</code></td><td><var>code</var>\n     </td></tr><tr><td><code>location</code></td><td><var>location</var>\n     </td></tr><tr><td><code>altKey</code></td><td><var>source</var>'s <code>alt</code> property\n     </td></tr><tr><td><code>shiftKey</code></td><td><var>source</var>'s <code>shift</code> property\n     </td></tr><tr><td><code>ctrlKey</code></td><td><var>source</var>'s <code>ctrl</code> property\n     </td></tr><tr><td><code>metaKey</code></td><td><var>source</var>'s <code>meta</code> property\n     </td></tr><tr><td><code>repeat</code></td><td><var>repeat</var>\n     </td></tr><tr><td><code>isComposing</code></td><td><var>false</var>\n     </td></tr><tr><td><code>charCode</code></td><td><var>charCode</var>\n     </td></tr><tr><td><code>keyCode</code></td><td><var>keyCode</var>\n     </td></tr><tr><td><code>which</code></td><td><var>which</var>\n    </td></tr></tbody></table>\n  </li></ul>"
        },
        {
          "html": "<p>Return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-success\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-success-106\">success</a> with data <a href=\"https://www.w3.org/TR/webdriver2/#dfn-null\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-null-64\"><code>null</code></a>.\n</p>"
        }
      ]
    },
    {
      "name": "dispatch a keyUp action",
      "href": "https://www.w3.org/TR/webdriver2/#dfn-dispatch-a-keyup-action",
      "html": "To <dfn id=\"dfn-dispatch-a-keyup-action\" tabindex=\"0\" aria-haspopup=\"dialog\" data-dfn-type=\"dfn\">dispatch a keyUp action</dfn> given, <var>action\nobject</var>, <var>source</var>, <var>global key state</var>,\n<var>tick duration</var>, <var>browsing context</var>,\nand <var>actions options</var>:",
      "rationale": ".algorithm",
      "steps": [
        {
          "html": "<p>Let <var>raw key</var> be equal to\n  <var>action object</var>'s <code>value</code> property.\n\n </p>"
        },
        {
          "html": "<p>Let <var>key</var> be equal to the\n  <a href=\"https://www.w3.org/TR/webdriver2/#dfn-normalized-key-value\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-normalized-key-value-2\">normalized key value</a> for <var>raw key</var>.\n\n </p>"
        },
        {
          "html": "<p>If the <var>source</var>'s <code>pressed</code> item\n  does not contain <var>key</var>, return.\n\n </p>"
        },
        {
          "html": "<p>Let <var>code</var> be the <a href=\"https://www.w3.org/TR/webdriver2/#dfn-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-code-3\">code</a> for\n  <var>raw key</var>.\n\n </p>"
        },
        {
          "html": "<p>Let <var>location</var> be the <a href=\"https://www.w3.org/TR/webdriver2/#dfn-key-location\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-key-location-2\">key location</a>\n  for <var>raw key</var>.\n\n </p>"
        },
        {
          "html": "<p>Let <var>charCode</var>, <var>keyCode</var>\n  and <var>which</var> be the implementation-specific values of\n  the <code>charCode</code>, <code>keyCode</code>\n  and <code>which</code> properties appropriate for a key with\n  key <var>key</var> and location <var>location</var> on a 102 key US\n  keyboard, following the guidelines in [<cite><a class=\"bibref\" data-link-type=\"biblio\" href=\"https://www.w3.org/TR/webdriver2/#bib-ui-events\" title=\"UI Events\">UI-EVENTS</a></cite>].\n\n </p>"
        },
        {
          "html": "<p>If <var>key</var> is \"<code>Alt</code>\", let\n  <var>source</var>'s <code>alt</code> property be false.\n\n </p>"
        },
        {
          "html": "<p>If <var>key</var> is \"<code>Shift</code>\", let\n  <var>source</var>'s <code>shift</code> property be false.\n\n </p>"
        },
        {
          "html": "<p>If <var>key</var> is <code>\"Control\"</code>, let\n  <var>source</var>'s <code>ctrl</code> property be false.\n\n </p>"
        },
        {
          "html": "<p>If <var>key</var> is <code>\"Meta\"</code>, let\n  <var>source</var>'s <code>meta</code> property be false.\n\n </p>"
        },
        {
          "html": "<p>Remove <var>key</var>\n from <var>sources</var>'s <code>pressed</code> property.\n\n </p>"
        },
        {
          "html": "<p><a href=\"https://www.w3.org/TR/webdriver2/#dfn-perform-implementation-specific-action-dispatch-steps\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-perform-implementation-specific-action-dispatch-steps-3\">Perform implementation-specific action dispatch steps</a>\n  on <var>browsing context</var> equivalent to releasing a key on the\n  keyboard in accordance with the requirements of [<cite><a class=\"bibref\" data-link-type=\"biblio\" href=\"https://www.w3.org/TR/webdriver2/#bib-ui-events\" title=\"UI Events\">UI-EVENTS</a></cite>], and\n  producing at least the following events with the specified\n  properties:\n  </p><ul>\n   <li><a href=\"https://w3c.github.io/uievents/#keyup\"><code>keyup</code></a>,\n    with properties:\n    <table class=\"simple\">\n     <tbody><tr>\n      <th>Attribute</th>\n      <th>Value</th>\n     </tr>\n     <tr><td><code>key</code></td><td><var>key</var></td></tr>\n     <tr><td><code>code</code></td><td><var>code</var></td></tr>\n     <tr><td><code>location</code></td><td><var>location</var></td></tr>\n     <tr><td><code>altKey</code></td><td><var>source</var>'s <code>altKey</code> property</td></tr>\n     <tr><td><code>shiftKey</code></td><td><var>source</var>'s <code>shift</code> property</td></tr>\n     <tr><td><code>ctrlKey</code></td><td><var>source</var>'s <code>ctrl</code> property</td></tr>\n     <tr><td><code>metaKey</code></td><td><var>source</var>'s <code>meta</code> property</td></tr>\n     <tr><td><code>repeat</code></td><td><var>false</var></td></tr>\n     <tr><td><code>isComposing</code></td><td><var>false</var></td></tr>\n     <tr><td><code>charCode</code></td><td><var>charCode</var></td></tr>\n     <tr><td><code>keyCode</code></td><td><var>keyCode</var></td></tr>\n     <tr><td><code>which</code></td><td><var>which</var></td></tr>\n    </tbody></table>\n  </li></ul>"
        },
        {
          "html": "<p>Return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-success\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-success-107\">success</a> with data <a href=\"https://www.w3.org/TR/webdriver2/#dfn-null\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-null-65\"><code>null</code></a>.\n</p>"
        }
      ]
    },
    {
      "name": "dispatch a pointerDown action",
      "href": "https://www.w3.org/TR/webdriver2/#dfn-dispatch-a-pointerdown-action",
      "html": "To <dfn id=\"dfn-dispatch-a-pointerdown-action\" tabindex=\"0\" aria-haspopup=\"dialog\" data-dfn-type=\"dfn\">dispatch a pointerDown action</dfn> given\n <var>action object</var>, <var>source</var>, <var>global key\n state</var>, <var>tick duration</var>, <var>browsing context</var>,\n and <var>actions options</var>:",
      "rationale": ".algorithm",
      "steps": [
        {
          "html": "<p>Let <var>pointerType</var> be equal to\n  <var>action object</var>'s <code>pointerType</code> property.\n\n </p>"
        },
        {
          "html": "<p>Let <var>button</var> be equal to\n  <var>action object</var>'s <code>button</code> property.\n\n </p>"
        },
        {
          "html": "<p>If the <var>source</var>'s <code>pressed</code> property\n  contains <var>button</var> return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-success\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-success-108\">success</a> with data <a href=\"https://www.w3.org/TR/webdriver2/#dfn-null\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-null-66\"><code>null</code></a>.\n\n </p>"
        },
        {
          "html": "<p>Let <var>x</var> be equal to <var>source</var>'s\n  <code>x</code> property.\n\n </p>"
        },
        {
          "html": "<p>Let <var>y</var> be equal to <var>source</var>'s\n  <code>y</code> property.\n\n </p>"
        },
        {
          "html": "<p>Add <var>button</var> to the set corresponding to\n  <var>source</var>'s <code>pressed</code> property, and\n  let <var>buttons</var> be the resulting value of that property.\n\n </p>"
        },
        {
          "html": "<p>Let <var>width</var> be equal to <var>action object</var>'s\n  <code>width</code> property.\n\n </p>"
        },
        {
          "html": "<p>Let <var>height</var> be equal to <var>action object</var>'s\n  <code>height</code> property.\n\n </p>"
        },
        {
          "html": "<p>Let <var>pressure</var> be equal to <var>action object</var>'s\n  <code>pressure</code> property.\n\n </p>"
        },
        {
          "html": "<p>Let <var>tangentialPressure</var> be equal to\n  <var>action object</var>'s <code>tangentialPressure</code> property.\n\n </p>"
        },
        {
          "html": "<p>Let <var>tiltX</var> be equal to <var>action object</var>'s\n  <code>tiltX</code> property.\n\n </p>"
        },
        {
          "html": "<p>Let <var>tiltY</var> be equal to <var>action object</var>'s\n  <code>tiltY</code> property.\n\n </p>"
        },
        {
          "html": "<p>Let <var>twist</var> be equal to <var>action object</var>'s\n  <code>twist</code> property.\n\n </p>"
        },
        {
          "html": "<p>Let <var>altitudeAngle</var> be equal to <var>action object</var>'s\n  <code>altitudeAngle</code> property.\n\n </p>"
        },
        {
          "html": "<p>Let <var>azimuthAngle</var> be equal to <var>action object</var>'s\n  <code>azimuthAngle</code> property.\n\n </p>"
        },
        {
          "html": "<p><a href=\"https://www.w3.org/TR/webdriver2/#dfn-perform-implementation-specific-action-dispatch-steps\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-perform-implementation-specific-action-dispatch-steps-4\">Perform implementation-specific action dispatch steps</a>\n  on <var>browsing context</var> equivalent to pressing the button\n  numbered <var>button</var> on the pointer with pointerId equal\n  to <var>source</var>'s pointerId, having\n  type <var>pointerType</var> at viewport x coordinate <var>x</var>,\n  viewport y coordinate <var>y</var>, <var>width</var>, <var>height</var>,\n  <var>pressure</var>, <var>tangentialPressure</var>, <var>tiltX</var>,\n  <var>tiltY</var>, <var>twist</var>, <var>altitudeAngle</var>,\n  <var>azimuthAngle</var>, with buttons <var>buttons</var> depressed\n  in accordance with the requirements of [<cite><a class=\"bibref\" data-link-type=\"biblio\" href=\"https://www.w3.org/TR/webdriver2/#bib-ui-events\" title=\"UI Events\">UI-EVENTS</a></cite>] and\n  [<cite><a class=\"bibref\" data-link-type=\"biblio\" href=\"https://www.w3.org/TR/webdriver2/#bib-pointer-events\" title=\"Pointer Events\">POINTER-EVENTS</a></cite>]. set <code>ctrlKey</code>, <code>shiftKey</code>,\n  <code>altKey</code>, and <code>metaKey</code> equal to the\n  corresponding items in <var>global key state</var>. Type specific\n  properties for the pointer that are not exposed through the\n  webdriver API must be set to the default value specified for\n  hardware that doesn't support that property.\n\n \n\n </p>"
        },
        {
          "html": "<p>Return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-success\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-success-109\">success</a> with data <a href=\"https://www.w3.org/TR/webdriver2/#dfn-null\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-null-67\"><code>null</code></a>.\n</p>"
        }
      ]
    },
    {
      "name": "dispatch a pointerUp action",
      "href": "https://www.w3.org/TR/webdriver2/#dfn-dispatch-a-pointerup-action",
      "html": "To <dfn id=\"dfn-dispatch-a-pointerup-action\" tabindex=\"0\" aria-haspopup=\"dialog\" data-dfn-type=\"dfn\">dispatch a pointerUp action</dfn> given, <var>action\nobject</var>, <var>source</var>, <var>global key\nstate</var>, <var>tick duration</var>, <var>browsing context</var>,\nand <var>actions options</var>:",
      "rationale": ".algorithm",
      "steps": [
        {
          "html": "<p>Let <var>pointerType</var> be equal to\n  <var>action object</var>'s <code>pointerType</code> property.\n\n </p>"
        },
        {
          "html": "<p>Let <var>button</var> be equal to\n  <var>action object</var>'s <code>button</code> property.\n\n </p>"
        },
        {
          "html": "<p>If the <var>source</var>'s <code>pressed</code> property\n  does not contain <var>button</var>,\n  return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-success\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-success-110\">success</a> with data <a href=\"https://www.w3.org/TR/webdriver2/#dfn-null\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-null-68\"><code>null</code></a>.\n\n </p>"
        },
        {
          "html": "<p>Let <var>x</var> be equal to <var>source</var>'s\n  <code>x</code> property.\n\n </p>"
        },
        {
          "html": "<p>Let <var>y</var> be equal to <var>source</var>'s\n  <code>y</code> property.\n\n </p>"
        },
        {
          "html": "<p>Remove <var>button</var> from the set corresponding\n  to <var>source</var>'s <code>pressed</code> property, and\n  let <var>buttons</var> be the resulting value of that\n  property.\n\n </p>"
        },
        {
          "html": "<p><a href=\"https://www.w3.org/TR/webdriver2/#dfn-perform-implementation-specific-action-dispatch-steps\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-perform-implementation-specific-action-dispatch-steps-5\">Perform implementation-specific action dispatch steps</a>\n  on <var>browsing context</var> equivalent to releasing the button\n  numbered <var>button</var> on the pointer with pointerId equal\n  to <var>input source</var>'s pointerId, having\n  type <var>pointerType</var> at viewport x coordinate <var>x</var>,\n  viewport y coordinate <var>y</var>, with buttons <var>buttons</var>\n  depressed, in accordance with the requirements of [<cite><a class=\"bibref\" data-link-type=\"biblio\" href=\"https://www.w3.org/TR/webdriver2/#bib-ui-events\" title=\"UI Events\">UI-EVENTS</a></cite>] and\n  [<cite><a class=\"bibref\" data-link-type=\"biblio\" href=\"https://www.w3.org/TR/webdriver2/#bib-pointer-events\" title=\"Pointer Events\">POINTER-EVENTS</a></cite>]. The generated events must\n  set <code>ctrlKey</code>, <code>shiftKey</code>,\n  <code>altKey</code>, and <code>metaKey</code> equal to the\n  corresponding items in <var>global key state</var>. Type specific\n  properties for the pointer that are not exposed through the\n  webdriver API must be set to the default value specified for\n  hardware that doesn't support that property.\n\n  \n\n </p>"
        },
        {
          "html": "<p>Return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-success\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-success-111\">success</a> with data <a href=\"https://www.w3.org/TR/webdriver2/#dfn-null\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-null-69\"><code>null</code></a>.\n</p>"
        }
      ]
    },
    {
      "name": "dispatch a pointerMove action",
      "href": "https://www.w3.org/TR/webdriver2/#dfn-dispatch-a-pointermove-action",
      "html": "To <dfn id=\"dfn-dispatch-a-pointermove-action\" tabindex=\"0\" aria-haspopup=\"dialog\" data-dfn-type=\"dfn\">dispatch a pointerMove action</dfn> given <var>action\nobject</var>, <var>source</var>, <var>global key state</var>,\n<var>tick duration</var>, <var>browsing context</var>,\nand <var>actions options</var>:",
      "rationale": ".algorithm",
      "steps": [
        {
          "html": "<p>Let <var>x offset</var> be equal to the <code>x</code>\n  property of <var>action object</var>.\n\n </p>"
        },
        {
          "html": "<p>Let <var>y offset</var> be equal to the <code>y</code>\n  property of <var>action object</var>.\n\n </p>"
        },
        {
          "html": "<p>Let <var>origin</var> be equal to the <code>origin</code>\n  property of <var>action object</var>.\n\n </p>"
        },
        {
          "html": "<p>Let (<var>x</var>, <var>y</var>) be the result\n  of <a href=\"https://www.w3.org/TR/webdriver2/#dfn-try\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-try-116\">trying</a> to <a href=\"https://www.w3.org/TR/webdriver2/#dfn-get-coordinates-relative-to-an-origin\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-get-coordinates-relative-to-an-origin-1\">get coordinates relative to an origin</a>\n  with <var>source</var>, <var>x offset</var>, <var>y offset</var>,\n  <var>origin</var>, <var>browsing context</var>, and <var>actions\n  options</var>.\n\n </p>"
        },
        {
          "html": "<p>If <var>x</var> is less than 0 or greater than the width of\n  the viewport in <a href=\"https://www.w3.org/TR/webdriver2/#dfn-css-pixels\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-css-pixels-7\">CSS pixels</a>, then return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-247\">error</a> with\n  error code <a href=\"https://www.w3.org/TR/webdriver2/#dfn-move-target-out-of-bounds\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-move-target-out-of-bounds-1\">move target out of bounds</a>.\n\n </p>"
        },
        {
          "html": "<p>If <var>y</var> is less than 0 or greater than the height of\n  the viewport in <a href=\"https://www.w3.org/TR/webdriver2/#dfn-css-pixels\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-css-pixels-8\">CSS pixels</a>, then\n  return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-248\">error</a> with error code <a href=\"https://www.w3.org/TR/webdriver2/#dfn-move-target-out-of-bounds\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-move-target-out-of-bounds-2\">move target out of\n  bounds</a>.\n\n </p>"
        },
        {
          "html": "<p>Let <var>duration</var> be equal to\n  <var>action object</var>'s <code>duration</code> property if it\n  is not <a href=\"https://www.w3.org/TR/webdriver2/#dfn-undefined\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-undefined-58\">undefined</a>, or <var>tick duration</var>\n  otherwise.\n\n </p>"
        },
        {
          "html": "<p>If <var>duration</var> is greater than 0 and inside any\n  implementation-defined bounds, <a href=\"https://www.w3.org/TR/webdriver2/#dfn-asynchronously-wait\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-asynchronously-wait-2\">asynchronously wait</a> for an\n  implementation defined amount of time to pass.\n\n  </p>"
        },
        {
          "html": "<p>Let <var>width</var> be equal to <var>action object</var>'s\n  <code>width</code> property.\n\n </p>"
        },
        {
          "html": "<p>Let <var>height</var> be equal to <var>action object</var>'s\n  <code>height</code> property.\n\n </p>"
        },
        {
          "html": "<p>Let <var>pressure</var> be equal to <var>action object</var>'s\n  <code>pressure</code> property.\n\n </p>"
        },
        {
          "html": "<p>Let <var>tangentialPressure</var> be equal to\n  <var>action object</var>'s <code>tangentialPressure</code> property.\n\n </p>"
        },
        {
          "html": "<p>Let <var>tiltX</var> be equal to <var>action object</var>'s\n  <code>tiltX</code> property.\n\n </p>"
        },
        {
          "html": "<p>Let <var>tiltY</var> be equal to <var>action object</var>'s\n  <code>tiltY</code> property.\n\n </p>"
        },
        {
          "html": "<p>Let <var>twist</var> be equal to <var>action object</var>'s\n  <code>twist</code> property.\n\n </p>"
        },
        {
          "html": "<p>Let <var>altitudeAngle</var> be equal to <var>action object</var>'s\n  <code>altitudeAngle</code> property.\n\n </p>"
        },
        {
          "html": "<p>Let <var>azimuthAngle</var> be equal to <var>action object</var>'s\n  <code>azimuthAngle</code> property.\n\n </p>"
        },
        {
          "html": "<p><a href=\"https://www.w3.org/TR/webdriver2/#dfn-perform-a-pointer-move\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-perform-a-pointer-move-1\">Perform a pointer move</a> with arguments\n  <var>source</var>, <var>global key state</var>, <var>duration</var>,\n  <var>start x</var>, <var>start y</var>, <var>x</var>, <var>y</var>,\n  <var>width</var>, <var>height</var>, <var>pressure</var>,\n  <var>tangentialPressure</var>, <var>tiltX</var>, <var>tiltY</var>,\n  <var>twist</var>, <var>altitudeAngle</var>, <var>azimuthAngle</var>.\n\n </p>"
        },
        {
          "html": "<p>Return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-success\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-success-112\">success</a> with data <a href=\"https://www.w3.org/TR/webdriver2/#dfn-null\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-null-70\"><code>null</code></a>.\n</p>"
        }
      ]
    },
    {
      "name": "perform a pointer move",
      "href": "https://www.w3.org/TR/webdriver2/#dfn-perform-a-pointer-move",
      "html": "To <dfn id=\"dfn-perform-a-pointer-move\" tabindex=\"0\" aria-haspopup=\"dialog\" data-dfn-type=\"dfn\">perform a pointer move</dfn> given <var>source</var>,\n<var>global key state</var>, <var>duration</var>, <var>start x</var>,\n<var>start y</var>, <var>target x</var>, <var>target y</var>, <var>width</var>,\n<var>height</var>, <var>pressure</var>, <var>tangentialPressure</var>,\n<var>tiltX</var>, <var>tiltY</var>, <var>twist</var>, <var>altitudeAngle</var>,\nand <var>azimuthAngle</var>:",
      "rationale": ".algorithm",
      "steps": [
        {
          "html": "<p>Let <var>time delta</var> be the time since the beginning of\n  the current <a href=\"https://www.w3.org/TR/webdriver2/#dfn-ticks\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-ticks-22\">tick</a>, measured in milliseconds on a monotonic\n  clock.\n\n </p>"
        },
        {
          "html": "<p>Let <var>duration ratio</var> be the ratio of\n  <var>time delta</var> and <var>duration</var>, if <var>duration</var>\n  is greater than 0, or 1 otherwise.\n\n </p>"
        },
        {
          "html": "<p>If <var>duration ratio</var> is 1, or close enough to 1 that\n  the implementation will not further subdivide the move action,\n  let <var>last</var> be true. Otherwise let <var>last</var>\n  be <code>false</code>.\n\n </p>"
        },
        {
          "html": "<p>If <var>last</var> is true, let <var>x</var> equal\n  <var>target x</var> and <var>y</var> equal <var>target y</var>.\n\n  </p><p>Otherwise let <var>x</var> equal an approximation\n   to <var>duration ratio</var> × (<var>target x</var>\n   - <var>start x</var>) + <var>start x</var>, and <var>y</var> equal\n   an approximation to <var>duration ratio</var> ×\n   (<var>target y</var> - <var>start y</var>) + <var>start y</var>.\n\n </p>"
        },
        {
          "html": "<p>Let <var>current x</var> equal the <code>x</code> property\n  of <var>input state</var>.\n\n </p>"
        },
        {
          "html": "<p>Let <var>current y</var> equal the <code>y</code> property\n  of <var>input state</var>.\n\n </p>"
        },
        {
          "html": "If <var>x</var> is not equal to <var>current x</var>\n  or <var>y</var> is not equal to <var>current y</var>, run the\n  following steps:",
          "rationale": "let",
          "steps": [
            {
              "html": "<p>Let <var>buttons</var> be equal to input\n    state's <code>buttons</code> property.\n\n   </p>"
            },
            {
              "html": "<p><a href=\"https://www.w3.org/TR/webdriver2/#dfn-perform-implementation-specific-action-dispatch-steps\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-perform-implementation-specific-action-dispatch-steps-6\">Perform implementation-specific action dispatch steps</a>\n    on <var>browsing context</var> equivalent to moving the pointer\n    with pointerId equal to <var>input source</var>'s pointerId,\n    having type <var>pointerType</var> from viewport x\n    coordinate <var>current x</var>, viewport y\n    coordinate <var>current y</var> to viewport x\n    coordinate <var>x</var> and viewport y\n    coordinate <var>y</var>, <var>width</var>, <var>height</var>,\n    <var>pressure</var>, <var>tangentialPressure</var>, <var>tiltX</var>,\n    <var>tiltY</var>, <var>twist</var>, <var>altitudeAngle</var>,\n    <var>azimuthAngle</var>, with\n    buttons <var>buttons</var> depressed, in accordance with the\n    requirements of [<cite><a class=\"bibref\" data-link-type=\"biblio\" href=\"https://www.w3.org/TR/webdriver2/#bib-ui-events\" title=\"UI Events\">UI-EVENTS</a></cite>] and [<cite><a class=\"bibref\" data-link-type=\"biblio\" href=\"https://www.w3.org/TR/webdriver2/#bib-pointer-events\" title=\"Pointer Events\">POINTER-EVENTS</a></cite>]. The generated\n    events must set <code>ctrlKey</code>, <code>shiftKey</code>,\n    <code>altKey</code>, and <code>metaKey</code> equal to the\n    corresponding items in <var>global key state</var>.  Type specific\n    properties for the pointer that are not exposed through the\n    WebDriver API must be set to the default value specified for\n    hardware that doesn't support that property. In the case where\n    the <var>pointerType</var> is \"<code>pen</code>\" or\n    \"<code>touch</code>\", and <var>buttons</var> is empty, this may be\n    a no-op. For a pointer of type \"<code>mouse</code>\" this will\n    always produce events including at least\n    a <code>pointerMove</code> event.\n\n   </p>"
            },
            {
              "html": "<p>Let <var>input state</var>'s <code>x</code> property\n    equal <var>x</var> and <code>y</code> property\n    equal <var>y</var>.\n  </p>"
            }
          ]
        },
        {
          "html": "<p>If <var>last</var> is true, return.\n\n </p>"
        },
        {
          "html": "Run the following substeps <a data-link-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel\" id=\"ref-for-index-term-in-parallel-5\">in parallel</a>:",
          "rationale": "perform",
          "steps": [
            {
              "html": "<p><a href=\"https://www.w3.org/TR/webdriver2/#dfn-asynchronously-wait\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-asynchronously-wait-3\">Asynchronously wait</a> for an implementation defined\n    amount of time to pass.\n\n   </p>"
            },
            {
              "html": "<p><a href=\"https://www.w3.org/TR/webdriver2/#dfn-perform-a-pointer-move\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-perform-a-pointer-move-2\">Perform a pointer move</a> with arguments\n    <var>input state</var>, <var>duration</var>,\n    <var>start x</var>, <var>start y</var>, <var>target x</var>,\n    <var>target y</var>.\n </p>"
            }
          ]
        }
      ]
    },
    {
      "name": "dispatch a pointerCancel action",
      "href": "https://www.w3.org/TR/webdriver2/#dfn-dispatch-a-pointercancel-action",
      "html": "To <dfn id=\"dfn-dispatch-a-pointercancel-action\" tabindex=\"0\" aria-haspopup=\"dialog\" data-dfn-type=\"dfn\">dispatch a pointerCancel action</dfn> given <var>action\nobject</var>, <var>source</var>, <var>global key state</var>,\n<var>tick duration</var>, <var>browsing context</var>,\nand <var>actions options</var>:",
      "rationale": ".algorithm",
      "steps": [
        {
          "html": "<p><a href=\"https://www.w3.org/TR/webdriver2/#dfn-perform-implementation-specific-action-dispatch-steps\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-perform-implementation-specific-action-dispatch-steps-7\">Perform implementation-specific action dispatch steps</a>\n  on <var>browsing context</var> equivalent to cancelling the any\n  action of the pointer with pointerId equal to <var>source</var>'s\n  pointerId item. having type <var>pointerType</var>, in accordance\n  with the requirements of [<cite><a class=\"bibref\" data-link-type=\"biblio\" href=\"https://www.w3.org/TR/webdriver2/#bib-ui-events\" title=\"UI Events\">UI-EVENTS</a></cite>] and [<cite><a class=\"bibref\" data-link-type=\"biblio\" href=\"https://www.w3.org/TR/webdriver2/#bib-pointer-events\" title=\"Pointer Events\">POINTER-EVENTS</a></cite>].\n\n </p>"
        },
        {
          "html": "<p>Return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-success\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-success-113\">success</a> with data <a href=\"https://www.w3.org/TR/webdriver2/#dfn-null\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-null-71\"><code>null</code></a>.\n</p>"
        }
      ]
    },
    {
      "name": "dispatch a scroll action",
      "href": "https://www.w3.org/TR/webdriver2/#dfn-dispatch-a-scroll-action",
      "html": "To <dfn id=\"dfn-dispatch-a-scroll-action\" tabindex=\"0\" aria-haspopup=\"dialog\" data-dfn-type=\"dfn\">dispatch a scroll action</dfn> given <var>action\nobject</var>, <var>source</var>, <var>global key state</var>,\n<var>tick duration</var>, <var>browsing context</var>,\nand <var>actions options</var>:",
      "rationale": ".algorithm",
      "steps": [
        {
          "html": "<p>Let <var>x offset</var> be equal to the <code>x</code>\n  property of <var>action object</var>.\n\n </p>"
        },
        {
          "html": "<p>Let <var>y offset</var> be equal to the <code>y</code>\n  property of <var>action object</var>.\n\n </p>"
        },
        {
          "html": "<p>Let <var>origin</var> be equal to the <code>origin</code>\n  property of <var>action object</var>.\n\n </p>"
        },
        {
          "html": "<p>Let (<var>x</var>, <var>y</var>) be the result\n  of <a href=\"https://www.w3.org/TR/webdriver2/#dfn-try\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-try-117\">trying</a> to <a href=\"https://www.w3.org/TR/webdriver2/#dfn-get-coordinates-relative-to-an-origin\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-get-coordinates-relative-to-an-origin-2\">get coordinates relative to an origin</a>\n  with <var>source</var>, <var>x offset</var>, <var>y offset</var>,\n  <var>origin</var>, <var>browsing context</var>, and <var>actions\n  options</var>.\n\n </p>"
        },
        {
          "html": "<p>If <var>x</var> is less than 0 or greater than the width of\n  the viewport in <a href=\"https://www.w3.org/TR/webdriver2/#dfn-css-pixels\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-css-pixels-9\">CSS pixels</a>, then\n  return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-249\">error</a> with error code <a href=\"https://www.w3.org/TR/webdriver2/#dfn-move-target-out-of-bounds\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-move-target-out-of-bounds-3\">move target out of\n  bounds</a>.\n\n </p>"
        },
        {
          "html": "<p>If <var>y</var> is less than 0 or greater than the height of\n  the viewport in <a href=\"https://www.w3.org/TR/webdriver2/#dfn-css-pixels\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-css-pixels-10\">CSS pixels</a>, then\n  return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-250\">error</a> with error code <a href=\"https://www.w3.org/TR/webdriver2/#dfn-move-target-out-of-bounds\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-move-target-out-of-bounds-4\">move target out of\n  bounds</a>.\n\n </p>"
        },
        {
          "html": "<p>Let <var>delta x</var> be equal to the <code>deltaX</code>\n  property of <var>action object</var>.\n\n </p>"
        },
        {
          "html": "<p>Let <var>delta y</var> be equal to the <code>deltaY</code>\n  property of <var>action object</var>.\n\n </p>"
        },
        {
          "html": "<p>Let <var>duration</var> be equal to\n  <var>action object</var>'s <code>duration</code> property if it\n  is not <a href=\"https://www.w3.org/TR/webdriver2/#dfn-undefined\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-undefined-59\">undefined</a>, or <var>tick duration</var>\n  otherwise.\n\n </p>"
        },
        {
          "html": "<p>If <var>duration</var> is greater than 0 and inside any\n  implementation-defined bounds, <a href=\"https://www.w3.org/TR/webdriver2/#dfn-asynchronously-wait\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-asynchronously-wait-4\">asynchronously wait</a> for an\n  implementation defined amount of time to pass.\n\n  </p>"
        },
        {
          "html": "<p><a href=\"https://www.w3.org/TR/webdriver2/#dfn-perform-a-scroll\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-perform-a-scroll-1\">Perform a scroll</a> with arguments\n  <var>global key state</var>, <var>duration</var>,\n  <var>x</var>, <var>y</var>, <var>delta x</var>, <var>delta y</var>,\n  <var>0</var>, <var>0</var>.\n\n </p>"
        },
        {
          "html": "<p>Return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-success\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-success-114\">success</a> with data <a href=\"https://www.w3.org/TR/webdriver2/#dfn-null\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-null-72\"><code>null</code></a>.\n</p>"
        }
      ]
    },
    {
      "name": "perform a scroll",
      "href": "https://www.w3.org/TR/webdriver2/#dfn-perform-a-scroll",
      "html": "To <dfn id=\"dfn-perform-a-scroll\" tabindex=\"0\" aria-haspopup=\"dialog\" data-dfn-type=\"dfn\">perform a scroll</dfn> given\n <var>duration</var>, <var>x</var>, <var>y</var>,\n <var>target delta x</var>, <var>target delta y</var>,\n <var>current delta x</var> and <var>current delta y</var>:",
      "rationale": ".algorithm",
      "steps": [
        {
          "html": "<p>Let <var>time delta</var> be the time since the beginning of\n  the current <a href=\"https://www.w3.org/TR/webdriver2/#dfn-ticks\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-ticks-23\">tick</a>, measured in milliseconds on a monotonic\n  clock.\n\n </p>"
        },
        {
          "html": "<p>Let <var>duration ratio</var> be the ratio of\n  <var>time delta</var> and <var>duration</var>, if <var>duration</var>\n  is greater than 0, or 1 otherwise.\n\n </p>"
        },
        {
          "html": "<p>If <var>duration ratio</var> is 1, or close enough to 1 that\n  the implementation will not further subdivide the move action,\n  let <var>last</var> be true. Otherwise let <var>last</var>\n  be <code>false</code>.\n\n </p>"
        },
        {
          "html": "<p>If <var>last</var> is true, let <var>delta x</var> equal\n  <var>target delta x</var> - <var>current delta x</var> and\n  <var>delta y</var> equal <var>target delta y</var> -\n  <var>current delta y</var>.\n\n  </p><p>Otherwise let <var>delta x</var> equal an approximation\n   to <var>duration ratio</var> × <var>target delta x</var> -\n   <var>current delta x</var>,\n   and <var>delta y</var> equal an approximation to\n   <var>duration ratio</var> × <var>target delta y</var> -\n   <var>current delta y</var>.\n\n </p>"
        },
        {
          "html": "If <var>delta x</var> is not equal to <var>0</var> or\n  <var>delta y</var> is not equal to <var>0</var>,\n  run the following steps:",
          "rationale": "perform",
          "steps": [
            {
              "html": "<p><a href=\"https://www.w3.org/TR/webdriver2/#dfn-perform-implementation-specific-action-dispatch-steps\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-perform-implementation-specific-action-dispatch-steps-8\">Perform implementation-specific action dispatch steps</a>\n    on <var>browsing context</var> equivalent to wheel scroll at\n    viewport x coordinate <var>x</var>, viewport y\n    coordinate <var>y</var>, deltaX value <var>delta x</var>, deltaY\n    value <var>delta y</var>, in accordance with the requirements of\n    [<cite><a class=\"bibref\" data-link-type=\"biblio\" href=\"https://www.w3.org/TR/webdriver2/#bib-ui-events\" title=\"UI Events\">UI-EVENTS</a></cite>]. The generated events must\n    set <code>ctrlKey</code>, <code>shiftKey</code>,\n    <code>altKey</code>, and <code>metaKey</code> equal to the\n    corresponding items in <var>global key state</var>.\n\n   </p>"
            },
            {
              "html": "<p>Let <code>current delta x</code> property\n    equal <var>delta x</var>  + <var>current delta x</var> and\n    <code>current delta y</code> property equal\n    <var>delta y</var>  + <var>current delta y</var>.\n  </p>"
            }
          ]
        },
        {
          "html": "<p>If <var>last</var> is true, return.\n\n </p>"
        },
        {
          "html": "Run the following substeps <a data-link-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel\" id=\"ref-for-index-term-in-parallel-6\">in parallel</a>:",
          "rationale": "perform",
          "steps": [
            {
              "html": "<p><a href=\"https://www.w3.org/TR/webdriver2/#dfn-asynchronously-wait\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-asynchronously-wait-5\">Asynchronously wait</a> for an implementation defined\n    amount of time to pass.\n\n   </p>"
            },
            {
              "html": "<p><a href=\"https://www.w3.org/TR/webdriver2/#dfn-perform-a-scroll\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-perform-a-scroll-2\">Perform a scroll</a> with arguments\n    <var>duration</var>, <var>x</var>, <var>y</var>,\n    <var>target delta x</var>, <var>target delta y</var>,\n    <var>current delta x</var>, <var>current delta y</var>.\n </p>"
            }
          ]
        }
      ]
    },
    {
      "html": "The <a href=\"https://www.w3.org/TR/webdriver2/#dfn-remote-end-steps\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-remote-end-steps-59\">remote end steps</a>, given <var>session</var>, <var>URL\nvariables</var> and <var>parameters</var> are:",
      "rationale": ".algorithm",
      "steps": [
        {
          "html": "<p>If <var>session</var>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-current-browsing-context\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-current-browsing-context-83\">current browsing context</a>\n  is <a href=\"https://www.w3.org/TR/webdriver2/#dfn-no-longer-open\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-no-longer-open-51\">no longer open</a>, return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-251\">error</a> with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-227\">error code</a>\n  <a href=\"https://www.w3.org/TR/webdriver2/#dfn-no-such-window\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-no-such-window-52\">no such window</a>.\n\n  </p>"
        },
        {
          "html": "<p><a href=\"https://www.w3.org/TR/webdriver2/#dfn-try\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-try-118\">Try</a> to <a href=\"https://www.w3.org/TR/webdriver2/#dfn-handle-any-user-prompts\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-handle-any-user-prompts-49\">handle any user prompts</a> with <var>session</var>.\n\n  </p>"
        },
        {
          "html": "<p>Let <var>input state</var> be the result of <a href=\"https://www.w3.org/TR/webdriver2/#dfn-get-the-input-state\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-get-the-input-state-3\">get the input\n  state</a> with <var>session</var>\n  and <var>session</var>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-current-top-level-browsing-context\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-current-top-level-browsing-context-64\">current top-level browsing\n  context</a>.\n\n </p>"
        },
        {
          "html": "<p>Let <var>actions options</var> be a new <a href=\"https://www.w3.org/TR/webdriver2/#dfn-actions-options\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-actions-options-5\">actions options</a>\n  with the <a href=\"https://www.w3.org/TR/webdriver2/#dfn-is-element-origin\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-is-element-origin-6\">is element origin</a> steps set to <a href=\"https://www.w3.org/TR/webdriver2/#dfn-represents-a-web-element\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-represents-a-web-element-8\">represents a web\n  element</a>, and the <a href=\"https://www.w3.org/TR/webdriver2/#dfn-get-element-origin\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-get-element-origin-5\">get element origin</a> steps set\n  to <a href=\"https://www.w3.org/TR/webdriver2/#dfn-get-a-webelement-origin\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-get-a-webelement-origin-4\">get a WebElement origin</a>.\n\n </p>"
        },
        {
          "html": "<p>Let <var>actions by tick</var> be the result of <a href=\"https://www.w3.org/TR/webdriver2/#dfn-try\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-try-119\">trying</a>\n  to <a href=\"https://www.w3.org/TR/webdriver2/#dfn-extract-an-action-sequence\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-extract-an-action-sequence-2\">extract an action sequence</a> with <var>input state</var>,\n  <var>parameters</var>, and <var>actions options</var>.\n\n </p>"
        },
        {
          "html": "<p><a href=\"https://www.w3.org/TR/webdriver2/#dfn-dispatch-actions\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-dispatch-actions-3\">Dispatch actions</a> with <var>input state</var>,\n  <var>actions by tick</var>, <a href=\"https://www.w3.org/TR/webdriver2/#dfn-current-browsing-context\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-current-browsing-context-84\">current browsing context</a>,\n  and <var>actions options</var>. If this results in an <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-252\">error</a>\n  return that error.\n\n </p>"
        },
        {
          "html": "<p>Return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-success\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-success-115\">success</a> with data <a href=\"https://www.w3.org/TR/webdriver2/#dfn-null\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-null-73\"><code>null</code></a>.\n</p>"
        }
      ]
    },
    {
      "html": "The <a href=\"https://www.w3.org/TR/webdriver2/#dfn-remote-end-steps\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-remote-end-steps-60\">remote end steps</a>, given <var>session</var>, <var>URL\nvariables</var> and <var>parameters</var> are:",
      "rationale": "if",
      "steps": [
        {
          "html": "<p>If <var>session</var>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-current-browsing-context\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-current-browsing-context-85\">current browsing context</a>\n  is <a href=\"https://www.w3.org/TR/webdriver2/#dfn-no-longer-open\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-no-longer-open-52\">no longer open</a>, return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-253\">error</a> with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-228\">error\n  code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-no-such-window\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-no-such-window-53\">no such window</a>.\n\n  </p>"
        },
        {
          "html": "<p><a href=\"https://www.w3.org/TR/webdriver2/#dfn-try\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-try-120\">Try</a> to <a href=\"https://www.w3.org/TR/webdriver2/#dfn-handle-any-user-prompts\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-handle-any-user-prompts-50\">handle any user prompts</a> with <var>session</var>.\n\n </p>"
        },
        {
          "html": "<p>Let <var>input state</var> be the result of <a href=\"https://www.w3.org/TR/webdriver2/#dfn-get-the-input-state\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-get-the-input-state-4\">get the input state</a>\n  with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-sessions\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-sessions-38\">session</a> and <a href=\"https://www.w3.org/TR/webdriver2/#dfn-current-top-level-browsing-context\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-current-top-level-browsing-context-65\">current top-level browsing context</a>.\n\n </p>"
        },
        {
          "html": "<p>Let <var>actions options</var> be a new <a href=\"https://www.w3.org/TR/webdriver2/#dfn-actions-options\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-actions-options-6\">actions options</a>\n  with the <a href=\"https://www.w3.org/TR/webdriver2/#dfn-is-element-origin\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-is-element-origin-7\">is element origin</a> steps set to <a href=\"https://www.w3.org/TR/webdriver2/#dfn-represents-a-web-element\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-represents-a-web-element-9\">represents a web\n  element</a>, and the <a href=\"https://www.w3.org/TR/webdriver2/#dfn-get-element-origin\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-get-element-origin-6\">get element origin</a> steps set\n  to <a href=\"https://www.w3.org/TR/webdriver2/#dfn-get-a-webelement-origin\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-get-a-webelement-origin-5\">get a WebElement origin</a>.\n\n </p>"
        },
        {
          "html": "<p><a href=\"https://www.w3.org/TR/webdriver2/#dfn-wait-for-an-action-queue-token\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-wait-for-an-action-queue-token-2\">Wait for an action queue token</a> with <var>input state</var>.\n\n </p>"
        },
        {
          "html": "<p>Let <var>undo actions</var> be <var>input\n  state</var>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-input-cancel-list\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-input-cancel-list-5\">input cancel list</a> in reverse order.\n\n </p>"
        },
        {
          "html": "<p><a href=\"https://www.w3.org/TR/webdriver2/#dfn-try\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-try-121\">Try</a> to <a href=\"https://www.w3.org/TR/webdriver2/#dfn-dispatch-actions\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-dispatch-actions-4\">dispatch actions</a> with <var>input state</var>,\n  <var>undo actions</var>, <a href=\"https://www.w3.org/TR/webdriver2/#dfn-current-browsing-context\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-current-browsing-context-86\">current browsing context</a>,\n  and <var>actions options</var>.\n\n\n </p>"
        },
        {
          "html": "<p><a href=\"https://www.w3.org/TR/webdriver2/#dfn-reset-the-input-state\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-reset-the-input-state-1\">Reset the input state</a> with <var>session</var>\n  and <var>session</var>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-current-top-level-browsing-context\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-current-top-level-browsing-context-66\">current top-level browsing context</a>.\n\n </p>"
        },
        {
          "html": "<p>Return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-success\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-success-116\">success</a> with data <a href=\"https://www.w3.org/TR/webdriver2/#dfn-null\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-null-74\"><code>null</code></a>.\n</p>"
        }
      ]
    },
    {
      "name": "get the active user prompt",
      "href": "https://www.w3.org/TR/webdriver2/#dfn-get-the-active-user-prompt",
      "html": "To <dfn id=\"dfn-get-the-active-user-prompt\" tabindex=\"0\" aria-haspopup=\"dialog\" data-dfn-type=\"dfn\">get the active user prompt</dfn> given <var>browsing context:\n\n</var>",
      "rationale": ".algorithm",
      "steps": [
        {
          "html": "<p>Let <var>agent</var> be <a href=\"https://www.w3.org/TR/webdriver2/#dfn-browsing-contexts\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-browsing-contexts-16\">browsing context</a>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-active-document\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-active-document-29\">active\n document</a>'s <a data-link-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/webappapis.html#relevant-agent\" id=\"ref-for-index-term-relevant-agent-1\">relevant agent</a>.\n\n </p>"
        },
        {
          "html": "<p>If <var>agent</var>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-event-loop\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-event-loop-2\">event loop</a> is not\n currently <a data-link-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/webappapis.html#pause\" id=\"ref-for-index-term-paused-1\">paused</a>, return null.\n\n </p>"
        },
        {
          "html": "<p>Return the <a href=\"https://www.w3.org/TR/webdriver2/#dfn-user-prompts\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-user-prompts-7\">user prompt</a> which handles the input required\n to meet the condition passed when <var>event loop</var>\n was <a data-link-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/webappapis.html#pause\" id=\"ref-for-index-term-paused-2\">paused</a>.\n</p>"
        }
      ]
    },
    {
      "name": "serialize a prompt handler configuration",
      "href": "https://www.w3.org/TR/webdriver2/#dfn-serialize-a-prompt-handler-configuration",
      "html": "To <dfn id=\"dfn-serialize-a-prompt-handler-configuration\" tabindex=\"0\" aria-haspopup=\"dialog\" data-dfn-type=\"dfn\">serialize a prompt handler configuration</dfn>\ngiven <var>configuration</var>:",
      "rationale": ".algorithm",
      "steps": [
        {
          "html": "<p>Let <var>serialized</var>\n be <var>configuration</var>'s <a data-link-type=\"dfn|abstract-op\" href=\"https://www.w3.org/TR/webdriver2/#dfn-handler\" class=\"internalDFN\" id=\"ref-for-dfn-handler-1\">handler</a>.\n\n </p>"
        },
        {
          "html": "<p>If «\"<code>dismiss</code>\", \"<code>accept</code>\"»\n <a data-link-type=\"dfn\" href=\"https://infra.spec.whatwg.org/#list-contain\" id=\"ref-for-index-term-contain-for-list-3\">contains</a> <var>serialized</var>,\n and <var>configuration</var>'s <a data-link-type=\"dfn|abstract-op\" href=\"https://www.w3.org/TR/webdriver2/#dfn-notify\" class=\"internalDFN\" id=\"ref-for-dfn-notify-1\">notify</a> is true, append \"<code> and notify</code>\"\n to <var>serialized</var>.\n\n </p>"
        },
        {
          "html": "<p>Return <var>serialized</var>.\n\n</p>"
        }
      ]
    },
    {
      "name": "deserialize as an unhandled prompt behavior",
      "href": "https://www.w3.org/TR/webdriver2/#dfn-deserialize-as-an-unhandled-prompt-behavior",
      "html": "To <dfn id=\"dfn-deserialize-as-an-unhandled-prompt-behavior\" tabindex=\"0\" aria-haspopup=\"dialog\" data-dfn-type=\"dfn\">deserialize as an unhandled prompt behavior</dfn> given\nargument <var>value</var>:",
      "rationale": ".algorithm",
      "steps": [
        {
          "html": "<p>Set <var>value to the result of <a href=\"https://www.w3.org/TR/webdriver2/#dfn-converting-a-json-derived-javascript-value-to-an-infra-value\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-converting-a-json-derived-javascript-value-to-an-infra-value-2\">converting a\n JSON-derived JavaScript value to an Infra value</a>\n with <var>value</var>.\n\n </var></p>"
        },
        {
          "html": "<p>If <var>value</var> is not a string, an implementation that\n does not also support [<cite><a class=\"bibref\" data-link-type=\"biblio\" href=\"https://www.w3.org/TR/webdriver2/#bib-webdriver-bidi\" title=\"WebDriver BiDi\">WebDriver-BiDi</a></cite>] may return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-255\">error</a>\n with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-229\">error code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-invalid-argument\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-invalid-argument-103\">invalid argument</a>.\n\n </p>"
        },
        {
          "html": "<p>Let <var>is string value</var> be false.\n\n </p>"
        },
        {
          "html": "<p>If <var>value</var> is a <a href=\"https://www.w3.org/TR/webdriver2/#dfn-string\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-string-18\">string</a> set <var>value</var> to\n the <a data-link-type=\"dfn\" href=\"https://infra.spec.whatwg.org/#ordered-map\" id=\"ref-for-index-term-map-6\">map</a> «[\"<code>fallbackDefault</code>\"\n → <var>value</var>]» and set <var>is string value</var> to true.\n\n </p>"
        },
        {
          "html": "<p>If <var>value</var> is not a <a data-link-type=\"dfn\" href=\"https://infra.spec.whatwg.org/#ordered-map\" id=\"ref-for-index-term-map-7\">map</a> return\n <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-256\">error</a> with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-230\">error code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-invalid-argument\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-invalid-argument-104\">invalid argument</a>.\n\n </p>"
        },
        {
          "html": "Let <var>user prompt handler</var> be an empty <a data-link-type=\"dfn\" href=\"https://infra.spec.whatwg.org/#ordered-map\" id=\"ref-for-index-term-map-8\">map</a>."
        },
        {
          "html": "For each <var>prompt type</var> → <var>handler</var> in <var>value</var>:",
          "rationale": "if",
          "steps": [
            {
              "html": "<p>If <var>is string value</var> is false and <a href=\"https://www.w3.org/TR/webdriver2/#dfn-valid-prompt-types\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-valid-prompt-types-1\">valid prompt\n   types</a> does not <a data-link-type=\"dfn\" href=\"https://infra.spec.whatwg.org/#map-exists\" id=\"ref-for-index-term-contains-for-map-6\">contain</a> <var>prompt type</var>\n   return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-257\">error</a> with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-231\">error code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-invalid-argument\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-invalid-argument-105\">invalid argument</a>.\n\n   </p>"
            },
            {
              "html": "<p>If <a href=\"https://www.w3.org/TR/webdriver2/#dfn-known-prompt-handlers\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-known-prompt-handlers-1\">known prompt handlers</a> does not contain an entry\n   with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-handler-key\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-handler-key-1\">handler key</a> <var>handler</var> return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-258\">error</a>\n   with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-232\">error code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-invalid-argument\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-invalid-argument-106\">invalid argument</a>.\n\n   </p>"
            },
            {
              "html": "<p>Let <var>notify</var> be false.\n\n   </p>"
            },
            {
              "html": "<p>If <var>handler</var> is \"<code>accept and notify</code>\",\n   set <var>handler<var> to \"<code>accept</code>\"\n   and <var>notify</var> to true.\n\n   </var></var></p>"
            },
            {
              "html": "<p>If <var>handler</var> is \"<code>dismiss and notify</code>\",\n   set <var>handler<var> to \"<code>dismiss</code>\"\n   and <var>notify</var> to true.\n\n   </var></var></p>"
            },
            {
              "html": "<p>If <var>handler</var> is \"<code>ignore</code>\",\n   set <var>notify</var> to true.\n\n   </p>"
            },
            {
              "html": "<p>Let <var>configuration</var> be a <a href=\"https://www.w3.org/TR/webdriver2/#dfn-prompt-handler-configuration\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-prompt-handler-configuration-2\">prompt handler\n   configuration</a> with <a data-link-type=\"dfn|abstract-op\" href=\"https://www.w3.org/TR/webdriver2/#dfn-handler\" class=\"internalDFN\" id=\"ref-for-dfn-handler-2\">handler</a> <var>handler</var> and <a data-link-type=\"dfn|abstract-op\" href=\"https://www.w3.org/TR/webdriver2/#dfn-notify\" class=\"internalDFN\" id=\"ref-for-dfn-notify-2\">notify</a> <var>notify</var>.\n\n   </p>"
            },
            {
              "html": "<p><a data-link-type=\"dfn\" href=\"https://infra.spec.whatwg.org/#map-set\" id=\"ref-for-index-term-set-for-map-1\">Set</a> <var>user prompt\n   handler</var>[<var>prompt type</var>] to <var>configuration</var>.\n\n  </p>"
            }
          ]
        },
        {
          "html": "<p>Return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-success\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-success-117\">success</a> with data <var>user prompt handler</var>.\n</p>"
        }
      ]
    },
    {
      "name": "check user prompt handler matches",
      "href": "https://www.w3.org/TR/webdriver2/#dfn-check-user-prompt-handler-matches",
      "html": "To <dfn id=\"dfn-check-user-prompt-handler-matches\" tabindex=\"0\" aria-haspopup=\"dialog\" data-dfn-type=\"dfn\">check user prompt handler matches</dfn>\ngiven <var>requested prompt handler</var>:",
      "rationale": ".algorithm",
      "steps": [
        {
          "html": "<p>If the <a href=\"https://www.w3.org/TR/webdriver2/#dfn-user-prompt-handler\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-user-prompt-handler-5\">user prompt handler</a> is null, return true.\n\n </p>"
        },
        {
          "html": "For each <var>request prompt type</var> → <var>request handler</var>\n in <var>requested prompt handler</var>:",
          "rationale": "if",
          "steps": [
            {
              "html": "If the <a href=\"https://www.w3.org/TR/webdriver2/#dfn-user-prompt-handler\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-user-prompt-handler-6\">user prompt handler</a>\n   <a data-link-type=\"dfn\" href=\"https://infra.spec.whatwg.org/#map-exists\" id=\"ref-for-index-term-contains-for-map-7\">contains</a> <var>request prompt type</var>:",
              "rationale": "if",
              "steps": [
                {
                  "html": "<p>If the <var>requested prompt handler</var>'s <a data-link-type=\"dfn|abstract-op\" href=\"https://www.w3.org/TR/webdriver2/#dfn-handler\" class=\"internalDFN\" id=\"ref-for-dfn-handler-3\">handler</a> is not equal to the <a href=\"https://www.w3.org/TR/webdriver2/#dfn-user-prompt-handler\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-user-prompt-handler-7\">user\n     prompt handler</a>'s <a data-link-type=\"dfn|abstract-op\" href=\"https://www.w3.org/TR/webdriver2/#dfn-handler\" class=\"internalDFN\" id=\"ref-for-dfn-handler-4\">handler</a>, return false.\n\n    </p>"
                }
              ]
            }
          ]
        },
        {
          "html": "Return true"
        }
      ]
    },
    {
      "name": "update the user prompt handler",
      "href": "https://www.w3.org/TR/webdriver2/#dfn-update-the-user-prompt-handler",
      "html": "To <dfn id=\"dfn-update-the-user-prompt-handler\" tabindex=\"0\" aria-haspopup=\"dialog\" data-dfn-type=\"dfn\">update the user prompt handler</dfn> given <var>requested prompt handler</var>:",
      "rationale": ".algorithm",
      "steps": [
        {
          "html": "<p>If the <a href=\"https://www.w3.org/TR/webdriver2/#dfn-user-prompt-handler\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-user-prompt-handler-8\">user prompt handler</a> is null, set the <a href=\"https://www.w3.org/TR/webdriver2/#dfn-user-prompt-handler\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-user-prompt-handler-9\">user prompt\n handler</a> to an empty map.\n\n </p>"
        },
        {
          "html": "For each <var>request prompt type</var> → <var>request handler</var>\n in <var>requested prompt handler</var>:",
          "rationale": "set",
          "steps": [
            {
              "html": "<p>Set <a href=\"https://www.w3.org/TR/webdriver2/#dfn-user-prompt-handler\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-user-prompt-handler-10\">user prompt handler</a>[<var>request prompt type</var>]\n   to <var>request handler</var>.\n  </p>"
            }
          ]
        }
      ]
    },
    {
      "name": "serialize the user prompt handler",
      "href": "https://www.w3.org/TR/webdriver2/#dfn-serialize-the-user-prompt-handler",
      "html": "To <dfn id=\"dfn-serialize-the-user-prompt-handler\" tabindex=\"0\" aria-haspopup=\"dialog\" data-dfn-type=\"dfn\">serialize the user prompt handler</dfn>:",
      "rationale": ".algorithm",
      "steps": [
        {
          "html": "<p>If the <a href=\"https://www.w3.org/TR/webdriver2/#dfn-user-prompt-handler\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-user-prompt-handler-11\">user prompt handler</a> is null, return\n \"<code>dismiss and notify</code>\".\n\n </p>"
        },
        {
          "html": "<p>If the <a href=\"https://www.w3.org/TR/webdriver2/#dfn-user-prompt-handler\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-user-prompt-handler-12\">user prompt handler</a> has <a data-link-type=\"dfn\" href=\"https://infra.spec.whatwg.org/#map-size\" id=\"ref-for-index-term-size-for-map-1\">size</a> 1,\n and <a href=\"https://www.w3.org/TR/webdriver2/#dfn-user-prompt-handler\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-user-prompt-handler-13\">user prompt handler</a> <a data-link-type=\"dfn\" href=\"https://infra.spec.whatwg.org/#list-contain\" id=\"ref-for-index-term-contain-for-list-4\">contains</a>\n \"<code>fallbackDefault</code>\", return the result of <a href=\"https://www.w3.org/TR/webdriver2/#dfn-serialize-a-prompt-handler-configuration\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-serialize-a-prompt-handler-configuration-1\">serialize a prompt\n handler configuration</a> with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-user-prompt-handler\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-user-prompt-handler-14\">user prompt\n handler</a>[\"<code>fallbackDefault</code>\"].\n\n </p>"
        },
        {
          "html": "<p>Let <var>serialized</var> be an empty <a data-link-type=\"dfn\" href=\"https://infra.spec.whatwg.org/#ordered-map\" id=\"ref-for-index-term-map-9\">map</a>.\n\n </p>"
        },
        {
          "html": "For each <var>key</var> → <code>value</code> of <a href=\"https://www.w3.org/TR/webdriver2/#dfn-user-prompt-handler\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-user-prompt-handler-15\">user prompt\n handler</a>:",
          "rationale": "set",
          "steps": [
            {
              "html": "<p>Set <var>serialized</var>[<var>key</var>] to <a href=\"https://www.w3.org/TR/webdriver2/#dfn-serialize-a-prompt-handler-configuration\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-serialize-a-prompt-handler-configuration-2\">serialize a prompt\n  handler configuration</a> with <var>value</var>.\n </p>"
            }
          ]
        },
        {
          "html": "<p>Return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-convert-an-infra-value-to-a-json-compatible-javascript-value\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-convert-an-infra-value-to-a-json-compatible-javascript-value-2\">convert an Infra value to a JSON-compatible\n JavaScript value</a> with <var>serialized</var>.\n</p>"
        }
      ]
    },
    {
      "name": "get the prompt handler",
      "href": "https://www.w3.org/TR/webdriver2/#dfn-get-the-prompt-handler",
      "html": "To <dfn class=\"export\" data-export=\"\" id=\"dfn-get-the-prompt-handler\" tabindex=\"0\" aria-haspopup=\"dialog\" data-dfn-type=\"dfn\">get the prompt handler</dfn> <var>type</var>:",
      "rationale": ".algorithm",
      "steps": [
        {
          "html": "<p>If the <a href=\"https://www.w3.org/TR/webdriver2/#dfn-user-prompt-handler\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-user-prompt-handler-16\">user prompt handler</a> is null,\n let <var>handlers</var> be an empty map. Otherwise\n let <var>handlers</var> be <a href=\"https://www.w3.org/TR/webdriver2/#dfn-user-prompt-handler\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-user-prompt-handler-17\">user prompt handler</a>.\n\n </p>"
        },
        {
          "html": "<p>If <var>handlers</var> contains <var>type</var>\n return <var>handlers</var>[<var>type</var>].\n\n </p>"
        },
        {
          "html": "<p>If <var>handlers</var> contains \"<code>default</code>\"\n return <var>handlers</var>[\"<code>default</code>\"].\n\n </p>"
        },
        {
          "html": "<p>If <var>type</var> is \"<code>beforeUnload</code>\", return a\n   <a href=\"https://www.w3.org/TR/webdriver2/#dfn-prompt-handler-configuration\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-prompt-handler-configuration-3\">prompt handler configuration</a> with <a data-link-type=\"dfn|abstract-op\" href=\"https://www.w3.org/TR/webdriver2/#dfn-handler\" class=\"internalDFN\" id=\"ref-for-dfn-handler-6\">handler</a> \"<code>accept</code>\"\n   and <a data-link-type=\"dfn|abstract-op\" href=\"https://www.w3.org/TR/webdriver2/#dfn-notify\" class=\"internalDFN\" id=\"ref-for-dfn-notify-5\">notify</a> false.\n\n </p>"
        },
        {
          "html": "<p>If <var>handlers</var> contains \"<code>fallbackDefault</code>\"\n return <var>handlers</var>[\"<code>fallbackDefault</code>\"].\n\n </p>"
        },
        {
          "html": "<p>Return a <a href=\"https://www.w3.org/TR/webdriver2/#dfn-prompt-handler-configuration\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-prompt-handler-configuration-4\">prompt handler\n   configuration</a> with <a data-link-type=\"dfn|abstract-op\" href=\"https://www.w3.org/TR/webdriver2/#dfn-handler\" class=\"internalDFN\" id=\"ref-for-dfn-handler-7\">handler</a> \"<code>dismiss</code>\" and <a data-link-type=\"dfn|abstract-op\" href=\"https://www.w3.org/TR/webdriver2/#dfn-notify\" class=\"internalDFN\" id=\"ref-for-dfn-notify-6\">notify</a> true.\n</p>"
        }
      ]
    },
    {
      "name": "handle any user prompts",
      "href": "https://www.w3.org/TR/webdriver2/#dfn-handle-any-user-prompts",
      "html": "To <dfn id=\"dfn-handle-any-user-prompts\" tabindex=\"0\" aria-haspopup=\"dialog\" data-dfn-type=\"dfn\">handle any user prompts</dfn>:",
      "rationale": ".algorithm",
      "steps": [
        {
          "html": "<p>If the <a href=\"https://www.w3.org/TR/webdriver2/#dfn-current-browsing-context\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-current-browsing-context-88\">current browsing context</a> is not blocked by\n a dialog return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-success\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-success-118\">success</a>.\n\n </p>"
        },
        {
          "html": "<p>Let <var>type</var> be \"<code>default</code>\".\n\n </p>"
        },
        {
          "html": "<p>If the <a href=\"https://www.w3.org/TR/webdriver2/#dfn-current-user-prompt\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-current-user-prompt-2\">current user prompt</a> is an alert dialog,\n set <var>type</var> to \"<code>alert</code>\". Otherwise, if\n the <a href=\"https://www.w3.org/TR/webdriver2/#dfn-current-user-prompt\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-current-user-prompt-3\">current user prompt</a> is a beforeunload dialog,\n set <var>type</var> to \"<code>beforeUnload</code>\". Otherwise, if\n the <a href=\"https://www.w3.org/TR/webdriver2/#dfn-current-user-prompt\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-current-user-prompt-4\">current user prompt</a> is a confirm dialog,\n set <var>type</var> to \"<code>confirm</code>\". Otherwise, if\n the <a href=\"https://www.w3.org/TR/webdriver2/#dfn-current-user-prompt\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-current-user-prompt-5\">current user prompt</a> is a prompt dialog,\n set <var>type</var> to \"<code>prompt</code>\".\n\n \n\n </p>"
        },
        {
          "html": "<p>Let <var>handler</var> be <a href=\"https://www.w3.org/TR/webdriver2/#dfn-get-the-prompt-handler\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-get-the-prompt-handler-1\">get the prompt handler</a>\n with <var>type</var>.\n\n </p>"
        },
        {
          "html": "Perform the following substeps based\n on <var>handler</var>'s <a data-link-type=\"dfn|abstract-op\" href=\"https://www.w3.org/TR/webdriver2/#dfn-handler\" class=\"internalDFN\" id=\"ref-for-dfn-handler-8\">handler</a>:",
          "rationale": ".switch",
          "steps": [
            {
              "operation": "switch",
              "steps": [
                {
                  "case": "\"accept\"",
                  "html": "<p><a href=\"https://www.w3.org/TR/webdriver2/#dfn-accepting\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-accepting-4\">Accept</a> the <a href=\"https://www.w3.org/TR/webdriver2/#dfn-current-user-prompt\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-current-user-prompt-6\">current user prompt</a>.\n\n </p>"
                },
                {
                  "case": "\"dismiss\"",
                  "html": "<p><a href=\"https://www.w3.org/TR/webdriver2/#dfn-dismissed\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-dismissed-3\">Dismiss</a> the <a href=\"https://www.w3.org/TR/webdriver2/#dfn-current-user-prompt\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-current-user-prompt-7\">current user prompt</a>.\n\n </p>"
                },
                {
                  "case": "\"ignore\"",
                  "html": "<p>Do nothing.\n</p>"
                }
              ]
            }
          ]
        },
        {
          "html": "<p>If <var>handler</var>'s <a data-link-type=\"dfn|abstract-op\" href=\"https://www.w3.org/TR/webdriver2/#dfn-notify\" class=\"internalDFN\" id=\"ref-for-dfn-notify-7\">notify</a>\nis true, return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-annotated-unexpected-alert-open-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-annotated-unexpected-alert-open-error-1\">annotated unexpected alert open error</a>.\n\n</p>"
        },
        {
          "html": "<p>Return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-success\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-success-119\">success</a>.\n</p>"
        }
      ]
    },
    {
      "html": "The <a href=\"https://www.w3.org/TR/webdriver2/#dfn-remote-end-steps\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-remote-end-steps-61\">remote end steps</a>, given <var>session</var>, <var>URL\nvariables</var> and <var>parameters</var> are:",
      "rationale": "if",
      "steps": [
        {
          "html": "<p>If <var>session</var>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-current-top-level-browsing-context\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-current-top-level-browsing-context-68\">current top-level browsing\n  context</a> is <a href=\"https://www.w3.org/TR/webdriver2/#dfn-no-longer-open\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-no-longer-open-53\">no longer open</a>, return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-261\">error</a>\n  with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-234\">error code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-no-such-window\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-no-such-window-54\">no such window</a>.\n\n </p>"
        },
        {
          "html": "<p>If the <a href=\"https://www.w3.org/TR/webdriver2/#dfn-current-user-prompt\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-current-user-prompt-9\">current user prompt</a> is null,\n  return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-262\">error</a> with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-235\">error code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-no-such-alert\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-no-such-alert-1\">no such alert</a>.\n\n </p>"
        },
        {
          "html": "<p><a href=\"https://www.w3.org/TR/webdriver2/#dfn-dismissed\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-dismissed-6\">Dismiss</a> the <a href=\"https://www.w3.org/TR/webdriver2/#dfn-current-user-prompt\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-current-user-prompt-10\">current user prompt</a>.\n\n </p>"
        },
        {
          "html": "<p>Return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-success\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-success-120\">success</a> with data <a href=\"https://www.w3.org/TR/webdriver2/#dfn-null\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-null-76\"><code>null</code></a>.\n</p>"
        }
      ]
    },
    {
      "html": "The <a href=\"https://www.w3.org/TR/webdriver2/#dfn-remote-end-steps\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-remote-end-steps-62\">remote end steps</a>, given <var>session</var>, <var>URL\nvariables</var> and <var>parameters</var> are:",
      "rationale": "if",
      "steps": [
        {
          "html": "<p>If <var>session</var>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-current-top-level-browsing-context\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-current-top-level-browsing-context-69\">current top-level browsing\n  context</a> is <a href=\"https://www.w3.org/TR/webdriver2/#dfn-no-longer-open\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-no-longer-open-54\">no longer open</a>, return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-263\">error</a>\n  with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-236\">error code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-no-such-window\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-no-such-window-55\">no such window</a>.\n\n </p>"
        },
        {
          "html": "<p>If the <a href=\"https://www.w3.org/TR/webdriver2/#dfn-current-user-prompt\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-current-user-prompt-11\">current user prompt</a> is null,\n  return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-264\">error</a> with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-237\">error code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-no-such-alert\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-no-such-alert-2\">no such alert</a>.\n\n </p>"
        },
        {
          "html": "<p><a href=\"https://www.w3.org/TR/webdriver2/#dfn-accepting\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-accepting-6\">Accept</a> the <a href=\"https://www.w3.org/TR/webdriver2/#dfn-current-user-prompt\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-current-user-prompt-12\">current user prompt</a>.\n\n </p>"
        },
        {
          "html": "<p>Return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-success\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-success-121\">success</a> with data <a href=\"https://www.w3.org/TR/webdriver2/#dfn-null\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-null-77\"><code>null</code></a>.\n</p>"
        }
      ]
    },
    {
      "html": "The <a href=\"https://www.w3.org/TR/webdriver2/#dfn-remote-end-steps\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-remote-end-steps-63\">remote end steps</a>, given <var>session</var>, <var>URL\nvariables</var> and <var>parameters</var> are:",
      "rationale": "if",
      "steps": [
        {
          "html": "<p>If <var>session</var>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-current-top-level-browsing-context\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-current-top-level-browsing-context-70\">current top-level browsing\n  context</a> is <a href=\"https://www.w3.org/TR/webdriver2/#dfn-no-longer-open\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-no-longer-open-55\">no longer open</a>, return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-265\">error</a>\n  with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-238\">error code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-no-such-window\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-no-such-window-56\">no such window</a>.\n\n </p>"
        },
        {
          "html": "<p>If the <a href=\"https://www.w3.org/TR/webdriver2/#dfn-current-user-prompt\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-current-user-prompt-13\">current user prompt</a> is null,\n  return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-266\">error</a> with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-239\">error code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-no-such-alert\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-no-such-alert-3\">no such alert</a>.\n\n </p>"
        },
        {
          "html": "<p>Let <var>message</var> be the text message\n  associated with the <a href=\"https://www.w3.org/TR/webdriver2/#dfn-current-user-prompt\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-current-user-prompt-14\">current user prompt</a>,\n  or otherwise be <a href=\"https://www.w3.org/TR/webdriver2/#dfn-null\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-null-78\"><code>null</code></a>.\n\n </p>"
        },
        {
          "html": "<p>Return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-success\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-success-122\">success</a> with data <var>message</var>.\n</p>"
        }
      ]
    },
    {
      "html": "The <a href=\"https://www.w3.org/TR/webdriver2/#dfn-remote-end-steps\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-remote-end-steps-64\">remote end steps</a>, given <var>session</var>, <var>URL\nvariables</var> and <var>parameters</var> are:",
      "rationale": "let",
      "steps": [
        {
          "html": "<p>Let <var>text</var> be the result of\n  <a href=\"https://www.w3.org/TR/webdriver2/#dfn-getting-properties\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-getting-properties-63\">getting the property</a> \"<code>text</code>\"\n  from <var>parameters</var>.\n\n </p>"
        },
        {
          "html": "<p>If <var>text</var> is not a <a href=\"https://www.w3.org/TR/webdriver2/#dfn-string\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-string-19\">String</a>,\n  return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-267\">error</a> with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-240\">error code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-invalid-argument\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-invalid-argument-107\">invalid argument</a>.\n\n </p>"
        },
        {
          "html": "<p>If <var>session</var>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-current-top-level-browsing-context\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-current-top-level-browsing-context-71\">current top-level browsing\n  context</a> is <a href=\"https://www.w3.org/TR/webdriver2/#dfn-no-longer-open\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-no-longer-open-56\">no longer open</a>, return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-268\">error</a>\n  with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-241\">error code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-no-such-window\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-no-such-window-57\">no such window</a>.\n\n </p>"
        },
        {
          "html": "<p>If the <a href=\"https://www.w3.org/TR/webdriver2/#dfn-current-user-prompt\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-current-user-prompt-15\">current user prompt</a> is null,\n  return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-269\">error</a> with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-242\">error code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-no-such-alert\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-no-such-alert-4\">no such alert</a>.\n\n </p>"
        },
        {
          "html": "Run the substeps for the API that created the <a href=\"https://www.w3.org/TR/webdriver2/#dfn-current-user-prompt\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-current-user-prompt-16\">current user\n prompt</a>:",
          "rationale": ".switch",
          "steps": [
            {
              "operation": "switch",
              "steps": [
                {
                  "case": "window.alert",
                  "html": "<p>Return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-270\">error</a> with\n    <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-243\">error code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-element-not-interactable\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-element-not-interactable-8\">element not interactable</a>.\n\n   </p>"
                },
                {
                  "case": "window.confirm",
                  "html": "<p>Return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-270\">error</a> with\n    <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-243\">error code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-element-not-interactable\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-element-not-interactable-8\">element not interactable</a>.\n\n   </p>"
                },
                {
                  "case": "window.prompt",
                  "html": "<p>Do nothing.\n\n   </p>"
                },
                {
                  "case": "Otherwise",
                  "html": "<p>Return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-271\">error</a> with\n    <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-244\">error code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-unsupported-operation\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-unsupported-operation-7\">unsupported operation</a>.\n  </p>"
                }
              ]
            }
          ]
        },
        {
          "html": "<p>Perform user agent dependent steps\n  to set the value of <a href=\"https://www.w3.org/TR/webdriver2/#dfn-current-user-prompt\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-current-user-prompt-17\">current user prompt</a>'s text field\n  to <var>text</var>.\n\n </p>"
        },
        {
          "html": "<p>Return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-success\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-success-123\">success</a> with data <a href=\"https://www.w3.org/TR/webdriver2/#dfn-null\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-null-79\"><code>null</code></a>.\n</p>"
        }
      ]
    },
    {
      "name": "draw a bounding box from the framebuffer",
      "href": "https://www.w3.org/TR/webdriver2/#dfn-draw-a-bounding-box-from-the-framebuffer",
      "html": "In order to <dfn id=\"dfn-draw-a-bounding-box-from-the-framebuffer\" tabindex=\"0\" aria-haspopup=\"dialog\" data-dfn-type=\"dfn\">draw a bounding box from the framebuffer</dfn>,\n given a <a href=\"https://www.w3.org/TR/webdriver2/#dfn-bounding-rectangle\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-bounding-rectangle-5\">rectangle</a>:",
      "rationale": "if",
      "steps": [
        {
          "html": "<p>If either the <a href=\"https://www.w3.org/TR/webdriver2/#dfn-viewport\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-viewport-6\">initial viewport</a>'s width or height\n  is 0 <a href=\"https://www.w3.org/TR/webdriver2/#dfn-css-pixels\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-css-pixels-11\">CSS pixels</a>,\n  return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-272\">error</a> with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-245\">error code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-unable-to-capture-screen\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-unable-to-capture-screen-1\">unable to capture screen</a>.\n\n </p>"
        },
        {
          "html": "<p>Let <var>paint width</var> be the <a href=\"https://www.w3.org/TR/webdriver2/#dfn-viewport\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-viewport-7\">initial viewport</a>'s width –\n  <a href=\"https://www.w3.org/TR/webdriver2/#dfn-min\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-min-5\">min</a>(<a href=\"https://www.w3.org/TR/webdriver2/#dfn-x-coordinate\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-x-coordinate-6\">rectangle x coordinate</a>,\n  <a href=\"https://www.w3.org/TR/webdriver2/#dfn-x-coordinate\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-x-coordinate-7\">rectangle x coordinate</a> + <a href=\"https://www.w3.org/TR/webdriver2/#dfn-width-dimension\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-width-dimension-4\">rectangle width dimension</a>).\n\n </p>"
        },
        {
          "html": "<p>Let <var>paint height</var> be the <a href=\"https://www.w3.org/TR/webdriver2/#dfn-viewport\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-viewport-8\">initial viewport</a>'s height –\n  <a href=\"https://www.w3.org/TR/webdriver2/#dfn-min\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-min-6\">min</a>(<a href=\"https://www.w3.org/TR/webdriver2/#dfn-y-coordinate\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-y-coordinate-6\">rectangle y coordinate</a>,\n  <a href=\"https://www.w3.org/TR/webdriver2/#dfn-y-coordinate\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-y-coordinate-7\">rectangle y coordinate</a> + <a href=\"https://www.w3.org/TR/webdriver2/#dfn-height-dimension\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-height-dimension-4\">rectangle height dimension</a>).\n\n </p>"
        },
        {
          "html": "<p>Let <var>canvas</var> be a new <code><a data-link-type=\"element\" href=\"https://html.spec.whatwg.org/multipage/canvas.html#canvas\" id=\"ref-for-index-term-canvas-element-1\">canvas</a></code> element,\n  and set its <code><a data-link-type=\"element-attr\" href=\"https://html.spec.whatwg.org/multipage/canvas.html#attr-canvas-width\" id=\"ref-for-index-term-width-attribute-for-canvas-element-1\">width</a></code>\n  and <code><a data-link-type=\"element-attr\" href=\"https://html.spec.whatwg.org/multipage/canvas.html#attr-canvas-height\" id=\"ref-for-index-term-height-attribute-for-canvas-element-1\">height</a></code>\n  to <var>paint width</var> and <var>paint height</var>, respectively.\n\n </p>"
        },
        {
          "html": "<p>Let <var>context</var>, a <a href=\"https://www.w3.org/TR/webdriver2/#dfn-canvas-context-mode\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-canvas-context-mode-1\">canvas context mode</a>,\n  be the result of invoking the <a href=\"https://www.w3.org/TR/webdriver2/#dfn-2d-context-creation-algorithm\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-2d-context-creation-algorithm-1\">2D context creation algorithm</a>\n  given <var>canvas</var> as the target.\n\n </p>"
        },
        {
          "html": "<p>Complete implementation specific steps equivalent to\n  drawing the region of the framebuffer\n  specified by the following coordinates onto <var>context</var>:\n\n  </p><dl>\n   <dt>X coordinate\n   </dt><dd><a href=\"https://www.w3.org/TR/webdriver2/#dfn-x-coordinate\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-x-coordinate-8\">rectangle x coordinate</a>\n\n   </dd><dt>Y coordinate\n   </dt><dd><a href=\"https://www.w3.org/TR/webdriver2/#dfn-y-coordinate\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-y-coordinate-8\">rectangle y coordinate</a>\n\n   </dd><dt>Width\n   </dt><dd><var>paint width</var>\n\n   </dd><dt>Height\n   </dt><dd><var>paint height</var>\n  </dd></dl>"
        },
        {
          "html": "<p>Return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-success\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-success-124\">success</a> with <var>canvas</var>.\n</p>"
        }
      ]
    },
    {
      "name": "encoding a canvas as base64",
      "href": "https://www.w3.org/TR/webdriver2/#dfn-encoding-a-canvas-as-base64",
      "html": "To <dfn data-lt=\"encoding a canvas as base64|encode a canvas as Base64 a canvas element\" id=\"dfn-encoding-a-canvas-as-base64\" tabindex=\"0\" aria-haspopup=\"dialog\" data-dfn-type=\"dfn\">encode a canvas as\n Base64 a <code>canvas</code> <a data-link-type=\"dfn\" href=\"https://dom.spec.whatwg.org/#concept-element\" id=\"ref-for-index-term-element-43\">element</a></dfn>:",
      "rationale": "if",
      "steps": [
        {
          "html": "<p>If the <code><a data-link-type=\"element\" href=\"https://html.spec.whatwg.org/multipage/canvas.html#canvas\" id=\"ref-for-index-term-canvas-element-2\">canvas</a></code> element's bitmap's\n  <a href=\"https://www.w3.org/TR/webdriver2/#dfn-origin-clean\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-origin-clean-1\">origin-clean</a> flag is set to false,\n  return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-273\">error</a> with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-246\">error code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-unable-to-capture-screen\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-unable-to-capture-screen-2\">unable to capture screen</a>.\n\n </p>"
        },
        {
          "html": "<p>If the <code><a data-link-type=\"element\" href=\"https://html.spec.whatwg.org/multipage/canvas.html#canvas\" id=\"ref-for-index-term-canvas-element-3\">canvas</a></code> element's bitmap\n  has no pixels (i.e. either its horizontal dimension or vertical dimension is zero)\n  then return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-274\">error</a> with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-247\">error code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-unable-to-capture-screen\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-unable-to-capture-screen-3\">unable to capture screen</a>.\n\n </p>"
        },
        {
          "html": "<p>Let <var>file</var> be\n  <a data-link-type=\"dfn|abstract-op\" data-lt=\"a serialization of the bitmap as a file\" href=\"https://www.w3.org/TR/webdriver2/#dfn-a-serialization-of-the-bitmap-as-a-file\" class=\"internalDFN\" id=\"ref-for-dfn-a-serialization-of-the-bitmap-as-a-file-1\">a serialization of the <code>canvas</code> element's bitmap as a file</a>,\n  using \"<code>image/png</code>\" as an argument.\n\n </p>"
        },
        {
          "html": "<p>Let <var>data URL</var> be a <a href=\"https://www.w3.org/TR/webdriver2/#dfn-data-url\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-data-url-1\"><code>data:</code> URL</a>\n  representing <var>file</var>. [<cite><a class=\"bibref\" data-link-type=\"biblio\" href=\"https://www.w3.org/TR/webdriver2/#bib-rfc2397\" title=\"The &quot;data&quot; URL scheme\">RFC2397</a></cite>]\n\n </p>"
        },
        {
          "html": "<p>Let <var>index</var> be the <a href=\"https://www.w3.org/TR/webdriver2/#dfn-index-of\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-index-of-1\">index of</a> \"<code>,</code>\"\n  in <var>data URL</var>.\n\n </p>"
        },
        {
          "html": "<p>Let <var>encoded string</var> be a <a href=\"https://www.w3.org/TR/webdriver2/#dfn-substring\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-substring-1\">substring</a>\n  of <var>data URL</var> using (<var>index</var> + 1) as the <i>start</i> argument.\n\n </p>"
        },
        {
          "html": "<p>Return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-success\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-success-125\">success</a> with data <var>encoded string</var>.\n</p>"
        }
      ]
    },
    {
      "html": "The <a href=\"https://www.w3.org/TR/webdriver2/#dfn-remote-end-steps\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-remote-end-steps-65\">remote end steps</a>, given <var>session</var>, <var>URL\nvariables</var> and <var>parameters</var> are:",
      "rationale": "if",
      "steps": [
        {
          "html": "<p>If <var>session</var>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-current-top-level-browsing-context\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-current-top-level-browsing-context-72\">current top-level browsing\n  context</a> is <a href=\"https://www.w3.org/TR/webdriver2/#dfn-no-longer-open\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-no-longer-open-57\">no longer open</a>, return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-275\">error</a>\n  with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-248\">error code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-no-such-window\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-no-such-window-58\">no such window</a>.\n\n </p>"
        },
        {
          "html": "When the user agent is next to <a href=\"https://www.w3.org/TR/webdriver2/#dfn-run-the-animation-frame-callbacks\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-run-the-animation-frame-callbacks-1\">run the animation frame callbacks</a>:",
          "rationale": "let",
          "steps": [
            {
              "html": "<p>Let <var>root rect</var> be <var>session</var>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-current-top-level-browsing-context\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-current-top-level-browsing-context-73\">current\n   top-level browsing context</a>'s\n    <a data-link-type=\"dfn\" href=\"https://dom.spec.whatwg.org/#document-element\" id=\"ref-for-index-term-document-element-10\">document element</a>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-bounding-rectangle\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-bounding-rectangle-6\">rectangle</a>.\n\n   </p>"
            },
            {
              "html": "<p>Let <var>screenshot result</var> be the result of <a href=\"https://www.w3.org/TR/webdriver2/#dfn-try\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-try-122\">trying</a> to call\n    <a href=\"https://www.w3.org/TR/webdriver2/#dfn-draw-a-bounding-box-from-the-framebuffer\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-draw-a-bounding-box-from-the-framebuffer-1\">draw a bounding box from the framebuffer</a>,\n    given <var>root rect</var> as an argument.\n\n   </p>"
            },
            {
              "html": "<p>Let <var>canvas</var> be a <code><a data-link-type=\"element\" href=\"https://html.spec.whatwg.org/multipage/canvas.html#canvas\" id=\"ref-for-index-term-canvas-element-4\">canvas</a></code> element\n    of <var>screenshot result</var>'s data.\n\n   </p>"
            },
            {
              "html": "<p>Let <var>encoding result</var> be the result of <a href=\"https://www.w3.org/TR/webdriver2/#dfn-try\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-try-123\">trying</a>\n    <a href=\"https://www.w3.org/TR/webdriver2/#dfn-encoding-a-canvas-as-base64\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-encoding-a-canvas-as-base64-1\">encoding a canvas as Base64</a> <var>canvas</var>.\n\n   </p>"
            },
            {
              "html": "<p>Let <var>encoded string</var> be <var>encoding result</var>'s data.\n  </p>"
            }
          ]
        },
        {
          "html": "<p>Return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-success\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-success-126\">success</a> with data <var>encoded string</var>.\n</p>"
        }
      ]
    },
    {
      "html": "The <a href=\"https://www.w3.org/TR/webdriver2/#dfn-remote-end-steps\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-remote-end-steps-66\">remote end steps</a>, given <var>session</var>, <var>URL\nvariables</var> and <var>parameters</var> are:",
      "rationale": "if",
      "steps": [
        {
          "html": "<p>If <var>session</var>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-current-browsing-context\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-current-browsing-context-89\">current browsing context</a>\n  is <a href=\"https://www.w3.org/TR/webdriver2/#dfn-no-longer-open\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-no-longer-open-58\">no longer open</a>, return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-276\">error</a> with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-249\">error\n  code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-no-such-window\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-no-such-window-59\">no such window</a>.\n\n </p>"
        },
        {
          "html": "<p><a href=\"https://www.w3.org/TR/webdriver2/#dfn-try\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-try-124\">Try</a> to <a href=\"https://www.w3.org/TR/webdriver2/#dfn-handle-any-user-prompts\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-handle-any-user-prompts-51\">handle any user prompts</a>\n with <var>session</var>.\n\n </p>"
        },
        {
          "html": "<p>Let <var>element</var> be the result of\n  <a href=\"https://www.w3.org/TR/webdriver2/#dfn-try\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-try-125\">trying</a> to <a href=\"https://www.w3.org/TR/webdriver2/#dfn-get-a-known-element\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-get-a-known-element-20\">get a known element</a> with <var>session</var>\n  and <var>URL variables</var>[\"<code>element id</code>\"].\n\n</p>"
        },
        {
          "html": "<p><a href=\"https://www.w3.org/TR/webdriver2/#dfn-scrolls-into-view\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-scrolls-into-view-8\">Scroll into view</a> the <var>element</var>.\n\n </p>"
        },
        {
          "html": "When the user agent is next to <a href=\"https://www.w3.org/TR/webdriver2/#dfn-run-the-animation-frame-callbacks\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-run-the-animation-frame-callbacks-2\">run the animation frame callbacks</a>:",
          "rationale": "let",
          "steps": [
            {
              "html": "<p>Let <var>element rect</var> be <var>element</var>'s\n    <a href=\"https://drafts.fxtf.org/geometry/#rectangle\">rectangle</a>.\n\n   </p>"
            },
            {
              "html": "<p>Let <var>screenshot result</var> be the result\n    of <a href=\"https://www.w3.org/TR/webdriver2/#dfn-try\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-try-126\">trying</a> to call\n    <a href=\"https://www.w3.org/TR/webdriver2/#dfn-draw-a-bounding-box-from-the-framebuffer\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-draw-a-bounding-box-from-the-framebuffer-2\">draw a bounding box from the framebuffer</a>,\n    given <var>element rect</var> as an argument.\n\n   </p>"
            },
            {
              "html": "<p>Let <var>canvas</var> be a <code><a data-link-type=\"element\" href=\"https://html.spec.whatwg.org/multipage/canvas.html#canvas\" id=\"ref-for-index-term-canvas-element-5\">canvas</a></code> element\n    of <var>screenshot result</var>'s data.\n\n   </p>"
            },
            {
              "html": "<p>Let <var>encoding result</var> be the result of <a href=\"https://www.w3.org/TR/webdriver2/#dfn-try\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-try-127\">trying</a>\n    <a href=\"https://www.w3.org/TR/webdriver2/#dfn-encoding-a-canvas-as-base64\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-encoding-a-canvas-as-base64-2\">encoding a canvas as Base64</a> <var>canvas</var>.\n\n   </p>"
            },
            {
              "html": "<p>Let <var>encoded string</var> be <var>encoding result</var>'s data.\n  </p>"
            }
          ]
        },
        {
          "html": "<p>Return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-success\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-success-127\">success</a> with data <var>encoded string</var>.\n</p>"
        }
      ]
    },
    {
      "name": "parse a page range",
      "href": "https://www.w3.org/TR/webdriver2/#dfn-parse-a-page-range",
      "html": "When required to <dfn id=\"dfn-parse-a-page-range\" tabindex=\"0\" aria-haspopup=\"dialog\" data-dfn-type=\"dfn\">parse a page range</dfn> with\narguments <var>pageRanges</var> and <var>totalPages</var>, an\nimplementation must:",
      "rationale": "let",
      "steps": [
        {
          "html": "Let <var>pages</var> be an empty <a data-link-type=\"dfn\" href=\"https://infra.spec.whatwg.org/#ordered-set\" id=\"ref-for-index-term-set-2\">Set</a>"
        },
        {
          "html": "For each <var>range</var> in <var>pageRanges</var>, run the\n  following steps:",
          "rationale": "if",
          "steps": [
            {
              "html": "If <var>range</var> is not either a <a href=\"https://www.w3.org/TR/webdriver2/#dfn-number\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-number-20\">Number</a> or\n      a <a href=\"https://www.w3.org/TR/webdriver2/#dfn-string\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-string-20\">String</a>, return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-277\">error</a> with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-250\">error\n      code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-invalid-argument\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-invalid-argument-108\">invalid argument</a>."
            },
            {
              "html": "If <var>range</var> is a <a href=\"https://www.w3.org/TR/webdriver2/#dfn-number\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-number-21\">Number</a>:",
              "rationale": "if",
              "steps": [
                {
                  "html": "If <var>range</var> is not an integer or is less than 0,\n      return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-278\">error</a> with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-251\">error code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-invalid-argument\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-invalid-argument-109\">invalid\n      argument</a>"
                },
                {
                  "html": "Append <var>range</var> to <var>pages</var>"
                }
              ],
              "additional": [
                {
                  "html": "Otherwise:",
                  "rationale": "let",
                  "steps": [
                    {
                      "html": "Let <var>rangeParts</var> be the result of\n          splitting <var>range</var> on a \"<code>-</code>\" character."
                    },
                    {
                      "html": "If <var>rangeParts</var> has fewer than 1 or more than 2\n          elements, return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-279\">error</a> with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-252\">error code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-invalid-argument\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-invalid-argument-110\">invalid\n          argument</a>."
                    },
                    {
                      "html": "Otherwise:",
                      "rationale": "if",
                      "steps": [
                        {
                          "html": "If the first element of <var>rangeParts</var>\n                  is <a href=\"https://www.w3.org/TR/webdriver2/#dfn-equivalent-to-an-empty-string\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-equivalent-to-an-empty-string-1\">equivalent to an empty string</a>,\n                  let <var>lowerBound</var>\n                  be <code>1</code>. Otherwise\n                  let <var>lowerBound</var> be the result\n                  of <a href=\"https://www.w3.org/TR/webdriver2/#dfn-try\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-try-129\">trying</a> to <a href=\"https://www.w3.org/TR/webdriver2/#dfn-parse-as-an-integer\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-parse-as-an-integer-2\">parse as an integer</a> the\n                  first element of <var>rangeParts</var>."
                        },
                        {
                          "html": "If the second element of <var>rangeParts</var>\n                  is <a href=\"https://www.w3.org/TR/webdriver2/#dfn-equivalent-to-an-empty-string\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-equivalent-to-an-empty-string-2\">equivalent to an empty string</a>\n                  let <var>upperBound</var>\n                  be <var>totalPages</var>. Otherwise\n                  let <var>upperBound</var> be the result\n                  of <a href=\"https://www.w3.org/TR/webdriver2/#dfn-try\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-try-130\">trying</a> to <a href=\"https://www.w3.org/TR/webdriver2/#dfn-parse-as-an-integer\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-parse-as-an-integer-3\">parse as an integer</a> the\n                  second element of <var>rangeParts</var>."
                        },
                        {
                          "html": "If <var>lowerBound</var> is greater\n                than <var>upperBound</var>, return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-280\">error</a>\n                with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-253\">error code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-invalid-argument\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-invalid-argument-111\">invalid argument</a>."
                        },
                        {
                          "html": "Append all integers in the inclusive\n                range <var>lowerBound</var> to <var>upperBound</var>\n                to <var>pages</var>"
                        }
                      ]
                    }
                  ]
                }
              ]
            },
            {
              "html": "Return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-success\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-success-128\">success</a> with data <var>pages</var>."
            }
          ]
        }
      ]
    },
    {
      "name": "parse as an integer",
      "href": "https://www.w3.org/TR/webdriver2/#dfn-parse-as-an-integer",
      "html": "When required to <dfn id=\"dfn-parse-as-an-integer\" tabindex=\"0\" aria-haspopup=\"dialog\" data-dfn-type=\"dfn\">parse as an integer</dfn> with\nargument <var>input</var> an implementation must:",
      "rationale": "let",
      "steps": [
        {
          "html": "Let <var>stripped</var> be the result of stripping all leading\n  and trailing <a href=\"https://www.w3.org/TR/webdriver2/#dfn-whitespace\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-whitespace-3\">whitespace</a> characters from <var>input</var>."
        },
        {
          "html": "If <var>stripped</var> has zero length, return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-281\">error</a> with\n  status <a href=\"https://www.w3.org/TR/webdriver2/#dfn-invalid-argument\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-invalid-argument-112\">invalid argument</a>."
        },
        {
          "html": "If <var>stripped</var> contains any characters outside the\n  range <code>U+0030</code> - <code>U+0039</code> (i.e. 0 - 9)\n  inclusive, return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-282\">error</a> with status <a href=\"https://www.w3.org/TR/webdriver2/#dfn-invalid-argument\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-invalid-argument-113\">invalid argument</a>."
        },
        {
          "html": "Let <var>output</var> be the result of calling <a href=\"https://www.w3.org/TR/webdriver2/#dfn-parseint\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-parseint-1\">parseInt</a>\n  with string <var>stripped</var> and radix <code>10</code>."
        },
        {
          "html": "Return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-success\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-success-129\">success</a> with data <var>output</var>."
        }
      ]
    },
    {
      "html": "The <a href=\"https://www.w3.org/TR/webdriver2/#dfn-remote-end-steps\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-remote-end-steps-67\">remote end steps</a>, given <var>session</var>, <var>URL\nvariables</var> and <var>parameters</var> are:",
      "rationale": "if",
      "steps": [
        {
          "html": "<p>If <var>session</var>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-current-top-level-browsing-context\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-current-top-level-browsing-context-74\">current top-level browsing\n  context</a> is <a href=\"https://www.w3.org/TR/webdriver2/#dfn-no-longer-open\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-no-longer-open-59\">no longer open</a>, return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-283\">error</a>\n  with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-254\">error code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-no-such-window\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-no-such-window-60\">no such window</a>.\n\n </p>"
        },
        {
          "html": "<p><a href=\"https://www.w3.org/TR/webdriver2/#dfn-try\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-try-131\">Try</a> to <a href=\"https://www.w3.org/TR/webdriver2/#dfn-handle-any-user-prompts\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-handle-any-user-prompts-52\">handle any user prompts</a>\n with <var>session</var>.\n\n </p>"
        },
        {
          "html": "<p>Let <var>orientation</var> be the result of <a href=\"https://www.w3.org/TR/webdriver2/#dfn-getting-the-property-with-default\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-getting-the-property-with-default-1\">getting a\n  property with default</a> named \"<code>orientation</code>\" and with\n  default \"<code>portrait</code>\" from <var>parameters</var>.\n\n </p>"
        },
        {
          "html": "<p>If <var>orientation</var> is not a <a href=\"https://www.w3.org/TR/webdriver2/#dfn-string\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-string-22\">String</a> or does not\n have one of the values \"<code>landscape</code>\" or\n \"<code>portrait</code>\", return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-284\">error</a> with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-255\">error\n code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-invalid-argument\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-invalid-argument-114\">invalid argument</a>.\n\n </p>"
        },
        {
          "html": "<p>Let <var>scale</var> be the result of <a href=\"https://www.w3.org/TR/webdriver2/#dfn-getting-the-property-with-default\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-getting-the-property-with-default-2\">getting a\n  property with default</a> named \"<code>scale</code>\" and with\n  default <code>1</code> from <var>parameters</var>.\n\n </p>"
        },
        {
          "html": "<p>If <var>scale</var> is not a <a href=\"https://www.w3.org/TR/webdriver2/#dfn-number\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-number-22\">Number</a>, or is less\n than <code>0.1</code> or greater than <code>2</code>\n return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-285\">error</a> with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-256\">error code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-invalid-argument\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-invalid-argument-115\">invalid argument</a>.\n\n </p>"
        },
        {
          "html": "<p>Let <var>background</var> be the result of <a href=\"https://www.w3.org/TR/webdriver2/#dfn-getting-the-property-with-default\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-getting-the-property-with-default-3\">getting a\n  property with default</a> named \"<code>background</code>\" and with\n  default <code>false</code> from <var>parameters</var>.\n\n </p>"
        },
        {
          "html": "<p>If <var>background</var> is not a <a href=\"https://www.w3.org/TR/webdriver2/#dfn-boolean\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-boolean-9\">Boolean</a>\n return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-286\">error</a> with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-257\">error code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-invalid-argument\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-invalid-argument-116\">invalid argument</a>.\n\n </p>"
        },
        {
          "html": "<p>Let <var>page</var> be the result of <a href=\"https://www.w3.org/TR/webdriver2/#dfn-getting-the-property-with-default\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-getting-the-property-with-default-4\">getting a property\n  with default</a> named \"<code>page</code>\" and with a default of an\n  empty <a href=\"https://www.w3.org/TR/webdriver2/#dfn-object\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-object-54\">Object</a> from <var>parameters</var>.\n\n </p>"
        },
        {
          "html": "<p>Let <var>pageWidth</var> be the result of <a href=\"https://www.w3.org/TR/webdriver2/#dfn-getting-the-property-with-default\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-getting-the-property-with-default-5\">getting a\n  property with default</a> named \"<code>width</code>\" and with a\n  default of <code>21.59</code> from <var>page</var>.\n\n </p>"
        },
        {
          "html": "<p>Let <var>pageHeight</var> be the result of <a href=\"https://www.w3.org/TR/webdriver2/#dfn-getting-the-property-with-default\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-getting-the-property-with-default-6\">getting a\n  property with default</a> named \"<code>height</code>\" and with a\n  default of <code>27.94</code> from <var>page</var>.\n\n </p>"
        },
        {
          "html": "<p>If either of <var>pageWidth</var> or <var>pageHeight</var> is\n not a <a href=\"https://www.w3.org/TR/webdriver2/#dfn-number\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-number-23\">Number</a>, or is less than <code>(2.54 / 72)</code>, return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-287\">error</a>\n with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-258\">error code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-invalid-argument\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-invalid-argument-117\">invalid argument</a>.\n\n </p>"
        },
        {
          "html": "<p>Let <var>margin</var> be the result of <a href=\"https://www.w3.org/TR/webdriver2/#dfn-getting-the-property-with-default\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-getting-the-property-with-default-7\">getting a property\n  with default</a> named \"<code>margin</code>\" and with a default of an\n  empty <a href=\"https://www.w3.org/TR/webdriver2/#dfn-object\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-object-55\">Object</a> from <var>parameters</var>.\n\n </p>"
        },
        {
          "html": "<p>Let <var>marginTop</var> be the result of <a href=\"https://www.w3.org/TR/webdriver2/#dfn-getting-the-property-with-default\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-getting-the-property-with-default-8\">getting a\n  property with default</a> named \"<code>top</code>\" and with a\n  default of <code>1</code> from <var>margin</var>.\n\n </p>"
        },
        {
          "html": "<p>Let <var>marginBottom</var> be the result of <a href=\"https://www.w3.org/TR/webdriver2/#dfn-getting-the-property-with-default\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-getting-the-property-with-default-9\">getting a\n  property with default</a> named \"<code>bottom</code>\" and with a\n  default of <code>1</code> from <var>margin</var>.\n\n </p>"
        },
        {
          "html": "<p>Let <var>marginLeft</var> be the result of <a href=\"https://www.w3.org/TR/webdriver2/#dfn-getting-the-property-with-default\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-getting-the-property-with-default-10\">getting a\n  property with default</a> named \"<code>left</code>\" and with a\n  default of <code>1</code> from <var>margin</var>.\n\n </p>"
        },
        {
          "html": "<p>Let <var>marginRight</var> be the result of <a href=\"https://www.w3.org/TR/webdriver2/#dfn-getting-the-property-with-default\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-getting-the-property-with-default-11\">getting a\n  property with default</a> named \"<code>right</code>\" and with a\n  default of <code>1</code> from <var>margin</var>.\n\n </p>"
        },
        {
          "html": "<p>If any\n of <var>marginTop</var>, <var>marginBottom</var>, <var>marginLeft</var>,\n or <var>marginRight</var> is not a <a href=\"https://www.w3.org/TR/webdriver2/#dfn-number\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-number-24\">Number</a>, or is less then 0,\n return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-288\">error</a> with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-259\">error code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-invalid-argument\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-invalid-argument-118\">invalid argument</a>.\n\n </p>"
        },
        {
          "html": "<p>Let <var>shrinkToFit</var> be the result of <a href=\"https://www.w3.org/TR/webdriver2/#dfn-getting-the-property-with-default\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-getting-the-property-with-default-12\">getting a\n  property with default</a> named \"<code>shrinkToFit</code>\" and with\n  default <code>true</code> from <var>parameters</var>.\n\n </p>"
        },
        {
          "html": "<p>If <var>shrinkToFit</var> is not a <a href=\"https://www.w3.org/TR/webdriver2/#dfn-boolean\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-boolean-10\">Boolean</a>\n return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-289\">error</a> with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-260\">error code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-invalid-argument\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-invalid-argument-119\">invalid argument</a>.\n\n </p>"
        },
        {
          "html": "<p>Let <var>pageRanges</var> be the result of <a href=\"https://www.w3.org/TR/webdriver2/#dfn-getting-the-property-with-default\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-getting-the-property-with-default-13\">getting a\n  property with default</a> named \"<code>pageRanges</code>\" from\n  <var>parameters</var> with default of an\n  empty <a href=\"https://www.w3.org/TR/webdriver2/#dfn-array\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-array-7\">Array</a>.\n\n </p>"
        },
        {
          "html": "<p>If <var>pageRanges</var> is not an <a href=\"https://www.w3.org/TR/webdriver2/#dfn-array\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-array-8\">Array</a>\n return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-290\">error</a> with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-261\">error code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-invalid-argument\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-invalid-argument-120\">invalid argument</a>.\n\n </p>"
        },
        {
          "html": "<p>When the user agent is next to <a href=\"https://www.w3.org/TR/webdriver2/#dfn-run-the-animation-frame-callbacks\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-run-the-animation-frame-callbacks-3\">run the animation frame\n callbacks</a>, let <var>pdfData</var> be the result of <a href=\"https://www.w3.org/TR/webdriver2/#dfn-try\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-try-132\">trying</a>\n to take UA-specific steps to generate a paginated representation of\n <var>session</var>'s <a href=\"https://www.w3.org/TR/webdriver2/#dfn-current-browsing-context\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-current-browsing-context-90\">current browsing context</a>, with the\n CSS <a href=\"https://www.w3.org/TR/webdriver2/#dfn-media-type\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-media-type-1\">media type</a> set to <code>print</code>, encoded as a PDF,\n with the following paper settings:\n   </p><table>\n     <tbody><tr>\n       <th>Property\n       </th><th>Value\n     </th></tr><tr>\n       <td>Width in cm\n       </td><td><var>pageWidth</var> if <var>orientation</var> is\n         \"<code>portrait</code>\" otherwise <var>pageHeight</var>\n     </td></tr><tr>\n       <td>Height in cm\n       </td><td><var>pageHeight</var> if <var>orientation</var> is\n         \"<code>portrait</code>\" otherwise <var>pageWidth</var>\n     </td></tr><tr>\n       <td>Top margin, in cm\n       </td><td><var>marginTop</var>\n     </td></tr><tr>\n       <td>Bottom margin, in cm\n       </td><td><var>marginBottom</var>\n     </td></tr><tr>\n       <td>Left margin, in cm\n       </td><td><var>marginLeft</var>\n     </td></tr><tr>\n       <td>Right margin, in cm\n       </td><td><var>marginRight</var>\n   </td></tr></tbody></table>\n\n   <p>In addition, the following formatting hints should be applied by the UA:\n     </p><dl>\n       <dt>If <var>scale</var> is not equal to <code>1</code></dt>\n       <dd>Zoom the size of the content by a factor <var>scale</var>\n       </dd><dt>If <var>background</var> is <code>false</code></dt>\n       <dd>Suppress output of background images\n       </dd><dt>If <var>shrinkToFit</var> is <code>true</code></dt>\n       <dd>Resize the content to match the page width, overriding any\n       page width specified in the content\n     </dd></dl>"
        },
        {
          "html": "<p>If <var>pageRanges</var> is not an empty <a href=\"https://www.w3.org/TR/webdriver2/#dfn-array\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-array-9\">Array</a>,\n Let <var>pages</var> be the result of <a href=\"https://www.w3.org/TR/webdriver2/#dfn-try\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-try-133\">trying</a> to <a href=\"https://www.w3.org/TR/webdriver2/#dfn-parse-a-page-range\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-parse-a-page-range-1\">parse a\n page range</a> with arguments <var>pageRanges</var> and the number of\n pages contained in <var>pdfData</var>, then remove any pages\n from <var>pdfData</var> whose one-based index is not contained in\n  <var>pages</var>\n\n  </p>"
        },
        {
          "html": "<p>Let <var>encoding result</var> be the result of\n  calling <a href=\"https://www.w3.org/TR/webdriver2/#dfn-base64-encode\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-base64-encode-1\">Base64 Encode</a> on <var>pdfData</var>.\n\n  </p>"
        },
        {
          "html": "<p>Let <var>encoded string</var> be <var>encoding result</var>'s data.\n\n  </p>"
        },
        {
          "html": "<p>Return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-success\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-success-130\">success</a> with data <var>encoded string</var>\n</p>"
        }
      ]
    },
    {
      "html": "To get the <a href=\"https://www.w3.org/TR/webdriver2/#dfn-element-displayed-state\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-element-displayed-state-1\">element displayed state</a> using\nthe <a href=\"https://www.w3.org/TR/webdriver2/#dfn-bot-dom-isshown\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-bot-dom-isshown-1\"><code>bot.dom.isShown</code></a> Selenium atoms,\ngiven <var>element</var>:",
      "rationale": "let",
      "steps": [
        {
          "html": "<p>Let <var>function</var> be\n  the <a href=\"https://www.w3.org/TR/webdriver2/#dfn-bot-dom-isshown\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-bot-dom-isshown-2\"><code>bot.dom.isShown</code></a> function.\n  </p>"
        },
        {
          "html": "<p>Let <var>result</var> be the result of calling <var>function</var>'s\n  <a href=\"https://www.w3.org/TR/webdriver2/#dfn-call\" class=\"internalDFN\" data-link-type=\"idl\" id=\"ref-for-dfn-call-5\">[[Call]]</a> internal method with arguments\n  null and <var>element</var>. If this raises an exception, return\n  an <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-291\">error</a> with <a href=\"https://www.w3.org/TR/webdriver2/#dfn-error-code\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-error-code-262\">error code</a> <a href=\"https://www.w3.org/TR/webdriver2/#dfn-unknown-error\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-unknown-error-6\">unknown error</a>.\n\n  </p>"
        },
        {
          "html": "<p>Return <a href=\"https://www.w3.org/TR/webdriver2/#dfn-success\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-success-131\">success</a> with data <var>result</var>.\n</p>\n\n<p>The <a href=\"https://www.w3.org/TR/webdriver2/#dfn-element-displayed-state\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-element-displayed-state-2\">element displayed state</a> is typically exposed as an\n endpoint for <code>GET</code> requests with a <a href=\"https://www.w3.org/TR/webdriver2/#dfn-uri-template\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-uri-template-4\">URI Template</a> of\n <code>/session/{session id}/element/{element id}/displayed</code>.\n</p>"
        }
      ]
    }
  ]
}