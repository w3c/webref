{
  "spec": {
    "title": "Service Workers Nightly",
    "url": "https://w3c.github.io/ServiceWorker/"
  },
  "headings": [
    {
      "id": "title",
      "level": 1,
      "title": "Service Workers Nightly"
    },
    {
      "id": "profile-and-date",
      "level": 2,
      "title": "Editorâ€™s Draft, 26 April 2021"
    },
    {
      "id": "abstract",
      "level": 2,
      "title": "Abstract"
    },
    {
      "id": "status",
      "level": 2,
      "title": "Status of this document"
    },
    {
      "id": "toc",
      "level": 2,
      "title": "Table of Contents"
    },
    {
      "id": "motivations",
      "level": 2,
      "title": "Motivations",
      "number": "1"
    },
    {
      "id": "model",
      "level": 2,
      "title": "Model",
      "number": "2"
    },
    {
      "id": "service-worker-concept",
      "level": 3,
      "title": "Service Worker",
      "number": "2.1"
    },
    {
      "id": "service-worker-lifetime",
      "level": 4,
      "title": "Lifetime",
      "number": "2.1.1"
    },
    {
      "id": "service-worker-events",
      "level": 4,
      "title": "Events",
      "number": "2.1.2"
    },
    {
      "id": "service-worker-registration-concept",
      "level": 3,
      "title": "Service Worker Registration",
      "number": "2.2"
    },
    {
      "id": "service-worker-registration-lifetime",
      "level": 4,
      "title": "Lifetime",
      "number": "2.2.1"
    },
    {
      "id": "service-worker-client-concept",
      "level": 3,
      "title": "Service Worker Client",
      "number": "2.3"
    },
    {
      "id": "control-and-use",
      "level": 3,
      "title": "Control and Use",
      "number": "2.4"
    },
    {
      "id": "control-and-use-window-client",
      "level": 4,
      "title": "The window client case",
      "number": "2.4.1"
    },
    {
      "id": "control-and-use-worker-client",
      "level": 4,
      "title": "The worker client case",
      "number": "2.4.2"
    },
    {
      "id": "task-sources",
      "level": 3,
      "title": "Task Sources",
      "number": "2.5"
    },
    {
      "id": "user-agent-shutdown",
      "level": 3,
      "title": "User Agent Shutdown",
      "number": "2.6"
    },
    {
      "id": "document-context",
      "level": 2,
      "title": "Client Context",
      "number": "3"
    },
    {
      "id": "serviceworker-interface",
      "level": 3,
      "title": "ServiceWorker",
      "number": "3.1"
    },
    {
      "id": "service-worker-creation",
      "level": 4,
      "title": "Getting ServiceWorker instances",
      "number": "3.1.1"
    },
    {
      "id": "service-worker-url",
      "level": 4,
      "title": "scriptURL",
      "number": "3.1.2"
    },
    {
      "id": "service-worker-state",
      "level": 4,
      "title": "state",
      "number": "3.1.3"
    },
    {
      "id": "service-worker-postmessage",
      "level": 4,
      "title": "postMessage(message, transfer)",
      "number": "3.1.4"
    },
    {
      "id": "service-worker-postmessage-options",
      "level": 4,
      "title": "postMessage(message, options)",
      "number": "3.1.5"
    },
    {
      "id": "service-worker-event-handler",
      "level": 4,
      "title": "Event handler",
      "number": "3.1.6"
    },
    {
      "id": "serviceworkerregistration-interface",
      "level": 3,
      "title": "ServiceWorkerRegistration",
      "number": "3.2"
    },
    {
      "id": "service-worker-registration-creation",
      "level": 4,
      "title": "Getting ServiceWorkerRegistration instances",
      "number": "3.2.1"
    },
    {
      "id": "navigator-service-worker-installing",
      "level": 4,
      "title": "installing",
      "number": "3.2.2"
    },
    {
      "id": "navigator-service-worker-waiting",
      "level": 4,
      "title": "waiting",
      "number": "3.2.3"
    },
    {
      "id": "navigator-service-worker-active",
      "level": 4,
      "title": "active",
      "number": "3.2.4"
    },
    {
      "id": "service-worker-registration-navigationpreload",
      "level": 4,
      "title": "navigationPreload",
      "number": "3.2.5"
    },
    {
      "id": "service-worker-registration-scope",
      "level": 4,
      "title": "scope",
      "number": "3.2.6"
    },
    {
      "id": "service-worker-registration-updateviacache",
      "level": 4,
      "title": "updateViaCache",
      "number": "3.2.7"
    },
    {
      "id": "service-worker-registration-update",
      "level": 4,
      "title": "update()",
      "number": "3.2.8"
    },
    {
      "id": "navigator-service-worker-unregister",
      "level": 4,
      "title": "unregister()",
      "number": "3.2.9"
    },
    {
      "id": "service-worker-registration-event-handler",
      "level": 4,
      "title": "Event handler",
      "number": "3.2.10"
    },
    {
      "id": "navigator-serviceworker",
      "level": 3,
      "title": "navigator.serviceWorker",
      "number": "3.3"
    },
    {
      "id": "serviceworkercontainer-interface",
      "level": 3,
      "title": "ServiceWorkerContainer",
      "number": "3.4"
    },
    {
      "id": "navigator-service-worker-controller",
      "level": 4,
      "title": "controller",
      "number": "3.4.1"
    },
    {
      "id": "navigator-service-worker-ready",
      "level": 4,
      "title": "ready",
      "number": "3.4.2"
    },
    {
      "id": "navigator-service-worker-register",
      "level": 4,
      "title": "register(scriptURL, options)",
      "number": "3.4.3"
    },
    {
      "id": "navigator-service-worker-getRegistration",
      "level": 4,
      "title": "getRegistration(clientURL)",
      "number": "3.4.4"
    },
    {
      "id": "navigator-service-worker-getRegistrations",
      "level": 4,
      "title": "getRegistrations()",
      "number": "3.4.5"
    },
    {
      "id": "navigator-service-worker-startMessages",
      "level": 4,
      "title": "startMessages()",
      "number": "3.4.6"
    },
    {
      "id": "service-worker-container-event-handlers",
      "level": 4,
      "title": "Event handlers",
      "number": "3.4.7"
    },
    {
      "id": "document-context-events",
      "level": 3,
      "title": "Events",
      "number": "3.5"
    },
    {
      "id": "navigation-preload-manager",
      "level": 3,
      "title": "NavigationPreloadManager",
      "number": "3.6"
    },
    {
      "id": "navigation-preload-manager-enable",
      "level": 4,
      "title": "enable()",
      "number": "3.6.1"
    },
    {
      "id": "navigation-preload-manager-disable",
      "level": 4,
      "title": "disable()",
      "number": "3.6.2"
    },
    {
      "id": "navigation-preload-manager-setheadervalue",
      "level": 4,
      "title": "setHeaderValue(value)",
      "number": "3.6.3"
    },
    {
      "id": "navigation-preload-manager-getstate",
      "level": 4,
      "title": "getState()",
      "number": "3.6.4"
    },
    {
      "id": "execution-context",
      "level": 2,
      "title": "Execution Context",
      "number": "4"
    },
    {
      "id": "serviceworkerglobalscope-interface",
      "level": 3,
      "title": "ServiceWorkerGlobalScope",
      "number": "4.1"
    },
    {
      "id": "service-worker-global-scope-clients",
      "level": 4,
      "title": "clients",
      "number": "4.1.1"
    },
    {
      "id": "service-worker-global-scope-registration",
      "level": 4,
      "title": "registration",
      "number": "4.1.2"
    },
    {
      "id": "service-worker-global-scope-serviceworker",
      "level": 4,
      "title": "serviceWorker",
      "number": "4.1.3"
    },
    {
      "id": "service-worker-global-scope-skipwaiting",
      "level": 4,
      "title": "skipWaiting()",
      "number": "4.1.4"
    },
    {
      "id": "service-worker-global-scope-event-handlers",
      "level": 4,
      "title": "Event handlers",
      "number": "4.1.5"
    },
    {
      "id": "client-interface",
      "level": 3,
      "title": "Client",
      "number": "4.2"
    },
    {
      "id": "client-url",
      "level": 4,
      "title": "url",
      "number": "4.2.1"
    },
    {
      "id": "client-frametype",
      "level": 4,
      "title": "frameType",
      "number": "4.2.2"
    },
    {
      "id": "client-id",
      "level": 4,
      "title": "id",
      "number": "4.2.3"
    },
    {
      "id": "client-type",
      "level": 4,
      "title": "type",
      "number": "4.2.4"
    },
    {
      "id": "client-postmessage",
      "level": 4,
      "title": "postMessage(message, transfer)",
      "number": "4.2.5"
    },
    {
      "id": "client-postmessage-options",
      "level": 4,
      "title": "postMessage(message, options)",
      "number": "4.2.6"
    },
    {
      "id": "client-visibilitystate",
      "level": 4,
      "title": "visibilityState",
      "number": "4.2.7"
    },
    {
      "id": "client-focused",
      "level": 4,
      "title": "focused",
      "number": "4.2.8"
    },
    {
      "id": "client-ancestororigins",
      "level": 4,
      "title": "ancestorOrigins",
      "number": "4.2.9"
    },
    {
      "id": "client-focus",
      "level": 4,
      "title": "focus()",
      "number": "4.2.10"
    },
    {
      "id": "client-navigate",
      "level": 4,
      "title": "navigate(url)",
      "number": "4.2.11"
    },
    {
      "id": "clients-interface",
      "level": 3,
      "title": "Clients",
      "number": "4.3"
    },
    {
      "id": "clients-get",
      "level": 4,
      "title": "get(id)",
      "number": "4.3.1"
    },
    {
      "id": "clients-matchall",
      "level": 4,
      "title": "matchAll(options)",
      "number": "4.3.2"
    },
    {
      "id": "clients-openwindow",
      "level": 4,
      "title": "openWindow(url)",
      "number": "4.3.3"
    },
    {
      "id": "clients-claim",
      "level": 4,
      "title": "claim()",
      "number": "4.3.4"
    },
    {
      "id": "extendableevent-interface",
      "level": 3,
      "title": "ExtendableEvent",
      "number": "4.4"
    },
    {
      "id": "wait-until-method",
      "level": 4,
      "title": "event.waitUntil(f)",
      "number": "4.4.1"
    },
    {
      "id": "fetchevent-interface",
      "level": 3,
      "title": "FetchEvent",
      "number": "4.5"
    },
    {
      "id": "fetch-event-request",
      "level": 4,
      "title": "event.request",
      "number": "4.5.1"
    },
    {
      "id": "fetch-event-preloadresponse",
      "level": 4,
      "title": "event.preloadResponse",
      "number": "4.5.2"
    },
    {
      "id": "fetch-event-clientid",
      "level": 4,
      "title": "event.clientId",
      "number": "4.5.3"
    },
    {
      "id": "fetch-event-resultingclientid",
      "level": 4,
      "title": "event.resultingClientId",
      "number": "4.5.4"
    },
    {
      "id": "fetch-event-replacesClientId",
      "level": 4,
      "title": "event.replacesClientId",
      "number": "4.5.5"
    },
    {
      "id": "fetch-event-handled",
      "level": 4,
      "title": "event.handled",
      "number": "4.5.6"
    },
    {
      "id": "fetch-event-respondwith",
      "level": 4,
      "title": "event.respondWith(r)",
      "number": "4.5.7"
    },
    {
      "id": "extendablemessageevent-interface",
      "level": 3,
      "title": "ExtendableMessageEvent",
      "number": "4.6"
    },
    {
      "id": "extendablemessage-event-data",
      "level": 4,
      "title": "event.data",
      "number": "4.6.1"
    },
    {
      "id": "extendablemessage-event-origin",
      "level": 4,
      "title": "event.origin",
      "number": "4.6.2"
    },
    {
      "id": "extendablemessage-event-lasteventid",
      "level": 4,
      "title": "event.lastEventId",
      "number": "4.6.3"
    },
    {
      "id": "extendablemessage-event-source",
      "level": 4,
      "title": "event.source",
      "number": "4.6.4"
    },
    {
      "id": "extendablemessage-event-ports",
      "level": 4,
      "title": "event.ports",
      "number": "4.6.5"
    },
    {
      "id": "execution-context-events",
      "level": 3,
      "title": "Events",
      "number": "4.7"
    },
    {
      "id": "cache-objects",
      "level": 2,
      "title": "Caches",
      "number": "5"
    },
    {
      "id": "cache-constructs",
      "level": 3,
      "title": "Constructs",
      "number": "5.1"
    },
    {
      "id": "cache-lifetimes",
      "level": 3,
      "title": "Understanding Cache Lifetimes",
      "number": "5.2"
    },
    {
      "id": "self-caches",
      "level": 3,
      "title": "self.caches",
      "number": "5.3"
    },
    {
      "id": "global-caches",
      "level": 4,
      "title": "caches",
      "number": "5.3.1"
    },
    {
      "id": "cache-interface",
      "level": 3,
      "title": "Cache",
      "number": "5.4"
    },
    {
      "id": "cache-match",
      "level": 4,
      "title": "match(request, options)",
      "number": "5.4.1"
    },
    {
      "id": "cache-matchall",
      "level": 4,
      "title": "matchAll(request, options)",
      "number": "5.4.2"
    },
    {
      "id": "cache-add",
      "level": 4,
      "title": "add(request)",
      "number": "5.4.3"
    },
    {
      "id": "cache-addAll",
      "level": 4,
      "title": "addAll(requests)",
      "number": "5.4.4"
    },
    {
      "id": "cache-put",
      "level": 4,
      "title": "put(request, response)",
      "number": "5.4.5"
    },
    {
      "id": "cache-delete",
      "level": 4,
      "title": "delete(request, options)",
      "number": "5.4.6"
    },
    {
      "id": "cache-keys",
      "level": 4,
      "title": "keys(request, options)",
      "number": "5.4.7"
    },
    {
      "id": "cachestorage-interface",
      "level": 3,
      "title": "CacheStorage",
      "number": "5.5"
    },
    {
      "id": "cache-storage-match",
      "level": 4,
      "title": "match(request, options)",
      "number": "5.5.1"
    },
    {
      "id": "cache-storage-has",
      "level": 4,
      "title": "has(cacheName)",
      "number": "5.5.2"
    },
    {
      "id": "cache-storage-open",
      "level": 4,
      "title": "open(cacheName)",
      "number": "5.5.3"
    },
    {
      "id": "cache-storage-delete",
      "level": 4,
      "title": "delete(cacheName)",
      "number": "5.5.4"
    },
    {
      "id": "cache-storage-keys",
      "level": 4,
      "title": "keys()",
      "number": "5.5.5"
    },
    {
      "id": "security-considerations",
      "level": 2,
      "title": "Security Considerations",
      "number": "6"
    },
    {
      "id": "secure-context",
      "level": 3,
      "title": "Secure Context",
      "number": "6.1"
    },
    {
      "id": "content-security-policy",
      "level": 3,
      "title": "Content Security Policy",
      "number": "6.2"
    },
    {
      "id": "origin-relativity",
      "level": 3,
      "title": "Origin Relativity",
      "number": "6.3"
    },
    {
      "id": "origin-restriction",
      "level": 4,
      "title": "Origin restriction",
      "number": "6.3.1"
    },
    {
      "id": "importscripts",
      "level": 4,
      "title": "importScripts(urls)",
      "number": "6.3.2"
    },
    {
      "id": "cross-origin-resources",
      "level": 3,
      "title": "Cross-Origin Resources and CORS",
      "number": "6.4"
    },
    {
      "id": "path-restriction",
      "level": 3,
      "title": "Path restriction",
      "number": "6.5"
    },
    {
      "id": "script-request",
      "level": 3,
      "title": "Service worker script request",
      "number": "6.6"
    },
    {
      "id": "implementer-concerns",
      "level": 3,
      "title": "Implementer Concerns",
      "number": "6.7"
    },
    {
      "id": "privacy",
      "level": 3,
      "title": "Privacy",
      "number": "6.8"
    },
    {
      "id": "extensibility",
      "level": 2,
      "title": "Extensibility",
      "number": "7"
    },
    {
      "id": "extension-to-service-worker-registration",
      "level": 3,
      "title": "Define API bound to Service Worker Registration",
      "number": "7.1"
    },
    {
      "id": "extension-to-extendable-event",
      "level": 3,
      "title": "Define Functional Event",
      "number": "7.2"
    },
    {
      "id": "extension-to-service-worker-global-scope",
      "level": 3,
      "title": "Define Event Handler",
      "number": "7.3"
    },
    {
      "id": "firing-functional-events",
      "level": 3,
      "title": "Firing Functional Events",
      "number": "7.4"
    },
    {
      "id": "algorithms",
      "level": 2,
      "title": "Appendix A: Algorithms"
    },
    {
      "id": "create-job-algorithm",
      "level": 3,
      "title": "Create Job"
    },
    {
      "id": "schedule-job-algorithm",
      "level": 3,
      "title": "Schedule Job"
    },
    {
      "id": "run-job-algorithm",
      "level": 3,
      "title": "Run Job"
    },
    {
      "id": "finish-job-algorithm",
      "level": 3,
      "title": "Finish Job"
    },
    {
      "id": "resolve-job-promise-algorithm",
      "level": 3,
      "title": "Resolve Job Promise"
    },
    {
      "id": "reject-job-promise-algorithm",
      "level": 3,
      "title": "Reject Job Promise"
    },
    {
      "id": "start-register-algorithm",
      "level": 3,
      "title": "Start Register"
    },
    {
      "id": "register-algorithm",
      "level": 3,
      "title": "Register"
    },
    {
      "id": "update-algorithm",
      "level": 3,
      "title": "Update"
    },
    {
      "id": "soft-update-algorithm",
      "level": 3,
      "title": "Soft Update"
    },
    {
      "id": "installation-algorithm",
      "level": 3,
      "title": "Install"
    },
    {
      "id": "activation-algorithm",
      "level": 3,
      "title": "Activate"
    },
    {
      "id": "try-activate-algorithm",
      "level": 3,
      "title": "Try Activate"
    },
    {
      "id": "run-service-worker-algorithm",
      "level": 3,
      "title": "Run Service Worker"
    },
    {
      "id": "terminate-service-worker-algorithm",
      "level": 3,
      "title": "Terminate Service Worker"
    },
    {
      "id": "on-fetch-request-algorithm",
      "level": 3,
      "title": "Handle Fetch"
    },
    {
      "id": "should-skip-event-algorithm",
      "level": 3,
      "title": "Should Skip Event"
    },
    {
      "id": "fire-functional-event-algorithm",
      "level": 3,
      "title": "Fire Functional Event"
    },
    {
      "id": "on-client-unload-algorithm",
      "level": 3,
      "title": "Handle Service Worker Client Unload"
    },
    {
      "id": "on-user-agent-shutdown-algorithm",
      "level": 3,
      "title": "Handle User Agent Shutdown"
    },
    {
      "id": "update-service-worker-extended-events-set-algorithm",
      "level": 3,
      "title": "Update Service Worker Extended Events Set"
    },
    {
      "id": "unregister-algorithm",
      "level": 3,
      "title": "Unregister"
    },
    {
      "id": "set-registration-algorithm",
      "level": 3,
      "title": "Set Registration"
    },
    {
      "id": "clear-registration-algorithm",
      "level": 3,
      "title": "Clear Registration"
    },
    {
      "id": "try-clear-registration-algorithm",
      "level": 3,
      "title": "Try Clear Registration"
    },
    {
      "id": "update-registration-state-algorithm",
      "level": 3,
      "title": "Update Registration State"
    },
    {
      "id": "update-state-algorithm",
      "level": 3,
      "title": "Update Worker State"
    },
    {
      "id": "notify-controller-change-algorithm",
      "level": 3,
      "title": "Notify Controller Change"
    },
    {
      "id": "scope-match-algorithm",
      "level": 3,
      "title": "Match Service Worker Registration"
    },
    {
      "id": "get-registration-algorithm",
      "level": 3,
      "title": "Get Registration"
    },
    {
      "id": "get-newest-worker-algorithm",
      "level": 3,
      "title": "Get Newest Worker"
    },
    {
      "id": "service-worker-has-no-pending-events-algorithm",
      "level": 3,
      "title": "Service Worker Has No Pending Events"
    },
    {
      "id": "create-client-algorithm",
      "level": 3,
      "title": "Create Client"
    },
    {
      "id": "create-windowclient-algorithm",
      "level": 3,
      "title": "Create Window Client"
    },
    {
      "id": "get-frametype-algorithm",
      "level": 3,
      "title": "Get Frame Type"
    },
    {
      "id": "resolve-get-client-promise-algorithm",
      "level": 3,
      "title": "Resolve Get Client Promise"
    },
    {
      "id": "query-cache-algorithm",
      "level": 3,
      "title": "Query Cache"
    },
    {
      "id": "request-matches-cached-item-algorithm",
      "level": 3,
      "title": "Request Matches Cached Item"
    },
    {
      "id": "batch-cache-operations-algorithm",
      "level": 3,
      "title": "Batch Cache Operations"
    },
    {
      "id": "extended-http-headers",
      "level": 2,
      "title": "Appendix B: Extended HTTP headers"
    },
    {
      "id": "service-worker-script-request",
      "level": 3,
      "title": "Service Worker Script Request"
    },
    {
      "id": "service-worker-script-response",
      "level": 3,
      "title": "Service Worker Script Response"
    },
    {
      "id": "syntax",
      "level": 3,
      "title": "Syntax"
    },
    {
      "id": "acknowledgements",
      "level": 2,
      "title": "Acknowledgements",
      "number": "8"
    },
    {
      "id": "conformance",
      "level": 2,
      "title": "Conformance"
    },
    {
      "id": "conventions",
      "level": 3,
      "title": "Document conventions"
    },
    {
      "id": "conformant-algorithms",
      "level": 3,
      "title": "Conformant Algorithms"
    },
    {
      "id": "index",
      "level": 2,
      "title": "Index"
    },
    {
      "id": "index-defined-here",
      "level": 3,
      "title": "Terms defined by this specification"
    },
    {
      "id": "index-defined-elsewhere",
      "level": 3,
      "title": "Terms defined by reference"
    },
    {
      "id": "references",
      "level": 2,
      "title": "References"
    },
    {
      "id": "normative",
      "level": 3,
      "title": "Normative References"
    },
    {
      "id": "informative",
      "level": 3,
      "title": "Informative References"
    },
    {
      "id": "idl-index",
      "level": 2,
      "title": "IDL Index"
    },
    {
      "id": "issues-index",
      "level": 2,
      "title": "Issues Index"
    }
  ]
}