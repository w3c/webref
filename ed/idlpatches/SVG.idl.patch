From 4e5f3980c2e042f7f2f5abeeba9a382b8d7e9fc0 Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?Philip=20J=C3=A4genstedt?= <philip@foolip.org>
Date: Fri, 12 Feb 2021 12:09:11 +0100
Subject: [PATCH] Fix SVG.idl

HTMLHyperlinkElementUtils: https://github.com/w3c/svgwg/issues/312

Duplicates: https://github.com/w3c/svgwg/issues/824

Constructor: https://github.com/w3c/svgwg/pull/825
---
 ed/idl/SVG.idl | 50 ++++++++++++++++----------------------------------
 1 file changed, 16 insertions(+), 34 deletions(-)

diff --git a/ed/idl/SVG.idl b/ed/idl/SVG.idl
index f8d24c9c6..2e7d438fa 100644
--- a/ed/idl/SVG.idl
+++ b/ed/idl/SVG.idl
@@ -314,8 +314,9 @@ interface mixin SVGElementInstance {
   [SameObject] readonly attribute SVGUseElement? correspondingUseElement;
 };
 
-[Constructor(Animation source, Animatable newTarget), Exposed=Window]
+[Exposed=Window]
 interface ShadowAnimation : Animation {
+  constructor(Animation source, Animatable newTarget);
   [SameObject] readonly attribute Animation sourceAnimation;
 };
 
@@ -417,10 +418,6 @@ interface SVGAnimatedPreserveAspectRatio {
   [SameObject] readonly attribute SVGPreserveAspectRatio animVal;
 };
 
-[Exposed=Window]
-interface SVGPathElement : SVGGeometryElement {
-};
-
 [Exposed=Window]
 interface SVGRectElement : SVGGeometryElement {
   [SameObject] readonly attribute SVGAnimatedLength x;
@@ -566,34 +563,6 @@ interface SVGForeignObjectElement : SVGGraphicsElement {
   [SameObject] readonly attribute SVGAnimatedLength height;
 };
 
-[Exposed=Window]
-interface SVGMarkerElement : SVGElement {
-
-  // Marker Unit Types
-  const unsigned short SVG_MARKERUNITS_UNKNOWN = 0;
-  const unsigned short SVG_MARKERUNITS_USERSPACEONUSE = 1;
-  const unsigned short SVG_MARKERUNITS_STROKEWIDTH = 2;
-
-  // Marker Orientation Types
-  const unsigned short SVG_MARKER_ORIENT_UNKNOWN = 0;
-  const unsigned short SVG_MARKER_ORIENT_AUTO = 1;
-  const unsigned short SVG_MARKER_ORIENT_ANGLE = 2;
-
-  [SameObject] readonly attribute SVGAnimatedLength refX;
-  [SameObject] readonly attribute SVGAnimatedLength refY;
-  [SameObject] readonly attribute SVGAnimatedEnumeration markerUnits;
-  [SameObject] readonly attribute SVGAnimatedLength markerWidth;
-  [SameObject] readonly attribute SVGAnimatedLength markerHeight;
-  [SameObject] readonly attribute SVGAnimatedEnumeration orientType;
-  [SameObject] readonly attribute SVGAnimatedAngle orientAngle;
-  attribute DOMString orient;
-
-  void setOrientToAuto();
-  void setOrientToAngle(SVGAngle angle);
-};
-
-SVGMarkerElement includes SVGFitToViewBox;
-
 [Exposed=Window]
 interface SVGGradientElement : SVGElement {
 
@@ -671,7 +640,20 @@ interface SVGAElement : SVGGraphicsElement {
 };
 
 SVGAElement includes SVGURIReference;
-SVGAElement includes HTMLHyperlinkElementUtils;
+
+// Inline HTMLHyperlinkElementUtils except href, which conflicts.
+partial interface SVGAElement {
+  readonly attribute USVString origin;
+  [CEReactions] attribute USVString protocol;
+  [CEReactions] attribute USVString username;
+  [CEReactions] attribute USVString password;
+  [CEReactions] attribute USVString host;
+  [CEReactions] attribute USVString hostname;
+  [CEReactions] attribute USVString port;
+  [CEReactions] attribute USVString pathname;
+  [CEReactions] attribute USVString search;
+  [CEReactions] attribute USVString hash;
+};
 
 [Exposed=Window]
 interface SVGViewElement : SVGElement {};
-- 
2.30.0.365.g02bc693789-goog

