{
  "spec": {
    "title": "Scalable Video Coding (SVC) Extension for WebRTC",
    "url": "https://w3c.github.io/webrtc-svc/"
  },
  "algorithms": [
    {
      "html": "[<cite><a class=\"bibref\" data-link-type=\"biblio\" href=\"https://w3c.github.io/webrtc-svc/#bib-webrtc\" title=\"WebRTC: Real-Time Communication in Browsers\">WEBRTC</a></cite>] Section 5.1 describes validation of\n           <a data-link-type=\"dict-member\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCRtpTransceiverInit\" data-xref-for=\"RTCRtpTransceiverInit\" data-cite=\"webrtc\" data-cite-path=\"\" data-cite-frag=\"dom-rtcrtptransceiverinit-sendencodings\" href=\"https://www.w3.org/TR/webrtc/#dom-rtcrtptransceiverinit-sendencodings\"><code>sendEncodings</code></a> within\n           <a data-link-type=\"method\" data-xref-type=\"method\" data-link-for=\"RTCPeerConnection\" data-xref-for=\"RTCPeerConnection\" data-lt=\"addTransceiver()\" data-cite=\"webrtc\" data-cite-path=\"\" data-cite-frag=\"dom-rtcpeerconnection-addtransceiver\" href=\"https://www.w3.org/TR/webrtc/#dom-rtcpeerconnection-addtransceiver\"><code>addTransceiver</code></a><code>()</code>. To validate\n           <a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCRtpEncodingParameters\" data-xref-for=\"RTCRtpEncodingParameters\" href=\"https://w3c.github.io/webrtc-svc/#dom-rtcrtpencodingparameters-scalabilitymode\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtpencodingparameters-scalabilitymode-4\"><code>scalabilityMode</code></a>, add\n           the following steps after step 3 of\n           <a data-link-type=\"dfn\" data-link-for=\"RTCPeerConnection\" data-xref-for=\"RTCPeerConnection\" data-cite=\"webrtc\" data-cite-path=\"\" data-cite-frag=\"dfn-addtransceiver-sendencodings-validation-steps\" href=\"https://www.w3.org/TR/webrtc/#dfn-addtransceiver-sendencodings-validation-steps\">addTransceiver sendEncodings validation steps</a>:",
      "rationale": "if",
      "steps": [
        {
          "html": "If <var>sendEncodings</var> contains any encoding with a <a data-xref-type=\"_IDL_\" data-link-type=\"dictionary\" data-lt=\"RTCRtpEncodingParameters\" data-cite=\"webrtc\" data-cite-path=\"\" data-cite-frag=\"dom-rtcrtpencodingparameters\" href=\"https://www.w3.org/TR/webrtc/#dom-rtcrtpencodingparameters\"><code>RTCRtpEncodingParameters</code></a>.<code>codec</code>\n               value <var>codec</var> <a data-link-type=\"dfn\" data-link-for=\"map\" data-xref-for=\"map\" data-cite=\"infra\" data-cite-path=\"\" data-cite-frag=\"map-exists\" href=\"https://infra.spec.whatwg.org/#map-exists\">exists</a> and where the same encoding's <a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCRtpEncodingParameters\" data-xref-for=\"RTCRtpEncodingParameters\" href=\"https://w3c.github.io/webrtc-svc/#dom-rtcrtpencodingparameters-scalabilitymode\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtpencodingparameters-scalabilitymode-5\"><code>scalabilityMode</code></a>\n               value is not supported by <var>codec</var>, <a data-link-type=\"dfn\" data-link-for=\"exception\" data-xref-for=\"exception\" data-cite=\"webidl\" data-cite-path=\"\" data-cite-frag=\"dfn-throw\" href=\"https://webidl.spec.whatwg.org/#dfn-throw\">throw</a> an <a data-xref-type=\"_IDL_\" data-link-type=\"exception\" data-lt=\"OperationError\" data-cite=\"webidl\" data-cite-path=\"\" data-cite-frag=\"operationerror\" href=\"https://webidl.spec.whatwg.org/#operationerror\"><code>OperationError</code></a>."
        },
        {
          "html": "Else if <var>sendEncodings</var> contains any encoding whose\n               <a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCRtpEncodingParameters\" data-xref-for=\"RTCRtpEncodingParameters\" href=\"https://w3c.github.io/webrtc-svc/#dom-rtcrtpencodingparameters-scalabilitymode\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtpencodingparameters-scalabilitymode-6\"><code>scalabilityMode</code></a> value is\n               not supported by any codec in the <a data-link-type=\"dfn\" data-link-for=\"RTCRtpSender\" data-xref-for=\"RTCRtpSender\" data-cite=\"webrtc\" data-cite-path=\"\" data-cite-frag=\"dfn-list-of-implemented-send-codecs\" href=\"https://www.w3.org/TR/webrtc/#dfn-list-of-implemented-send-codecs\">list of implemented send codecs</a>\n               for <var>kind</var>, <a data-link-type=\"dfn\" data-link-for=\"exception\" data-xref-for=\"exception\" data-cite=\"webidl\" data-cite-path=\"\" data-cite-frag=\"dfn-throw\" href=\"https://webidl.spec.whatwg.org/#dfn-throw\">throw</a> an <a data-xref-type=\"_IDL_\" data-link-type=\"exception\" data-lt=\"OperationError\" data-cite=\"webidl\" data-cite-path=\"\" data-cite-frag=\"operationerror\" href=\"https://webidl.spec.whatwg.org/#operationerror\"><code>OperationError</code></a>."
        },
        {
          "html": "If <a data-xref-type=\"_IDL_\" data-link-type=\"dictionary\" data-lt=\"RTCRtpEncodingParameters\" data-cite=\"webrtc\" data-cite-path=\"\" data-cite-frag=\"dom-rtcrtpencodingparameters\" href=\"https://www.w3.org/TR/webrtc/#dom-rtcrtpencodingparameters\"><code>RTCRtpEncodingParameters</code></a> stored in\n               <var>sendEncodings</var> contains more than 1\n               encoding with an <a data-link-type=\"dict-member\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCRtpEncodingParameters\" data-xref-for=\"RTCRtpEncodingParameters\" data-cite=\"webrtc\" data-cite-path=\"\" data-cite-frag=\"dom-rtcrtpencodingparameters-active\" href=\"https://www.w3.org/TR/webrtc/#dom-rtcrtpencodingparameters-active\"><code>active</code></a>\n               member with a value of <code>true</code> and\n               <var>sendEncodings</var> contains any encoding whose\n               <a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCRtpEncodingParameters\" data-xref-for=\"RTCRtpEncodingParameters\" href=\"https://w3c.github.io/webrtc-svc/#dom-rtcrtpencodingparameters-scalabilitymode\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtpencodingparameters-scalabilitymode-7\"><code>scalabilityMode</code></a> value\n               represents an \"S mode\" and whose\n               <a data-link-type=\"dict-member\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCRtpEncodingParameters\" data-xref-for=\"RTCRtpEncodingParameters\" data-cite=\"webrtc\" data-cite-path=\"\" data-cite-frag=\"dom-rtcrtpencodingparameters-active\" href=\"https://www.w3.org/TR/webrtc/#dom-rtcrtpencodingparameters-active\"><code>active</code></a> member has a\n               value of <code>true</code>, <a data-link-type=\"dfn\" data-link-for=\"exception\" data-xref-for=\"exception\" data-cite=\"webidl\" data-cite-path=\"\" data-cite-frag=\"dfn-throw\" href=\"https://webidl.spec.whatwg.org/#dfn-throw\">throw</a> an\n               <a data-xref-type=\"_IDL_\" data-link-type=\"exception\" data-lt=\"OperationError\" data-cite=\"webidl\" data-cite-path=\"\" data-cite-frag=\"operationerror\" href=\"https://webidl.spec.whatwg.org/#operationerror\"><code>OperationError</code></a>."
        }
      ]
    },
    {
      "html": "[<cite><a class=\"bibref\" data-link-type=\"biblio\" href=\"https://w3c.github.io/webrtc-svc/#bib-webrtc\" title=\"WebRTC: Real-Time Communication in Browsers\">WEBRTC</a></cite>] Section 5.2 describes validation of <var>parameters</var>\n           within <a data-link-type=\"method\" data-xref-type=\"method\" data-link-for=\"RTCRtpSender\" data-xref-for=\"RTCRtpSender\" data-lt=\"setParameters()\" data-cite=\"webrtc\" data-cite-path=\"\" data-cite-frag=\"dom-rtcrtpsender-setparameters\" href=\"https://www.w3.org/TR/webrtc/#dom-rtcrtpsender-setparameters\"><code>setParameters</code></a><code>()</code>. Insert the following\n           conditions under which the operation causes a promise rejected\n           with an <a data-xref-type=\"_IDL_\" data-link-type=\"exception\" data-lt=\"InvalidModificationError\" data-cite=\"webidl\" data-cite-path=\"\" data-cite-frag=\"invalidmodificationerror\" href=\"https://webidl.spec.whatwg.org/#invalidmodificationerror\"><code>InvalidModificationError</code></a> (step 4) of\n           <a data-link-type=\"dfn\" data-link-for=\"RTCRtpSender\" data-xref-for=\"RTCRtpSender\" data-cite=\"webrtc\" data-cite-path=\"\" data-cite-frag=\"dfn-setparameters-validation-steps\" href=\"https://www.w3.org/TR/webrtc/#dfn-setparameters-validation-steps\">setParameters validation steps</a>:",
      "rationale": "if",
      "steps": [
        {
          "html": "If <var>encodings</var> contains any encoding with an existng\n               <a data-xref-type=\"_IDL_\" data-link-type=\"dictionary\" data-lt=\"RTCRtpEncodingParameters\" data-cite=\"webrtc\" data-cite-path=\"\" data-cite-frag=\"dom-rtcrtpencodingparameters\" href=\"https://www.w3.org/TR/webrtc/#dom-rtcrtpencodingparameters\"><code>RTCRtpEncodingParameters</code></a>.codec value <var>codec</var>, where the same encoding's\n               <a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCRtpEncodingParameters\" data-xref-for=\"RTCRtpEncodingParameters\" href=\"https://w3c.github.io/webrtc-svc/#dom-rtcrtpencodingparameters-scalabilitymode\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtpencodingparameters-scalabilitymode-11\"><code>scalabilityMode</code></a> value is not supported by <var>codec</var>."
        },
        {
          "html": "Else if <var>sender</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpSender\" data-xref-for=\"RTCRtpSender\" data-lt=\"[[SendCodecs]]\" data-cite=\"webrtc\" data-cite-path=\"\" data-cite-frag=\"dfn-sendcodecs\" href=\"https://www.w3.org/TR/webrtc/#dfn-sendcodecs\"><code>[[SendCodecs]]</code></a> <a data-link-type=\"dfn\" data-link-for=\"map\" data-xref-for=\"map\" data-cite=\"infra\" data-cite-path=\"\" data-cite-frag=\"map-is-empty\" href=\"https://infra.spec.whatwg.org/#map-is-empty\">is empty</a>\n               and <var>encodings</var> contains any encoding whose\n               <a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCRtpEncodingParameters\" data-xref-for=\"RTCRtpEncodingParameters\" href=\"https://w3c.github.io/webrtc-svc/#dom-rtcrtpencodingparameters-scalabilitymode\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtpencodingparameters-scalabilitymode-12\"><code>scalabilityMode</code></a> value is\n               not supported by any codec in the\n               <a data-link-type=\"dfn\" data-link-for=\"RTCRtpSender\" data-xref-for=\"RTCRtpSender\" data-cite=\"webrtc\" data-cite-path=\"\" data-cite-frag=\"dfn-list-of-implemented-send-codecs\" href=\"https://www.w3.org/TR/webrtc/#dfn-list-of-implemented-send-codecs\">list of implemented send codecs</a> for <var>kind</var>."
        },
        {
          "html": "Else if <var>sender</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpSender\" data-xref-for=\"RTCRtpSender\" data-lt=\"[[SendCodecs]]\" data-cite=\"webrtc\" data-cite-path=\"\" data-cite-frag=\"dfn-sendcodecs\" href=\"https://www.w3.org/TR/webrtc/#dfn-sendcodecs\"><code>[[SendCodecs]]</code></a> <a data-link-type=\"dfn\" data-link-for=\"map\" data-xref-for=\"map\" data-lt=\"is empty\" data-cite=\"infra\" data-cite-path=\"\" data-cite-frag=\"map-is-empty\" href=\"https://infra.spec.whatwg.org/#map-is-empty\">is not empty</a>\n               and <var>encodings</var> contains an encoding whose\n               <a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCRtpEncodingParameters\" data-xref-for=\"RTCRtpEncodingParameters\" href=\"https://w3c.github.io/webrtc-svc/#dom-rtcrtpencodingparameters-scalabilitymode\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtpencodingparameters-scalabilitymode-13\"><code>scalabilityMode</code></a> value is\n               not supported by the codec used for the encoding's RTP stream."
        },
        {
          "html": "If <a data-xref-type=\"_IDL_\" data-link-type=\"dictionary\" data-lt=\"RTCRtpEncodingParameters\" data-cite=\"webrtc\" data-cite-path=\"\" data-cite-frag=\"dom-rtcrtpencodingparameters\" href=\"https://www.w3.org/TR/webrtc/#dom-rtcrtpencodingparameters\"><code>RTCRtpEncodingParameters</code></a> stored in\n               <var>encodings</var> contains more than one\n               encoding with an <a data-link-type=\"dict-member\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCRtpEncodingParameters\" data-xref-for=\"RTCRtpEncodingParameters\" data-cite=\"webrtc\" data-cite-path=\"\" data-cite-frag=\"dom-rtcrtpencodingparameters-active\" href=\"https://www.w3.org/TR/webrtc/#dom-rtcrtpencodingparameters-active\"><code>active</code></a>\n               member with a value of <code>true</code> and\n               <var>encodings</var> contains any encoding whose\n               <a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCRtpEncodingParameters\" data-xref-for=\"RTCRtpEncodingParameters\" href=\"https://w3c.github.io/webrtc-svc/#dom-rtcrtpencodingparameters-scalabilitymode\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtpencodingparameters-scalabilitymode-14\"><code>scalabilityMode</code></a> value\n               represents an \"S mode\" and whose\n               <a data-link-type=\"dict-member\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCRtpEncodingParameters\" data-xref-for=\"RTCRtpEncodingParameters\" data-cite=\"webrtc\" data-cite-path=\"\" data-cite-frag=\"dom-rtcrtpencodingparameters-active\" href=\"https://www.w3.org/TR/webrtc/#dom-rtcrtpencodingparameters-active\"><code>active</code></a> member has a\n               value of <code>true</code>."
        }
      ]
    }
  ]
}