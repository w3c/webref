{
  "spec": {
    "title": "WebRTC: Real-Time Communication in Browsers",
    "url": "https://w3c.github.io/webrtc-pc/"
  },
  "algorithms": [
    {
      "html": "As one of the <a data-cite=\"html\" data-cite-path=\"/document-lifecycle.html\" data-cite-frag=\"unloading-document-cleanup-steps\" data-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/document-lifecycle.html#unloading-document-cleanup-steps\">unloading document cleanup steps</a>, run the\n            following steps:",
      "rationale": ".algorithm",
      "steps": [
        {
          "html": "<p>\n                Let <var>window</var> be <var>document</var>'s <a data-link-type=\"dfn|abstract-op\" data-cite=\"html\" data-cite-path=\"/webappapis.html\" data-cite-frag=\"concept-relevant-global\" data-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global\">relevant global object</a>.\n              </p>"
        },
        {
          "html": "<p>\n                For each <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCPeerConnection\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcpeerconnection\" class=\"internalDFN\" id=\"ref-for-dom-rtcpeerconnection-23\"><code>RTCPeerConnection</code></a> object <var>connection</var>\n                whose <a data-link-type=\"dfn|abstract-op\" data-cite=\"html\" data-cite-path=\"/webappapis.html\" data-cite-frag=\"concept-relevant-global\" data-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global\">relevant global object</a> is <var>window</var>, <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-close-the-connection\" class=\"internalDFN\" id=\"ref-for-dfn-close-the-connection-1\">close the connection</a> with <var>connection</var> and the value <code>true</code>.\n              </p>"
        }
      ]
    },
    {
      "name": "RTCPeerConnection/[[DocumentOrigin]]",
      "href": "https://w3c.github.io/webrtc-pc/#dfn-documentorigin",
      "html": "When the <dfn id=\"dom-peerconnection\" data-export=\"\" data-dfn-type=\"constructor\" data-idl=\"constructor\" data-title=\"RTCPeerConnection.constructor()\" data-dfn-for=\"RTCPeerConnection\" data-lt=\"constructor()|constructor(configuration)\" data-local-lt=\"RTCPeerConnection.constructor|RTCPeerConnection.constructor()|constructor\" tabindex=\"0\" aria-haspopup=\"dialog\"><code>RTCPeerConnection.constructor()</code></dfn> is\n              invoked, the user agent <em class=\"rfc2119\">MUST</em> run the following steps:",
      "rationale": ".algorithm",
      "steps": [
        {
          "html": "<p>\n                  If any of the steps enumerated below fails for a reason not\n                  specified here, <a data-link-type=\"dfn|abstract-op\" data-link-for=\"exception\" data-xref-for=\"exception\" data-cite=\"webidl\" data-cite-path=\"\" data-cite-frag=\"dfn-throw\" data-type=\"dfn\" href=\"https://webidl.spec.whatwg.org/#dfn-throw\">throw</a> an <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"UnknownError\" data-cite=\"webidl\" data-cite-path=\"\" data-cite-frag=\"unknownerror\" data-type=\"exception\" href=\"https://webidl.spec.whatwg.org/#unknownerror\"><code>UnknownError</code></a>\n                  with the <a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"DOMException\" data-xref-for=\"DOMException\" data-cite=\"webidl\" data-cite-path=\"\" data-cite-frag=\"dom-domexception-message\" data-type=\"attribute\" href=\"https://webidl.spec.whatwg.org/#dom-domexception-message\"><code>message</code></a> attribute set to an\n                  appropriate description.\n                </p>"
        },
        {
          "html": "<p>\n                  Let <var>connection</var> be a newly created\n                  <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCPeerConnection\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcpeerconnection\" class=\"internalDFN\" id=\"ref-for-dom-rtcpeerconnection-24\"><code>RTCPeerConnection</code></a> object.\n                </p>"
        },
        {
          "html": "<p>\n                  Let <var>connection</var> have a\n                  <dfn data-dfn-for=\"RTCPeerConnection\" data-idl=\"\" data-noexport=\"\" data-dfn-type=\"attribute\" id=\"dfn-documentorigin\" tabindex=\"0\" aria-haspopup=\"dialog\">[[DocumentOrigin]]</dfn> internal slot, initialized to\n                  the <a data-link-type=\"dfn|abstract-op\" data-cite=\"html\" data-cite-path=\"/webappapis.html\" data-cite-frag=\"relevant-settings-object\" data-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object\">relevant settings object</a>'s\n                  <a data-link-type=\"dfn|abstract-op\" data-link-for=\"environment settings object\" data-xref-for=\"environment settings object\" data-cite=\"html\" data-cite-path=\"/webappapis.html\" data-cite-frag=\"concept-settings-object-origin\" data-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-origin\">origin</a>.\n                </p>"
        },
        {
          "html": "Let <var>configuration</var> be the\n              method's first argument."
        },
        {
          "html": "If the <a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCConfiguration\" data-xref-for=\"RTCConfiguration\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcconfiguration-certificates\" class=\"internalDFN\" id=\"ref-for-dom-rtcconfiguration-certificates-2\"><code>certificates</code></a> value in\n                  <var>configuration</var> is non-empty, run the following\n                  steps for each <var>certificate</var> in certificates:",
          "rationale": "if",
          "steps": [
            {
              "html": "<p>\n                      If the value of\n                      <var>certificate</var>.<a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCCertificate\" data-xref-for=\"RTCCertificate\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtccertificate-expires\" class=\"internalDFN\" id=\"ref-for-dom-rtccertificate-expires-1\"><code>expires</code></a> is less\n                      than the current time, <a data-link-type=\"dfn|abstract-op\" data-link-for=\"exception\" data-xref-for=\"exception\" data-cite=\"webidl\" data-cite-path=\"\" data-cite-frag=\"dfn-throw\" data-type=\"dfn\" href=\"https://webidl.spec.whatwg.org/#dfn-throw\">throw</a> an\n                      <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"InvalidAccessError\" data-cite=\"webidl\" data-cite-path=\"\" data-cite-frag=\"invalidaccesserror\" data-type=\"exception\" href=\"https://webidl.spec.whatwg.org/#invalidaccesserror\"><code>InvalidAccessError</code></a>.\n                    </p>"
            },
            {
              "html": "<p>\n                      If <var>certificate</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCCertificate\" data-xref-for=\"RTCCertificate\" data-lt=\"[[Origin]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-origin\" class=\"internalDFN\" id=\"ref-for-dfn-origin-1\"><code>[[Origin]]</code></a> is not\n                      <a data-cite=\"html\" data-cite-path=\"/browsers.html\" data-cite-frag=\"same-origin\" data-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/browsers.html#same-origin\">same origin</a> with\n                      <var>connection</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCPeerConnection\" data-xref-for=\"RTCPeerConnection\" data-lt=\"[[DocumentOrigin]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-documentorigin\" class=\"internalDFN\" id=\"ref-for-dfn-documentorigin-1\"><code>[[DocumentOrigin]]</code></a>, <a data-link-type=\"dfn|abstract-op\" data-link-for=\"exception\" data-xref-for=\"exception\" data-cite=\"webidl\" data-cite-path=\"\" data-cite-frag=\"dfn-throw\" data-type=\"dfn\" href=\"https://webidl.spec.whatwg.org/#dfn-throw\">throw</a> an <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"InvalidAccessError\" data-cite=\"webidl\" data-cite-path=\"\" data-cite-frag=\"invalidaccesserror\" data-type=\"exception\" href=\"https://webidl.spec.whatwg.org/#invalidaccesserror\"><code>InvalidAccessError</code></a>.\n                    </p>"
            },
            {
              "html": "<p>\n                      Store <var>certificate</var>.\n                    </p>"
            }
          ]
        },
        {
          "html": "<p>\n                  Else, generate one or more new <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCCertificate\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtccertificate\" class=\"internalDFN\" id=\"ref-for-dom-rtccertificate-4\"><code>RTCCertificate</code></a> instances\n                  with this <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCPeerConnection\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcpeerconnection\" class=\"internalDFN\" id=\"ref-for-dom-rtcpeerconnection-25\"><code>RTCPeerConnection</code></a> instance and store them. This\n                  <em class=\"rfc2119\">MAY</em> happen asynchronously and the value of\n                  <a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCConfiguration\" data-xref-for=\"RTCConfiguration\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcconfiguration-certificates\" class=\"internalDFN\" id=\"ref-for-dom-rtcconfiguration-certificates-3\"><code>certificates</code></a> remains\n                  <code>undefined</code> for the subsequent steps. As noted in\n                  Section 4.3.2.3 of [<cite><a class=\"bibref\" data-link-type=\"biblio\" href=\"https://w3c.github.io/webrtc-pc/#bib-rfc8826\" title=\"Security Considerations for WebRTC\">RFC8826</a></cite>], WebRTC utilizes\n                  self-signed rather than Public Key Infrastructure (PKI)\n                  certificates, so that the expiration check is to ensure that\n                  keys are not used indefinitely and additional certificate\n                  checks are unnecessary.\n                </p>"
        },
        {
          "html": "<p>\n                  Initialize <var>connection</var>'s <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-ice-agent\" class=\"internalDFN\" id=\"ref-for-dfn-ice-agent-7\">ICE Agent</a>.\n                </p>"
        },
        {
          "html": "<p>\n                  Let <var>connection</var> have a\n                  <dfn data-dfn-for=\"RTCPeerConnection\" data-idl=\"\" data-noexport=\"\" data-dfn-type=\"attribute\" id=\"dfn-configuration\" tabindex=\"0\" aria-haspopup=\"dialog\">[[Configuration]]</dfn>\n                  internal slot, initialized to <code>null</code>.\n                  <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#set-pc-configuration\" class=\"internalDFN\" id=\"ref-for-set-pc-configuration-1\">Set the configuration</a> specified by <var>configuration</var>.\n                </p>"
        },
        {
          "html": "<p>\n                  Let <var>connection</var> have an <dfn data-dfn-for=\"RTCPeerConnection\" class=\"export\" data-idl=\"\" data-dfn-type=\"attribute\" data-export=\"\" id=\"dfn-isclosed\" tabindex=\"0\" aria-haspopup=\"dialog\">[[IsClosed]]</dfn>\n                  internal slot, initialized to <code>false</code>.\n                </p>"
        },
        {
          "html": "<p>\n                  Let <var>connection</var> have a\n                  <dfn data-dfn-for=\"RTCPeerConnection\" data-idl=\"\" data-noexport=\"\" data-dfn-type=\"attribute\" id=\"dfn-negotiationneeded\" tabindex=\"0\" aria-haspopup=\"dialog\">[[NegotiationNeeded]]</dfn> internal slot, initialized\n                  to <code>false</code>.\n                </p>"
        },
        {
          "html": "<p>\n                  Let <var>connection</var> have an\n                  <dfn data-dfn-for=\"RTCPeerConnection\" data-idl=\"\" data-noexport=\"\" data-dfn-type=\"attribute\" id=\"dfn-sctptransport\" tabindex=\"0\" aria-haspopup=\"dialog\">[[SctpTransport]]</dfn> internal slot, initialized to\n                  <code>null</code>.\n                </p>"
        },
        {
          "html": "<p>\n                  Let <var>connection</var> have a\n                  <dfn data-dfn-for=\"RTCPeerConnection\" data-idl=\"\" data-noexport=\"\" data-dfn-type=\"attribute\" id=\"dfn-datachannels\" tabindex=\"0\" aria-haspopup=\"dialog\">[[DataChannels]]</dfn> internal slot, initialized to\n                  an empty <a data-link-type=\"dfn|abstract-op\" data-cite=\"infra\" data-cite-path=\"\" data-cite-frag=\"ordered-set\" data-type=\"dfn\" href=\"https://infra.spec.whatwg.org/#ordered-set\">ordered set</a>.\n                </p>"
        },
        {
          "html": "<p>\n                  Let <var>connection</var> have an <dfn data-dfn-for=\"RTCPeerConnection\" data-idl=\"\" data-noexport=\"\" data-dfn-type=\"attribute\" id=\"dfn-operations\" tabindex=\"0\" aria-haspopup=\"dialog\">[[Operations]]</dfn>\n                  internal slot, representing an <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-operations-chain\" class=\"internalDFN\" id=\"ref-for-dfn-operations-chain-1\">operations chain</a>,\n                  initialized to an empty list.\n                </p>"
        },
        {
          "html": "<p>\n                  Let <var>connection</var> have a\n                  <dfn data-dfn-for=\"RTCPeerConnection\" data-idl=\"\" data-noexport=\"\" data-dfn-type=\"attribute\" id=\"dfn-updatenegotiationneededflagonemptychain\" tabindex=\"0\" aria-haspopup=\"dialog\">[[UpdateNegotiationNeededFlagOnEmptyChain]]</dfn>\n                  internal slot, initialized to <code>false</code>.\n                </p>"
        },
        {
          "html": "<p>\n                  Let <var>connection</var> have an\n                  <dfn data-dfn-for=\"RTCPeerConnection\" data-idl=\"\" data-noexport=\"\" data-dfn-type=\"attribute\" id=\"dfn-lastcreatedoffer\" tabindex=\"0\" aria-haspopup=\"dialog\">[[LastCreatedOffer]]</dfn> internal slot, initialized\n                  to <code>\"\"</code>.\n                </p>"
        },
        {
          "html": "<p>\n                  Let <var>connection</var> have an\n                  <dfn data-dfn-for=\"RTCPeerConnection\" data-idl=\"\" data-noexport=\"\" data-dfn-type=\"attribute\" id=\"dfn-lastcreatedanswer\" tabindex=\"0\" aria-haspopup=\"dialog\">[[LastCreatedAnswer]]</dfn> internal slot, initialized\n                  to <code>\"\"</code>.\n                </p>"
        },
        {
          "html": "<p>\n                  Let <var>connection</var> have an\n                  <dfn data-dfn-for=\"RTCPeerConnection\" data-idl=\"\" data-noexport=\"\" data-dfn-type=\"attribute\" id=\"dfn-earlycandidates\" tabindex=\"0\" aria-haspopup=\"dialog\">[[EarlyCandidates]]</dfn> internal slot, initialized to\n                  an empty list.\n                </p>"
        },
        {
          "html": "<p>\n                  Let <var>connection</var> have an\n                  <dfn data-dfn-for=\"RTCPeerConnection\" data-idl=\"\" data-noexport=\"\" data-dfn-type=\"attribute\" id=\"dfn-signalingstate\" tabindex=\"0\" aria-haspopup=\"dialog\">[[SignalingState]]</dfn>\n                  internal slot, initialized to \"<a data-link-type=\"idl\" data-xref-type=\"enum-value\" data-link-for=\"RTCSignalingState\" data-xref-for=\"RTCSignalingState\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcsignalingstate-stable\" class=\"internalDFN\" id=\"ref-for-dom-rtcsignalingstate-stable-6\"><code>stable</code></a>\".\n                </p>"
        },
        {
          "html": "<p>\n                  Let <var>connection</var> have an\n                  <dfn data-dfn-for=\"RTCPeerConnection\" data-idl=\"\" data-noexport=\"\" data-dfn-type=\"attribute\" id=\"dfn-iceconnectionstate\" tabindex=\"0\" aria-haspopup=\"dialog\">[[IceConnectionState]]</dfn>\n                  internal slot, initialized to \"<a data-link-type=\"idl\" data-xref-type=\"enum-value\" data-link-for=\"RTCIceConnectionState\" data-xref-for=\"RTCIceConnectionState\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtciceconnectionstate-new\" class=\"internalDFN\" id=\"ref-for-dom-rtciceconnectionstate-new-3\"><code>new</code></a>\".\n                </p>"
        },
        {
          "html": "<p>\n                  Let <var>connection</var> have an\n                  <dfn data-dfn-for=\"RTCPeerConnection\" data-idl=\"\" data-noexport=\"\" data-dfn-type=\"attribute\" id=\"dfn-icegatheringstate\" tabindex=\"0\" aria-haspopup=\"dialog\">[[IceGatheringState]]</dfn>\n                  internal slot, initialized to \"<a data-link-type=\"idl\" data-xref-type=\"enum-value\" data-link-for=\"RTCIceGatheringState\" data-xref-for=\"RTCIceGatheringState\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcicegatheringstate-new\" class=\"internalDFN\" id=\"ref-for-dom-rtcicegatheringstate-new-2\"><code>new</code></a>\".\n                </p>"
        },
        {
          "html": "<p>\n                  Let <var>connection</var> have an\n                  <dfn data-dfn-for=\"RTCPeerConnection\" data-idl=\"\" data-noexport=\"\" data-dfn-type=\"attribute\" id=\"dfn-connectionstate\" tabindex=\"0\" aria-haspopup=\"dialog\">[[ConnectionState]]</dfn>\n                  internal slot, initialized to \"<a data-link-type=\"idl\" data-xref-type=\"enum-value\" data-link-for=\"RTCPeerConnectionState\" data-xref-for=\"RTCPeerConnectionState\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcpeerconnectionstate-new\" class=\"internalDFN\" id=\"ref-for-dom-rtcpeerconnectionstate-new-2\"><code>new</code></a>\".\n                </p>"
        },
        {
          "html": "<p>\n                  Let <var>connection</var> have a\n                  <dfn data-dfn-for=\"RTCPeerConnection\" data-idl=\"\" data-noexport=\"\" data-dfn-type=\"attribute\" id=\"dfn-pendinglocaldescription\" tabindex=\"0\" aria-haspopup=\"dialog\">[[PendingLocalDescription]]</dfn> internal slot,\n                  initialized to <code>null</code>.\n                </p>"
        },
        {
          "html": "<p>\n                  Let <var>connection</var> have a\n                  <dfn data-dfn-for=\"RTCPeerConnection\" data-idl=\"\" data-noexport=\"\" data-dfn-type=\"attribute\" id=\"dfn-currentlocaldescription\" tabindex=\"0\" aria-haspopup=\"dialog\">[[CurrentLocalDescription]]</dfn> internal slot,\n                  initialized to <code>null</code>.\n                </p>"
        },
        {
          "html": "<p>\n                  Let <var>connection</var> have a\n                  <dfn data-dfn-for=\"RTCPeerConnection\" data-idl=\"\" data-noexport=\"\" data-dfn-type=\"attribute\" id=\"dfn-pendingremotedescription\" tabindex=\"0\" aria-haspopup=\"dialog\">[[PendingRemoteDescription]]</dfn> internal slot,\n                  initialized to <code>null</code>.\n                </p>"
        },
        {
          "html": "<p>\n                  Let <var>connection</var> have a\n                  <dfn data-dfn-for=\"RTCPeerConnection\" data-idl=\"\" data-noexport=\"\" data-dfn-type=\"attribute\" id=\"dfn-currentremotedescription\" tabindex=\"0\" aria-haspopup=\"dialog\">[[CurrentRemoteDescription]]</dfn> internal slot,\n                  initialized to <code>null</code>.\n                </p>"
        },
        {
          "html": "<p>\n                  Let <var>connection</var> have a\n                  <dfn data-dfn-for=\"RTCPeerConnection\" data-idl=\"\" data-noexport=\"\" data-dfn-type=\"attribute\" id=\"dfn-localicecredentialstoreplace\" tabindex=\"0\" aria-haspopup=\"dialog\">[[LocalIceCredentialsToReplace]]</dfn> internal slot,\n                  initialized to an empty set.\n                </p>"
        },
        {
          "html": "<p>\n                  Return <var>connection</var>.\n                </p>"
        }
      ]
    },
    {
      "name": "chain",
      "href": "https://w3c.github.io/webrtc-pc/#dfn-chain",
      "html": "To <dfn class=\"abstract-op\" data-lt=\"chain|chaining|chain an operation\" data-dfn-type=\"abstract-op\" id=\"dfn-chain\" tabindex=\"0\" aria-haspopup=\"dialog\" data-export=\"\">chain an operation</dfn> to an\n              <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCPeerConnection\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcpeerconnection\" class=\"internalDFN\" id=\"ref-for-dom-rtcpeerconnection-27\"><code>RTCPeerConnection</code></a> object's <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-operations-chain\" class=\"internalDFN\" id=\"ref-for-dfn-operations-chain-2\">operations chain</a>, run the\n              following steps:",
      "rationale": ".algorithm",
      "steps": [
        {
          "html": "<p>\n                  Let <var>connection</var> be the <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCPeerConnection\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcpeerconnection\" class=\"internalDFN\" id=\"ref-for-dom-rtcpeerconnection-28\"><code>RTCPeerConnection</code></a>\n                  object.\n                </p>"
        },
        {
          "html": "<p>\n                  If <var>connection</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCPeerConnection\" data-xref-for=\"RTCPeerConnection\" data-lt=\"[[IsClosed]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-isclosed\" class=\"internalDFN\" id=\"ref-for-dfn-isclosed-3\"><code>[[IsClosed]]</code></a> is\n                  <code>true</code>, return a promise <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-reject\" class=\"internalDFN\" id=\"ref-for-dfn-reject-1\">rejected</a> with a\n                  newly <a data-link-type=\"dfn|abstract-op\" data-link-for=\"exception\" data-xref-for=\"exception\" data-cite=\"webidl\" data-cite-path=\"\" data-cite-frag=\"dfn-create-exception\" data-type=\"dfn\" href=\"https://webidl.spec.whatwg.org/#dfn-create-exception\">created</a> <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"InvalidStateError\" data-cite=\"webidl\" data-cite-path=\"\" data-cite-frag=\"invalidstateerror\" data-type=\"exception\" href=\"https://webidl.spec.whatwg.org/#invalidstateerror\"><code>InvalidStateError</code></a>.\n                </p>"
        },
        {
          "html": "<p>\n                  Let <var>operation</var> be the operation to be chained.\n                </p>"
        },
        {
          "html": "<p>\n                  Let <var>p</var> be a new promise.\n                </p>"
        },
        {
          "html": "<p>\n                  Append <var>operation</var> to <a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCPeerConnection\" data-xref-for=\"RTCPeerConnection\" data-lt=\"[[Operations]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-operations\" class=\"internalDFN\" id=\"ref-for-dfn-operations-2\"><code>[[Operations]]</code></a>.\n                </p>"
        },
        {
          "html": "<p>\n                  If the length of <a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCPeerConnection\" data-xref-for=\"RTCPeerConnection\" data-lt=\"[[Operations]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-operations\" class=\"internalDFN\" id=\"ref-for-dfn-operations-3\"><code>[[Operations]]</code></a> is exactly 1, execute\n                  <var>operation</var>.\n                </p>"
        },
        {
          "html": "Upon <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-fulfill\" class=\"internalDFN\" id=\"ref-for-dfn-fulfill-1\">fulfillment</a> or <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-reject\" class=\"internalDFN\" id=\"ref-for-dfn-reject-2\">rejection</a> of the promise\n                  returned by the <var>operation</var>, run the following\n                  steps:",
          "rationale": "if",
          "steps": [
            {
              "html": "<p>\n                      If <var>connection</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCPeerConnection\" data-xref-for=\"RTCPeerConnection\" data-lt=\"[[IsClosed]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-isclosed\" class=\"internalDFN\" id=\"ref-for-dfn-isclosed-4\"><code>[[IsClosed]]</code></a> is\n                      <code>true</code>, abort these steps.\n                    </p>"
            },
            {
              "html": "<p>\n                      If the promise returned by <var>operation</var> was <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-fulfill\" class=\"internalDFN\" id=\"ref-for-dfn-fulfill-2\">fulfilled</a> with a value, <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-fulfill\" class=\"internalDFN\" id=\"ref-for-dfn-fulfill-3\">fulfill</a> <var>p</var>\n                      with that value.\n                    </p>"
            },
            {
              "html": "<p>\n                      If the promise returned by <var>operation</var> was <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-reject\" class=\"internalDFN\" id=\"ref-for-dfn-reject-3\">rejected</a> with a value, <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-reject\" class=\"internalDFN\" id=\"ref-for-dfn-reject-4\">reject</a> <var>p</var> with\n                      that value.\n                    </p>"
            },
            {
              "html": "Upon <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-fulfill\" class=\"internalDFN\" id=\"ref-for-dfn-fulfill-4\">fulfillment</a> or <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-reject\" class=\"internalDFN\" id=\"ref-for-dfn-reject-5\">rejection</a> of\n                      <var>p</var>, execute the following steps:",
              "rationale": "if",
              "steps": [
                {
                  "html": "<p>\n                          If <var>connection</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCPeerConnection\" data-xref-for=\"RTCPeerConnection\" data-lt=\"[[IsClosed]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-isclosed\" class=\"internalDFN\" id=\"ref-for-dfn-isclosed-5\"><code>[[IsClosed]]</code></a> is\n                          <code>true</code>, abort these steps.\n                        </p>"
                },
                {
                  "html": "<p>\n                          Remove the first element of <a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCPeerConnection\" data-xref-for=\"RTCPeerConnection\" data-lt=\"[[Operations]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-operations\" class=\"internalDFN\" id=\"ref-for-dfn-operations-4\"><code>[[Operations]]</code></a>.\n                        </p>"
                },
                {
                  "html": "<p>\n                          If <a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCPeerConnection\" data-xref-for=\"RTCPeerConnection\" data-lt=\"[[Operations]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-operations\" class=\"internalDFN\" id=\"ref-for-dfn-operations-5\"><code>[[Operations]]</code></a> is non-empty, execute the\n                          operation represented by the first element of\n                          <a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCPeerConnection\" data-xref-for=\"RTCPeerConnection\" data-lt=\"[[Operations]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-operations\" class=\"internalDFN\" id=\"ref-for-dfn-operations-6\"><code>[[Operations]]</code></a>, and abort these steps.\n                        </p>"
                },
                {
                  "html": "<p>\n                          If\n                          <var>connection</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCPeerConnection\" data-xref-for=\"RTCPeerConnection\" data-lt=\"[[UpdateNegotiationNeededFlagOnEmptyChain]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-updatenegotiationneededflagonemptychain\" class=\"internalDFN\" id=\"ref-for-dfn-updatenegotiationneededflagonemptychain-1\"><code>[[UpdateNegotiationNeededFlagOnEmptyChain]]</code></a>\n                          is <code>false</code>, abort these steps.\n                        </p>"
                },
                {
                  "html": "<p>\n                          Set\n                          <var>connection</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCPeerConnection\" data-xref-for=\"RTCPeerConnection\" data-lt=\"[[UpdateNegotiationNeededFlagOnEmptyChain]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-updatenegotiationneededflagonemptychain\" class=\"internalDFN\" id=\"ref-for-dfn-updatenegotiationneededflagonemptychain-2\"><code>[[UpdateNegotiationNeededFlagOnEmptyChain]]</code></a>\n                          to <code>false</code>.\n                        </p>"
                },
                {
                  "html": "<p>\n                          <a href=\"https://w3c.github.io/webrtc-pc/#dfn-update-the-negotiation-needed-flag\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-update-the-negotiation-needed-flag-1\">Update the negotiation-needed flag</a> for\n                          <var>connection</var>.\n                        </p>"
                }
              ]
            }
          ]
        },
        {
          "html": "<p>\n                  Return <var>p</var>.\n                </p>"
        }
      ]
    },
    {
      "html": "An <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCPeerConnection\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcpeerconnection\" class=\"internalDFN\" id=\"ref-for-dom-rtcpeerconnection-29\"><code>RTCPeerConnection</code></a> object has an aggregated\n              <a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCPeerConnection\" data-xref-for=\"RTCPeerConnection\" data-lt=\"[[ConnectionState]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-connectionstate\" class=\"internalDFN\" id=\"ref-for-dfn-connectionstate-2\"><code>[[ConnectionState]]</code></a>.\n              Whenever the state of an <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCDtlsTransport\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcdtlstransport\" class=\"internalDFN\" id=\"ref-for-dom-rtcdtlstransport-5\"><code>RTCDtlsTransport</code></a> changes,\n              the user agent <em class=\"rfc2119\">MUST</em> queue a task that runs the following steps:",
      "rationale": ".algorithm",
      "steps": [
        {
          "html": "<p>\n                  Let <var>connection</var> be this <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCPeerConnection\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcpeerconnection\" class=\"internalDFN\" id=\"ref-for-dom-rtcpeerconnection-30\"><code>RTCPeerConnection</code></a>\n                  object associated with the <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCDtlsTransport\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcdtlstransport\" class=\"internalDFN\" id=\"ref-for-dom-rtcdtlstransport-6\"><code>RTCDtlsTransport</code></a> object whose state changed.\n                </p>"
        },
        {
          "html": "<p>\n                  If <var>connection</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCPeerConnection\" data-xref-for=\"RTCPeerConnection\" data-lt=\"[[IsClosed]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-isclosed\" class=\"internalDFN\" id=\"ref-for-dfn-isclosed-6\"><code>[[IsClosed]]</code></a> is\n                  <code>true</code>, abort these steps.\n                </p>"
        },
        {
          "html": "<p>\n                  Let <var>newState</var> be the value of deriving a new state\n                  value as described by the <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCPeerConnectionState\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcpeerconnectionstate\" class=\"internalDFN\" id=\"ref-for-dom-rtcpeerconnectionstate-3\"><code>RTCPeerConnectionState</code></a> enum.\n                </p>"
        },
        {
          "html": "<p>\n                  If <var>connection</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCPeerConnection\" data-xref-for=\"RTCPeerConnection\" data-lt=\"[[ConnectionState]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-connectionstate\" class=\"internalDFN\" id=\"ref-for-dfn-connectionstate-3\"><code>[[ConnectionState]]</code></a> is equal to\n                  <var>newState</var>, abort these steps.\n                </p>"
        },
        {
          "html": "<p>\n                  Set <var>connection</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCPeerConnection\" data-xref-for=\"RTCPeerConnection\" data-lt=\"[[ConnectionState]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-connectionstate\" class=\"internalDFN\" id=\"ref-for-dfn-connectionstate-4\"><code>[[ConnectionState]]</code></a> to\n                  <var>newState</var>.\n                </p>"
        },
        {
          "html": "<p>\n                  <a data-link-type=\"dfn|abstract-op\" data-cite=\"dom\" data-cite-path=\"\" data-cite-frag=\"concept-event-fire\" data-type=\"dfn\" href=\"https://dom.spec.whatwg.org/#concept-event-fire\">Fire an event</a> named <a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCPeerConnection\" data-xref-for=\"RTCPeerConnection\" href=\"https://w3c.github.io/webrtc-pc/#event-connectionstatechange\" class=\"internalDFN\" id=\"ref-for-event-connectionstatechange-1\"><code>connectionstatechange</code></a> at\n                  <var>connection</var>.\n                </p>"
        }
      ]
    },
    {
      "name": "set the session description",
      "href": "https://w3c.github.io/webrtc-pc/#set-description",
      "html": "To <dfn class=\"abstract-op\" id=\"set-description\" data-lt=\"set the session description|setting a session description|set a session description\" data-dfn-type=\"abstract-op\" tabindex=\"0\" aria-haspopup=\"dialog\" data-export=\"\">set\n              a session description</dfn> <var>description</var> on an\n              <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCPeerConnection\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcpeerconnection\" class=\"internalDFN\" id=\"ref-for-dom-rtcpeerconnection-33\"><code>RTCPeerConnection</code></a> object <var>connection</var>, given a\n              <var>remote</var> boolean, run the following steps:",
      "rationale": ".algorithm",
      "steps": [
        {
          "html": "<p>\n                  Let <var>p</var> be a new promise.\n                </p>"
        },
        {
          "html": "<p>\n                  If <var>description</var>.<a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCSessionDescriptionInit\" data-xref-for=\"RTCSessionDescriptionInit\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcsessiondescriptioninit-type\" class=\"internalDFN\" id=\"ref-for-dom-rtcsessiondescriptioninit-type-1\"><code>type</code></a> is\n                  \"<a data-link-type=\"idl\" data-xref-type=\"enum-value\" data-link-for=\"RTCSdpType\" data-xref-for=\"RTCSdpType\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcsdptype-rollback\" class=\"internalDFN\" id=\"ref-for-dom-rtcsdptype-rollback-1\"><code>rollback</code></a>\" and\n                  <var>connection</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCPeerConnection\" data-xref-for=\"RTCPeerConnection\" data-lt=\"[[SignalingState]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-signalingstate\" class=\"internalDFN\" id=\"ref-for-dfn-signalingstate-3\"><code>[[SignalingState]]</code></a>\n                  is either \"<a data-link-type=\"idl\" data-xref-type=\"enum-value\" data-link-for=\"RTCSignalingState\" data-xref-for=\"RTCSignalingState\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcsignalingstate-stable\" class=\"internalDFN\" id=\"ref-for-dom-rtcsignalingstate-stable-7\"><code>stable</code></a>\",\n                  \"<a data-link-type=\"idl\" data-xref-type=\"enum-value\" data-link-for=\"RTCSignalingState\" data-xref-for=\"RTCSignalingState\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcsignalingstate-have-local-pranswer\" class=\"internalDFN\" id=\"ref-for-dom-rtcsignalingstate-have-local-pranswer-3\"><code>have-local-pranswer</code></a>\", or\n                  \"<a data-link-type=\"idl\" data-xref-type=\"enum-value\" data-link-for=\"RTCSignalingState\" data-xref-for=\"RTCSignalingState\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcsignalingstate-have-remote-pranswer\" class=\"internalDFN\" id=\"ref-for-dom-rtcsignalingstate-have-remote-pranswer-3\"><code>have-remote-pranswer</code></a>\", then <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-reject\" class=\"internalDFN\" id=\"ref-for-dfn-reject-6\">reject</a> <var>p</var> with a newly <a data-link-type=\"dfn|abstract-op\" data-link-for=\"exception\" data-xref-for=\"exception\" data-cite=\"webidl\" data-cite-path=\"\" data-cite-frag=\"dfn-create-exception\" data-type=\"dfn\" href=\"https://webidl.spec.whatwg.org/#dfn-create-exception\">created</a>\n                  <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"InvalidStateError\" data-cite=\"webidl\" data-cite-path=\"\" data-cite-frag=\"invalidstateerror\" data-type=\"exception\" href=\"https://webidl.spec.whatwg.org/#invalidstateerror\"><code>InvalidStateError</code></a> and abort these steps.\n                </p>"
        },
        {
          "html": "<p>\n                  Let <var>jsepSetOfTransceivers</var> be a shallow copy of\n                  <var>connection</var>'s <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#transceivers-set\" class=\"internalDFN\" id=\"ref-for-transceivers-set-4\">set of transceivers</a>.\n                </p>"
        },
        {
          "html": "<a data-link-type=\"dfn|abstract-op\" data-cite=\"html\" data-cite-path=\"/infrastructure.html\" data-cite-frag=\"in-parallel\" data-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel\">In parallel</a>, start the process to apply\n                  <var>description</var> as described in <span>[<cite><a class=\"bibref\" data-link-type=\"biblio\" href=\"https://w3c.github.io/webrtc-pc/#bib-rfc9429\" title=\"JavaScript Session Establishment Protocol (JSEP)\">RFC9429</a></cite>] (<a href=\"https://www.rfc-editor.org/rfc/rfc9429#section-5.5\">section 5.5.</a> and <a href=\"https://www.rfc-editor.org/rfc/rfc9429#section-5.6\">section 5.6.</a>)</span>,\n                  with these additional restrictions:",
          "rationale": "use",
          "steps": [
            {
              "html": "<p>\n                      Use <var>jsepSetOfTransceivers</var> as the source of\n                      truth with regard to what \"RtpTransceivers\" exist, and\n                      their <a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpTransceiver\" data-xref-for=\"RTCRtpTransceiver\" data-lt=\"[[JsepMid]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-jsepmid\" class=\"internalDFN\" id=\"ref-for-dfn-jsepmid-1\"><code>[[JsepMid]]</code></a> internal slot as their \"mid\n                      property\".\n                    </p>"
            },
            {
              "html": "<p>If <var>remote</var> is <code>false</code> and this\n                    triggers the ICE candidate gathering process in <span>[<cite><a class=\"bibref\" data-link-type=\"biblio\" href=\"https://w3c.github.io/webrtc-pc/#bib-rfc9429\" title=\"JavaScript Session Establishment Protocol (JSEP)\">RFC9429</a></cite>] (<a href=\"https://www.rfc-editor.org/rfc/rfc9429#section-5.9\">section 5.9.</a>)</span>, the <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-ice-agent\" class=\"internalDFN\" id=\"ref-for-dfn-ice-agent-8\">ICE Agent</a>\n                    <em class=\"rfc2119\">MUST NOT</em> gather candidates that would be\n                    <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-administratively-prohibited\" class=\"internalDFN\" id=\"ref-for-dfn-administratively-prohibited-1\">administratively prohibited</a>.\n                    </p>"
            },
            {
              "html": "<p>If <var>remote</var> is <code>true</code> and this\n                    triggers ICE connectivity checks in <span>[<cite><a class=\"bibref\" data-link-type=\"biblio\" href=\"https://w3c.github.io/webrtc-pc/#bib-rfc9429\" title=\"JavaScript Session Establishment Protocol (JSEP)\">RFC9429</a></cite>] (<a href=\"https://www.rfc-editor.org/rfc/rfc9429#section-5.10\">section 5.10.</a>)</span>, the\n                    <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-ice-agent\" class=\"internalDFN\" id=\"ref-for-dfn-ice-agent-9\">ICE Agent</a> <em class=\"rfc2119\">MUST NOT</em> attempt to connect to candidates\n                    that are <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-administratively-prohibited\" class=\"internalDFN\" id=\"ref-for-dfn-administratively-prohibited-2\">administratively prohibited</a>.\n                    </p>"
            },
            {
              "html": "<p>\n                      If <var>remote</var> is <code>true</code>, validate\n                      back-to-back offers as if answers were applied in\n                      between, by running the check for subsequent offers as if\n                      it were in stable state.\n                    </p>"
            },
            {
              "html": "&nbsp;"
            },
            {
              "html": "If the process to apply <var>description</var> fails for\n                      any reason, then the user agent <em class=\"rfc2119\">MUST</em> queue a task that\n                      runs the following steps:",
              "rationale": "if",
              "steps": [
                {
                  "html": "<p>\n                          If <var>connection</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCPeerConnection\" data-xref-for=\"RTCPeerConnection\" data-lt=\"[[IsClosed]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-isclosed\" class=\"internalDFN\" id=\"ref-for-dfn-isclosed-7\"><code>[[IsClosed]]</code></a> is\n                          <code>true</code>, then abort these steps.\n                        </p>"
                },
                {
                  "html": "<p>\n                          If\n                          <var>description</var>.<a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCSessionDescriptionInit\" data-xref-for=\"RTCSessionDescriptionInit\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcsessiondescriptioninit-type\" class=\"internalDFN\" id=\"ref-for-dom-rtcsessiondescriptioninit-type-2\"><code>type</code></a>\n                          is invalid for the current\n                          <var>connection</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCPeerConnection\" data-xref-for=\"RTCPeerConnection\" data-lt=\"[[SignalingState]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-signalingstate\" class=\"internalDFN\" id=\"ref-for-dfn-signalingstate-4\"><code>[[SignalingState]]</code></a>\n                          as described in\n                          <span>\n                          [<cite><a class=\"bibref\" data-link-type=\"biblio\" href=\"https://w3c.github.io/webrtc-pc/#bib-rfc9429\" title=\"JavaScript Session Establishment Protocol (JSEP)\">RFC9429</a></cite>] (<a href=\"https://www.rfc-editor.org/rfc/rfc9429#section-5.5\">section 5.5.</a> and <a href=\"https://www.rfc-editor.org/rfc/rfc9429#section-5.6\">section 5.6.</a>)</span>, then <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-reject\" class=\"internalDFN\" id=\"ref-for-dfn-reject-7\">reject</a> <var>p</var> with\n                          a newly <a data-link-type=\"dfn|abstract-op\" data-link-for=\"exception\" data-xref-for=\"exception\" data-cite=\"webidl\" data-cite-path=\"\" data-cite-frag=\"dfn-create-exception\" data-type=\"dfn\" href=\"https://webidl.spec.whatwg.org/#dfn-create-exception\">created</a> <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"InvalidStateError\" data-cite=\"webidl\" data-cite-path=\"\" data-cite-frag=\"invalidstateerror\" data-type=\"exception\" href=\"https://webidl.spec.whatwg.org/#invalidstateerror\"><code>InvalidStateError</code></a>\n                          and abort these steps.\n                        </p>"
                },
                {
                  "html": "<p>\n                          If the content of <var>description</var> is not valid\n                          SDP syntax, then <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-reject\" class=\"internalDFN\" id=\"ref-for-dfn-reject-8\">reject</a> <var>p</var> with an\n                          <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCError\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcerror\" class=\"internalDFN\" id=\"ref-for-dom-rtcerror-1\"><code>RTCError</code></a> (with <a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCError\" data-xref-for=\"RTCError\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcerror-errordetail\" class=\"internalDFN\" id=\"ref-for-dom-rtcerror-errordetail-1\"><code>errorDetail</code></a> set to\n                          \"<a data-link-type=\"idl\" data-xref-type=\"enum-value\" data-link-for=\"RTCErrorDetailType\" data-xref-for=\"RTCErrorDetailType\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcerrordetailtype-sdp-syntax-error\" class=\"internalDFN\" id=\"ref-for-dom-rtcerrordetailtype-sdp-syntax-error-1\"><code>sdp-syntax-error</code></a>\" and the\n                          <a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCError\" data-xref-for=\"RTCError\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcerror-sdplinenumber\" class=\"internalDFN\" id=\"ref-for-dom-rtcerror-sdplinenumber-1\"><code>sdpLineNumber</code></a> attribute set to the line\n                          number in the SDP where the syntax error was\n                          detected) and abort these steps.\n                        </p>"
                },
                {
                  "html": "<p>\n                          If <var>remote</var> is <code>true</code>, the\n                          <var>connection</var>'s <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCRtcpMuxPolicy\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtcpmuxpolicy\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtcpmuxpolicy-7\"><code>RTCRtcpMuxPolicy</code></a> is\n                          <a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCRtcpMuxPolicy\" data-xref-for=\"RTCRtcpMuxPolicy\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtcpmuxpolicy-require\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtcpmuxpolicy-require-3\"><code>require</code></a> and the description does\n                          not use RTCP mux, then <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-reject\" class=\"internalDFN\" id=\"ref-for-dfn-reject-9\">reject</a> <var>p</var> with\n                          a newly <a data-link-type=\"dfn|abstract-op\" data-link-for=\"exception\" data-xref-for=\"exception\" data-cite=\"webidl\" data-cite-path=\"\" data-cite-frag=\"dfn-create-exception\" data-type=\"dfn\" href=\"https://webidl.spec.whatwg.org/#dfn-create-exception\">created</a>\n                          <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"InvalidAccessError\" data-cite=\"webidl\" data-cite-path=\"\" data-cite-frag=\"invalidaccesserror\" data-type=\"exception\" href=\"https://webidl.spec.whatwg.org/#invalidaccesserror\"><code>InvalidAccessError</code></a> and abort these steps.\n                        </p>"
                },
                {
                  "html": "<p>\n                          If the description attempted to renegotiate RIDs, as\n                          described above, then <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-reject\" class=\"internalDFN\" id=\"ref-for-dfn-reject-10\">reject</a> <var>p</var> with\n                          a newly <a data-link-type=\"dfn|abstract-op\" data-link-for=\"exception\" data-xref-for=\"exception\" data-cite=\"webidl\" data-cite-path=\"\" data-cite-frag=\"dfn-create-exception\" data-type=\"dfn\" href=\"https://webidl.spec.whatwg.org/#dfn-create-exception\">created</a>\n                          <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"InvalidAccessError\" data-cite=\"webidl\" data-cite-path=\"\" data-cite-frag=\"invalidaccesserror\" data-type=\"exception\" href=\"https://webidl.spec.whatwg.org/#invalidaccesserror\"><code>InvalidAccessError</code></a> and abort these steps.\n                        </p>"
                },
                {
                  "html": "<p>\n                          If the content of <var>description</var> is invalid,\n                          then <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-reject\" class=\"internalDFN\" id=\"ref-for-dfn-reject-11\">reject</a> <var>p</var> with a newly <a data-link-type=\"dfn|abstract-op\" data-link-for=\"exception\" data-xref-for=\"exception\" data-cite=\"webidl\" data-cite-path=\"\" data-cite-frag=\"dfn-create-exception\" data-type=\"dfn\" href=\"https://webidl.spec.whatwg.org/#dfn-create-exception\">created</a> <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"InvalidAccessError\" data-cite=\"webidl\" data-cite-path=\"\" data-cite-frag=\"invalidaccesserror\" data-type=\"exception\" href=\"https://webidl.spec.whatwg.org/#invalidaccesserror\"><code>InvalidAccessError</code></a> and abort\n                          these steps.\n                        </p>"
                },
                {
                  "html": "<p>\n                          For all other errors, <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-reject\" class=\"internalDFN\" id=\"ref-for-dfn-reject-12\">reject</a> <var>p</var> with\n                          a newly <a data-link-type=\"dfn|abstract-op\" data-link-for=\"exception\" data-xref-for=\"exception\" data-cite=\"webidl\" data-cite-path=\"\" data-cite-frag=\"dfn-create-exception\" data-type=\"dfn\" href=\"https://webidl.spec.whatwg.org/#dfn-create-exception\">created</a> <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"OperationError\" data-cite=\"webidl\" data-cite-path=\"\" data-cite-frag=\"operationerror\" data-type=\"exception\" href=\"https://webidl.spec.whatwg.org/#operationerror\"><code>OperationError</code></a>.\n                        </p>"
                }
              ]
            },
            {
              "html": "If <var>description</var> is applied successfully, the\n                      user agent <em class=\"rfc2119\">MUST</em> queue a task that runs the following\n                      steps:",
              "rationale": "if",
              "steps": [
                {
                  "html": "<p>\n                          If <var>connection</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCPeerConnection\" data-xref-for=\"RTCPeerConnection\" data-lt=\"[[IsClosed]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-isclosed\" class=\"internalDFN\" id=\"ref-for-dfn-isclosed-8\"><code>[[IsClosed]]</code></a> is\n                          <code>true</code>, then abort these steps.\n                        </p>"
                },
                {
                  "html": "<p>\n                          If <var>remote</var> is <code>true</code> and\n                          <var>description</var> is of type\n                          \"<a data-link-type=\"idl\" data-xref-type=\"enum-value\" data-link-for=\"RTCSdpType\" data-xref-for=\"RTCSdpType\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcsdptype-offer\" class=\"internalDFN\" id=\"ref-for-dom-rtcsdptype-offer-5\"><code>offer</code></a>\", then if any\n                          <a data-link-type=\"idl\" data-xref-type=\"method\" data-link-for=\"RTCPeerConnection\" data-xref-for=\"RTCPeerConnection\" data-lt=\"addTrack()\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcpeerconnection-addtrack\" class=\"internalDFN\" id=\"ref-for-dom-rtcpeerconnection-addtrack-1\"><code>addTrack</code></a><code>()</code> methods on\n                          <var>connection</var> succeeded\n                          during the process to apply <var>description</var>,\n                          abort these steps and start the process over as if\n                          they had succeeded prior, to include the extra\n                          transceiver(s) in the process.\n                        </p>"
                },
                {
                  "html": "<p>\n                          If any promises from <a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCRtpSender\" data-xref-for=\"RTCRtpSender\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtpsender-setparameters\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtpsender-setparameters-1\"><code>setParameters</code></a>\n                          methods on <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCRtpSender\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtpsender\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtpsender-1\"><code>RTCRtpSender</code></a>s associated with\n                          <var>connection</var> are not <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-settled\" class=\"internalDFN\" id=\"ref-for-dfn-settled-3\">settled</a>, abort these\n                          steps and start the process over.\n                        </p>"
                },
                {
                  "html": "If <var>description</var> is of type\n                          \"<a data-link-type=\"idl\" data-xref-type=\"enum-value\" data-link-for=\"RTCSdpType\" data-xref-for=\"RTCSdpType\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcsdptype-offer\" class=\"internalDFN\" id=\"ref-for-dom-rtcsdptype-offer-6\"><code>offer</code></a>\" and\n                          <var>connection</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCPeerConnection\" data-xref-for=\"RTCPeerConnection\" data-lt=\"[[SignalingState]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-signalingstate\" class=\"internalDFN\" id=\"ref-for-dfn-signalingstate-5\"><code>[[SignalingState]]</code></a>\n                          is \"<a data-link-type=\"idl\" data-xref-type=\"enum-value\" data-link-for=\"RTCSignalingState\" data-xref-for=\"RTCSignalingState\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcsignalingstate-stable\" class=\"internalDFN\" id=\"ref-for-dom-rtcsignalingstate-stable-8\"><code>stable</code></a>\" then for each\n                          <var>transceiver</var> in <var>connection</var>'s <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#transceivers-set\" class=\"internalDFN\" id=\"ref-for-transceivers-set-5\">set of transceivers</a>, run the following steps:",
                  "rationale": "set",
                  "steps": [
                    {
                      "html": "<p>\n                              Set\n                              <var>transceiver</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpTransceiver\" data-xref-for=\"RTCRtpTransceiver\" data-lt=\"[[Sender]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-sender\" class=\"internalDFN\" id=\"ref-for-dfn-sender-1\"><code>[[Sender]]</code></a>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpSender\" data-xref-for=\"RTCRtpSender\" data-lt=\"[[LastStableStateSenderTransport]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-laststablestatesendertransport\" class=\"internalDFN\" id=\"ref-for-dfn-laststablestatesendertransport-1\"><code>[[LastStableStateSenderTransport]]</code></a>\n                              to\n                              <var>transceiver</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpTransceiver\" data-xref-for=\"RTCRtpTransceiver\" data-lt=\"[[Sender]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-sender\" class=\"internalDFN\" id=\"ref-for-dfn-sender-2\"><code>[[Sender]]</code></a>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpSender\" data-xref-for=\"RTCRtpSender\" data-lt=\"[[SenderTransport]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-sendertransport\" class=\"internalDFN\" id=\"ref-for-dfn-sendertransport-1\"><code>[[SenderTransport]]</code></a>.\n                            </p>"
                    },
                    {
                      "html": "<p>\n                              If\n                              <var>transceiver</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpTransceiver\" data-xref-for=\"RTCRtpTransceiver\" data-lt=\"[[Sender]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-sender\" class=\"internalDFN\" id=\"ref-for-dfn-sender-3\"><code>[[Sender]]</code></a>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpSender\" data-xref-for=\"RTCRtpSender\" data-lt=\"[[SendEncodings]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-sendencodings\" class=\"internalDFN\" id=\"ref-for-dfn-sendencodings-1\"><code>[[SendEncodings]]</code></a>.length\n                              is <code>1</code> and the lone encoding <a data-link-type=\"dfn|abstract-op\" data-link-for=\"map\" data-xref-for=\"map\" data-cite=\"infra\" data-cite-path=\"\" data-cite-frag=\"map-exists\" data-type=\"dfn\" href=\"https://infra.spec.whatwg.org/#map-exists\">contains</a> no <a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCRtpCodingParameters\" data-xref-for=\"RTCRtpCodingParameters\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtpcodingparameters-rid\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtpcodingparameters-rid-1\"><code>rid</code></a> member,\n                              then set\n                              <var>transceiver</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpTransceiver\" data-xref-for=\"RTCRtpTransceiver\" data-lt=\"[[Sender]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-sender\" class=\"internalDFN\" id=\"ref-for-dfn-sender-4\"><code>[[Sender]]</code></a>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpSender\" data-xref-for=\"RTCRtpSender\" data-lt=\"[[LastStableRidlessSendEncodings]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-laststableridlesssendencodings\" class=\"internalDFN\" id=\"ref-for-dfn-laststableridlesssendencodings-1\"><code>[[LastStableRidlessSendEncodings]]</code></a>\n                              to\n                              <var>transceiver</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpTransceiver\" data-xref-for=\"RTCRtpTransceiver\" data-lt=\"[[Sender]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-sender\" class=\"internalDFN\" id=\"ref-for-dfn-sender-5\"><code>[[Sender]]</code></a>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpSender\" data-xref-for=\"RTCRtpSender\" data-lt=\"[[SendEncodings]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-sendencodings\" class=\"internalDFN\" id=\"ref-for-dfn-sendencodings-2\"><code>[[SendEncodings]]</code></a>;\n                              Otherwise, set\n                              <var>transceiver</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpTransceiver\" data-xref-for=\"RTCRtpTransceiver\" data-lt=\"[[Sender]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-sender\" class=\"internalDFN\" id=\"ref-for-dfn-sender-6\"><code>[[Sender]]</code></a>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpSender\" data-xref-for=\"RTCRtpSender\" data-lt=\"[[LastStableRidlessSendEncodings]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-laststableridlesssendencodings\" class=\"internalDFN\" id=\"ref-for-dfn-laststableridlesssendencodings-2\"><code>[[LastStableRidlessSendEncodings]]</code></a>\n                              to <code>null</code>.\n                            </p>"
                    },
                    {
                      "html": "<p>\n                              Set\n                              <var>transceiver</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpTransceiver\" data-xref-for=\"RTCRtpTransceiver\" data-lt=\"[[Receiver]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-receiver\" class=\"internalDFN\" id=\"ref-for-dfn-receiver-1\"><code>[[Receiver]]</code></a>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpReceiver\" data-xref-for=\"RTCRtpReceiver\" data-lt=\"[[LastStableStateReceiverTransport]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-laststablestatereceivertransport\" class=\"internalDFN\" id=\"ref-for-dfn-laststablestatereceivertransport-1\"><code>[[LastStableStateReceiverTransport]]</code></a>\n                              to\n                              <var>transceiver</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpTransceiver\" data-xref-for=\"RTCRtpTransceiver\" data-lt=\"[[Receiver]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-receiver\" class=\"internalDFN\" id=\"ref-for-dfn-receiver-2\"><code>[[Receiver]]</code></a>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpReceiver\" data-xref-for=\"RTCRtpReceiver\" data-lt=\"[[ReceiverTransport]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-receivertransport\" class=\"internalDFN\" id=\"ref-for-dfn-receivertransport-1\"><code>[[ReceiverTransport]]</code></a>.\n                            </p>"
                    },
                    {
                      "html": "<p>\n                              Set\n                              <var>transceiver</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpTransceiver\" data-xref-for=\"RTCRtpTransceiver\" data-lt=\"[[Receiver]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-receiver\" class=\"internalDFN\" id=\"ref-for-dfn-receiver-3\"><code>[[Receiver]]</code></a>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpReceiver\" data-xref-for=\"RTCRtpReceiver\" data-lt=\"[[LastStableStateAssociatedRemoteMediaStreams]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-laststablestateassociatedremotemediastreams\" class=\"internalDFN\" id=\"ref-for-dfn-laststablestateassociatedremotemediastreams-1\"><code>[[LastStableStateAssociatedRemoteMediaStreams]]</code></a>\n                              to\n                              <var>transceiver</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpTransceiver\" data-xref-for=\"RTCRtpTransceiver\" data-lt=\"[[Receiver]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-receiver\" class=\"internalDFN\" id=\"ref-for-dfn-receiver-4\"><code>[[Receiver]]</code></a>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpReceiver\" data-xref-for=\"RTCRtpReceiver\" data-lt=\"[[AssociatedRemoteMediaStreams]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-associatedremotemediastreams\" class=\"internalDFN\" id=\"ref-for-dfn-associatedremotemediastreams-1\"><code>[[AssociatedRemoteMediaStreams]]</code></a>.\n                            </p>"
                    },
                    {
                      "html": "<p>\n                              Set\n                              <var>transceiver</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpTransceiver\" data-xref-for=\"RTCRtpTransceiver\" data-lt=\"[[Receiver]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-receiver\" class=\"internalDFN\" id=\"ref-for-dfn-receiver-5\"><code>[[Receiver]]</code></a>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpReceiver\" data-xref-for=\"RTCRtpReceiver\" data-lt=\"[[LastStableStateReceiveCodecs]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-laststablestatereceivecodecs\" class=\"internalDFN\" id=\"ref-for-dfn-laststablestatereceivecodecs-1\"><code>[[LastStableStateReceiveCodecs]]</code></a>\n                              to\n                              <var>transceiver</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpTransceiver\" data-xref-for=\"RTCRtpTransceiver\" data-lt=\"[[Receiver]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-receiver\" class=\"internalDFN\" id=\"ref-for-dfn-receiver-6\"><code>[[Receiver]]</code></a>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpReceiver\" data-xref-for=\"RTCRtpReceiver\" data-lt=\"[[ReceiveCodecs]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-receivecodecs\" class=\"internalDFN\" id=\"ref-for-dfn-receivecodecs-1\"><code>[[ReceiveCodecs]]</code></a>.\n                            </p>"
                    }
                  ]
                },
                {
                  "html": "If <var>remote</var> is <code>false</code>, then run\n                          one of the following steps:",
                  "rationale": "if",
                  "steps": [
                    {
                      "html": "<p>\n                              If <var>description</var> is of type\n                              \"<a data-link-type=\"idl\" data-xref-type=\"enum-value\" data-link-for=\"RTCSdpType\" data-xref-for=\"RTCSdpType\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcsdptype-offer\" class=\"internalDFN\" id=\"ref-for-dom-rtcsdptype-offer-7\"><code>offer</code></a>\", set\n                              <var>connection</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCPeerConnection\" data-xref-for=\"RTCPeerConnection\" data-lt=\"[[PendingLocalDescription]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-pendinglocaldescription\" class=\"internalDFN\" id=\"ref-for-dfn-pendinglocaldescription-2\"><code>[[PendingLocalDescription]]</code></a>\n                              to a new <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCSessionDescription\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcsessiondescription\" class=\"internalDFN\" id=\"ref-for-dom-rtcsessiondescription-1\"><code>RTCSessionDescription</code></a> object\n                              constructed from <var>description</var>, set\n                              <var>connection</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCPeerConnection\" data-xref-for=\"RTCPeerConnection\" data-lt=\"[[SignalingState]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-signalingstate\" class=\"internalDFN\" id=\"ref-for-dfn-signalingstate-6\"><code>[[SignalingState]]</code></a> to\n                              \"<a data-link-type=\"idl\" data-xref-type=\"enum-value\" data-link-for=\"RTCSignalingState\" data-xref-for=\"RTCSignalingState\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcsignalingstate-have-local-offer\" class=\"internalDFN\" id=\"ref-for-dom-rtcsignalingstate-have-local-offer-3\"><code>have-local-offer</code></a>\", and <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-release-early-candidates\" class=\"internalDFN\" id=\"ref-for-dfn-release-early-candidates-1\">release early candidates</a>.\n                            </p>"
                    },
                    {
                      "html": "<p>\n                              If <var>description</var> is of type\n                              \"<a data-link-type=\"idl\" data-xref-type=\"enum-value\" data-link-for=\"RTCSdpType\" data-xref-for=\"RTCSdpType\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcsdptype-answer\" class=\"internalDFN\" id=\"ref-for-dom-rtcsdptype-answer-2\"><code>answer</code></a>\", then this completes an\n                              offer answer negotiation. Set\n                              <var>connection</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCPeerConnection\" data-xref-for=\"RTCPeerConnection\" data-lt=\"[[CurrentLocalDescription]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-currentlocaldescription\" class=\"internalDFN\" id=\"ref-for-dfn-currentlocaldescription-2\"><code>[[CurrentLocalDescription]]</code></a>\n                              to a new <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCSessionDescription\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcsessiondescription\" class=\"internalDFN\" id=\"ref-for-dom-rtcsessiondescription-2\"><code>RTCSessionDescription</code></a> object\n                              constructed from <var>description</var>, and set\n                              <var>connection</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCPeerConnection\" data-xref-for=\"RTCPeerConnection\" data-lt=\"[[CurrentRemoteDescription]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-currentremotedescription\" class=\"internalDFN\" id=\"ref-for-dfn-currentremotedescription-2\"><code>[[CurrentRemoteDescription]]</code></a>\n                              to\n                              <var>connection</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCPeerConnection\" data-xref-for=\"RTCPeerConnection\" data-lt=\"[[PendingRemoteDescription]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-pendingremotedescription\" class=\"internalDFN\" id=\"ref-for-dfn-pendingremotedescription-2\"><code>[[PendingRemoteDescription]]</code></a>.\n                              Set both\n                              <var>connection</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCPeerConnection\" data-xref-for=\"RTCPeerConnection\" data-lt=\"[[PendingRemoteDescription]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-pendingremotedescription\" class=\"internalDFN\" id=\"ref-for-dfn-pendingremotedescription-3\"><code>[[PendingRemoteDescription]]</code></a>\n                              and\n                              <var>connection</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCPeerConnection\" data-xref-for=\"RTCPeerConnection\" data-lt=\"[[PendingLocalDescription]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-pendinglocaldescription\" class=\"internalDFN\" id=\"ref-for-dfn-pendinglocaldescription-3\"><code>[[PendingLocalDescription]]</code></a>\n                              to <code>null</code>. Set both\n                              <var>connection</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCPeerConnection\" data-xref-for=\"RTCPeerConnection\" data-lt=\"[[LastCreatedOffer]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-lastcreatedoffer\" class=\"internalDFN\" id=\"ref-for-dfn-lastcreatedoffer-1\"><code>[[LastCreatedOffer]]</code></a>\n                              and\n                              <var>connection</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCPeerConnection\" data-xref-for=\"RTCPeerConnection\" data-lt=\"[[LastCreatedAnswer]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-lastcreatedanswer\" class=\"internalDFN\" id=\"ref-for-dfn-lastcreatedanswer-1\"><code>[[LastCreatedAnswer]]</code></a>\n                              to <code>\"\"</code>, set\n                              <var>connection</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCPeerConnection\" data-xref-for=\"RTCPeerConnection\" data-lt=\"[[SignalingState]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-signalingstate\" class=\"internalDFN\" id=\"ref-for-dfn-signalingstate-7\"><code>[[SignalingState]]</code></a> to\n                              \"<a data-link-type=\"idl\" data-xref-type=\"enum-value\" data-link-for=\"RTCSignalingState\" data-xref-for=\"RTCSignalingState\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcsignalingstate-stable\" class=\"internalDFN\" id=\"ref-for-dom-rtcsignalingstate-stable-9\"><code>stable</code></a>\", and <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-release-early-candidates\" class=\"internalDFN\" id=\"ref-for-dfn-release-early-candidates-2\">release early candidates</a>. Finally, if none of the ICE\n                              credentials in\n                              <var>connection</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCPeerConnection\" data-xref-for=\"RTCPeerConnection\" data-lt=\"[[LocalIceCredentialsToReplace]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-localicecredentialstoreplace\" class=\"internalDFN\" id=\"ref-for-dfn-localicecredentialstoreplace-3\"><code>[[LocalIceCredentialsToReplace]]</code></a>\n                              are present in <var>description</var>, then set\n                              <var>connection</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCPeerConnection\" data-xref-for=\"RTCPeerConnection\" data-lt=\"[[LocalIceCredentialsToReplace]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-localicecredentialstoreplace\" class=\"internalDFN\" id=\"ref-for-dfn-localicecredentialstoreplace-4\"><code>[[LocalIceCredentialsToReplace]]</code></a>\n                              to an empty set.\n                            </p>"
                    },
                    {
                      "html": "<p>\n                              If <var>description</var> is of type\n                              \"<a data-link-type=\"idl\" data-xref-type=\"enum-value\" data-link-for=\"RTCSdpType\" data-xref-for=\"RTCSdpType\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcsdptype-pranswer\" class=\"internalDFN\" id=\"ref-for-dom-rtcsdptype-pranswer-3\"><code>pranswer</code></a>\", then set\n                              <var>connection</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCPeerConnection\" data-xref-for=\"RTCPeerConnection\" data-lt=\"[[PendingLocalDescription]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-pendinglocaldescription\" class=\"internalDFN\" id=\"ref-for-dfn-pendinglocaldescription-4\"><code>[[PendingLocalDescription]]</code></a>\n                              to a new <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCSessionDescription\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcsessiondescription\" class=\"internalDFN\" id=\"ref-for-dom-rtcsessiondescription-3\"><code>RTCSessionDescription</code></a> object\n                              constructed from <var>description</var>, set\n                              <var>connection</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCPeerConnection\" data-xref-for=\"RTCPeerConnection\" data-lt=\"[[SignalingState]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-signalingstate\" class=\"internalDFN\" id=\"ref-for-dfn-signalingstate-8\"><code>[[SignalingState]]</code></a> to\n                              \"<a data-link-type=\"idl\" data-xref-type=\"enum-value\" data-link-for=\"RTCSignalingState\" data-xref-for=\"RTCSignalingState\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcsignalingstate-have-local-pranswer\" class=\"internalDFN\" id=\"ref-for-dom-rtcsignalingstate-have-local-pranswer-4\"><code>have-local-pranswer</code></a>\", and\n                              <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-release-early-candidates\" class=\"internalDFN\" id=\"ref-for-dfn-release-early-candidates-3\">release early candidates</a>.\n                            </p>"
                    }
                  ]
                },
                {
                  "html": "Otherwise, (if <var>remote</var> is\n                          <code>true</code>) run one of the following steps:",
                  "rationale": "if",
                  "steps": [
                    {
                      "html": "<p>\n                              If <var>description</var> is of type\n                              \"<a data-link-type=\"idl\" data-xref-type=\"enum-value\" data-link-for=\"RTCSdpType\" data-xref-for=\"RTCSdpType\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcsdptype-offer\" class=\"internalDFN\" id=\"ref-for-dom-rtcsdptype-offer-8\"><code>offer</code></a>\", set\n                              <var>connection</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCPeerConnection\" data-xref-for=\"RTCPeerConnection\" data-lt=\"[[PendingRemoteDescription]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-pendingremotedescription\" class=\"internalDFN\" id=\"ref-for-dfn-pendingremotedescription-4\"><code>[[PendingRemoteDescription]]</code></a>\n                              attribute to a new <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCSessionDescription\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcsessiondescription\" class=\"internalDFN\" id=\"ref-for-dom-rtcsessiondescription-4\"><code>RTCSessionDescription</code></a>\n                              object constructed from <var>description</var>,\n                              and set\n                              <var>connection</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCPeerConnection\" data-xref-for=\"RTCPeerConnection\" data-lt=\"[[SignalingState]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-signalingstate\" class=\"internalDFN\" id=\"ref-for-dfn-signalingstate-9\"><code>[[SignalingState]]</code></a>\n                              to\n                              \"<a data-link-type=\"idl\" data-xref-type=\"enum-value\" data-link-for=\"RTCSignalingState\" data-xref-for=\"RTCSignalingState\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcsignalingstate-have-remote-offer\" class=\"internalDFN\" id=\"ref-for-dom-rtcsignalingstate-have-remote-offer-3\"><code>have-remote-offer</code></a>\".\n                            </p>"
                    },
                    {
                      "html": "<p>\n                              If <var>description</var> is of type\n                              \"<a data-link-type=\"idl\" data-xref-type=\"enum-value\" data-link-for=\"RTCSdpType\" data-xref-for=\"RTCSdpType\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcsdptype-answer\" class=\"internalDFN\" id=\"ref-for-dom-rtcsdptype-answer-3\"><code>answer</code></a>\", then this completes an\n                              offer answer negotiation. Set\n                              <var>connection</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCPeerConnection\" data-xref-for=\"RTCPeerConnection\" data-lt=\"[[CurrentRemoteDescription]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-currentremotedescription\" class=\"internalDFN\" id=\"ref-for-dfn-currentremotedescription-3\"><code>[[CurrentRemoteDescription]]</code></a>\n                              to a new <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCSessionDescription\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcsessiondescription\" class=\"internalDFN\" id=\"ref-for-dom-rtcsessiondescription-5\"><code>RTCSessionDescription</code></a> object\n                              constructed from <var>description</var>, and set\n                              <var>connection</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCPeerConnection\" data-xref-for=\"RTCPeerConnection\" data-lt=\"[[CurrentLocalDescription]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-currentlocaldescription\" class=\"internalDFN\" id=\"ref-for-dfn-currentlocaldescription-3\"><code>[[CurrentLocalDescription]]</code></a>\n                              to\n                              <var>connection</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCPeerConnection\" data-xref-for=\"RTCPeerConnection\" data-lt=\"[[PendingLocalDescription]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-pendinglocaldescription\" class=\"internalDFN\" id=\"ref-for-dfn-pendinglocaldescription-5\"><code>[[PendingLocalDescription]]</code></a>.\n                              Set both\n                              <var>connection</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCPeerConnection\" data-xref-for=\"RTCPeerConnection\" data-lt=\"[[PendingRemoteDescription]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-pendingremotedescription\" class=\"internalDFN\" id=\"ref-for-dfn-pendingremotedescription-5\"><code>[[PendingRemoteDescription]]</code></a>\n                              and\n                              <var>connection</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCPeerConnection\" data-xref-for=\"RTCPeerConnection\" data-lt=\"[[PendingLocalDescription]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-pendinglocaldescription\" class=\"internalDFN\" id=\"ref-for-dfn-pendinglocaldescription-6\"><code>[[PendingLocalDescription]]</code></a>\n                              to <code>null</code>. Set both\n                              <var>connection</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCPeerConnection\" data-xref-for=\"RTCPeerConnection\" data-lt=\"[[LastCreatedOffer]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-lastcreatedoffer\" class=\"internalDFN\" id=\"ref-for-dfn-lastcreatedoffer-2\"><code>[[LastCreatedOffer]]</code></a>\n                              and\n                              <var>connection</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCPeerConnection\" data-xref-for=\"RTCPeerConnection\" data-lt=\"[[LastCreatedAnswer]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-lastcreatedanswer\" class=\"internalDFN\" id=\"ref-for-dfn-lastcreatedanswer-2\"><code>[[LastCreatedAnswer]]</code></a>\n                              to <code>\"\"</code>, and set\n                              <var>connection</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCPeerConnection\" data-xref-for=\"RTCPeerConnection\" data-lt=\"[[SignalingState]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-signalingstate\" class=\"internalDFN\" id=\"ref-for-dfn-signalingstate-10\"><code>[[SignalingState]]</code></a> to\n                              \"<a data-link-type=\"idl\" data-xref-type=\"enum-value\" data-link-for=\"RTCSignalingState\" data-xref-for=\"RTCSignalingState\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcsignalingstate-stable\" class=\"internalDFN\" id=\"ref-for-dom-rtcsignalingstate-stable-10\"><code>stable</code></a>\". Finally, if none\n                              of the ICE credentials in\n                              <var>connection</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCPeerConnection\" data-xref-for=\"RTCPeerConnection\" data-lt=\"[[LocalIceCredentialsToReplace]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-localicecredentialstoreplace\" class=\"internalDFN\" id=\"ref-for-dfn-localicecredentialstoreplace-5\"><code>[[LocalIceCredentialsToReplace]]</code></a>\n                              are present in the newly set\n                              <var>connection</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCPeerConnection\" data-xref-for=\"RTCPeerConnection\" data-lt=\"[[CurrentLocalDescription]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-currentlocaldescription\" class=\"internalDFN\" id=\"ref-for-dfn-currentlocaldescription-4\"><code>[[CurrentLocalDescription]]</code></a>,\n                              then set\n                              <var>connection</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCPeerConnection\" data-xref-for=\"RTCPeerConnection\" data-lt=\"[[LocalIceCredentialsToReplace]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-localicecredentialstoreplace\" class=\"internalDFN\" id=\"ref-for-dfn-localicecredentialstoreplace-6\"><code>[[LocalIceCredentialsToReplace]]</code></a>\n                              to an empty set.\n                            </p>"
                    },
                    {
                      "html": "<p>\n                              If <var>description</var> is of type\n                              \"<a data-link-type=\"idl\" data-xref-type=\"enum-value\" data-link-for=\"RTCSdpType\" data-xref-for=\"RTCSdpType\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcsdptype-pranswer\" class=\"internalDFN\" id=\"ref-for-dom-rtcsdptype-pranswer-4\"><code>pranswer</code></a>\", then set\n                              <var>connection</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCPeerConnection\" data-xref-for=\"RTCPeerConnection\" data-lt=\"[[PendingRemoteDescription]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-pendingremotedescription\" class=\"internalDFN\" id=\"ref-for-dfn-pendingremotedescription-6\"><code>[[PendingRemoteDescription]]</code></a>\n                              to a new <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCSessionDescription\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcsessiondescription\" class=\"internalDFN\" id=\"ref-for-dom-rtcsessiondescription-6\"><code>RTCSessionDescription</code></a> object\n                              constructed from <var>description</var> and set\n                              <var>connection</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCPeerConnection\" data-xref-for=\"RTCPeerConnection\" data-lt=\"[[SignalingState]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-signalingstate\" class=\"internalDFN\" id=\"ref-for-dfn-signalingstate-11\"><code>[[SignalingState]]</code></a> to\n                              \"<a data-link-type=\"idl\" data-xref-type=\"enum-value\" data-link-for=\"RTCSignalingState\" data-xref-for=\"RTCSignalingState\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcsignalingstate-have-remote-pranswer\" class=\"internalDFN\" id=\"ref-for-dom-rtcsignalingstate-have-remote-pranswer-4\"><code>have-remote-pranswer</code></a>\".\n                            </p>"
                    }
                  ]
                },
                {
                  "html": "<p>\n                          If <var>description</var> is of type\n                          \"<a data-link-type=\"idl\" data-xref-type=\"enum-value\" data-link-for=\"RTCSdpType\" data-xref-for=\"RTCSdpType\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcsdptype-answer\" class=\"internalDFN\" id=\"ref-for-dom-rtcsdptype-answer-4\"><code>answer</code></a>\", and it initiates the closure\n                          of an existing SCTP association, as defined in\n                          [<cite><a class=\"bibref\" data-link-type=\"biblio\" href=\"https://w3c.github.io/webrtc-pc/#bib-rfc8841\" title=\"Session Description Protocol (SDP) Offer/Answer Procedures for Stream Control Transmission Protocol (SCTP) over Datagram Transport Layer Security (DTLS) Transport\">RFC8841</a></cite>], Sections 10.3 and 10.4, set the value\n                          of <var>connection</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCPeerConnection\" data-xref-for=\"RTCPeerConnection\" data-lt=\"[[SctpTransport]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-sctptransport\" class=\"internalDFN\" id=\"ref-for-dfn-sctptransport-4\"><code>[[SctpTransport]]</code></a> to\n                          <code>null</code>.\n                        </p>"
                },
                {
                  "html": "<p>\n                          Let <var>trackEventInits</var>,\n                          <var>muteTracks</var>, <var>addList</var>,\n                          <var>removeList</var> and <var>errorList</var> be\n                          empty lists.\n                        </p>"
                },
                {
                  "html": "If <var>description</var> is of type\n                          \"<a data-link-type=\"idl\" data-xref-type=\"enum-value\" data-link-for=\"RTCSdpType\" data-xref-for=\"RTCSdpType\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcsdptype-answer\" class=\"internalDFN\" id=\"ref-for-dom-rtcsdptype-answer-5\"><code>answer</code></a>\" or \"<a data-link-type=\"idl\" data-xref-type=\"enum-value\" data-link-for=\"RTCSdpType\" data-xref-for=\"RTCSdpType\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcsdptype-pranswer\" class=\"internalDFN\" id=\"ref-for-dom-rtcsdptype-pranswer-5\"><code>pranswer</code></a>\",\n                          then run the following steps:",
                  "rationale": "if",
                  "steps": [
                    {
                      "html": "<p>\n                              If <var>description</var> initiates the\n                              establishment of a new SCTP association, as\n                              defined in [<cite><a class=\"bibref\" data-link-type=\"biblio\" href=\"https://w3c.github.io/webrtc-pc/#bib-rfc8841\" title=\"Session Description Protocol (SDP) Offer/Answer Procedures for Stream Control Transmission Protocol (SCTP) over Datagram Transport Layer Security (DTLS) Transport\">RFC8841</a></cite>], Sections 10.3 and 10.4,\n                              <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-create-an-rtcsctptransport\" class=\"internalDFN\" id=\"ref-for-dfn-create-an-rtcsctptransport-1\">create an RTCSctpTransport</a> with an initial\n                              state of \"<a data-link-type=\"idl\" data-xref-type=\"enum-value\" data-link-for=\"RTCSctpTransportState\" data-xref-for=\"RTCSctpTransportState\" href=\"https://w3c.github.io/webrtc-pc/#idl-def-RTCSctpTransportState.connecting\" class=\"internalDFN\" id=\"ref-for-idl-def-RTCSctpTransportState.connecting-1\"><code>connecting</code></a>\"\n                              and assign the result to the\n                              <a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCPeerConnection\" data-xref-for=\"RTCPeerConnection\" data-lt=\"[[SctpTransport]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-sctptransport\" class=\"internalDFN\" id=\"ref-for-dfn-sctptransport-5\"><code>[[SctpTransport]]</code></a> slot. Otherwise, if an\n                              SCTP association is established, but the\n                              <code class=\"sdp\">max-message-size</code> SDP\n                              attribute is updated, <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-update-the-data-max-message-size\" class=\"internalDFN\" id=\"ref-for-dfn-update-the-data-max-message-size-1\">update the data max message size</a> of\n                              <var>connection</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCPeerConnection\" data-xref-for=\"RTCPeerConnection\" data-lt=\"[[SctpTransport]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-sctptransport\" class=\"internalDFN\" id=\"ref-for-dfn-sctptransport-6\"><code>[[SctpTransport]]</code></a>.\n                            </p>"
                    },
                    {
                      "html": "If <var>description</var> negotiates the DTLS\n                              role of the SCTP transport, then for each\n                              <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCDataChannel\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcdatachannel\" class=\"internalDFN\" id=\"ref-for-dom-rtcdatachannel-1\"><code>RTCDataChannel</code></a>, <var>channel</var>, with a\n                              <code>null</code> <a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCDataChannel\" data-xref-for=\"RTCDataChannel\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcdatachannel-id\" class=\"internalDFN\" id=\"ref-for-dom-rtcdatachannel-id-1\"><code>id</code></a>, run the\n                              following step:",
                      "rationale": "give",
                      "steps": [
                        {
                          "html": "Give <var>channel</var> a new ID generated\n                              according to [<cite><a class=\"bibref\" data-link-type=\"biblio\" href=\"https://w3c.github.io/webrtc-pc/#bib-rfc8832\" title=\"WebRTC Data Channel Establishment Protocol\">RFC8832</a></cite>]. If no\n                              available ID could be generated, set\n                              <var>channel</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCDataChannel\" data-xref-for=\"RTCDataChannel\" data-lt=\"[[ReadyState]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-readystate\" class=\"internalDFN\" id=\"ref-for-dfn-readystate-1\"><code>[[ReadyState]]</code></a> to\n                              \"<a data-link-type=\"idl\" data-xref-type=\"enum-value\" data-link-for=\"RTCDataChannelState\" data-xref-for=\"RTCDataChannelState\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcdatachannelstate-closed\" class=\"internalDFN\" id=\"ref-for-dom-rtcdatachannelstate-closed-1\"><code>closed</code></a>\", and add\n                              <var>channnel</var> to <var>errorList</var>."
                        }
                      ]
                    }
                  ]
                },
                {
                  "html": "If <var>description</var> is not of type\n                          \"<a data-link-type=\"idl\" data-xref-type=\"enum-value\" data-link-for=\"RTCSdpType\" data-xref-for=\"RTCSdpType\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcsdptype-rollback\" class=\"internalDFN\" id=\"ref-for-dom-rtcsdptype-rollback-2\"><code>rollback</code></a>\", then run the following\n                          steps:",
                  "rationale": "if",
                  "steps": [
                    {
                      "html": "If <var>remote</var> is <code>false</code>, then\n                              run the following steps for each <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-media-description\" class=\"internalDFN\" id=\"ref-for-dfn-media-description-2\">media description</a> in <var>description</var>:",
                      "rationale": "if",
                      "steps": [
                        {
                          "html": "If the <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-media-description\" class=\"internalDFN\" id=\"ref-for-dfn-media-description-3\">media description</a> was not yet <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-associated\" class=\"internalDFN\" id=\"ref-for-dfn-associated-1\">associated</a> with an <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCRtpTransceiver\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtptransceiver\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtptransceiver-1\"><code>RTCRtpTransceiver</code></a>\n                                  object then run the following steps:",
                          "rationale": "let",
                          "steps": [
                            {
                              "html": "<p>\n                                      Let <var>transceiver</var> be the\n                                      <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCRtpTransceiver\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtptransceiver\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtptransceiver-2\"><code>RTCRtpTransceiver</code></a> used to create the\n                                      <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-media-description\" class=\"internalDFN\" id=\"ref-for-dfn-media-description-4\">media description</a>.\n                                    </p>"
                            },
                            {
                              "html": "<p>\n                                      Set\n                                      <var>transceiver</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpTransceiver\" data-xref-for=\"RTCRtpTransceiver\" data-lt=\"[[Mid]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-mid\" class=\"internalDFN\" id=\"ref-for-dfn-mid-1\"><code>[[Mid]]</code></a> to\n                                      <var>transceiver</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpTransceiver\" data-xref-for=\"RTCRtpTransceiver\" data-lt=\"[[JsepMid]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-jsepmid\" class=\"internalDFN\" id=\"ref-for-dfn-jsepmid-2\"><code>[[JsepMid]]</code></a>.\n                                    </p>"
                            },
                            {
                              "html": "<p>\n                                      If\n                                      <var>transceiver</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpTransceiver\" data-xref-for=\"RTCRtpTransceiver\" data-lt=\"[[Stopped]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-stopped-0\" class=\"internalDFN\" id=\"ref-for-dfn-stopped-0-1\"><code>[[Stopped]]</code></a>\n                                      is <code>true</code>, abort these sub\n                                      steps.\n                                    </p>"
                            },
                            {
                              "html": "<p>\n                                      If the <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-media-description\" class=\"internalDFN\" id=\"ref-for-dfn-media-description-5\">media description</a> is\n                                      indicated as using an existing <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-media-transport\" class=\"internalDFN\" id=\"ref-for-dfn-media-transport-1\">media transport</a> according to [<cite><a class=\"bibref\" data-link-type=\"biblio\" href=\"https://w3c.github.io/webrtc-pc/#bib-rfc8843\" title=\"Negotiating Media Multiplexing Using the Session Description Protocol (SDP)\">RFC8843</a></cite>],\n                                      let <var>transport</var> be the\n                                      <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCDtlsTransport\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcdtlstransport\" class=\"internalDFN\" id=\"ref-for-dom-rtcdtlstransport-7\"><code>RTCDtlsTransport</code></a> object representing\n                                      the RTP/RTCP component of that transport.\n                                    </p>"
                            },
                            {
                              "html": "<p>\n                                      Otherwise, let <var>transport</var> be a\n                                      newly created <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCDtlsTransport\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcdtlstransport\" class=\"internalDFN\" id=\"ref-for-dom-rtcdtlstransport-8\"><code>RTCDtlsTransport</code></a> object\n                                      with a new underlying\n                                      <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCIceTransport\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcicetransport\" class=\"internalDFN\" id=\"ref-for-dom-rtcicetransport-14\"><code>RTCIceTransport</code></a>.\n                                    </p>"
                            },
                            {
                              "html": "<p>\n                                      Set\n                                      <var>transceiver</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpTransceiver\" data-xref-for=\"RTCRtpTransceiver\" data-lt=\"[[Sender]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-sender\" class=\"internalDFN\" id=\"ref-for-dfn-sender-7\"><code>[[Sender]]</code></a>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpSender\" data-xref-for=\"RTCRtpSender\" data-lt=\"[[SenderTransport]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-sendertransport\" class=\"internalDFN\" id=\"ref-for-dfn-sendertransport-2\"><code>[[SenderTransport]]</code></a>\n                                      to <var>transport</var>.\n                                    </p>"
                            },
                            {
                              "html": "<p>\n                                      Set\n                                      <var>transceiver</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpTransceiver\" data-xref-for=\"RTCRtpTransceiver\" data-lt=\"[[Receiver]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-receiver\" class=\"internalDFN\" id=\"ref-for-dfn-receiver-7\"><code>[[Receiver]]</code></a>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpReceiver\" data-xref-for=\"RTCRtpReceiver\" data-lt=\"[[ReceiverTransport]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-receivertransport\" class=\"internalDFN\" id=\"ref-for-dfn-receivertransport-2\"><code>[[ReceiverTransport]]</code></a>\n                                      to <var>transport</var>.\n                                    </p>"
                            }
                          ]
                        },
                        {
                          "html": "<p>\n                                  Let <var>transceiver</var> be the\n                                  <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCRtpTransceiver\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtptransceiver\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtptransceiver-3\"><code>RTCRtpTransceiver</code></a> <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-associated\" class=\"internalDFN\" id=\"ref-for-dfn-associated-2\">associated</a> with\n                                  the <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-media-description\" class=\"internalDFN\" id=\"ref-for-dfn-media-description-6\">media description</a>.\n                                </p>"
                        },
                        {
                          "html": "<p>\n                                  If <var>transceiver</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpTransceiver\" data-xref-for=\"RTCRtpTransceiver\" data-lt=\"[[Stopped]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-stopped-0\" class=\"internalDFN\" id=\"ref-for-dfn-stopped-0-2\"><code>[[Stopped]]</code></a>\n                                  is <code>true</code>, abort these sub steps.\n                                </p>"
                        },
                        {
                          "html": "<p>\n                                  Let <var>direction</var> be an\n                                  <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCRtpTransceiverDirection\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtptransceiverdirection\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtptransceiverdirection-1\"><code>RTCRtpTransceiverDirection</code></a> value\n                                  representing the direction from the <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-media-description\" class=\"internalDFN\" id=\"ref-for-dfn-media-description-7\">media description</a>.\n                                </p>"
                        },
                        {
                          "html": "<p>\n                                  If <var>direction</var> is\n                                  \"<a data-link-type=\"idl\" data-xref-type=\"enum-value\" data-link-for=\"RTCRtpTransceiverDirection\" data-xref-for=\"RTCRtpTransceiverDirection\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtptransceiverdirection-sendrecv\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtptransceiverdirection-sendrecv-1\"><code>sendrecv</code></a>\" or\n                                  \"<a data-link-type=\"idl\" data-xref-type=\"enum-value\" data-link-for=\"RTCRtpTransceiverDirection\" data-xref-for=\"RTCRtpTransceiverDirection\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtptransceiverdirection-recvonly\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtptransceiverdirection-recvonly-1\"><code>recvonly</code></a>\",\n                                  set\n                                  <var>transceiver</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpTransceiver\" data-xref-for=\"RTCRtpTransceiver\" data-lt=\"[[Receptive]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-receptive\" class=\"internalDFN\" id=\"ref-for-dfn-receptive-1\"><code>[[Receptive]]</code></a>\n                                  to <code>true</code>, otherwise set it to\n                                  <code>false</code>.\n                                </p>"
                        },
                        {
                          "html": "<p>\n                                  Set\n                                  <var>transceiver</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpTransceiver\" data-xref-for=\"RTCRtpTransceiver\" data-lt=\"[[Receiver]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-receiver\" class=\"internalDFN\" id=\"ref-for-dfn-receiver-8\"><code>[[Receiver]]</code></a>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpReceiver\" data-xref-for=\"RTCRtpReceiver\" data-lt=\"[[ReceiveCodecs]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-receivecodecs\" class=\"internalDFN\" id=\"ref-for-dfn-receivecodecs-2\"><code>[[ReceiveCodecs]]</code></a>\n                                  to the codecs that <var>description</var>\n                                  negotiates for receiving and which the user\n                                  agent is currently prepared to receive.\n                                </p>"
                        },
                        {
                          "html": "If <var>description</var> is of type\n                                  \"<a data-link-type=\"idl\" data-xref-type=\"enum-value\" data-link-for=\"RTCSdpType\" data-xref-for=\"RTCSdpType\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcsdptype-answer\" class=\"internalDFN\" id=\"ref-for-dom-rtcsdptype-answer-6\"><code>answer</code></a>\" or\n                                  \"<a data-link-type=\"idl\" data-xref-type=\"enum-value\" data-link-for=\"RTCSdpType\" data-xref-for=\"RTCSdpType\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcsdptype-pranswer\" class=\"internalDFN\" id=\"ref-for-dom-rtcsdptype-pranswer-6\"><code>pranswer</code></a>\", then run the\n                                  following steps:",
                          "rationale": "if",
                          "steps": [
                            {
                              "html": "If <var>transceiver</var>.\n                                      <a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpTransceiver\" data-xref-for=\"RTCRtpTransceiver\" data-lt=\"[[Sender]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-sender\" class=\"internalDFN\" id=\"ref-for-dfn-sender-8\"><code>[[Sender]]</code></a>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpSender\" data-xref-for=\"RTCRtpSender\" data-lt=\"[[SendEncodings]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-sendencodings\" class=\"internalDFN\" id=\"ref-for-dfn-sendencodings-3\"><code>[[SendEncodings]]</code></a>\n                                      .length is greater than <code>1</code>, then\n                                      run the following steps:",
                              "rationale": "if",
                              "steps": [
                                {
                                  "html": "<p>\n                                          If <var>description</var> is missing\n                                          all of the previously negotiated layers,\n                                          then remove all dictionaries in\n                                          <var>transceiver</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpTransceiver\" data-xref-for=\"RTCRtpTransceiver\" data-lt=\"[[Sender]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-sender\" class=\"internalDFN\" id=\"ref-for-dfn-sender-9\"><code>[[Sender]]</code></a>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpSender\" data-xref-for=\"RTCRtpSender\" data-lt=\"[[SendEncodings]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-sendencodings\" class=\"internalDFN\" id=\"ref-for-dfn-sendencodings-4\"><code>[[SendEncodings]]</code></a>\n                                          except the first one, and skip the next\n                                          step.\n                                        </p>"
                                },
                                {
                                  "html": "<p>\n                                          If <var>description</var> is missing any of\n                                          the previously negotiated layers, then\n                                          remove the dictionaries that correspond to\n                                          the missing layers from\n                                          <var>transceiver</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpTransceiver\" data-xref-for=\"RTCRtpTransceiver\" data-lt=\"[[Sender]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-sender\" class=\"internalDFN\" id=\"ref-for-dfn-sender-10\"><code>[[Sender]]</code></a>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpSender\" data-xref-for=\"RTCRtpSender\" data-lt=\"[[SendEncodings]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-sendencodings\" class=\"internalDFN\" id=\"ref-for-dfn-sendencodings-5\"><code>[[SendEncodings]]</code></a>.\n                                        </p>"
                                }
                              ]
                            },
                            {
                              "html": "<p>\n                                      Set\n                                      <var>transceiver</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpTransceiver\" data-xref-for=\"RTCRtpTransceiver\" data-lt=\"[[Sender]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-sender\" class=\"internalDFN\" id=\"ref-for-dfn-sender-11\"><code>[[Sender]]</code></a>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpSender\" data-xref-for=\"RTCRtpSender\" data-lt=\"[[SendCodecs]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-sendcodecs\" class=\"internalDFN\" id=\"ref-for-dfn-sendcodecs-1\"><code>[[SendCodecs]]</code></a>\n                                      to the codecs that <var>description</var>\n                                      negotiates for sending and which the user\n                                      agent is currently capable of sending,\n                                      and set\n                                      <var>transceiver</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpTransceiver\" data-xref-for=\"RTCRtpTransceiver\" data-lt=\"[[Sender]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-sender\" class=\"internalDFN\" id=\"ref-for-dfn-sender-12\"><code>[[Sender]]</code></a>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpSender\" data-xref-for=\"RTCRtpSender\" data-lt=\"[[LastReturnedParameters]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-lastreturnedparameters\" class=\"internalDFN\" id=\"ref-for-dfn-lastreturnedparameters-1\"><code>[[LastReturnedParameters]]</code></a>\n                                      to <code>null</code>.\n                                    </p>"
                            },
                            {
                              "html": "If <var>direction</var> is\n                                      \"<a data-link-type=\"idl\" data-xref-type=\"enum-value\" data-link-for=\"RTCRtpTransceiverDirection\" data-xref-for=\"RTCRtpTransceiverDirection\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtptransceiverdirection-sendonly\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtptransceiverdirection-sendonly-2\"><code>sendonly</code></a>\"\n                                      or\n                                      \"<a data-link-type=\"idl\" data-xref-type=\"enum-value\" data-link-for=\"RTCRtpTransceiverDirection\" data-xref-for=\"RTCRtpTransceiverDirection\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtptransceiverdirection-inactive\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtptransceiverdirection-inactive-2\"><code>inactive</code></a>\",\n                                      and\n                                      <var>transceiver</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpTransceiver\" data-xref-for=\"RTCRtpTransceiver\" data-lt=\"[[FiredDirection]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-fireddirection\" class=\"internalDFN\" id=\"ref-for-dfn-fireddirection-1\"><code>[[FiredDirection]]</code></a>\n                                      is either\n                                      \"<a data-link-type=\"idl\" data-xref-type=\"enum-value\" data-link-for=\"RTCRtpTransceiverDirection\" data-xref-for=\"RTCRtpTransceiverDirection\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtptransceiverdirection-sendrecv\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtptransceiverdirection-sendrecv-2\"><code>sendrecv</code></a>\"\n                                      or\n                                      \"<a data-link-type=\"idl\" data-xref-type=\"enum-value\" data-link-for=\"RTCRtpTransceiverDirection\" data-xref-for=\"RTCRtpTransceiverDirection\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtptransceiverdirection-recvonly\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtptransceiverdirection-recvonly-2\"><code>recvonly</code></a>\",\n                                      then run the following steps:",
                              "rationale": "set",
                              "steps": [
                                {
                                  "html": "<p>\n                                          <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#set-associated-remote-streams\" class=\"internalDFN\" id=\"ref-for-set-associated-remote-streams-1\">Set the associated remote streams</a> given\n                                          <var>transceiver</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpTransceiver\" data-xref-for=\"RTCRtpTransceiver\" data-lt=\"[[Receiver]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-receiver\" class=\"internalDFN\" id=\"ref-for-dfn-receiver-9\"><code>[[Receiver]]</code></a>,\n                                          an empty list, another empty list,\n                                          and <var>removeList</var>.\n                                        </p>"
                                },
                                {
                                  "html": "<p>\n                                          <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#process-remote-track-removal\" class=\"internalDFN\" id=\"ref-for-process-remote-track-removal-1\">process the removal of a remote track</a> for the <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-media-description\" class=\"internalDFN\" id=\"ref-for-dfn-media-description-8\">media description</a>, given <var>transceiver</var> and\n                                          <var>muteTracks</var>.\n                                        </p>"
                                }
                              ]
                            },
                            {
                              "html": "<p>\n                                      Set\n                                      <var>transceiver</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpTransceiver\" data-xref-for=\"RTCRtpTransceiver\" data-lt=\"[[CurrentDirection]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-currentdirection\" class=\"internalDFN\" id=\"ref-for-dfn-currentdirection-1\"><code>[[CurrentDirection]]</code></a>\n                                      and\n                                      <var>transceiver</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpTransceiver\" data-xref-for=\"RTCRtpTransceiver\" data-lt=\"[[FiredDirection]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-fireddirection\" class=\"internalDFN\" id=\"ref-for-dfn-fireddirection-2\"><code>[[FiredDirection]]</code></a>\n                                      to <var>direction</var>.\n                                    </p>"
                            }
                          ]
                        }
                      ]
                    },
                    {
                      "html": "Otherwise, (if <var>remote</var> is\n                              <code>true</code>) run the following steps for\n                              each <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-media-description\" class=\"internalDFN\" id=\"ref-for-dfn-media-description-9\">media description</a> in\n                              <var>description</var>:",
                      "rationale": "if",
                      "steps": [
                        {
                          "html": "<p>\n                                  If the <var>description</var> is of type\n                                  \"<a data-link-type=\"idl\" data-xref-type=\"enum-value\" data-link-for=\"RTCSdpType\" data-xref-for=\"RTCSdpType\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcsdptype-offer\" class=\"internalDFN\" id=\"ref-for-dom-rtcsdptype-offer-9\"><code>offer</code></a>\" and the\n                                  <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-media-description\" class=\"internalDFN\" id=\"ref-for-dfn-media-description-10\">media description</a> contains a request\n                                  to receive simulcast, use the order of the\n                                  rid values specified in the simulcast\n                                  attribute to create an\n                                  <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCRtpEncodingParameters\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtpencodingparameters\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtpencodingparameters-1\"><code>RTCRtpEncodingParameters</code></a> dictionary for\n                                  each of the simulcast layers, populating the\n                                  <a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCRtpCodingParameters\" data-xref-for=\"RTCRtpCodingParameters\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtpcodingparameters-rid\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtpcodingparameters-rid-2\"><code>rid</code></a> member\n                                  according to the corresponding rid value\n                                  (using only the first value if\n                                  comma-separated alternatives exist), and\n                                  let <var>proposedSendEncodings</var> be the\n                                  list containing the created dictionaries.\n                                  Otherwise, let <var>proposedSendEncodings</var>\n                                  be an empty list.\n                                </p>"
                        },
                        {
                          "html": "<p>\n                                  For each encoding, <var>encoding</var>, in\n                                  <var>proposedSendEncodings</var> in reverse\n                                  order, if <var>encoding</var>'s\n                                  <a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCRtpCodingParameters\" data-xref-for=\"RTCRtpCodingParameters\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtpcodingparameters-rid\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtpcodingparameters-rid-3\"><code>rid</code></a> matches that of\n                                  another encoding in\n                                  <var>proposedSendEncodings</var>, remove\n                                  <var>encoding</var>\n                                  from <var>proposedSendEncodings</var>.\n                                </p>"
                        },
                        {
                          "html": "Let <var>supportedEncodings</var> be the\n                              maximum number of encodings that the\n                              implementation can support. If the length of\n                              <var>proposedSendEncodings</var> is greater than\n                              <var>supportedEncodings</var>, truncate\n                              <var>proposedSendEncodings</var> so that its length is\n                              <var>supportedEncodings</var>."
                        },
                        {
                          "html": "If <var>proposedSendEncodings</var> is non-empty,\n                              set each encoding's\n                              <a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCRtpEncodingParameters\" data-xref-for=\"RTCRtpEncodingParameters\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtpencodingparameters-scaleresolutiondownby\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtpencodingparameters-scaleresolutiondownby-1\"><code>scaleResolutionDownBy</code></a>\n                              to <code>2^(length of <var>proposedSendEncodings</var> -\n                              encoding index - 1)</code>."
                        },
                        {
                          "html": "<p>\n                                  As described by <span>[<cite><a class=\"bibref\" data-link-type=\"biblio\" href=\"https://w3c.github.io/webrtc-pc/#bib-rfc9429\" title=\"JavaScript Session Establishment Protocol (JSEP)\">RFC9429</a></cite>] (<a href=\"https://www.rfc-editor.org/rfc/rfc9429#section-5.10\">section 5.10.</a>)</span>,\n                                  attempt to find an existing\n                                  <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCRtpTransceiver\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtptransceiver\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtptransceiver-4\"><code>RTCRtpTransceiver</code></a> object,\n                                  <var>transceiver</var>, to represent the <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-media-description\" class=\"internalDFN\" id=\"ref-for-dfn-media-description-11\">media description</a>.\n                                </p>"
                        },
                        {
                          "html": "If a suitable transceiver was found\n                                  (<var>transceiver</var> is set), and\n                                  <var>proposedSendEncodings</var> is non-empty,\n                                  run the following steps:",
                          "rationale": "if",
                          "steps": [
                            {
                              "html": "<p>\n                                      If the length of\n                                      <var>transceiver</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpTransceiver\" data-xref-for=\"RTCRtpTransceiver\" data-lt=\"[[Sender]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-sender\" class=\"internalDFN\" id=\"ref-for-dfn-sender-13\"><code>[[Sender]]</code></a>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpSender\" data-xref-for=\"RTCRtpSender\" data-lt=\"[[SendEncodings]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-sendencodings\" class=\"internalDFN\" id=\"ref-for-dfn-sendencodings-6\"><code>[[SendEncodings]]</code></a>\n                                      is <code>1</code>, and the lone encoding\n                                      <a data-link-type=\"dfn|abstract-op\" data-link-for=\"map\" data-xref-for=\"map\" data-cite=\"infra\" data-cite-path=\"\" data-cite-frag=\"map-exists\" data-type=\"dfn\" href=\"https://infra.spec.whatwg.org/#map-exists\">contains</a> no\n                                      <a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCRtpCodingParameters\" data-xref-for=\"RTCRtpCodingParameters\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtpcodingparameters-rid\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtpcodingparameters-rid-4\"><code>rid</code></a> member, set\n                                      <var>transceiver</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpTransceiver\" data-xref-for=\"RTCRtpTransceiver\" data-lt=\"[[Sender]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-sender\" class=\"internalDFN\" id=\"ref-for-dfn-sender-14\"><code>[[Sender]]</code></a>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpSender\" data-xref-for=\"RTCRtpSender\" data-lt=\"[[SendEncodings]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-sendencodings\" class=\"internalDFN\" id=\"ref-for-dfn-sendencodings-7\"><code>[[SendEncodings]]</code></a>\n                                      to <var>proposedSendEncodings</var>, and set\n                                      <var>transceiver</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpTransceiver\" data-xref-for=\"RTCRtpTransceiver\" data-lt=\"[[Sender]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-sender\" class=\"internalDFN\" id=\"ref-for-dfn-sender-15\"><code>[[Sender]]</code></a>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpSender\" data-xref-for=\"RTCRtpSender\" data-lt=\"[[LastReturnedParameters]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-lastreturnedparameters\" class=\"internalDFN\" id=\"ref-for-dfn-lastreturnedparameters-2\"><code>[[LastReturnedParameters]]</code></a>\n                                      to <code>null</code>.\n                                    </p>"
                            }
                          ]
                        },
                        {
                          "html": "If no suitable transceiver was found\n                                  (<var>transceiver</var> is unset), run the\n                                  following steps:",
                          "rationale": "create",
                          "steps": [
                            {
                              "html": "<p>\n                                      <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-create-an-rtcrtpsender\" class=\"internalDFN\" id=\"ref-for-dfn-create-an-rtcrtpsender-1\">Create an RTCRtpSender</a>,\n                                      <var>sender</var>, from the <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-media-description\" class=\"internalDFN\" id=\"ref-for-dfn-media-description-12\">media description</a> using\n                                      <var>proposedSendEncodings</var>.\n                                    </p>"
                            },
                            {
                              "html": "<p>\n                                      <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-create-an-rtcrtpreceiver\" class=\"internalDFN\" id=\"ref-for-dfn-create-an-rtcrtpreceiver-1\">Create an RTCRtpReceiver</a>,\n                                      <var>receiver</var>, from the <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-media-description\" class=\"internalDFN\" id=\"ref-for-dfn-media-description-13\">media description</a>.\n                                    </p>"
                            },
                            {
                              "html": "<p>\n                                      <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-create-an-rtcrtptransceiver\" class=\"internalDFN\" id=\"ref-for-dfn-create-an-rtcrtptransceiver-1\">Create an RTCRtpTransceiver</a> with\n                                      <var>sender</var>, <var>receiver</var>\n                                      and an <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCRtpTransceiverDirection\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtptransceiverdirection\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtptransceiverdirection-2\"><code>RTCRtpTransceiverDirection</code></a>\n                                      value of\n                                      \"<a data-link-type=\"idl\" data-xref-type=\"enum-value\" data-link-for=\"RTCRtpTransceiverDirection\" data-xref-for=\"RTCRtpTransceiverDirection\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtptransceiverdirection-recvonly\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtptransceiverdirection-recvonly-3\"><code>recvonly</code></a>\",\n                                      and let <var>transceiver</var> be the\n                                      result.\n                                    </p>"
                            },
                            {
                              "html": "<p>\n                                      Add <var>transceiver</var> to the\n                                      <var>connection</var>'s <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#transceivers-set\" class=\"internalDFN\" id=\"ref-for-transceivers-set-6\">set of transceivers</a>.\n                                    </p>"
                            }
                          ]
                        },
                        {
                          "html": "If <var>description</var> is of type\n                                  \"<a data-link-type=\"idl\" data-xref-type=\"enum-value\" data-link-for=\"RTCSdpType\" data-xref-for=\"RTCSdpType\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcsdptype-answer\" class=\"internalDFN\" id=\"ref-for-dom-rtcsdptype-answer-7\"><code>answer</code></a>\" or\n                                  \"<a data-link-type=\"idl\" data-xref-type=\"enum-value\" data-link-for=\"RTCSdpType\" data-xref-for=\"RTCSdpType\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcsdptype-pranswer\" class=\"internalDFN\" id=\"ref-for-dom-rtcsdptype-pranswer-7\"><code>pranswer</code></a>\", and\n                                  <var>transceiver</var>.\n                                  <a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpTransceiver\" data-xref-for=\"RTCRtpTransceiver\" data-lt=\"[[Sender]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-sender\" class=\"internalDFN\" id=\"ref-for-dfn-sender-16\"><code>[[Sender]]</code></a>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpSender\" data-xref-for=\"RTCRtpSender\" data-lt=\"[[SendEncodings]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-sendencodings\" class=\"internalDFN\" id=\"ref-for-dfn-sendencodings-8\"><code>[[SendEncodings]]</code></a>\n                                  .length is greater than <code>1</code>, then\n                                  run the following steps:",
                          "rationale": "if",
                          "steps": [
                            {
                              "html": "<p>\n                                      If <var>description</var> indicates that\n                                      simulcast is not supported or desired, or\n                                      <var>description</var> is missing all of\n                                      the previously negotiated layers,\n                                      then remove all dictionaries in\n                                      <var>transceiver</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpTransceiver\" data-xref-for=\"RTCRtpTransceiver\" data-lt=\"[[Sender]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-sender\" class=\"internalDFN\" id=\"ref-for-dfn-sender-17\"><code>[[Sender]]</code></a>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpSender\" data-xref-for=\"RTCRtpSender\" data-lt=\"[[SendEncodings]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-sendencodings\" class=\"internalDFN\" id=\"ref-for-dfn-sendencodings-9\"><code>[[SendEncodings]]</code></a>\n                                      except the first one and abort these sub\n                                      steps.\n                                    </p>"
                            },
                            {
                              "html": "<p>\n                                      If <var>description</var> is missing any of\n                                      the previously negotiated layers, then\n                                      remove the dictionaries that correspond to\n                                      the missing layers from\n                                      <var>transceiver</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpTransceiver\" data-xref-for=\"RTCRtpTransceiver\" data-lt=\"[[Sender]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-sender\" class=\"internalDFN\" id=\"ref-for-dfn-sender-18\"><code>[[Sender]]</code></a>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpSender\" data-xref-for=\"RTCRtpSender\" data-lt=\"[[SendEncodings]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-sendencodings\" class=\"internalDFN\" id=\"ref-for-dfn-sendencodings-10\"><code>[[SendEncodings]]</code></a>.\n                                    </p>"
                            }
                          ]
                        },
                        {
                          "html": "<p>\n                                  Set <var>transceiver</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpTransceiver\" data-xref-for=\"RTCRtpTransceiver\" data-lt=\"[[Mid]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-mid\" class=\"internalDFN\" id=\"ref-for-dfn-mid-2\"><code>[[Mid]]</code></a> to\n                                  <var>transceiver</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpTransceiver\" data-xref-for=\"RTCRtpTransceiver\" data-lt=\"[[JsepMid]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-jsepmid\" class=\"internalDFN\" id=\"ref-for-dfn-jsepmid-3\"><code>[[JsepMid]]</code></a>.\n                                </p>"
                        },
                        {
                          "html": "<p>\n                                  Let <var>direction</var> be an\n                                  <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCRtpTransceiverDirection\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtptransceiverdirection\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtptransceiverdirection-3\"><code>RTCRtpTransceiverDirection</code></a> value\n                                  representing the direction from the <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-media-description\" class=\"internalDFN\" id=\"ref-for-dfn-media-description-14\">media description</a>, but with the send and receive\n                                  directions reversed to represent this peer's\n                                  point of view. If the <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-media-description\" class=\"internalDFN\" id=\"ref-for-dfn-media-description-15\">media description</a>\n                                  is rejected, set <var>direction</var> to\n                                  \"<a data-link-type=\"idl\" data-xref-type=\"enum-value\" data-link-for=\"RTCRtpTransceiverDirection\" data-xref-for=\"RTCRtpTransceiverDirection\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtptransceiverdirection-inactive\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtptransceiverdirection-inactive-3\"><code>inactive</code></a>\".\n                                </p>"
                        },
                        {
                          "html": "<p>\n                                  If <var>direction</var> is\n                                  \"<a data-link-type=\"idl\" data-xref-type=\"enum-value\" data-link-for=\"RTCRtpTransceiverDirection\" data-xref-for=\"RTCRtpTransceiverDirection\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtptransceiverdirection-sendrecv\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtptransceiverdirection-sendrecv-3\"><code>sendrecv</code></a>\" or\n                                  \"<a data-link-type=\"idl\" data-xref-type=\"enum-value\" data-link-for=\"RTCRtpTransceiverDirection\" data-xref-for=\"RTCRtpTransceiverDirection\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtptransceiverdirection-recvonly\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtptransceiverdirection-recvonly-4\"><code>recvonly</code></a>\",\n                                  let <var>msids</var> be a list of the MSIDs\n                                  that the media description indicates\n                                  <var>transceiver</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpTransceiver\" data-xref-for=\"RTCRtpTransceiver\" data-lt=\"[[Receiver]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-receiver\" class=\"internalDFN\" id=\"ref-for-dfn-receiver-10\"><code>[[Receiver]]</code></a>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpReceiver\" data-xref-for=\"RTCRtpReceiver\" data-lt=\"[[ReceiverTrack]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-receivertrack\" class=\"internalDFN\" id=\"ref-for-dfn-receivertrack-1\"><code>[[ReceiverTrack]]</code></a>\n                                  is to be associated with. Otherwise, let\n                                  <var>msids</var> be an empty list.\n                                </p>"
                        },
                        {
                          "html": "<p>\n                                  <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#process-remote-tracks\" class=\"internalDFN\" id=\"ref-for-process-remote-tracks-1\">Process remote tracks</a> with\n                                  <var>transceiver</var>, <var>direction</var>,\n                                  <var>msids</var>, <var>addList</var>,\n                                  <var>removeList</var>, and\n                                  <var>trackEventInits</var>.\n                                </p>"
                        },
                        {
                          "html": "<p>\n                                  Set\n                                  <var>transceiver</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpTransceiver\" data-xref-for=\"RTCRtpTransceiver\" data-lt=\"[[Receiver]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-receiver\" class=\"internalDFN\" id=\"ref-for-dfn-receiver-11\"><code>[[Receiver]]</code></a>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpReceiver\" data-xref-for=\"RTCRtpReceiver\" data-lt=\"[[ReceiveCodecs]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-receivecodecs\" class=\"internalDFN\" id=\"ref-for-dfn-receivecodecs-3\"><code>[[ReceiveCodecs]]</code></a>\n                                  to the codecs that <var>description</var>\n                                  negotiates for receiving and which the user\n                                  agent is currently prepared to receive.\n                                </p>"
                        },
                        {
                          "html": "If <var>description</var> is of type\n                                  \"<a data-link-type=\"idl\" data-xref-type=\"enum-value\" data-link-for=\"RTCSdpType\" data-xref-for=\"RTCSdpType\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcsdptype-answer\" class=\"internalDFN\" id=\"ref-for-dom-rtcsdptype-answer-8\"><code>answer</code></a>\" or\n                                  \"<a data-link-type=\"idl\" data-xref-type=\"enum-value\" data-link-for=\"RTCSdpType\" data-xref-for=\"RTCSdpType\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcsdptype-pranswer\" class=\"internalDFN\" id=\"ref-for-dom-rtcsdptype-pranswer-8\"><code>pranswer</code></a>\", then run the\n                                  following steps:",
                          "rationale": "set",
                          "steps": [
                            {
                              "html": "<p>\n                                      Set\n                                      <var>transceiver</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpTransceiver\" data-xref-for=\"RTCRtpTransceiver\" data-lt=\"[[Sender]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-sender\" class=\"internalDFN\" id=\"ref-for-dfn-sender-19\"><code>[[Sender]]</code></a>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpSender\" data-xref-for=\"RTCRtpSender\" data-lt=\"[[SendCodecs]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-sendcodecs\" class=\"internalDFN\" id=\"ref-for-dfn-sendcodecs-2\"><code>[[SendCodecs]]</code></a>\n                                      to the codecs that <var>description</var>\n                                      negotiates for sending and which the user\n                                      agent is currently capable of sending.\n                                    </p>"
                            },
                            {
                              "html": "<p>\n                                      Set\n                                      <var>transceiver</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpTransceiver\" data-xref-for=\"RTCRtpTransceiver\" data-lt=\"[[CurrentDirection]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-currentdirection\" class=\"internalDFN\" id=\"ref-for-dfn-currentdirection-2\"><code>[[CurrentDirection]]</code></a>\n                                      to <var>direction</var>.\n                                    </p>"
                            },
                            {
                              "html": "<p>\n                                      Let <var>transport</var> be the\n                                      <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCDtlsTransport\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcdtlstransport\" class=\"internalDFN\" id=\"ref-for-dom-rtcdtlstransport-9\"><code>RTCDtlsTransport</code></a> object representing\n                                      the RTP/RTCP component of the <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-media-transport\" class=\"internalDFN\" id=\"ref-for-dfn-media-transport-2\">media transport</a> used by\n                                      <var>transceiver</var>'s <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-associated\" class=\"internalDFN\" id=\"ref-for-dfn-associated-3\">associated</a>\n                                      <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-media-description\" class=\"internalDFN\" id=\"ref-for-dfn-media-description-17\">media description</a>, according to\n                                      [<cite><a class=\"bibref\" data-link-type=\"biblio\" href=\"https://w3c.github.io/webrtc-pc/#bib-rfc8843\" title=\"Negotiating Media Multiplexing Using the Session Description Protocol (SDP)\">RFC8843</a></cite>].\n                                    </p>"
                            },
                            {
                              "html": "<p>\n                                      Set\n                                      <var>transceiver</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpTransceiver\" data-xref-for=\"RTCRtpTransceiver\" data-lt=\"[[Sender]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-sender\" class=\"internalDFN\" id=\"ref-for-dfn-sender-20\"><code>[[Sender]]</code></a>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpSender\" data-xref-for=\"RTCRtpSender\" data-lt=\"[[SenderTransport]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-sendertransport\" class=\"internalDFN\" id=\"ref-for-dfn-sendertransport-3\"><code>[[SenderTransport]]</code></a>\n                                      to <var>transport</var>.\n                                    </p>"
                            },
                            {
                              "html": "<p>\n                                      Set\n                                      <var>transceiver</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpTransceiver\" data-xref-for=\"RTCRtpTransceiver\" data-lt=\"[[Receiver]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-receiver\" class=\"internalDFN\" id=\"ref-for-dfn-receiver-12\"><code>[[Receiver]]</code></a>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpReceiver\" data-xref-for=\"RTCRtpReceiver\" data-lt=\"[[ReceiverTransport]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-receivertransport\" class=\"internalDFN\" id=\"ref-for-dfn-receivertransport-3\"><code>[[ReceiverTransport]]</code></a>\n                                      to <var>transport</var>.\n                                    </p>"
                            },
                            {
                              "html": "<p>\n                                      Set the <a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCIceTransport\" data-xref-for=\"RTCIceTransport\" data-lt=\"[[IceRole]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-icerole\" class=\"internalDFN\" id=\"ref-for-dfn-icerole-1\"><code>[[IceRole]]</code></a> of\n                                      <var>transport</var> according to the\n                                      rules of [<cite><a class=\"bibref\" data-link-type=\"biblio\" href=\"https://w3c.github.io/webrtc-pc/#bib-rfc8445\" title=\"Interactive Connectivity Establishment (ICE): A Protocol for Network Address Translator (NAT) Traversal\">RFC8445</a></cite>].\n                                    </p>"
                            }
                          ]
                        },
                        {
                          "html": "<p>\n                                  If the <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-media-description\" class=\"internalDFN\" id=\"ref-for-dfn-media-description-18\">media description</a> is rejected,\n                                  and\n                                  <var>transceiver</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpTransceiver\" data-xref-for=\"RTCRtpTransceiver\" data-lt=\"[[Stopped]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-stopped-0\" class=\"internalDFN\" id=\"ref-for-dfn-stopped-0-3\"><code>[[Stopped]]</code></a> is\n                                  <code>false</code>, then <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-stop-the-rtcrtptransceiver\" class=\"internalDFN\" id=\"ref-for-dfn-stop-the-rtcrtptransceiver-1\">stop the RTCRtpTransceiver</a> <var>transceiver</var>.\n                                </p>"
                        }
                      ]
                    }
                  ]
                },
                {
                  "html": "Otherwise, (if <var>description</var> is of type\n                          \"<a data-link-type=\"idl\" data-xref-type=\"enum-value\" data-link-for=\"RTCSdpType\" data-xref-for=\"RTCSdpType\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcsdptype-rollback\" class=\"internalDFN\" id=\"ref-for-dom-rtcsdptype-rollback-3\"><code>rollback</code></a>\") run the following steps:",
                  "rationale": "let",
                  "steps": [
                    {
                      "html": "<p>\n                              Let <var>pendingDescription</var> be either\n                              <var>connection</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCPeerConnection\" data-xref-for=\"RTCPeerConnection\" data-lt=\"[[PendingLocalDescription]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-pendinglocaldescription\" class=\"internalDFN\" id=\"ref-for-dfn-pendinglocaldescription-7\"><code>[[PendingLocalDescription]]</code></a>\n                              or\n                              <var>connection</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCPeerConnection\" data-xref-for=\"RTCPeerConnection\" data-lt=\"[[PendingRemoteDescription]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-pendingremotedescription\" class=\"internalDFN\" id=\"ref-for-dfn-pendingremotedescription-7\"><code>[[PendingRemoteDescription]]</code></a>,\n                              whichever one is not <code>null</code>.\n                            </p>"
                    },
                    {
                      "html": "For each <var>transceiver</var> in the\n                              <var>connection</var>'s <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#transceivers-set\" class=\"internalDFN\" id=\"ref-for-transceivers-set-7\">set of transceivers</a>\n                              run the following steps:",
                      "rationale": "if",
                      "steps": [
                        {
                          "html": "<p>\n                                  If <var>transceiver</var> was not <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-associated\" class=\"internalDFN\" id=\"ref-for-dfn-associated-4\">associated</a> with a <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-media-description\" class=\"internalDFN\" id=\"ref-for-dfn-media-description-19\">media description</a>\n                                  prior to <var>pendingDescription</var> being set,\n                                  disassociate it and set both\n                                  <var>transceiver</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpTransceiver\" data-xref-for=\"RTCRtpTransceiver\" data-lt=\"[[JsepMid]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-jsepmid\" class=\"internalDFN\" id=\"ref-for-dfn-jsepmid-4\"><code>[[JsepMid]]</code></a>\n                                  and <var>transceiver</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpTransceiver\" data-xref-for=\"RTCRtpTransceiver\" data-lt=\"[[Mid]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-mid\" class=\"internalDFN\" id=\"ref-for-dfn-mid-3\"><code>[[Mid]]</code></a> to\n                                  <code>null</code>.\n                                </p>"
                        },
                        {
                          "html": "<p>\n                                  Set\n                                  <var>transceiver</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpTransceiver\" data-xref-for=\"RTCRtpTransceiver\" data-lt=\"[[Sender]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-sender\" class=\"internalDFN\" id=\"ref-for-dfn-sender-21\"><code>[[Sender]]</code></a>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpSender\" data-xref-for=\"RTCRtpSender\" data-lt=\"[[SenderTransport]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-sendertransport\" class=\"internalDFN\" id=\"ref-for-dfn-sendertransport-4\"><code>[[SenderTransport]]</code></a>\n                                  to\n                                  <var>transceiver</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpTransceiver\" data-xref-for=\"RTCRtpTransceiver\" data-lt=\"[[Sender]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-sender\" class=\"internalDFN\" id=\"ref-for-dfn-sender-22\"><code>[[Sender]]</code></a>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpSender\" data-xref-for=\"RTCRtpSender\" data-lt=\"[[LastStableStateSenderTransport]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-laststablestatesendertransport\" class=\"internalDFN\" id=\"ref-for-dfn-laststablestatesendertransport-2\"><code>[[LastStableStateSenderTransport]]</code></a>.\n                                </p>"
                        },
                        {
                          "html": "<p>\n                                  If\n                                  <var>transceiver</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpTransceiver\" data-xref-for=\"RTCRtpTransceiver\" data-lt=\"[[Sender]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-sender\" class=\"internalDFN\" id=\"ref-for-dfn-sender-23\"><code>[[Sender]]</code></a>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpSender\" data-xref-for=\"RTCRtpSender\" data-lt=\"[[LastStableRidlessSendEncodings]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-laststableridlesssendencodings\" class=\"internalDFN\" id=\"ref-for-dfn-laststableridlesssendencodings-3\"><code>[[LastStableRidlessSendEncodings]]</code></a>\n                                  is not <code>null</code>, and any encoding in\n                                  <var>transceiver</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpTransceiver\" data-xref-for=\"RTCRtpTransceiver\" data-lt=\"[[Sender]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-sender\" class=\"internalDFN\" id=\"ref-for-dfn-sender-24\"><code>[[Sender]]</code></a>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpSender\" data-xref-for=\"RTCRtpSender\" data-lt=\"[[SendEncodings]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-sendencodings\" class=\"internalDFN\" id=\"ref-for-dfn-sendencodings-11\"><code>[[SendEncodings]]</code></a>\n                                  <a data-link-type=\"dfn|abstract-op\" data-link-for=\"map\" data-xref-for=\"map\" data-cite=\"infra\" data-cite-path=\"\" data-cite-frag=\"map-exists\" data-type=\"dfn\" href=\"https://infra.spec.whatwg.org/#map-exists\">contains</a> a\n                                  <a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCRtpCodingParameters\" data-xref-for=\"RTCRtpCodingParameters\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtpcodingparameters-rid\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtpcodingparameters-rid-5\"><code>rid</code></a> member, then set\n                                  <var>transceiver</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpTransceiver\" data-xref-for=\"RTCRtpTransceiver\" data-lt=\"[[Sender]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-sender\" class=\"internalDFN\" id=\"ref-for-dfn-sender-25\"><code>[[Sender]]</code></a>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpSender\" data-xref-for=\"RTCRtpSender\" data-lt=\"[[SendEncodings]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-sendencodings\" class=\"internalDFN\" id=\"ref-for-dfn-sendencodings-12\"><code>[[SendEncodings]]</code></a>\n                                  to\n                                  <var>transceiver</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpTransceiver\" data-xref-for=\"RTCRtpTransceiver\" data-lt=\"[[Sender]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-sender\" class=\"internalDFN\" id=\"ref-for-dfn-sender-26\"><code>[[Sender]]</code></a>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpSender\" data-xref-for=\"RTCRtpSender\" data-lt=\"[[LastStableRidlessSendEncodings]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-laststableridlesssendencodings\" class=\"internalDFN\" id=\"ref-for-dfn-laststableridlesssendencodings-4\"><code>[[LastStableRidlessSendEncodings]]</code></a>.\n                                </p>"
                        },
                        {
                          "html": "<p>\n                                  Set\n                                  <var>transceiver</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpTransceiver\" data-xref-for=\"RTCRtpTransceiver\" data-lt=\"[[Receiver]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-receiver\" class=\"internalDFN\" id=\"ref-for-dfn-receiver-13\"><code>[[Receiver]]</code></a>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpReceiver\" data-xref-for=\"RTCRtpReceiver\" data-lt=\"[[ReceiverTransport]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-receivertransport\" class=\"internalDFN\" id=\"ref-for-dfn-receivertransport-4\"><code>[[ReceiverTransport]]</code></a>\n                                  to\n                                  <var>transceiver</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpTransceiver\" data-xref-for=\"RTCRtpTransceiver\" data-lt=\"[[Receiver]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-receiver\" class=\"internalDFN\" id=\"ref-for-dfn-receiver-14\"><code>[[Receiver]]</code></a>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpReceiver\" data-xref-for=\"RTCRtpReceiver\" data-lt=\"[[LastStableStateReceiverTransport]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-laststablestatereceivertransport\" class=\"internalDFN\" id=\"ref-for-dfn-laststablestatereceivertransport-2\"><code>[[LastStableStateReceiverTransport]]</code></a>.\n                                </p>"
                        },
                        {
                          "html": "<p>\n                                  Set\n                                  <var>transceiver</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpTransceiver\" data-xref-for=\"RTCRtpTransceiver\" data-lt=\"[[Receiver]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-receiver\" class=\"internalDFN\" id=\"ref-for-dfn-receiver-15\"><code>[[Receiver]]</code></a>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpReceiver\" data-xref-for=\"RTCRtpReceiver\" data-lt=\"[[ReceiveCodecs]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-receivecodecs\" class=\"internalDFN\" id=\"ref-for-dfn-receivecodecs-4\"><code>[[ReceiveCodecs]]</code></a>\n                                  to\n                                  <var>transceiver</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpTransceiver\" data-xref-for=\"RTCRtpTransceiver\" data-lt=\"[[Receiver]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-receiver\" class=\"internalDFN\" id=\"ref-for-dfn-receiver-16\"><code>[[Receiver]]</code></a>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpReceiver\" data-xref-for=\"RTCRtpReceiver\" data-lt=\"[[LastStableStateReceiveCodecs]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-laststablestatereceivecodecs\" class=\"internalDFN\" id=\"ref-for-dfn-laststablestatereceivecodecs-2\"><code>[[LastStableStateReceiveCodecs]]</code></a>.\n                                </p>"
                        },
                        {
                          "html": "If\n                                  <var>connection</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCPeerConnection\" data-xref-for=\"RTCPeerConnection\" data-lt=\"[[SignalingState]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-signalingstate\" class=\"internalDFN\" id=\"ref-for-dfn-signalingstate-12\"><code>[[SignalingState]]</code></a>\n                                  is \"<a data-link-type=\"idl\" data-xref-type=\"enum-value\" data-link-for=\"RTCSignalingState\" data-xref-for=\"RTCSignalingState\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcsignalingstate-have-remote-offer\" class=\"internalDFN\" id=\"ref-for-dom-rtcsignalingstate-have-remote-offer-4\"><code>have-remote-offer</code></a>\",\n                                  run the following sub steps:",
                          "rationale": "let",
                          "steps": [
                            {
                              "html": "<p>\n                                      Let <var>msids</var> be a list of the\n                                      <code class=\"gum\">id</code>s of all\n                                      <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"MediaStream\" data-cite=\"mediacapture-streams\" data-cite-path=\"\" data-cite-frag=\"dom-mediastream\" data-type=\"interface\" href=\"https://www.w3.org/TR/mediacapture-streams/#dom-mediastream\"><code>MediaStream</code></a> objects in\n                                      <var>transceiver</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpTransceiver\" data-xref-for=\"RTCRtpTransceiver\" data-lt=\"[[Receiver]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-receiver\" class=\"internalDFN\" id=\"ref-for-dfn-receiver-17\"><code>[[Receiver]]</code></a>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpReceiver\" data-xref-for=\"RTCRtpReceiver\" data-lt=\"[[LastStableStateAssociatedRemoteMediaStreams]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-laststablestateassociatedremotemediastreams\" class=\"internalDFN\" id=\"ref-for-dfn-laststablestateassociatedremotemediastreams-2\"><code>[[LastStableStateAssociatedRemoteMediaStreams]]</code></a>,\n                                      or an empty list if there are none.\n                                    </p>"
                            },
                            {
                              "html": "<p>\n                                      <a href=\"https://w3c.github.io/webrtc-pc/#process-remote-tracks\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-process-remote-tracks-2\">Process remote tracks</a> with\n                                      <var>transceiver</var>,\n                                      <var>transceiver</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpTransceiver\" data-xref-for=\"RTCRtpTransceiver\" data-lt=\"[[CurrentDirection]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-currentdirection\" class=\"internalDFN\" id=\"ref-for-dfn-currentdirection-3\"><code>[[CurrentDirection]]</code></a>,\n                                      <var>msids</var>, <var>addList</var>,\n                                      <var>removeList</var>, and\n                                      <var>trackEventInits</var>.\n                                    </p>"
                            }
                          ]
                        },
                        {
                          "html": "<p>\n                                  If <var>transceiver</var> was created when\n                                  <var>pendingDescription</var> was set, and a\n                                  track has never been attached to it via\n                                  <a data-link-type=\"idl\" data-xref-type=\"method\" data-link-for=\"RTCPeerConnection\" data-xref-for=\"RTCPeerConnection\" data-lt=\"addTrack()\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcpeerconnection-addtrack\" class=\"internalDFN\" id=\"ref-for-dom-rtcpeerconnection-addtrack-2\"><code>addTrack</code></a><code>()</code>, then <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-stop-the-rtcrtptransceiver\" class=\"internalDFN\" id=\"ref-for-dfn-stop-the-rtcrtptransceiver-2\">stop the RTCRtpTransceiver</a>\n                                  <var>transceiver</var>, and remove it from\n                                  <var>connection</var>'s <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#transceivers-set\" class=\"internalDFN\" id=\"ref-for-transceivers-set-8\">set of transceivers</a>.\n                                </p>"
                        }
                      ]
                    },
                    {
                      "html": "<p>\n                              Set\n                              <var>connection</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCPeerConnection\" data-xref-for=\"RTCPeerConnection\" data-lt=\"[[PendingLocalDescription]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-pendinglocaldescription\" class=\"internalDFN\" id=\"ref-for-dfn-pendinglocaldescription-8\"><code>[[PendingLocalDescription]]</code></a>\n                              and\n                              <var>connection</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCPeerConnection\" data-xref-for=\"RTCPeerConnection\" data-lt=\"[[PendingRemoteDescription]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-pendingremotedescription\" class=\"internalDFN\" id=\"ref-for-dfn-pendingremotedescription-8\"><code>[[PendingRemoteDescription]]</code></a>\n                              to <code>null</code>, and set\n                              <var>connection</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCPeerConnection\" data-xref-for=\"RTCPeerConnection\" data-lt=\"[[SignalingState]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-signalingstate\" class=\"internalDFN\" id=\"ref-for-dfn-signalingstate-13\"><code>[[SignalingState]]</code></a> to\n                              \"<a data-link-type=\"idl\" data-xref-type=\"enum-value\" data-link-for=\"RTCSignalingState\" data-xref-for=\"RTCSignalingState\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcsignalingstate-stable\" class=\"internalDFN\" id=\"ref-for-dom-rtcsignalingstate-stable-11\"><code>stable</code></a>\".\n                            </p>"
                    }
                  ]
                },
                {
                  "html": "If <var>description</var> is of type\n                          \"<a data-link-type=\"idl\" data-xref-type=\"enum-value\" data-link-for=\"RTCSdpType\" data-xref-for=\"RTCSdpType\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcsdptype-answer\" class=\"internalDFN\" id=\"ref-for-dom-rtcsdptype-answer-9\"><code>answer</code></a>\", then run the following\n                          steps:",
                  "rationale": "for",
                  "steps": [
                    {
                      "html": "For each <var>transceiver</var> in the\n                              <var>connection</var>'s <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#transceivers-set\" class=\"internalDFN\" id=\"ref-for-transceivers-set-9\">set of transceivers</a>\n                              run the following steps:",
                      "rationale": "if",
                      "steps": [
                        {
                          "html": "<p>\n                                  If <var>transceiver</var> is\n                                  <a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCRtpTransceiver\" data-xref-for=\"RTCRtpTransceiver\" href=\"https://w3c.github.io/webrtc-pc/#dfn-stopped\" class=\"internalDFN\" id=\"ref-for-dfn-stopped-1\"><code>stopped</code></a>, <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-associated\" class=\"internalDFN\" id=\"ref-for-dfn-associated-5\">associated</a> with an m= section and the associated m=\n                                  section is rejected in\n                                  <var>connection</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCPeerConnection\" data-xref-for=\"RTCPeerConnection\" data-lt=\"[[CurrentLocalDescription]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-currentlocaldescription\" class=\"internalDFN\" id=\"ref-for-dfn-currentlocaldescription-5\"><code>[[CurrentLocalDescription]]</code></a>\n                                  or\n                                  <var>connection</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCPeerConnection\" data-xref-for=\"RTCPeerConnection\" data-lt=\"[[CurrentRemoteDescription]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-currentremotedescription\" class=\"internalDFN\" id=\"ref-for-dfn-currentremotedescription-4\"><code>[[CurrentRemoteDescription]]</code></a>,\n                                  remove the <var>transceiver</var> from the\n                                  <var>connection</var>'s <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#transceivers-set\" class=\"internalDFN\" id=\"ref-for-transceivers-set-10\">set of transceivers</a>.\n                                </p>"
                        }
                      ]
                    }
                  ]
                },
                {
                  "html": "If <var>connection</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCPeerConnection\" data-xref-for=\"RTCPeerConnection\" data-lt=\"[[SignalingState]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-signalingstate\" class=\"internalDFN\" id=\"ref-for-dfn-signalingstate-14\"><code>[[SignalingState]]</code></a> is\n                          now \"<a data-link-type=\"idl\" data-xref-type=\"enum-value\" data-link-for=\"RTCSignalingState\" data-xref-for=\"RTCSignalingState\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcsignalingstate-stable\" class=\"internalDFN\" id=\"ref-for-dom-rtcsignalingstate-stable-12\"><code>stable</code></a>\", run the following\n                          steps:",
                  "rationale": "for",
                  "steps": [
                    {
                      "html": "<p class=\"needs-test\">\n                              For any <var>transceiver</var> that was removed\n                              from the <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#transceivers-set\" class=\"internalDFN\" id=\"ref-for-transceivers-set-11\">set of transceivers</a> in a previous\n                              step, if any of its transports\n                              (<var>transceiver</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpTransceiver\" data-xref-for=\"RTCRtpTransceiver\" data-lt=\"[[Sender]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-sender\" class=\"internalDFN\" id=\"ref-for-dfn-sender-27\"><code>[[Sender]]</code></a>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpSender\" data-xref-for=\"RTCRtpSender\" data-lt=\"[[SenderTransport]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-sendertransport\" class=\"internalDFN\" id=\"ref-for-dfn-sendertransport-5\"><code>[[SenderTransport]]</code></a>\n                              or\n                              <var>transceiver</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpTransceiver\" data-xref-for=\"RTCRtpTransceiver\" data-lt=\"[[Receiver]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-receiver\" class=\"internalDFN\" id=\"ref-for-dfn-receiver-18\"><code>[[Receiver]]</code></a>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpReceiver\" data-xref-for=\"RTCRtpReceiver\" data-lt=\"[[ReceiverTransport]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-receivertransport\" class=\"internalDFN\" id=\"ref-for-dfn-receivertransport-5\"><code>[[ReceiverTransport]]</code></a>)\n                              are still not closed and they're no longer\n                              referenced by a non-stopped transceiver, close\n                              the <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCDtlsTransport\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcdtlstransport\" class=\"internalDFN\" id=\"ref-for-dom-rtcdtlstransport-10\"><code>RTCDtlsTransport</code></a>s and their associated\n                              <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCIceTransport\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcicetransport\" class=\"internalDFN\" id=\"ref-for-dom-rtcicetransport-15\"><code>RTCIceTransport</code></a>s. This results in events\n                              firing on these objects in a queued task.\n                            </p>"
                    },
                    {
                      "html": "For each <var>transceiver</var> in <var>connection</var>'s <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#transceivers-set\" class=\"internalDFN\" id=\"ref-for-transceivers-set-12\">set of transceivers</a>:",
                      "rationale": "let",
                      "steps": [
                        {
                          "html": "<p>Let <var>codecs</var> be <var>transceiver</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpTransceiver\" data-xref-for=\"RTCRtpTransceiver\" data-lt=\"[[Sender]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-sender\" class=\"internalDFN\" id=\"ref-for-dfn-sender-28\"><code>[[Sender]]</code></a>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpSender\" data-xref-for=\"RTCRtpSender\" data-lt=\"[[SendCodecs]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-sendcodecs\" class=\"internalDFN\" id=\"ref-for-dfn-sendcodecs-3\"><code>[[SendCodecs]]</code></a>.</p>"
                        },
                        {
                          "html": "If <var>codecs</var> is not an empty list:",
                          "rationale": "for",
                          "steps": [
                            {
                              "html": "<p>For each <var>encoding</var> in\n                                    <var>transceiver</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpTransceiver\" data-xref-for=\"RTCRtpTransceiver\" data-lt=\"[[Sender]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-sender\" class=\"internalDFN\" id=\"ref-for-dfn-sender-29\"><code>[[Sender]]</code></a>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpSender\" data-xref-for=\"RTCRtpSender\" data-lt=\"[[SendEncodings]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-sendencodings\" class=\"internalDFN\" id=\"ref-for-dfn-sendencodings-13\"><code>[[SendEncodings]]</code></a>,\n                                    if <var>encoding</var>.<a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCRtpEncodingParameters\" data-xref-for=\"RTCRtpEncodingParameters\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtpencodingparameters-codec\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtpencodingparameters-codec-1\"><code>codec</code></a> does not\n                                    <a data-link-type=\"dfn|abstract-op\" data-lt=\"codec dictionary match\" href=\"https://w3c.github.io/webrtc-pc/#dfn-codec-dictionary-match\" class=\"internalDFN\" id=\"ref-for-dfn-codec-dictionary-match-1\">match</a> any entry in <var>codecs</var>,\n                                    <a data-link-type=\"dfn|abstract-op\" data-link-for=\"map\" data-xref-for=\"map\" data-cite=\"infra\" data-cite-path=\"\" data-cite-frag=\"map-remove\" data-type=\"dfn\" href=\"https://infra.spec.whatwg.org/#map-remove\">remove</a> <var>encoding</var>[<a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCRtpEncodingParameters\" data-xref-for=\"RTCRtpEncodingParameters\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtpencodingparameters-codec\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtpencodingparameters-codec-2\"><code>codec</code></a>].</p>"
                            }
                          ]
                        }
                      ]
                    },
                    {
                      "html": "<p>\n                              <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-clear-the-negotiation-needed-flag\" class=\"internalDFN\" id=\"ref-for-dfn-clear-the-negotiation-needed-flag-1\">Clear the negotiation-needed flag</a> and <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-update-the-negotiation-needed-flag\" class=\"internalDFN\" id=\"ref-for-dfn-update-the-negotiation-needed-flag-2\">update the negotiation-needed flag</a>.\n                            </p>"
                    }
                  ]
                },
                {
                  "html": "<p>\n                          If <var>connection</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCPeerConnection\" data-xref-for=\"RTCPeerConnection\" data-lt=\"[[SignalingState]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-signalingstate\" class=\"internalDFN\" id=\"ref-for-dfn-signalingstate-15\"><code>[[SignalingState]]</code></a>\n                          changed above, <a data-link-type=\"dfn|abstract-op\" data-cite=\"dom\" data-cite-path=\"\" data-cite-frag=\"concept-event-fire\" data-type=\"dfn\" href=\"https://dom.spec.whatwg.org/#concept-event-fire\">fire an event</a> named\n                          <a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCPeerConnection\" data-xref-for=\"RTCPeerConnection\" href=\"https://w3c.github.io/webrtc-pc/#event-signalingstatechange\" class=\"internalDFN\" id=\"ref-for-event-signalingstatechange-1\"><code>signalingstatechange</code></a> at <var>connection</var>.\n                        </p>"
                },
                {
                  "html": "<p>\n                          For each <var>channel</var> in <var>errorList</var>,\n                          <a data-link-type=\"dfn|abstract-op\" data-cite=\"dom\" data-cite-path=\"\" data-cite-frag=\"concept-event-fire\" data-type=\"dfn\" href=\"https://dom.spec.whatwg.org/#concept-event-fire\">fire an event</a> named <a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCDataChannel\" data-xref-for=\"RTCDataChannel\" href=\"https://w3c.github.io/webrtc-pc/#event-datachannel-error\" class=\"internalDFN\" id=\"ref-for-event-datachannel-error-1\"><code>error</code></a>\n                          using the <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCErrorEvent\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcerrorevent\" class=\"internalDFN\" id=\"ref-for-dom-rtcerrorevent-1\"><code>RTCErrorEvent</code></a> interface with the\n                          <a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCError\" data-xref-for=\"RTCError\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcerror-errordetail\" class=\"internalDFN\" id=\"ref-for-dom-rtcerror-errordetail-2\"><code>errorDetail</code></a> attribute set to\n                          \"<a data-link-type=\"idl\" data-xref-type=\"enum-value\" data-link-for=\"RTCErrorDetailType\" data-xref-for=\"RTCErrorDetailType\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcerrordetailtype-data-channel-failure\" class=\"internalDFN\" id=\"ref-for-dom-rtcerrordetailtype-data-channel-failure-1\"><code>data-channel-failure</code></a>\" at\n                          <var>channel</var>.\n                        </p>"
                },
                {
                  "html": "<p>\n                          For each <var>track</var> in <var>muteTracks</var>,\n                          <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#set-track-muted\" class=\"internalDFN\" id=\"ref-for-set-track-muted-1\">set the muted state</a> of <var>track</var> to the\n                          value <code>true</code>.\n                        </p>"
                },
                {
                  "html": "<p>\n                          For each <var>stream</var> and <var>track</var> pair\n                          in <var>removeList</var>, <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#remove-track\" class=\"internalDFN\" id=\"ref-for-remove-track-1\">remove the track</a>\n                          <var>track</var> from <var>stream</var>.\n                        </p>"
                },
                {
                  "html": "<p>\n                          For each <var>stream</var> and <var>track</var> pair\n                          in <var>addList</var>, <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#add-track\" class=\"internalDFN\" id=\"ref-for-add-track-1\">add the track</a>\n                          <var>track</var> to <var>stream</var>.\n                        </p>"
                },
                {
                  "html": "<p>\n                          For each entry <var>entry</var> in\n                          <var>trackEventInits</var>, <a data-link-type=\"dfn|abstract-op\" data-cite=\"dom\" data-cite-path=\"\" data-cite-frag=\"concept-event-fire\" data-type=\"dfn\" href=\"https://dom.spec.whatwg.org/#concept-event-fire\">fire an event</a> named\n                          <a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCPeerConnection\" data-xref-for=\"RTCPeerConnection\" href=\"https://w3c.github.io/webrtc-pc/#event-track\" class=\"internalDFN\" id=\"ref-for-event-track-1\"><code>track</code></a> using the <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCTrackEvent\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtctrackevent\" class=\"internalDFN\" id=\"ref-for-dom-rtctrackevent-1\"><code>RTCTrackEvent</code></a> interface with\n                          its <a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCTrackEvent\" data-xref-for=\"RTCTrackEvent\" href=\"https://w3c.github.io/webrtc-pc/#dom-trackevent-receiver\" class=\"internalDFN\" id=\"ref-for-dom-trackevent-receiver-1\"><code>receiver</code></a> attribute initialized\n                          to <var>entry</var>.<a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCTrackEventInit\" data-xref-for=\"RTCTrackEventInit\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtctrackeventinit-receiver\" class=\"internalDFN\" id=\"ref-for-dom-rtctrackeventinit-receiver-1\"><code>receiver</code></a>,\n                          its <a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCTrackEvent\" data-xref-for=\"RTCTrackEvent\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtctrackevent-track\" class=\"internalDFN\" id=\"ref-for-dom-rtctrackevent-track-1\"><code>track</code></a> attribute initialized to\n                          <var>entry</var>.<a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCTrackEventInit\" data-xref-for=\"RTCTrackEventInit\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtctrackeventinit-track\" class=\"internalDFN\" id=\"ref-for-dom-rtctrackeventinit-track-1\"><code>track</code></a>, its\n                          <a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCTrackEvent\" data-xref-for=\"RTCTrackEvent\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtctrackevent-streams\" class=\"internalDFN\" id=\"ref-for-dom-rtctrackevent-streams-1\"><code>streams</code></a> attribute initialized to\n                          <var>entry</var>.<a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCTrackEventInit\" data-xref-for=\"RTCTrackEventInit\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtctrackeventinit-streams\" class=\"internalDFN\" id=\"ref-for-dom-rtctrackeventinit-streams-1\"><code>streams</code></a> and\n                          its <a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCTrackEvent\" data-xref-for=\"RTCTrackEvent\" href=\"https://w3c.github.io/webrtc-pc/#dom-trackevent-transceiver\" class=\"internalDFN\" id=\"ref-for-dom-trackevent-transceiver-1\"><code>transceiver</code></a> attribute\n                          initialized to\n                          <var>entry</var>.<a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCTrackEventInit\" data-xref-for=\"RTCTrackEventInit\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtctrackeventinit-transceiver\" class=\"internalDFN\" id=\"ref-for-dom-rtctrackeventinit-transceiver-1\"><code>transceiver</code></a> at\n                          the <var>connection</var> object.\n                        </p>"
                },
                {
                  "html": "<p>\n                          <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-resolve\" class=\"internalDFN\" id=\"ref-for-dfn-resolve-1\">Resolve</a> <var>p</var> with\n                          <code>undefined</code>.\n                        </p>"
                }
              ]
            }
          ]
        },
        {
          "html": "<p>\n                  Return <var>p</var>.\n                </p>"
        }
      ]
    },
    {
      "name": "ICE transports setting",
      "href": "https://w3c.github.io/webrtc-pc/#ice-transports-setting",
      "html": "To <dfn class=\"abstract-op\" data-lt=\"set the configuration|set a configuration\" id=\"set-pc-configuration\" data-dfn-type=\"abstract-op\" tabindex=\"0\" aria-haspopup=\"dialog\" data-export=\"\">set a configuration</dfn> with\n              <var>configuration</var>, run the following steps:",
      "rationale": ".algorithm",
      "steps": [
        {
          "html": "<p>\n                  Let <var>connection</var> be the target <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCPeerConnection\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcpeerconnection\" class=\"internalDFN\" id=\"ref-for-dom-rtcpeerconnection-34\"><code>RTCPeerConnection</code></a>\n                  object.\n                </p>"
        },
        {
          "html": "<p>\n                  Let <var>oldConfig</var> be\n                  <var>connection</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCPeerConnection\" data-xref-for=\"RTCPeerConnection\" data-lt=\"[[Configuration]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-configuration\" class=\"internalDFN\" id=\"ref-for-dfn-configuration-1\"><code>[[Configuration]]</code></a>.\n                </p>"
        },
        {
          "html": "If <var>oldConfig</var> is not <code>null</code>, run the\n                following steps, and if any of them fail, <a data-link-type=\"dfn|abstract-op\" data-link-for=\"exception\" data-xref-for=\"exception\" data-cite=\"webidl\" data-cite-path=\"\" data-cite-frag=\"dfn-throw\" data-type=\"dfn\" href=\"https://webidl.spec.whatwg.org/#dfn-throw\">throw</a>\n                an <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"InvalidModificationError\" data-cite=\"webidl\" data-cite-path=\"\" data-cite-frag=\"invalidmodificationerror\" data-type=\"exception\" href=\"https://webidl.spec.whatwg.org/#invalidmodificationerror\"><code>InvalidModificationError</code></a>:",
          "rationale": "if",
          "steps": [
            {
              "html": "<p id=\"setconfig-certificate\">\n                      If the length of\n                      <var>configuration</var>.<a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCConfiguration\" data-xref-for=\"RTCConfiguration\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcconfiguration-certificates\" class=\"internalDFN\" id=\"ref-for-dom-rtcconfiguration-certificates-4\"><code>certificates</code></a>\n                      is different from the length of\n                      <var>oldConfig</var>.<a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCConfiguration\" data-xref-for=\"RTCConfiguration\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcconfiguration-certificates\" class=\"internalDFN\" id=\"ref-for-dom-rtcconfiguration-certificates-5\"><code>certificates</code></a>,\n                      fail.\n                    </p>"
            },
            {
              "html": "<p>\n                      Let <var>index</var> be 0.\n                    </p>"
            },
            {
              "html": "While <var>index</var> is less than the length of\n                      <var>configuration</var>.<a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCConfiguration\" data-xref-for=\"RTCConfiguration\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcconfiguration-certificates\" class=\"internalDFN\" id=\"ref-for-dom-rtcconfiguration-certificates-6\"><code>certificates</code></a>,\n                      run the following steps:",
              "rationale": "if",
              "steps": [
                {
                  "html": "<p>\n                          If the ECMAScript object represented by the value of\n                          <var>configuration</var>.<a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCConfiguration\" data-xref-for=\"RTCConfiguration\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcconfiguration-certificates\" class=\"internalDFN\" id=\"ref-for-dom-rtcconfiguration-certificates-7\"><code>certificates</code></a>\n                          at <var>index</var> is not the same as the ECMAScript\n                          object represented by the value of\n                          <var>oldConfig</var>.<a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCConfiguration\" data-xref-for=\"RTCConfiguration\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcconfiguration-certificates\" class=\"internalDFN\" id=\"ref-for-dom-rtcconfiguration-certificates-8\"><code>certificates</code></a>\n                          at <var>index</var>, then fail.\n                        </p>"
                },
                {
                  "html": "<p>\n                          Increment <var>index</var> by 1.\n                        </p>"
                }
              ]
            },
            {
              "html": "<p id=\"config-bundle\" data-tests=\"RTCConfiguration-bundlePolicy.html\" class=\"has-tests\">\n                      If the value of\n                      <var>configuration</var>.<a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCConfiguration\" data-xref-for=\"RTCConfiguration\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcconfiguration-bundlepolicy\" class=\"internalDFN\" id=\"ref-for-dom-rtcconfiguration-bundlepolicy-2\"><code>bundlePolicy</code></a>\n                      differs from\n                      <var>oldConfig</var>.<a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCConfiguration\" data-xref-for=\"RTCConfiguration\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcconfiguration-bundlepolicy\" class=\"internalDFN\" id=\"ref-for-dom-rtcconfiguration-bundlepolicy-3\"><code>bundlePolicy</code></a>,\n                      then fail.\n                    </p>"
            },
            {
              "html": "<p id=\"config-rtcpmux\" data-tests=\"RTCConfiguration-rtcpMuxPolicy.html\" class=\"has-tests\">\n                      If the value of\n                      <var>configuration</var>.<a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCConfiguration\" data-xref-for=\"RTCConfiguration\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcconfiguration-rtcpmuxpolicy\" class=\"internalDFN\" id=\"ref-for-dom-rtcconfiguration-rtcpmuxpolicy-2\"><code>rtcpMuxPolicy</code></a>\n                      differs from\n                      <var>oldConfig</var>.<a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCConfiguration\" data-xref-for=\"RTCConfiguration\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcconfiguration-rtcpmuxpolicy\" class=\"internalDFN\" id=\"ref-for-dom-rtcconfiguration-rtcpmuxpolicy-3\"><code>rtcpMuxPolicy</code></a>,\n                      then fail.\n                    </p>"
            },
            {
              "html": "<p id=\"config-icepool\" data-tests=\"RTCConfiguration-iceCandidatePoolSize.html\" class=\"has-tests\">\n                      If the value of\n                      <var>configuration</var>.<a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCConfiguration\" data-xref-for=\"RTCConfiguration\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcconfiguration-icecandidatepoolsize\" class=\"internalDFN\" id=\"ref-for-dom-rtcconfiguration-icecandidatepoolsize-2\"><code>iceCandidatePoolSize</code></a>\n                      differs from\n                      <var>oldConfig</var>.<a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCConfiguration\" data-xref-for=\"RTCConfiguration\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcconfiguration-icecandidatepoolsize\" class=\"internalDFN\" id=\"ref-for-dom-rtcconfiguration-icecandidatepoolsize-3\"><code>iceCandidatePoolSize</code></a>,\n                      and <a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCPeerConnection\" data-xref-for=\"RTCPeerConnection\" href=\"https://w3c.github.io/webrtc-pc/#dom-peerconnection-setlocaldescription\" class=\"internalDFN\" id=\"ref-for-dom-peerconnection-setlocaldescription-3\"><code>setLocalDescription</code></a> has already been\n                      called, then fail.\n                    </p>"
            }
          ]
        },
        {
          "html": "<p>\n                  Let <var>iceServers</var> be\n                  <var>configuration</var>.<a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCConfiguration\" data-xref-for=\"RTCConfiguration\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcconfiguration-iceservers\" class=\"internalDFN\" id=\"ref-for-dom-rtcconfiguration-iceservers-3\"><code>iceServers</code></a>.\n                </p>"
        },
        {
          "html": "<p>\n                  Truncate <var>iceServers</var> to the maximum number of supported elements.\n                </p>"
        },
        {
          "html": "For each <var>server</var> in\n                  <var>iceServers</var>,\n                  run the following steps:",
          "rationale": "let",
          "steps": [
            {
              "html": "<p>\n                      Let <var>urls</var> be\n                      <var>server</var>.<a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCIceServer\" data-xref-for=\"RTCIceServer\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtciceserver-urls\" class=\"internalDFN\" id=\"ref-for-dom-rtciceserver-urls-2\"><code>urls</code></a>.\n                    </p>"
            },
            {
              "html": "<p>\n                      If <var>urls</var> is a string, set <var>urls</var> to a\n                      list consisting of just that string.\n                    </p>"
            },
            {
              "html": "<p>\n                      If <var>urls</var> is empty, <a data-link-type=\"dfn|abstract-op\" data-link-for=\"exception\" data-xref-for=\"exception\" data-cite=\"webidl\" data-cite-path=\"\" data-cite-frag=\"dfn-throw\" data-type=\"dfn\" href=\"https://webidl.spec.whatwg.org/#dfn-throw\">throw</a> a\n                      \"<a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"SyntaxError\" data-cite=\"webidl\" data-cite-path=\"\" data-cite-frag=\"syntaxerror\" data-type=\"exception\" href=\"https://webidl.spec.whatwg.org/#syntaxerror\"><code>SyntaxError</code></a>\" <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"DOMException\" data-cite=\"webidl\" data-cite-path=\"\" data-cite-frag=\"idl-DOMException\" data-type=\"interface\" href=\"https://webidl.spec.whatwg.org/#idl-DOMException\"><code>DOMException</code></a>.\n                    </p>"
            },
            {
              "html": "<p>\n                      For each <var>url</var> in <var>urls</var>, run the <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-validate-an-ice-server-url\" class=\"internalDFN\" id=\"ref-for-dfn-validate-an-ice-server-url-1\">validate an ICE server URL</a> algorithm on <var>url</var>.\n                    </p>"
            }
          ]
        },
        {
          "html": "<p id=\"config-icetransportpolicy\">\n                  Set the <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-ice-agent\" class=\"internalDFN\" id=\"ref-for-dfn-ice-agent-10\">ICE Agent</a>'s <dfn id=\"ice-transports-setting\" tabindex=\"0\" aria-haspopup=\"dialog\" data-dfn-type=\"dfn\">ICE transports setting</dfn> to the\n                  value of\n                  <var>configuration</var>.<a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCConfiguration\" data-xref-for=\"RTCConfiguration\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcconfiguration-icetransportpolicy\" class=\"internalDFN\" id=\"ref-for-dom-rtcconfiguration-icetransportpolicy-3\"><code>iceTransportPolicy</code></a>.\n                  As defined in <span>[<cite><a class=\"bibref\" data-link-type=\"biblio\" href=\"https://w3c.github.io/webrtc-pc/#bib-rfc9429\" title=\"JavaScript Session Establishment Protocol (JSEP)\">RFC9429</a></cite>] (<a href=\"https://www.rfc-editor.org/rfc/rfc9429#section-4.1.18\">section 4.1.18.</a>)</span>, if the new <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#ice-transports-setting\" class=\"internalDFN\" id=\"ref-for-ice-transports-setting-1\">ICE transports setting</a> changes the existing setting, no action\n                  will be taken until the next gathering phase. If a script\n                  wants this to happen immediately, it should do an ICE\n                  restart.\n                </p>"
        },
        {
          "html": "<p>\n                  Set the <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-ice-agent\" class=\"internalDFN\" id=\"ref-for-dfn-ice-agent-11\">ICE Agent</a>'s prefetched <dfn id=\"dfn-ice-candidate-pool-size\" tabindex=\"0\" aria-haspopup=\"dialog\" data-dfn-type=\"dfn\">ICE candidate pool\n                  size</dfn> as defined in <span>[<cite><a class=\"bibref\" data-link-type=\"biblio\" href=\"https://w3c.github.io/webrtc-pc/#bib-rfc9429\" title=\"JavaScript Session Establishment Protocol (JSEP)\">RFC9429</a></cite>] (<a href=\"https://www.rfc-editor.org/rfc/rfc9429#section-3.5.4\">section 3.5.4.</a> and <a href=\"https://www.rfc-editor.org/rfc/rfc9429#section-4.1.1\">section 4.1.1.</a>)</span> to the\n                  value of\n                  <var>configuration</var>.<a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCConfiguration\" data-xref-for=\"RTCConfiguration\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcconfiguration-icecandidatepoolsize\" class=\"internalDFN\" id=\"ref-for-dom-rtcconfiguration-icecandidatepoolsize-4\"><code>iceCandidatePoolSize</code></a>.\n                  If the new <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-ice-candidate-pool-size\" class=\"internalDFN\" id=\"ref-for-dfn-ice-candidate-pool-size-1\">ICE candidate pool size</a> changes the existing\n                  setting, this may result in immediate gathering of new pooled\n                  candidates, or discarding of existing pooled candidates, as\n                  defined in <span>[<cite><a class=\"bibref\" data-link-type=\"biblio\" href=\"https://w3c.github.io/webrtc-pc/#bib-rfc9429\" title=\"JavaScript Session Establishment Protocol (JSEP)\">RFC9429</a></cite>] (<a href=\"https://www.rfc-editor.org/rfc/rfc9429#section-4.1.18\">section 4.1.18.</a>)</span>.\n                </p>"
        },
        {
          "html": "<p>\n                  Set the <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-ice-agent\" class=\"internalDFN\" id=\"ref-for-dfn-ice-agent-12\">ICE Agent</a>'s <dfn id=\"ice-servers-list\" tabindex=\"0\" aria-haspopup=\"dialog\" data-dfn-type=\"dfn\">ICE\n                  servers list</dfn> to\n                  <var>iceServers</var>.\n                </p>\n                <p>\n                  As defined in <span>[<cite><a class=\"bibref\" data-link-type=\"biblio\" href=\"https://w3c.github.io/webrtc-pc/#bib-rfc9429\" title=\"JavaScript Session Establishment Protocol (JSEP)\">RFC9429</a></cite>] (<a href=\"https://www.rfc-editor.org/rfc/rfc9429#section-4.1.18\">section 4.1.18.</a>)</span>, if a new list of servers\n                  replaces the <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-ice-agent\" class=\"internalDFN\" id=\"ref-for-dfn-ice-agent-13\">ICE Agent</a>'s existing <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#ice-servers-list\" class=\"internalDFN\" id=\"ref-for-ice-servers-list-1\">ICE servers list</a>, no\n                  action will be taken until the next gathering phase. If a\n                  script wants this to happen immediately, it should do an ICE\n                  restart. However, if the <a data-link-type=\"dfn|abstract-op\" data-lt=\"ICE candidate pool size\" href=\"https://w3c.github.io/webrtc-pc/#dfn-ice-candidate-pool-size\" class=\"internalDFN\" id=\"ref-for-dfn-ice-candidate-pool-size-2\">ICE candidate pool</a> has a nonzero size, any existing pooled\n                  candidates will be discarded, and new candidates will be\n                  gathered from the new servers.\n                </p>"
        },
        {
          "html": "<p>\n                  Store <var>configuration</var> in the\n                  <a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCPeerConnection\" data-xref-for=\"RTCPeerConnection\" data-lt=\"[[Configuration]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-configuration\" class=\"internalDFN\" id=\"ref-for-dfn-configuration-2\"><code>[[Configuration]]</code></a> internal slot.\n                </p>"
        }
      ]
    },
    {
      "name": "validate an ICE server URL",
      "href": "https://w3c.github.io/webrtc-pc/#dfn-validate-an-ice-server-url",
      "html": "To <dfn class=\"abstract-op\" data-dfn-type=\"abstract-op\" id=\"dfn-validate-an-ice-server-url\" tabindex=\"0\" aria-haspopup=\"dialog\" data-export=\"\">validate an ICE server URL</dfn> <var>url</var>, run the following steps:",
      "rationale": ".algorithm",
      "steps": [
        {
          "html": "<p>Let <var>parsedURL</var> be the result of\n                  <a data-cite=\"!url#concept-url-parser\" href=\"https://url.spec.whatwg.org/#concept-url-parser\">parsing</a>\n                  <var>url</var>.</p>"
        },
        {
          "html": "<p>If any of the following conditions apply, then <a data-link-type=\"dfn|abstract-op\" data-link-for=\"exception\" data-xref-for=\"exception\" data-cite=\"webidl\" data-cite-path=\"\" data-cite-frag=\"dfn-throw\" data-type=\"dfn\" href=\"https://webidl.spec.whatwg.org/#dfn-throw\">throw</a> a\n                  \"<a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"SyntaxError\" data-cite=\"webidl\" data-cite-path=\"\" data-cite-frag=\"syntaxerror\" data-type=\"exception\" href=\"https://webidl.spec.whatwg.org/#syntaxerror\"><code>SyntaxError</code></a>\" <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"DOMException\" data-cite=\"webidl\" data-cite-path=\"\" data-cite-frag=\"idl-DOMException\" data-type=\"interface\" href=\"https://webidl.spec.whatwg.org/#idl-DOMException\"><code>DOMException</code></a>:</p>\n                <ul>\n                  <li><var>parsedURL</var> is failure</li>\n                  <li><var>parsedURL</var>'s <a data-link-type=\"dfn|abstract-op\" data-link-for=\"url\" data-xref-for=\"url\" data-cite=\"url\" data-cite-path=\"\" data-cite-frag=\"concept-url-scheme\" data-type=\"dfn\" href=\"https://url.spec.whatwg.org/#concept-url-scheme\">scheme</a> is neither <code>\"stun\"</code>,\n                    <code>\"stuns\"</code>, <code>\"turn\"</code>, nor <code>\"turns\"</code></li>\n                  <li><var>parsedURL</var> does not have an <a data-link-type=\"dfn|abstract-op\" data-link-for=\"url\" data-xref-for=\"url\" data-cite=\"url\" data-cite-path=\"\" data-cite-frag=\"url-opaque-path\" data-type=\"dfn\" href=\"https://url.spec.whatwg.org/#url-opaque-path\">opaque path</a></li>\n                  <li><var>parsedURL</var>'s' <a data-link-type=\"dfn|abstract-op\" data-link-for=\"url\" data-xref-for=\"url\" data-cite=\"url\" data-cite-path=\"\" data-cite-frag=\"concept-url-fragment\" data-type=\"dfn\" href=\"https://url.spec.whatwg.org/#concept-url-fragment\">fragment</a> is non-null</li>\n                  <li><var>parsedURL</var>'s' <a data-link-type=\"dfn|abstract-op\" data-link-for=\"url\" data-xref-for=\"url\" data-cite=\"url\" data-cite-path=\"\" data-cite-frag=\"concept-url-scheme\" data-type=\"dfn\" href=\"https://url.spec.whatwg.org/#concept-url-scheme\">scheme</a> is <code>\"stun\"</code> or <code>\"stuns\"</code>,\n                    and <var>parsedURL</var>'s' <a data-link-type=\"dfn|abstract-op\" data-link-for=\"url\" data-xref-for=\"url\" data-cite=\"url\" data-cite-path=\"\" data-cite-frag=\"concept-url-query\" data-type=\"dfn\" href=\"https://url.spec.whatwg.org/#concept-url-query\">query</a> is non-null</li>\n                </ul>"
        },
        {
          "html": "<p>If <var>parsedURL</var>'s <a data-link-type=\"dfn|abstract-op\" data-link-for=\"url\" data-xref-for=\"url\" data-cite=\"url\" data-cite-path=\"\" data-cite-frag=\"concept-url-scheme\" data-type=\"dfn\" href=\"https://url.spec.whatwg.org/#concept-url-scheme\">scheme</a> is not implemented by the\n                  user agent, then <a data-link-type=\"dfn|abstract-op\" data-link-for=\"exception\" data-xref-for=\"exception\" data-cite=\"webidl\" data-cite-path=\"\" data-cite-frag=\"dfn-throw\" data-type=\"dfn\" href=\"https://webidl.spec.whatwg.org/#dfn-throw\">throw</a> a <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"NotSupportedError\" data-cite=\"webidl\" data-cite-path=\"\" data-cite-frag=\"notsupportederror\" data-type=\"exception\" href=\"https://webidl.spec.whatwg.org/#notsupportederror\"><code>NotSupportedError</code></a>.</p>"
        },
        {
          "html": "<p>Let <var>hostAndPortURL</var> be result of\n                  <a data-cite=\"!url#concept-url-parser\" href=\"https://url.spec.whatwg.org/#concept-url-parser\">parsing</a> the concatenation of\n                  <code>\"https://\"</code> and <var>parsedURL</var>'s <a data-link-type=\"dfn|abstract-op\" data-link-for=\"url\" data-xref-for=\"url\" data-cite=\"url\" data-cite-path=\"\" data-cite-frag=\"concept-url-path\" data-type=\"dfn\" href=\"https://url.spec.whatwg.org/#concept-url-path\">path</a>.</p>"
        },
        {
          "html": "<p>If <var>hostAndPortURL</var> is failure, then <a data-link-type=\"dfn|abstract-op\" data-link-for=\"exception\" data-xref-for=\"exception\" data-cite=\"webidl\" data-cite-path=\"\" data-cite-frag=\"dfn-throw\" data-type=\"dfn\" href=\"https://webidl.spec.whatwg.org/#dfn-throw\">throw</a> a\n                  \"<a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"SyntaxError\" data-cite=\"webidl\" data-cite-path=\"\" data-cite-frag=\"syntaxerror\" data-type=\"exception\" href=\"https://webidl.spec.whatwg.org/#syntaxerror\"><code>SyntaxError</code></a>\" <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"DOMException\" data-cite=\"webidl\" data-cite-path=\"\" data-cite-frag=\"idl-DOMException\" data-type=\"interface\" href=\"https://webidl.spec.whatwg.org/#idl-DOMException\"><code>DOMException</code></a>.</p>"
        },
        {
          "html": "<p>If <var>parsedURL</var>'s <a data-link-type=\"dfn|abstract-op\" data-link-for=\"url\" data-xref-for=\"url\" data-cite=\"url\" data-cite-path=\"\" data-cite-frag=\"concept-url-query\" data-type=\"dfn\" href=\"https://url.spec.whatwg.org/#concept-url-query\">query</a> is non-null and if <var>parsedURL</var>'s <a data-link-type=\"dfn|abstract-op\" data-link-for=\"url\" data-xref-for=\"url\" data-cite=\"url\" data-cite-path=\"\" data-cite-frag=\"concept-url-query\" data-type=\"dfn\" href=\"https://url.spec.whatwg.org/#concept-url-query\">query</a> is different from either <code>\"transport=udp\"</code> or <code>\"transport=tcp\"</code>, <a data-link-type=\"dfn|abstract-op\" data-link-for=\"exception\" data-xref-for=\"exception\" data-cite=\"webidl\" data-cite-path=\"\" data-cite-frag=\"dfn-throw\" data-type=\"dfn\" href=\"https://webidl.spec.whatwg.org/#dfn-throw\">throw</a> a \"<a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"SyntaxError\" data-cite=\"webidl\" data-cite-path=\"\" data-cite-frag=\"syntaxerror\" data-type=\"exception\" href=\"https://webidl.spec.whatwg.org/#syntaxerror\"><code>SyntaxError</code></a>\" <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"DOMException\" data-cite=\"webidl\" data-cite-path=\"\" data-cite-frag=\"idl-DOMException\" data-type=\"interface\" href=\"https://webidl.spec.whatwg.org/#idl-DOMException\"><code>DOMException</code></a>.</p>"
        },
        {
          "html": "<p>\n                  If <var>parsedURL</var>'s' <a data-link-type=\"dfn|abstract-op\" data-link-for=\"url\" data-xref-for=\"url\" data-cite=\"url\" data-cite-path=\"\" data-cite-frag=\"concept-url-scheme\" data-type=\"dfn\" href=\"https://url.spec.whatwg.org/#concept-url-scheme\">scheme</a> is <code>\"turn\"</code> or\n                  <code>\"turns\"</code>, and either of\n                  <var>server</var>.<a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCIceServer\" data-xref-for=\"RTCIceServer\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtciceserver-username\" class=\"internalDFN\" id=\"ref-for-dom-rtciceserver-username-2\"><code>username</code></a> or\n                  <var>server</var>.<a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCIceServer\" data-xref-for=\"RTCIceServer\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtciceserver-credential\" class=\"internalDFN\" id=\"ref-for-dom-rtciceserver-credential-3\"><code>credential</code></a> do\n                  <a data-link-type=\"dfn|abstract-op\" data-link-for=\"map\" data-xref-for=\"map\" data-lt=\"exist\" data-cite=\"infra\" data-cite-path=\"\" data-cite-frag=\"map-exists\" data-type=\"dfn\" href=\"https://infra.spec.whatwg.org/#map-exists\">not exist</a>, then <a data-link-type=\"dfn|abstract-op\" data-link-for=\"exception\" data-xref-for=\"exception\" data-cite=\"webidl\" data-cite-path=\"\" data-cite-frag=\"dfn-throw\" data-type=\"dfn\" href=\"https://webidl.spec.whatwg.org/#dfn-throw\">throw</a> an\n                  <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"InvalidAccessError\" data-cite=\"webidl\" data-cite-path=\"\" data-cite-frag=\"invalidaccesserror\" data-type=\"exception\" href=\"https://webidl.spec.whatwg.org/#invalidaccesserror\"><code>InvalidAccessError</code></a>.\n                </p>"
        }
      ]
    },
    {
      "name": "RTCPeerConnection/createOffer()",
      "href": "https://w3c.github.io/webrtc-pc/#dom-rtcpeerconnection-createoffer",
      "html": "When the method is called, the user agent <em class=\"rfc2119\">MUST</em> run the\n                    following steps:",
      "rationale": ".algorithm",
      "steps": [
        {
          "html": "<p>\n                        Let <var>connection</var> be the <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCPeerConnection\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcpeerconnection\" class=\"internalDFN\" id=\"ref-for-dom-rtcpeerconnection-47\"><code>RTCPeerConnection</code></a>\n                        object on which the method was invoked.\n                      </p>"
        },
        {
          "html": "<p>\n                        If <var>connection</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCPeerConnection\" data-xref-for=\"RTCPeerConnection\" data-lt=\"[[IsClosed]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-isclosed\" class=\"internalDFN\" id=\"ref-for-dfn-isclosed-9\"><code>[[IsClosed]]</code></a> is\n                        <code>true</code>, return a promise <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-reject\" class=\"internalDFN\" id=\"ref-for-dfn-reject-13\">rejected</a> with\n                        a newly <a data-link-type=\"dfn|abstract-op\" data-link-for=\"exception\" data-xref-for=\"exception\" data-cite=\"webidl\" data-cite-path=\"\" data-cite-frag=\"dfn-create-exception\" data-type=\"dfn\" href=\"https://webidl.spec.whatwg.org/#dfn-create-exception\">created</a> <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"InvalidStateError\" data-cite=\"webidl\" data-cite-path=\"\" data-cite-frag=\"invalidstateerror\" data-type=\"exception\" href=\"https://webidl.spec.whatwg.org/#invalidstateerror\"><code>InvalidStateError</code></a>.\n                      </p>"
        },
        {
          "html": "<p>\n                        Return the result of <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-chain\" class=\"internalDFN\" id=\"ref-for-dfn-chain-1\">chaining</a> the result of <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-creating-an-offer\" class=\"internalDFN\" id=\"ref-for-dfn-creating-an-offer-1\">creating an offer</a> with <var>connection</var> to\n                        <var>connection</var>'s <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-operations-chain\" class=\"internalDFN\" id=\"ref-for-dfn-operations-chain-3\">operations chain</a>.\n                      </p>"
        }
      ]
    },
    {
      "name": "creating an offer",
      "href": "https://w3c.github.io/webrtc-pc/#dfn-creating-an-offer",
      "html": "To <dfn class=\"abstract-op\" data-lt=\"creating an offer|create an offer\" data-dfn-type=\"abstract-op\" id=\"dfn-creating-an-offer\" tabindex=\"0\" aria-haspopup=\"dialog\" data-export=\"\">create an offer</dfn>\n                    given <var>connection</var> run the following steps:",
      "rationale": ".algorithm",
      "steps": [
        {
          "html": "<p>\n                        If <var>connection</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCPeerConnection\" data-xref-for=\"RTCPeerConnection\" data-lt=\"[[SignalingState]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-signalingstate\" class=\"internalDFN\" id=\"ref-for-dfn-signalingstate-17\"><code>[[SignalingState]]</code></a> is\n                        neither \"<a data-link-type=\"idl\" data-xref-type=\"enum-value\" data-link-for=\"RTCSignalingState\" data-xref-for=\"RTCSignalingState\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcsignalingstate-stable\" class=\"internalDFN\" id=\"ref-for-dom-rtcsignalingstate-stable-13\"><code>stable</code></a>\" nor\n                        \"<a data-link-type=\"idl\" data-xref-type=\"enum-value\" data-link-for=\"RTCSignalingState\" data-xref-for=\"RTCSignalingState\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcsignalingstate-have-local-offer\" class=\"internalDFN\" id=\"ref-for-dom-rtcsignalingstate-have-local-offer-4\"><code>have-local-offer</code></a>\", return a\n                        promise <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-reject\" class=\"internalDFN\" id=\"ref-for-dfn-reject-14\">rejected</a> with a newly <a data-link-type=\"dfn|abstract-op\" data-link-for=\"exception\" data-xref-for=\"exception\" data-cite=\"webidl\" data-cite-path=\"\" data-cite-frag=\"dfn-create-exception\" data-type=\"dfn\" href=\"https://webidl.spec.whatwg.org/#dfn-create-exception\">created</a> <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"InvalidStateError\" data-cite=\"webidl\" data-cite-path=\"\" data-cite-frag=\"invalidstateerror\" data-type=\"exception\" href=\"https://webidl.spec.whatwg.org/#invalidstateerror\"><code>InvalidStateError</code></a>.\n                      </p>"
        },
        {
          "html": "<p>\n                        Let <var>p</var> be a new promise.\n                      </p>"
        },
        {
          "html": "<p>\n                        <a data-link-type=\"dfn|abstract-op\" data-cite=\"html\" data-cite-path=\"/infrastructure.html\" data-cite-frag=\"in-parallel\" data-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel\">In parallel</a>, begin the <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-in-parallel-steps-to-create-an-offer\" class=\"internalDFN\" id=\"ref-for-dfn-in-parallel-steps-to-create-an-offer-1\">in-parallel steps to create an offer</a> given <var>connection</var> and\n                        <var>p</var>.\n                      </p>"
        },
        {
          "html": "<p>\n                        Return <var>p</var>.\n                      </p>"
        }
      ]
    },
    {
      "name": "in-parallel steps to create an offer",
      "href": "https://w3c.github.io/webrtc-pc/#dfn-in-parallel-steps-to-create-an-offer",
      "html": "The <dfn class=\"abstract-op\" data-dfn-type=\"abstract-op\" id=\"dfn-in-parallel-steps-to-create-an-offer\" tabindex=\"0\" aria-haspopup=\"dialog\" data-export=\"\">in-parallel steps to create an offer</dfn> given\n                    <var>connection</var> and a promise <var>p</var> are as\n                    follows:",
      "rationale": "if",
      "steps": [
        {
          "html": "<p>\n                        If <var>connection</var> was not constructed with a set\n                        of certificates, and one has not yet been generated,\n                        wait for it to be generated.\n                      </p>"
        },
        {
          "html": "<p>\n                        Inspect the <dfn id=\"dfn-offerer-s-system-state\" tabindex=\"0\" aria-haspopup=\"dialog\" data-dfn-type=\"dfn\">offerer's system state</dfn> to\n                        determine the currently available resources as\n                        necessary for generating the offer, as described in\n                        <span>[<cite><a class=\"bibref\" data-link-type=\"biblio\" href=\"https://w3c.github.io/webrtc-pc/#bib-rfc9429\" title=\"JavaScript Session Establishment Protocol (JSEP)\">RFC9429</a></cite>] (<a href=\"https://www.rfc-editor.org/rfc/rfc9429#section-4.1.8\">section 4.1.8.</a>)</span>.\n                      </p>"
        },
        {
          "html": "<p>\n                        If this inspection failed for any reason, <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-reject\" class=\"internalDFN\" id=\"ref-for-dfn-reject-15\">reject</a>\n                        <var>p</var> with a newly <a data-link-type=\"dfn|abstract-op\" data-link-for=\"exception\" data-xref-for=\"exception\" data-cite=\"webidl\" data-cite-path=\"\" data-cite-frag=\"dfn-create-exception\" data-type=\"dfn\" href=\"https://webidl.spec.whatwg.org/#dfn-create-exception\">created</a>\n                        <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"OperationError\" data-cite=\"webidl\" data-cite-path=\"\" data-cite-frag=\"operationerror\" data-type=\"exception\" href=\"https://webidl.spec.whatwg.org/#operationerror\"><code>OperationError</code></a> and abort these steps.\n                      </p>"
        },
        {
          "html": "<p>\n                        Queue a task that runs the <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-final-steps-to-create-an-offer\" class=\"internalDFN\" id=\"ref-for-dfn-final-steps-to-create-an-offer-1\">final steps to create an offer</a> given <var>connection</var> and <var>p</var>.\n                      </p>"
        }
      ]
    },
    {
      "name": "final steps to create an offer",
      "href": "https://w3c.github.io/webrtc-pc/#dfn-final-steps-to-create-an-offer",
      "html": "The <dfn class=\"abstract-op\" data-dfn-type=\"abstract-op\" id=\"dfn-final-steps-to-create-an-offer\" tabindex=\"0\" aria-haspopup=\"dialog\" data-export=\"\">final steps to create an offer</dfn> given\n                    <var>connection</var> and a promise <var>p</var> are as\n                    follows:",
      "rationale": ".algorithm",
      "steps": [
        {
          "html": "<p>\n                        If <var>connection</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCPeerConnection\" data-xref-for=\"RTCPeerConnection\" data-lt=\"[[IsClosed]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-isclosed\" class=\"internalDFN\" id=\"ref-for-dfn-isclosed-10\"><code>[[IsClosed]]</code></a> is\n                        <code>true</code>, then abort these steps.\n                      </p>"
        },
        {
          "html": "<p>\n                        If <var>connection</var> was modified in such a way\n                        that additional inspection of the <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-offerer-s-system-state\" class=\"internalDFN\" id=\"ref-for-dfn-offerer-s-system-state-1\">offerer's system state</a> is necessary, then <a data-link-type=\"dfn|abstract-op\" data-cite=\"html\" data-cite-path=\"/infrastructure.html\" data-cite-frag=\"in-parallel\" data-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel\">in parallel</a> begin the <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-in-parallel-steps-to-create-an-offer\" class=\"internalDFN\" id=\"ref-for-dfn-in-parallel-steps-to-create-an-offer-2\">in-parallel steps to create an offer</a> again, given\n                        <var>connection</var> and <var>p</var>, and abort these\n                        steps.\n                      </p>"
        },
        {
          "html": "Given the information that was obtained from previous\n                        inspection, the current state of <var>connection</var>\n                        and its <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCRtpTransceiver\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtptransceiver\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtptransceiver-7\"><code>RTCRtpTransceiver</code></a>s, generate an SDP offer,\n                        <var>sdpString</var>, as described in <span>[<cite><a class=\"bibref\" data-link-type=\"biblio\" href=\"https://w3c.github.io/webrtc-pc/#bib-rfc9429\" title=\"JavaScript Session Establishment Protocol (JSEP)\">RFC9429</a></cite>] (<a href=\"https://www.rfc-editor.org/rfc/rfc9429#section-5.2\">section 5.2.</a>)</span>.",
          "rationale": "let",
          "steps": [
            {
              "html": "<p>\n                            As described in [<cite><a class=\"bibref\" data-link-type=\"biblio\" href=\"https://w3c.github.io/webrtc-pc/#bib-rfc8843\" title=\"Negotiating Media Multiplexing Using the Session Description Protocol (SDP)\">RFC8843</a></cite>] (Section 7), if\n                            bundling is used (see <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCBundlePolicy\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcbundlepolicy\" class=\"internalDFN\" id=\"ref-for-dom-rtcbundlepolicy-6\"><code>RTCBundlePolicy</code></a>) an\n                            offerer tagged m= section must be selected in order\n                            to negotiate a BUNDLE group. The user agent <em class=\"rfc2119\">MUST</em>\n                            choose the m= section that corresponds to the first\n                            non-stopped transceiver in the <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#transceivers-set\" class=\"internalDFN\" id=\"ref-for-transceivers-set-13\">set of transceivers</a> as the offerer tagged m= section.\n                            This allows the remote endpoint to predict which\n                            transceiver is the offerer tagged m= section\n                            without having to parse the SDP.\n                          </p>"
            },
            {
              "html": "The <i>codec preferences</i> of a <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-media-description\" class=\"internalDFN\" id=\"ref-for-dfn-media-description-20\">media description</a>'s <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-associated\" class=\"internalDFN\" id=\"ref-for-dfn-associated-6\">associated</a> transceiver,\n                            <var>transceiver</var>, is said to be the value of\n                            <var>transceiver</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpTransceiver\" data-xref-for=\"RTCRtpTransceiver\" data-lt=\"[[PreferredCodecs]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-preferredcodecs\" class=\"internalDFN\" id=\"ref-for-dfn-preferredcodecs-1\"><code>[[PreferredCodecs]]</code></a>\n                            with the following filtering applied (or said not\n                            to be set if\n                            <var>transceiver</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpTransceiver\" data-xref-for=\"RTCRtpTransceiver\" data-lt=\"[[PreferredCodecs]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-preferredcodecs\" class=\"internalDFN\" id=\"ref-for-dfn-preferredcodecs-2\"><code>[[PreferredCodecs]]</code></a>\n                            is empty):",
              "rationale": "let",
              "steps": [
                {
                  "html": "<p>Let <var>kind</var> be <var>transceiver</var>'s\n                              <a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpTransceiver\" data-xref-for=\"RTCRtpTransceiver\" data-lt=\"[[Receiver]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-receiver\" class=\"internalDFN\" id=\"ref-for-dfn-receiver-19\"><code>[[Receiver]]</code></a>'s\n                              <a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpReceiver\" data-xref-for=\"RTCRtpReceiver\" data-lt=\"[[ReceiverTrack]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-receivertrack\" class=\"internalDFN\" id=\"ref-for-dfn-receivertrack-2\"><code>[[ReceiverTrack]]</code></a>'s\n                              <a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"MediaStreamTrack\" data-xref-for=\"MediaStreamTrack\" data-cite=\"mediacapture-streams\" data-cite-path=\"\" data-cite-frag=\"dom-mediastreamtrack-kind\" data-type=\"attribute\" href=\"https://www.w3.org/TR/mediacapture-streams/#dom-mediastreamtrack-kind\"><code>kind</code></a>.</p>"
                },
                {
                  "html": ""
                },
                {
                  "html": "<p>\n                                If\n                                <var>transceiver</var>.<a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCRtpTransceiver\" data-xref-for=\"RTCRtpTransceiver\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtptransceiver-direction\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtptransceiver-direction-1\"><code>direction</code></a>\n                                is \"<a data-link-type=\"idl\" data-xref-type=\"enum-value\" data-link-for=\"RTCRtpTransceiverDirection\" data-xref-for=\"RTCRtpTransceiverDirection\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtptransceiverdirection-sendonly\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtptransceiverdirection-sendonly-3\"><code>sendonly</code></a>\"\n                                or \"<a data-link-type=\"idl\" data-xref-type=\"enum-value\" data-link-for=\"RTCRtpTransceiverDirection\" data-xref-for=\"RTCRtpTransceiverDirection\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtptransceiverdirection-sendrecv\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtptransceiverdirection-sendrecv-4\"><code>sendrecv</code></a>\",\n                                exclude any codecs not included in the\n                                <a data-link-type=\"dfn|abstract-op\" data-link-for=\"RTCRtpSender\" data-xref-for=\"RTCRtpSender\" href=\"https://w3c.github.io/webrtc-pc/#dfn-list-of-implemented-send-codecs\" class=\"internalDFN\" id=\"ref-for-dfn-list-of-implemented-send-codecs-1\">list of implemented send codecs</a> for\n                                <var>kind</var>.\n                              </p>"
                },
                {
                  "html": "<p>\n                                If\n                                <var>transceiver</var>.<a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCRtpTransceiver\" data-xref-for=\"RTCRtpTransceiver\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtptransceiver-direction\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtptransceiver-direction-2\"><code>direction</code></a>\n                                is \"<a data-link-type=\"idl\" data-xref-type=\"enum-value\" data-link-for=\"RTCRtpTransceiverDirection\" data-xref-for=\"RTCRtpTransceiverDirection\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtptransceiverdirection-recvonly\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtptransceiverdirection-recvonly-5\"><code>recvonly</code></a>\"\n                                or \"<a data-link-type=\"idl\" data-xref-type=\"enum-value\" data-link-for=\"RTCRtpTransceiverDirection\" data-xref-for=\"RTCRtpTransceiverDirection\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtptransceiverdirection-sendrecv\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtptransceiverdirection-sendrecv-5\"><code>sendrecv</code></a>\",\n                                exclude any codecs not included in the\n                                <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-list-of-implemented-receive-codecs\" class=\"internalDFN\" id=\"ref-for-dfn-list-of-implemented-receive-codecs-1\">list of implemented receive codecs</a> for\n                                <var>kind</var>.\n                              </p>"
                }
              ]
            },
            {
              "html": "<p>\n                            If the length of the <a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpSender\" data-xref-for=\"RTCRtpSender\" data-lt=\"[[SendEncodings]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-sendencodings\" class=\"internalDFN\" id=\"ref-for-dfn-sendencodings-14\"><code>[[SendEncodings]]</code></a> slot\n                            of the <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCRtpSender\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtpsender\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtpsender-2\"><code>RTCRtpSender</code></a> is larger than 1, then for\n                            each encoding given in <a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpSender\" data-xref-for=\"RTCRtpSender\" data-lt=\"[[SendEncodings]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-sendencodings\" class=\"internalDFN\" id=\"ref-for-dfn-sendencodings-15\"><code>[[SendEncodings]]</code></a> of\n                            the <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCRtpSender\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtpsender\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtpsender-3\"><code>RTCRtpSender</code></a>, add an <code class=\"sdp\">a=rid send</code> line to the corresponding\n                            media section, and add an <code class=\"sdp\">a=simulcast:send</code> line giving the RIDs\n                            in the same order as given in the\n                            <a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCRtpSendParameters\" data-xref-for=\"RTCRtpSendParameters\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtpsendparameters-encodings\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtpsendparameters-encodings-1\"><code>encodings</code></a> field. No RID\n                            restrictions are set.\n                          </p>"
            }
          ]
        },
        {
          "html": "<p>\n                        Let <var>offer</var> be a newly created\n                        <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCSessionDescriptionInit\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcsessiondescriptioninit\" class=\"internalDFN\" id=\"ref-for-dom-rtcsessiondescriptioninit-5\"><code>RTCSessionDescriptionInit</code></a> dictionary with its\n                        <a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCSessionDescriptionInit\" data-xref-for=\"RTCSessionDescriptionInit\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcsessiondescriptioninit-type\" class=\"internalDFN\" id=\"ref-for-dom-rtcsessiondescriptioninit-type-3\"><code>type</code></a> member initialized\n                        to the string \"<a data-link-type=\"idl\" data-xref-type=\"enum-value\" data-link-for=\"RTCSdpType\" data-xref-for=\"RTCSdpType\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcsdptype-offer\" class=\"internalDFN\" id=\"ref-for-dom-rtcsdptype-offer-10\"><code>offer</code></a>\" and its\n                        <a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCSessionDescriptionInit\" data-xref-for=\"RTCSessionDescriptionInit\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcsessiondescriptioninit-sdp\" class=\"internalDFN\" id=\"ref-for-dom-rtcsessiondescriptioninit-sdp-3\"><code>sdp</code></a> member initialized to\n                        <var>sdpString</var>.\n                      </p>"
        },
        {
          "html": "<p>\n                        Set the <a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCPeerConnection\" data-xref-for=\"RTCPeerConnection\" data-lt=\"[[LastCreatedOffer]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-lastcreatedoffer\" class=\"internalDFN\" id=\"ref-for-dfn-lastcreatedoffer-3\"><code>[[LastCreatedOffer]]</code></a> internal slot to\n                        <var>sdpString</var>.\n                      </p>"
        },
        {
          "html": "<p>\n                        <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-resolve\" class=\"internalDFN\" id=\"ref-for-dfn-resolve-2\">Resolve</a> <var>p</var> with <var>offer</var>.\n                      </p>"
        }
      ]
    },
    {
      "name": "RTCPeerConnection/createAnswer()",
      "href": "https://w3c.github.io/webrtc-pc/#dom-rtcpeerconnection-createanswer",
      "html": "When the method is called, the user agent <em class=\"rfc2119\">MUST</em> run the\n                    following steps:",
      "rationale": ".algorithm",
      "steps": [
        {
          "html": "<p>\n                        Let <var>connection</var> be the <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCPeerConnection\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcpeerconnection\" class=\"internalDFN\" id=\"ref-for-dom-rtcpeerconnection-51\"><code>RTCPeerConnection</code></a>\n                        object on which the method was invoked.\n                      </p>"
        },
        {
          "html": "<p>\n                        If <var>connection</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCPeerConnection\" data-xref-for=\"RTCPeerConnection\" data-lt=\"[[IsClosed]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-isclosed\" class=\"internalDFN\" id=\"ref-for-dfn-isclosed-11\"><code>[[IsClosed]]</code></a> is\n                        <code>true</code>, return a promise <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-reject\" class=\"internalDFN\" id=\"ref-for-dfn-reject-16\">rejected</a> with\n                        a newly <a data-link-type=\"dfn|abstract-op\" data-link-for=\"exception\" data-xref-for=\"exception\" data-cite=\"webidl\" data-cite-path=\"\" data-cite-frag=\"dfn-create-exception\" data-type=\"dfn\" href=\"https://webidl.spec.whatwg.org/#dfn-create-exception\">created</a> <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"InvalidStateError\" data-cite=\"webidl\" data-cite-path=\"\" data-cite-frag=\"invalidstateerror\" data-type=\"exception\" href=\"https://webidl.spec.whatwg.org/#invalidstateerror\"><code>InvalidStateError</code></a>.\n                      </p>"
        },
        {
          "html": "<p>\n                        Return the result of <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-chain\" class=\"internalDFN\" id=\"ref-for-dfn-chain-2\">chaining</a> the result of <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-creating-an-answer\" class=\"internalDFN\" id=\"ref-for-dfn-creating-an-answer-1\">creating an answer</a> with <var>connection</var> to\n                        <var>connection</var>'s <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-operations-chain\" class=\"internalDFN\" id=\"ref-for-dfn-operations-chain-4\">operations chain</a>.\n                      </p>"
        }
      ]
    },
    {
      "name": "creating an answer",
      "href": "https://w3c.github.io/webrtc-pc/#dfn-creating-an-answer",
      "html": "To <dfn class=\"abstract-op\" data-lt=\"creating an answer|create an answer\" data-dfn-type=\"abstract-op\" id=\"dfn-creating-an-answer\" tabindex=\"0\" aria-haspopup=\"dialog\" data-export=\"\">create an answer</dfn>\n                    given <var>connection</var> run the following steps:",
      "rationale": ".algorithm",
      "steps": [
        {
          "html": "<p>\n                        If <var>connection</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCPeerConnection\" data-xref-for=\"RTCPeerConnection\" data-lt=\"[[SignalingState]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-signalingstate\" class=\"internalDFN\" id=\"ref-for-dfn-signalingstate-18\"><code>[[SignalingState]]</code></a> is\n                        neither \"<a data-link-type=\"idl\" data-xref-type=\"enum-value\" data-link-for=\"RTCSignalingState\" data-xref-for=\"RTCSignalingState\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcsignalingstate-have-remote-offer\" class=\"internalDFN\" id=\"ref-for-dom-rtcsignalingstate-have-remote-offer-5\"><code>have-remote-offer</code></a>\" nor\n                        \"<a data-link-type=\"idl\" data-xref-type=\"enum-value\" data-link-for=\"RTCSignalingState\" data-xref-for=\"RTCSignalingState\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcsignalingstate-have-local-pranswer\" class=\"internalDFN\" id=\"ref-for-dom-rtcsignalingstate-have-local-pranswer-5\"><code>have-local-pranswer</code></a>\", return a\n                        promise <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-reject\" class=\"internalDFN\" id=\"ref-for-dfn-reject-17\">rejected</a> with a newly <a data-link-type=\"dfn|abstract-op\" data-link-for=\"exception\" data-xref-for=\"exception\" data-cite=\"webidl\" data-cite-path=\"\" data-cite-frag=\"dfn-create-exception\" data-type=\"dfn\" href=\"https://webidl.spec.whatwg.org/#dfn-create-exception\">created</a> <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"InvalidStateError\" data-cite=\"webidl\" data-cite-path=\"\" data-cite-frag=\"invalidstateerror\" data-type=\"exception\" href=\"https://webidl.spec.whatwg.org/#invalidstateerror\"><code>InvalidStateError</code></a>.\n                      </p>"
        },
        {
          "html": "<p>\n                        Let <var>p</var> be a new promise.\n                      </p>"
        },
        {
          "html": "<p>\n                        <a data-link-type=\"dfn|abstract-op\" data-cite=\"html\" data-cite-path=\"/infrastructure.html\" data-cite-frag=\"in-parallel\" data-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel\">In parallel</a>, begin the <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-in-parallel-steps-to-create-an-answer\" class=\"internalDFN\" id=\"ref-for-dfn-in-parallel-steps-to-create-an-answer-1\">in-parallel steps to create an answer</a> given <var>connection</var> and\n                        <var>p</var>.\n                      </p>"
        },
        {
          "html": "<p>\n                        Return <var>p</var>.\n                      </p>"
        }
      ]
    },
    {
      "name": "answerer's system state",
      "href": "https://w3c.github.io/webrtc-pc/#dfn-answerer-s-system-state",
      "html": "The <dfn class=\"abstract-op\" data-dfn-type=\"abstract-op\" id=\"dfn-in-parallel-steps-to-create-an-answer\" tabindex=\"0\" aria-haspopup=\"dialog\" data-export=\"\">in-parallel steps to create an answer</dfn> given\n                    <var>connection</var> and a promise <var>p</var> are as\n                    follows:",
      "rationale": ".algorithm",
      "steps": [
        {
          "html": "<p>\n                        If <var>connection</var> was not constructed with a set\n                        of certificates, and one has not yet been generated,\n                        wait for it to be generated.\n                      </p>"
        },
        {
          "html": "<p>\n                        Inspect the <dfn id=\"dfn-answerer-s-system-state\" tabindex=\"0\" aria-haspopup=\"dialog\" data-dfn-type=\"dfn\">answerer's system state</dfn> to\n                        determine the currently available resources as\n                        necessary for generating the answer, as described in\n                        <span>[<cite><a class=\"bibref\" data-link-type=\"biblio\" href=\"https://w3c.github.io/webrtc-pc/#bib-rfc9429\" title=\"JavaScript Session Establishment Protocol (JSEP)\">RFC9429</a></cite>] (<a href=\"https://www.rfc-editor.org/rfc/rfc9429#section-4.1.9\">section 4.1.9.</a>)</span>.\n                      </p>"
        },
        {
          "html": "<p>\n                        If this inspection failed for any reason, <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-reject\" class=\"internalDFN\" id=\"ref-for-dfn-reject-18\">reject</a>\n                        <var>p</var> with a newly <a data-link-type=\"dfn|abstract-op\" data-link-for=\"exception\" data-xref-for=\"exception\" data-cite=\"webidl\" data-cite-path=\"\" data-cite-frag=\"dfn-create-exception\" data-type=\"dfn\" href=\"https://webidl.spec.whatwg.org/#dfn-create-exception\">created</a>\n                        <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"OperationError\" data-cite=\"webidl\" data-cite-path=\"\" data-cite-frag=\"operationerror\" data-type=\"exception\" href=\"https://webidl.spec.whatwg.org/#operationerror\"><code>OperationError</code></a> and abort these steps.\n                      </p>"
        },
        {
          "html": "<p>\n                        Queue a task that runs the <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-final-steps-to-create-an-answer\" class=\"internalDFN\" id=\"ref-for-dfn-final-steps-to-create-an-answer-1\">final steps to create an answer</a> given <var>p</var>.\n                      </p>"
        }
      ]
    },
    {
      "name": "final steps to create an answer",
      "href": "https://w3c.github.io/webrtc-pc/#dfn-final-steps-to-create-an-answer",
      "html": "The <dfn class=\"abstract-op\" data-dfn-type=\"abstract-op\" id=\"dfn-final-steps-to-create-an-answer\" tabindex=\"0\" aria-haspopup=\"dialog\" data-export=\"\">final steps to create an answer</dfn> given a\n                    promise <var>p</var> are as follows:",
      "rationale": ".algorithm",
      "steps": [
        {
          "html": "<p>\n                        If <var>connection</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCPeerConnection\" data-xref-for=\"RTCPeerConnection\" data-lt=\"[[IsClosed]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-isclosed\" class=\"internalDFN\" id=\"ref-for-dfn-isclosed-12\"><code>[[IsClosed]]</code></a> is\n                        <code>true</code>, then abort these steps.\n                      </p>"
        },
        {
          "html": "<p>\n                        If <var>connection</var> was modified in such a way\n                        that additional inspection of the <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-answerer-s-system-state\" class=\"internalDFN\" id=\"ref-for-dfn-answerer-s-system-state-1\">answerer's system state</a> is necessary, then <a data-link-type=\"dfn|abstract-op\" data-cite=\"html\" data-cite-path=\"/infrastructure.html\" data-cite-frag=\"in-parallel\" data-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel\">in parallel</a> begin the <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-in-parallel-steps-to-create-an-answer\" class=\"internalDFN\" id=\"ref-for-dfn-in-parallel-steps-to-create-an-answer-2\">in-parallel steps to create an answer</a> again given\n                        <var>connection</var> and <var>p</var>, and abort these\n                        steps.\n                      </p>"
        },
        {
          "html": "Given the information that was obtained from previous\n                        inspection and the current state of\n                        <var>connection</var> and its <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCRtpTransceiver\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtptransceiver\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtptransceiver-9\"><code>RTCRtpTransceiver</code></a>s,\n                        generate an SDP answer, <var>sdpString</var>, as\n                        described in <span>[<cite><a class=\"bibref\" data-link-type=\"biblio\" href=\"https://w3c.github.io/webrtc-pc/#bib-rfc9429\" title=\"JavaScript Session Establishment Protocol (JSEP)\">RFC9429</a></cite>] (<a href=\"https://www.rfc-editor.org/rfc/rfc9429#section-5.3\">section 5.3.</a>)</span>.",
          "rationale": "let",
          "steps": [
            {
              "html": "The <i>codec preferences</i> of an m= section's\n                            <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-associated\" class=\"internalDFN\" id=\"ref-for-dfn-associated-7\">associated</a> transceiver,\n                            <var>transceiver</var>, is said to be the value of\n                            <var>transceiver</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpTransceiver\" data-xref-for=\"RTCRtpTransceiver\" data-lt=\"[[PreferredCodecs]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-preferredcodecs\" class=\"internalDFN\" id=\"ref-for-dfn-preferredcodecs-3\"><code>[[PreferredCodecs]]</code></a>\n                            with the following filtering applied (or said not\n                            to be set if\n                            <var>transceiver</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpTransceiver\" data-xref-for=\"RTCRtpTransceiver\" data-lt=\"[[PreferredCodecs]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-preferredcodecs\" class=\"internalDFN\" id=\"ref-for-dfn-preferredcodecs-4\"><code>[[PreferredCodecs]]</code></a>\n                            is empty):",
              "rationale": "let",
              "steps": [
                {
                  "html": "<p>Let <var>kind</var> be <var>transceiver</var>'s\n                              <a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpTransceiver\" data-xref-for=\"RTCRtpTransceiver\" data-lt=\"[[Receiver]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-receiver\" class=\"internalDFN\" id=\"ref-for-dfn-receiver-20\"><code>[[Receiver]]</code></a>'s\n                              <a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpReceiver\" data-xref-for=\"RTCRtpReceiver\" data-lt=\"[[ReceiverTrack]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-receivertrack\" class=\"internalDFN\" id=\"ref-for-dfn-receivertrack-3\"><code>[[ReceiverTrack]]</code></a>'s\n                              <a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"MediaStreamTrack\" data-xref-for=\"MediaStreamTrack\" data-cite=\"mediacapture-streams\" data-cite-path=\"\" data-cite-frag=\"dom-mediastreamtrack-kind\" data-type=\"attribute\" href=\"https://www.w3.org/TR/mediacapture-streams/#dom-mediastreamtrack-kind\"><code>kind</code></a>.</p>"
                },
                {
                  "html": "<p>\n                                If\n                                <var>transceiver</var>.<a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCRtpTransceiver\" data-xref-for=\"RTCRtpTransceiver\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtptransceiver-direction\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtptransceiver-direction-3\"><code>direction</code></a>\n                                is \"<a data-link-type=\"idl\" data-xref-type=\"enum-value\" data-link-for=\"RTCRtpTransceiverDirection\" data-xref-for=\"RTCRtpTransceiverDirection\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtptransceiverdirection-sendonly\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtptransceiverdirection-sendonly-4\"><code>sendonly</code></a>\"\n                                or \"<a data-link-type=\"idl\" data-xref-type=\"enum-value\" data-link-for=\"RTCRtpTransceiverDirection\" data-xref-for=\"RTCRtpTransceiverDirection\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtptransceiverdirection-sendrecv\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtptransceiverdirection-sendrecv-7\"><code>sendrecv</code></a>\",\n                                exclude any codecs not included in the\n                                <a data-link-type=\"dfn|abstract-op\" data-link-for=\"RTCRtpSender\" data-xref-for=\"RTCRtpSender\" href=\"https://w3c.github.io/webrtc-pc/#dfn-list-of-implemented-send-codecs\" class=\"internalDFN\" id=\"ref-for-dfn-list-of-implemented-send-codecs-2\">list of implemented send codecs</a> for\n                                <var>kind</var>.\n                              </p>"
                },
                {
                  "html": "<p>\n                                If\n                                <var>transceiver</var>.<a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCRtpTransceiver\" data-xref-for=\"RTCRtpTransceiver\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtptransceiver-direction\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtptransceiver-direction-4\"><code>direction</code></a>\n                                is \"<a data-link-type=\"idl\" data-xref-type=\"enum-value\" data-link-for=\"RTCRtpTransceiverDirection\" data-xref-for=\"RTCRtpTransceiverDirection\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtptransceiverdirection-recvonly\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtptransceiverdirection-recvonly-7\"><code>recvonly</code></a>\"\n                                or \"<a data-link-type=\"idl\" data-xref-type=\"enum-value\" data-link-for=\"RTCRtpTransceiverDirection\" data-xref-for=\"RTCRtpTransceiverDirection\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtptransceiverdirection-sendrecv\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtptransceiverdirection-sendrecv-8\"><code>sendrecv</code></a>\",\n                                exclude any codecs not included in the\n                                <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-list-of-implemented-receive-codecs\" class=\"internalDFN\" id=\"ref-for-dfn-list-of-implemented-receive-codecs-2\">list of implemented receive codecs</a> for\n                                <var>kind</var>.\n                              </p>"
                }
              ]
            },
            {
              "html": "If this is an answer to an offer to receive\n                            simulcast, then for each media section requesting\n                            to receive simulcast, run the following steps:",
              "rationale": "if",
              "steps": [
                {
                  "html": "<p>\n                                If the <code class=\"sdp\">a=simulcast</code>\n                                attribute contains comma-separated alternatives\n                                for RIDs, remove all but the first ones.\n                              </p>"
                },
                {
                  "html": "<p>\n                                If there are any identically named RIDs in the\n                                <code class=\"sdp\">a=simulcast</code> attribute,\n                                remove all but the first one. No RID\n                                restrictions are set.\n                              </p>"
                },
                {
                  "html": "<p>\n                                Exclude from the media section in the answer any\n                                RID not found in the corresponding transceiver's\n                                <a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpTransceiver\" data-xref-for=\"RTCRtpTransceiver\" data-lt=\"[[Sender]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-sender\" class=\"internalDFN\" id=\"ref-for-dfn-sender-30\"><code>[[Sender]]</code></a>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpSender\" data-xref-for=\"RTCRtpSender\" data-lt=\"[[SendEncodings]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-sendencodings\" class=\"internalDFN\" id=\"ref-for-dfn-sendencodings-16\"><code>[[SendEncodings]]</code></a>.\n                              </p><p>\n                            </p>"
                }
              ]
            }
          ]
        },
        {
          "html": "<p>\n                        Let <var>answer</var> be a newly created\n                        <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCSessionDescriptionInit\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcsessiondescriptioninit\" class=\"internalDFN\" id=\"ref-for-dom-rtcsessiondescriptioninit-6\"><code>RTCSessionDescriptionInit</code></a> dictionary with its\n                        <a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCSessionDescriptionInit\" data-xref-for=\"RTCSessionDescriptionInit\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcsessiondescriptioninit-type\" class=\"internalDFN\" id=\"ref-for-dom-rtcsessiondescriptioninit-type-5\"><code>type</code></a> member initialized\n                        to the string \"<a data-link-type=\"idl\" data-xref-type=\"enum-value\" data-link-for=\"RTCSdpType\" data-xref-for=\"RTCSdpType\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcsdptype-answer\" class=\"internalDFN\" id=\"ref-for-dom-rtcsdptype-answer-10\"><code>answer</code></a>\" and its\n                        <a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCSessionDescriptionInit\" data-xref-for=\"RTCSessionDescriptionInit\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcsessiondescriptioninit-sdp\" class=\"internalDFN\" id=\"ref-for-dom-rtcsessiondescriptioninit-sdp-4\"><code>sdp</code></a> member initialized to\n                        <var>sdpString</var>.\n                      </p>"
        },
        {
          "html": "<p>\n                        Set the <a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCPeerConnection\" data-xref-for=\"RTCPeerConnection\" data-lt=\"[[LastCreatedAnswer]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-lastcreatedanswer\" class=\"internalDFN\" id=\"ref-for-dfn-lastcreatedanswer-3\"><code>[[LastCreatedAnswer]]</code></a> internal slot to\n                        <var>sdpString</var>.\n                      </p>"
        },
        {
          "html": "<p>\n                        <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-resolve\" class=\"internalDFN\" id=\"ref-for-dfn-resolve-3\">Resolve</a> <var>p</var> with <var>answer</var>.\n                      </p>"
        }
      ]
    },
    {
      "name": "RTCPeerConnection/setLocalDescription()",
      "href": "https://w3c.github.io/webrtc-pc/#dom-peerconnection-setlocaldescription",
      "html": "When the method is invoked, the user agent <em class=\"rfc2119\">MUST</em> run the\n                    following steps:",
      "rationale": ".algorithm",
      "steps": [
        {
          "html": "<p>\n                        Let <var>description</var> be the method's first\n                        argument.\n                      </p>"
        },
        {
          "html": "<p>\n                        Let <var>connection</var> be the <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCPeerConnection\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcpeerconnection\" class=\"internalDFN\" id=\"ref-for-dom-rtcpeerconnection-55\"><code>RTCPeerConnection</code></a>\n                        object on which the method was invoked.\n                      </p>"
        },
        {
          "html": "<p>\n                        Let <var>sdp</var> be\n                        <var>description</var>.<a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCSessionDescriptionInit\" data-xref-for=\"RTCSessionDescriptionInit\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcsessiondescriptioninit-sdp\" class=\"internalDFN\" id=\"ref-for-dom-rtcsessiondescriptioninit-sdp-5\"><code>sdp</code></a>.\n                      </p>"
        },
        {
          "html": "Return the result of <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-chain\" class=\"internalDFN\" id=\"ref-for-dfn-chain-3\">chaining</a> the following steps\n                        to <var>connection</var>'s <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-operations-chain\" class=\"internalDFN\" id=\"ref-for-dfn-operations-chain-5\">operations chain</a>:",
          "rationale": "let",
          "steps": [
            {
              "html": "<p>\n                            Let <var>type</var> be\n                            <var>description</var>.<a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCSessionDescriptionInit\" data-xref-for=\"RTCSessionDescriptionInit\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcsessiondescriptioninit-type\" class=\"internalDFN\" id=\"ref-for-dom-rtcsessiondescriptioninit-type-6\"><code>type</code></a>\n                            if present, or \"<a data-link-type=\"idl\" data-xref-type=\"enum-value\" data-link-for=\"RTCSdpType\" data-xref-for=\"RTCSdpType\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcsdptype-offer\" class=\"internalDFN\" id=\"ref-for-dom-rtcsdptype-offer-11\"><code>offer</code></a>\" if not\n                            present and\n                            <var>connection</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCPeerConnection\" data-xref-for=\"RTCPeerConnection\" data-lt=\"[[SignalingState]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-signalingstate\" class=\"internalDFN\" id=\"ref-for-dfn-signalingstate-19\"><code>[[SignalingState]]</code></a>\n                            is either \"<a data-link-type=\"idl\" data-xref-type=\"enum-value\" data-link-for=\"RTCSignalingState\" data-xref-for=\"RTCSignalingState\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcsignalingstate-stable\" class=\"internalDFN\" id=\"ref-for-dom-rtcsignalingstate-stable-14\"><code>stable</code></a>\",\n                            \"<a data-link-type=\"idl\" data-xref-type=\"enum-value\" data-link-for=\"RTCSignalingState\" data-xref-for=\"RTCSignalingState\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcsignalingstate-have-local-offer\" class=\"internalDFN\" id=\"ref-for-dom-rtcsignalingstate-have-local-offer-5\"><code>have-local-offer</code></a>\", or\n                            \"<a data-link-type=\"idl\" data-xref-type=\"enum-value\" data-link-for=\"RTCSignalingState\" data-xref-for=\"RTCSignalingState\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcsignalingstate-have-remote-pranswer\" class=\"internalDFN\" id=\"ref-for-dom-rtcsignalingstate-have-remote-pranswer-5\"><code>have-remote-pranswer</code></a>\";\n                            otherwise \"<a data-link-type=\"idl\" data-xref-type=\"enum-value\" data-link-for=\"RTCSdpType\" data-xref-for=\"RTCSdpType\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcsdptype-answer\" class=\"internalDFN\" id=\"ref-for-dom-rtcsdptype-answer-11\"><code>answer</code></a>\".\n                          </p>"
            },
            {
              "html": "<p>\n                            If <var>type</var> is \"<a data-link-type=\"idl\" data-xref-type=\"enum-value\" data-link-for=\"RTCSdpType\" data-xref-for=\"RTCSdpType\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcsdptype-offer\" class=\"internalDFN\" id=\"ref-for-dom-rtcsdptype-offer-12\"><code>offer</code></a>\", and\n                            <var>sdp</var> is not the empty string and not\n                            equal to\n                            <var>connection</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCPeerConnection\" data-xref-for=\"RTCPeerConnection\" data-lt=\"[[LastCreatedOffer]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-lastcreatedoffer\" class=\"internalDFN\" id=\"ref-for-dfn-lastcreatedoffer-4\"><code>[[LastCreatedOffer]]</code></a>,\n                            then return a promise <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-reject\" class=\"internalDFN\" id=\"ref-for-dfn-reject-19\">rejected</a> with a newly\n                            <a data-link-type=\"dfn|abstract-op\" data-link-for=\"exception\" data-xref-for=\"exception\" data-cite=\"webidl\" data-cite-path=\"\" data-cite-frag=\"dfn-create-exception\" data-type=\"dfn\" href=\"https://webidl.spec.whatwg.org/#dfn-create-exception\">created</a>\n                            <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"InvalidModificationError\" data-cite=\"webidl\" data-cite-path=\"\" data-cite-frag=\"invalidmodificationerror\" data-type=\"exception\" href=\"https://webidl.spec.whatwg.org/#invalidmodificationerror\"><code>InvalidModificationError</code></a> and abort these steps.\n                          </p>"
            },
            {
              "html": "<p>\n                            If <var>type</var> is \"<a data-link-type=\"idl\" data-xref-type=\"enum-value\" data-link-for=\"RTCSdpType\" data-xref-for=\"RTCSdpType\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcsdptype-answer\" class=\"internalDFN\" id=\"ref-for-dom-rtcsdptype-answer-12\"><code>answer</code></a>\" or\n                            \"<a data-link-type=\"idl\" data-xref-type=\"enum-value\" data-link-for=\"RTCSdpType\" data-xref-for=\"RTCSdpType\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcsdptype-pranswer\" class=\"internalDFN\" id=\"ref-for-dom-rtcsdptype-pranswer-10\"><code>pranswer</code></a>\", and <var>sdp</var> is\n                            not the empty string and not equal to\n                            <var>connection</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCPeerConnection\" data-xref-for=\"RTCPeerConnection\" data-lt=\"[[LastCreatedAnswer]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-lastcreatedanswer\" class=\"internalDFN\" id=\"ref-for-dfn-lastcreatedanswer-4\"><code>[[LastCreatedAnswer]]</code></a>,\n                            then return a promise <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-reject\" class=\"internalDFN\" id=\"ref-for-dfn-reject-20\">rejected</a> with a newly\n                            <a data-link-type=\"dfn|abstract-op\" data-link-for=\"exception\" data-xref-for=\"exception\" data-cite=\"webidl\" data-cite-path=\"\" data-cite-frag=\"dfn-create-exception\" data-type=\"dfn\" href=\"https://webidl.spec.whatwg.org/#dfn-create-exception\">created</a>\n                            <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"InvalidModificationError\" data-cite=\"webidl\" data-cite-path=\"\" data-cite-frag=\"invalidmodificationerror\" data-type=\"exception\" href=\"https://webidl.spec.whatwg.org/#invalidmodificationerror\"><code>InvalidModificationError</code></a> and abort these steps.\n                          </p>"
            },
            {
              "html": "If <var>sdp</var> is the empty string, and\n                            <var>type</var> is \"<a data-link-type=\"idl\" data-xref-type=\"enum-value\" data-link-for=\"RTCSdpType\" data-xref-for=\"RTCSdpType\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcsdptype-offer\" class=\"internalDFN\" id=\"ref-for-dom-rtcsdptype-offer-13\"><code>offer</code></a>\", then run\n                            the following sub steps:",
              "rationale": "set",
              "steps": [
                {
                  "html": "<p>\n                                Set <var>sdp</var> to the value of\n                                <var>connection</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCPeerConnection\" data-xref-for=\"RTCPeerConnection\" data-lt=\"[[LastCreatedOffer]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-lastcreatedoffer\" class=\"internalDFN\" id=\"ref-for-dfn-lastcreatedoffer-5\"><code>[[LastCreatedOffer]]</code></a>.\n                              </p>"
                },
                {
                  "html": "<p>\n                                If <var>sdp</var> is the empty string, or if it\n                                no longer accurately represents the <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-offerer-s-system-state\" class=\"internalDFN\" id=\"ref-for-dfn-offerer-s-system-state-2\">offerer's system state</a> of\n                                <var>connection</var>, then let <var>p</var> be\n                                the result of <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-creating-an-offer\" class=\"internalDFN\" id=\"ref-for-dfn-creating-an-offer-3\">creating an offer</a> with\n                                <var>connection</var>, and return the result of\n                                <a data-link-type=\"dfn|abstract-op\" data-link-for=\"promise\" data-xref-for=\"promise\" data-cite=\"webidl\" data-cite-path=\"\" data-cite-frag=\"dfn-perform-steps-once-promise-is-settled\" data-type=\"dfn\" href=\"https://webidl.spec.whatwg.org/#dfn-perform-steps-once-promise-is-settled\">reacting</a> to <var>p</var> with a\n                                fulfillment step that <a data-link-type=\"dfn|abstract-op\" data-lt=\"set a local session description\" href=\"https://w3c.github.io/webrtc-pc/#set-local-description\" class=\"internalDFN\" id=\"ref-for-set-local-description-1\">sets the local session description</a> indicated by its first\n                                argument.\n                              </p>"
                }
              ]
            },
            {
              "html": "If <var>sdp</var> is the empty string, and\n                            <var>type</var> is \"<a data-link-type=\"idl\" data-xref-type=\"enum-value\" data-link-for=\"RTCSdpType\" data-xref-for=\"RTCSdpType\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcsdptype-answer\" class=\"internalDFN\" id=\"ref-for-dom-rtcsdptype-answer-13\"><code>answer</code></a>\" or\n                            \"<a data-link-type=\"idl\" data-xref-type=\"enum-value\" data-link-for=\"RTCSdpType\" data-xref-for=\"RTCSdpType\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcsdptype-pranswer\" class=\"internalDFN\" id=\"ref-for-dom-rtcsdptype-pranswer-11\"><code>pranswer</code></a>\", then run the following\n                            sub steps:",
              "rationale": "set",
              "steps": [
                {
                  "html": "<p>\n                                Set <var>sdp</var> to the value of\n                                <var>connection</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCPeerConnection\" data-xref-for=\"RTCPeerConnection\" data-lt=\"[[LastCreatedAnswer]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-lastcreatedanswer\" class=\"internalDFN\" id=\"ref-for-dfn-lastcreatedanswer-5\"><code>[[LastCreatedAnswer]]</code></a>.\n                              </p>"
                },
                {
                  "html": "If <var>sdp</var> is the empty string, or if it\n                                no longer accurately represents the <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-answerer-s-system-state\" class=\"internalDFN\" id=\"ref-for-dfn-answerer-s-system-state-2\">answerer's system state</a> of\n                                <var>connection</var>, then let <var>p</var> be\n                                the result of <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-creating-an-answer\" class=\"internalDFN\" id=\"ref-for-dfn-creating-an-answer-3\">creating an answer</a> with\n                                <var>connection</var>, and return the result of\n                                <a data-link-type=\"dfn|abstract-op\" data-link-for=\"promise\" data-xref-for=\"promise\" data-cite=\"webidl\" data-cite-path=\"\" data-cite-frag=\"dfn-perform-steps-once-promise-is-settled\" data-type=\"dfn\" href=\"https://webidl.spec.whatwg.org/#dfn-perform-steps-once-promise-is-settled\">reacting</a> to <var>p</var> with the\n                                following fulfillment steps:",
                  "rationale": "let",
                  "steps": [
                    {
                      "html": "<p>\n                                    Let <var>answer</var> be the first argument\n                                    to these fulfillment steps.\n                                  </p>"
                    },
                    {
                      "html": "<p>\n                                    Return the result of <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#set-local-description\" class=\"internalDFN\" id=\"ref-for-set-local-description-2\">setting the local session description</a> indicated by\n                                    <code class=\"param\">{<var>type</var>,\n                                    <var>answer</var>.<a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCSessionDescriptionInit\" data-xref-for=\"RTCSessionDescriptionInit\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcsessiondescriptioninit-sdp\" class=\"internalDFN\" id=\"ref-for-dom-rtcsessiondescriptioninit-sdp-6\"><code>sdp</code></a>}</code>.\n                                  </p>"
                    }
                  ]
                }
              ]
            },
            {
              "html": "<p>\n                            Return the result of <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#set-local-description\" class=\"internalDFN\" id=\"ref-for-set-local-description-3\">setting the local session description</a> indicated by <code class=\"param\">{<var>type</var>, <var>sdp</var>}</code>.\n                          </p>"
            }
          ]
        }
      ]
    },
    {
      "name": "RTCPeerConnection/setRemoteDescription()",
      "href": "https://w3c.github.io/webrtc-pc/#dom-peerconnection-setremotedescription",
      "html": "When the method is invoked, the user agent <em class=\"rfc2119\">MUST</em> run the\n                    following steps:",
      "rationale": ".algorithm",
      "steps": [
        {
          "html": "<p>\n                        Let <var>description</var> be the method's first\n                        argument.\n                      </p>"
        },
        {
          "html": "<p>\n                        Let <var>connection</var> be the <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCPeerConnection\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcpeerconnection\" class=\"internalDFN\" id=\"ref-for-dom-rtcpeerconnection-57\"><code>RTCPeerConnection</code></a>\n                        object on which the method was invoked.\n                      </p>"
        },
        {
          "html": "Return the result of <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-chain\" class=\"internalDFN\" id=\"ref-for-dfn-chain-4\">chaining</a> the following steps\n                        to <var>connection</var>'s <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-operations-chain\" class=\"internalDFN\" id=\"ref-for-dfn-operations-chain-6\">operations chain</a>:",
          "rationale": "if",
          "steps": [
            {
              "html": "If\n                            <var>description</var>.<a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCSessionDescriptionInit\" data-xref-for=\"RTCSessionDescriptionInit\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcsessiondescriptioninit-type\" class=\"internalDFN\" id=\"ref-for-dom-rtcsessiondescriptioninit-type-7\"><code>type</code></a>\n                            is \"<a data-link-type=\"idl\" data-xref-type=\"enum-value\" data-link-for=\"RTCSdpType\" data-xref-for=\"RTCSdpType\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcsdptype-offer\" class=\"internalDFN\" id=\"ref-for-dom-rtcsdptype-offer-14\"><code>offer</code></a>\" and is invalid for the\n                            current\n                            <var>connection</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCPeerConnection\" data-xref-for=\"RTCPeerConnection\" data-lt=\"[[SignalingState]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-signalingstate\" class=\"internalDFN\" id=\"ref-for-dfn-signalingstate-20\"><code>[[SignalingState]]</code></a>\n                            as described in\n                            <span>[<cite><a class=\"bibref\" data-link-type=\"biblio\" href=\"https://w3c.github.io/webrtc-pc/#bib-rfc9429\" title=\"JavaScript Session Establishment Protocol (JSEP)\">RFC9429</a></cite>] (<a href=\"https://www.rfc-editor.org/rfc/rfc9429#section-5.5\">section 5.5.</a> and <a href=\"https://www.rfc-editor.org/rfc/rfc9429#section-5.6\">section 5.6.</a>)</span>,\n                            then run the following sub steps:",
              "rationale": "let",
              "steps": [
                {
                  "html": "<p>\n                                Let <var>p</var> be the result of <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#set-local-description\" class=\"internalDFN\" id=\"ref-for-set-local-description-4\">setting the local session description</a> indicated by\n                                <code class=\"param\">{type:\n                                \"<a data-link-type=\"idl\" data-xref-type=\"enum-value\" data-link-for=\"RTCSdpType\" data-xref-for=\"RTCSdpType\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcsdptype-rollback\" class=\"internalDFN\" id=\"ref-for-dom-rtcsdptype-rollback-4\"><code>rollback</code></a>\"}</code>.\n                              </p>"
                },
                {
                  "html": "<p>\n                                Return the result of <a data-link-type=\"dfn|abstract-op\" data-link-for=\"promise\" data-xref-for=\"promise\" data-cite=\"webidl\" data-cite-path=\"\" data-cite-frag=\"dfn-perform-steps-once-promise-is-settled\" data-type=\"dfn\" href=\"https://webidl.spec.whatwg.org/#dfn-perform-steps-once-promise-is-settled\">reacting</a> to\n                                <var>p</var> with a fulfillment step that <a data-link-type=\"dfn|abstract-op\" data-lt=\"set a remote session description\" href=\"https://w3c.github.io/webrtc-pc/#set-remote-description\" class=\"internalDFN\" id=\"ref-for-set-remote-description-1\">sets the remote session description</a>\n                                <var>description</var>, and abort these steps.\n                              </p>"
                }
              ]
            },
            {
              "html": "<p>\n                            Return the result of <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#set-remote-description\" class=\"internalDFN\" id=\"ref-for-set-remote-description-2\">setting the remote session description</a> <var>description</var>.\n                          </p>"
            }
          ]
        }
      ]
    },
    {
      "name": "RTCPeerConnection/addIceCandidate()",
      "href": "https://w3c.github.io/webrtc-pc/#dom-peerconnection-addicecandidate",
      "html": "The <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"addIceCandidate\" href=\"https://w3c.github.io/webrtc-pc/#dom-peerconnection-addicecandidate\" class=\"internalDFN\" id=\"ref-for-dom-peerconnection-addicecandidate-6\"><code>addIceCandidate</code></a> method provides a remote candidate\n                    to the <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-ice-agent\" class=\"internalDFN\" id=\"ref-for-dfn-ice-agent-21\">ICE Agent</a>. This method can also be used to\n                    indicate the end of remote candidates when called with an\n                    empty string for the <a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCIceCandidate\" data-xref-for=\"RTCIceCandidate\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcicecandidate-candidate\" class=\"internalDFN\" id=\"ref-for-dom-rtcicecandidate-candidate-1\"><code>candidate</code></a> member.\n                    The only members of the argument used by this method are\n                    <a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCIceCandidate\" data-xref-for=\"RTCIceCandidate\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcicecandidate-candidate\" class=\"internalDFN\" id=\"ref-for-dom-rtcicecandidate-candidate-2\"><code>candidate</code></a>, <a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCIceCandidate\" data-xref-for=\"RTCIceCandidate\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcicecandidate-sdpmid\" class=\"internalDFN\" id=\"ref-for-dom-rtcicecandidate-sdpmid-1\"><code>sdpMid</code></a>,\n                    <a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCIceCandidate\" data-xref-for=\"RTCIceCandidate\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcicecandidate-sdpmlineindex\" class=\"internalDFN\" id=\"ref-for-dom-rtcicecandidate-sdpmlineindex-1\"><code>sdpMLineIndex</code></a>, and\n                    <a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCIceCandidate\" data-xref-for=\"RTCIceCandidate\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcicecandidate-usernamefragment\" class=\"internalDFN\" id=\"ref-for-dom-rtcicecandidate-usernamefragment-1\"><code>usernameFragment</code></a>; the rest are ignored.\n                    When the method is invoked, the user agent <em class=\"rfc2119\">MUST</em> run the\n                    following steps:",
      "rationale": ".algorithm",
      "steps": [
        {
          "html": "<p>\n                        Let <var>candidate</var> be the method's argument.\n                      </p>"
        },
        {
          "html": "<p>\n                        Let <var>connection</var> be the <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCPeerConnection\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcpeerconnection\" class=\"internalDFN\" id=\"ref-for-dom-rtcpeerconnection-58\"><code>RTCPeerConnection</code></a>\n                        object on which the method was invoked.\n                      </p>"
        },
        {
          "html": "<p>\n                        If <var>candidate</var>.<a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCIceCandidate\" data-xref-for=\"RTCIceCandidate\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcicecandidate-candidate\" class=\"internalDFN\" id=\"ref-for-dom-rtcicecandidate-candidate-3\"><code>candidate</code></a>\n                        is not an empty string and both\n                        <var>candidate</var>.<a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCIceCandidate\" data-xref-for=\"RTCIceCandidate\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcicecandidate-sdpmid\" class=\"internalDFN\" id=\"ref-for-dom-rtcicecandidate-sdpmid-2\"><code>sdpMid</code></a> and\n                        <var>candidate</var>.<a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCIceCandidate\" data-xref-for=\"RTCIceCandidate\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcicecandidate-sdpmlineindex\" class=\"internalDFN\" id=\"ref-for-dom-rtcicecandidate-sdpmlineindex-2\"><code>sdpMLineIndex</code></a>\n                        are <code>null</code>, return a promise <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-reject\" class=\"internalDFN\" id=\"ref-for-dfn-reject-21\">rejected</a>\n                        with a newly <a data-link-type=\"dfn|abstract-op\" data-link-for=\"exception\" data-xref-for=\"exception\" data-cite=\"webidl\" data-cite-path=\"\" data-cite-frag=\"dfn-create-exception\" data-type=\"dfn\" href=\"https://webidl.spec.whatwg.org/#dfn-create-exception\">created</a> <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"TypeError\" data-cite=\"webidl\" data-cite-path=\"\" data-cite-frag=\"exceptiondef-typeerror\" data-type=\"exception\" href=\"https://webidl.spec.whatwg.org/#exceptiondef-typeerror\"><code>TypeError</code></a>.\n                      </p>"
        },
        {
          "html": "Return the result of <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-chain\" class=\"internalDFN\" id=\"ref-for-dfn-chain-5\">chaining</a> the following steps\n                        to <var>connection</var>'s <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-operations-chain\" class=\"internalDFN\" id=\"ref-for-dfn-operations-chain-7\">operations chain</a>:",
          "rationale": "if",
          "steps": [
            {
              "html": "<p>\n                            If <a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCPeerConnection\" data-xref-for=\"RTCPeerConnection\" href=\"https://w3c.github.io/webrtc-pc/#dom-peerconnection-remotedescription\" class=\"internalDFN\" id=\"ref-for-dom-peerconnection-remotedescription-3\"><code>remoteDescription</code></a> is\n                            <code>null</code> return a promise <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-reject\" class=\"internalDFN\" id=\"ref-for-dfn-reject-22\">rejected</a>\n                            with a newly <a data-link-type=\"dfn|abstract-op\" data-link-for=\"exception\" data-xref-for=\"exception\" data-cite=\"webidl\" data-cite-path=\"\" data-cite-frag=\"dfn-create-exception\" data-type=\"dfn\" href=\"https://webidl.spec.whatwg.org/#dfn-create-exception\">created</a>\n                            <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"InvalidStateError\" data-cite=\"webidl\" data-cite-path=\"\" data-cite-frag=\"invalidstateerror\" data-type=\"exception\" href=\"https://webidl.spec.whatwg.org/#invalidstateerror\"><code>InvalidStateError</code></a>.\n                          </p>"
            },
            {
              "html": "If <var>candidate</var>.<a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCIceCandidate\" data-xref-for=\"RTCIceCandidate\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcicecandidate-sdpmid\" class=\"internalDFN\" id=\"ref-for-dom-rtcicecandidate-sdpmid-3\"><code>sdpMid</code></a>\n                            is not <code>null</code>, run the following steps:",
              "rationale": "if",
              "steps": [
                {
                  "html": "<p>\n                                If\n                                <var>candidate</var>.<a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCIceCandidate\" data-xref-for=\"RTCIceCandidate\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcicecandidate-sdpmid\" class=\"internalDFN\" id=\"ref-for-dom-rtcicecandidate-sdpmid-4\"><code>sdpMid</code></a>\n                                is not equal to the mid of any media\n                                description in\n                                <a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCPeerConnection\" data-xref-for=\"RTCPeerConnection\" href=\"https://w3c.github.io/webrtc-pc/#dom-peerconnection-remotedescription\" class=\"internalDFN\" id=\"ref-for-dom-peerconnection-remotedescription-4\"><code>remoteDescription</code></a>, return\n                                a promise <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-reject\" class=\"internalDFN\" id=\"ref-for-dfn-reject-23\">rejected</a> with a newly <a data-link-type=\"dfn|abstract-op\" data-link-for=\"exception\" data-xref-for=\"exception\" data-cite=\"webidl\" data-cite-path=\"\" data-cite-frag=\"dfn-create-exception\" data-type=\"dfn\" href=\"https://webidl.spec.whatwg.org/#dfn-create-exception\">created</a> <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"OperationError\" data-cite=\"webidl\" data-cite-path=\"\" data-cite-frag=\"operationerror\" data-type=\"exception\" href=\"https://webidl.spec.whatwg.org/#operationerror\"><code>OperationError</code></a>.\n                              </p>"
                }
              ]
            },
            {
              "html": "Else, if\n                            <var>candidate</var>.<a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCIceCandidate\" data-xref-for=\"RTCIceCandidate\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcicecandidate-sdpmlineindex\" class=\"internalDFN\" id=\"ref-for-dom-rtcicecandidate-sdpmlineindex-3\"><code>sdpMLineIndex</code></a>\n                            is not <code>null</code>, run the following steps:",
              "rationale": "if",
              "steps": [
                {
                  "html": "<p>\n                                If\n                                <var>candidate</var>.<a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCIceCandidate\" data-xref-for=\"RTCIceCandidate\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcicecandidate-sdpmlineindex\" class=\"internalDFN\" id=\"ref-for-dom-rtcicecandidate-sdpmlineindex-4\"><code>sdpMLineIndex</code></a>\n                                is equal to or larger than the number of media\n                                descriptions in\n                                <a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCPeerConnection\" data-xref-for=\"RTCPeerConnection\" href=\"https://w3c.github.io/webrtc-pc/#dom-peerconnection-remotedescription\" class=\"internalDFN\" id=\"ref-for-dom-peerconnection-remotedescription-5\"><code>remoteDescription</code></a>, return\n                                a promise <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-reject\" class=\"internalDFN\" id=\"ref-for-dfn-reject-24\">rejected</a> with a newly <a data-link-type=\"dfn|abstract-op\" data-link-for=\"exception\" data-xref-for=\"exception\" data-cite=\"webidl\" data-cite-path=\"\" data-cite-frag=\"dfn-create-exception\" data-type=\"dfn\" href=\"https://webidl.spec.whatwg.org/#dfn-create-exception\">created</a> <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"OperationError\" data-cite=\"webidl\" data-cite-path=\"\" data-cite-frag=\"operationerror\" data-type=\"exception\" href=\"https://webidl.spec.whatwg.org/#operationerror\"><code>OperationError</code></a>.\n                              </p>"
                }
              ]
            },
            {
              "html": "<p>\n                            If either\n                            <var>candidate</var>.<a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCIceCandidate\" data-xref-for=\"RTCIceCandidate\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcicecandidate-sdpmid\" class=\"internalDFN\" id=\"ref-for-dom-rtcicecandidate-sdpmid-5\"><code>sdpMid</code></a> or\n                            <var>candidate</var>.<a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCIceCandidate\" data-xref-for=\"RTCIceCandidate\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcicecandidate-sdpmlineindex\" class=\"internalDFN\" id=\"ref-for-dom-rtcicecandidate-sdpmlineindex-5\"><code>sdpMLineIndex</code></a>\n                            indicate a media description in\n                            <a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCPeerConnection\" data-xref-for=\"RTCPeerConnection\" href=\"https://w3c.github.io/webrtc-pc/#dom-peerconnection-remotedescription\" class=\"internalDFN\" id=\"ref-for-dom-peerconnection-remotedescription-6\"><code>remoteDescription</code></a> whose\n                            associated transceiver is <a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCRtpTransceiver\" data-xref-for=\"RTCRtpTransceiver\" href=\"https://w3c.github.io/webrtc-pc/#dfn-stopped\" class=\"internalDFN\" id=\"ref-for-dfn-stopped-3\"><code>stopped</code></a>, return a promise <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-resolve\" class=\"internalDFN\" id=\"ref-for-dfn-resolve-4\">resolved</a> with\n                            <code>undefined</code>.\n                          </p>"
            },
            {
              "html": "<p>\n                            If\n                            <var>candidate</var>.<a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCIceCandidate\" data-xref-for=\"RTCIceCandidate\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcicecandidate-usernamefragment\" class=\"internalDFN\" id=\"ref-for-dom-rtcicecandidate-usernamefragment-2\"><code>usernameFragment</code></a>\n                            is not <code>null</code>, and is not equal to any\n                            username fragment present in the corresponding <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-media-description\" class=\"internalDFN\" id=\"ref-for-dfn-media-description-21\">media description</a> of an applied remote\n                            description, return a promise <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-reject\" class=\"internalDFN\" id=\"ref-for-dfn-reject-25\">rejected</a> with a\n                            newly <a data-link-type=\"dfn|abstract-op\" data-link-for=\"exception\" data-xref-for=\"exception\" data-cite=\"webidl\" data-cite-path=\"\" data-cite-frag=\"dfn-create-exception\" data-type=\"dfn\" href=\"https://webidl.spec.whatwg.org/#dfn-create-exception\">created</a> <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"OperationError\" data-cite=\"webidl\" data-cite-path=\"\" data-cite-frag=\"operationerror\" data-type=\"exception\" href=\"https://webidl.spec.whatwg.org/#operationerror\"><code>OperationError</code></a>.\n                          </p>"
            },
            {
              "html": "<p>\n                            Let <var>p</var> be a new promise.\n                          </p>"
            },
            {
              "html": "If\n                            <var>candidate</var>.<a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCIceCandidate\" data-xref-for=\"RTCIceCandidate\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcicecandidate-candidate\" class=\"internalDFN\" id=\"ref-for-dom-rtcicecandidate-candidate-4\"><code>candidate</code></a>\n                            is an empty string, process <var>candidate</var> as\n                            an end-of-candidates indication for the\n                            corresponding <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-media-description\" class=\"internalDFN\" id=\"ref-for-dfn-media-description-22\">media description</a> and ICE\n                            candidate <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-generation\" class=\"internalDFN\" id=\"ref-for-dfn-generation-3\">generation</a>. If both\n                            <var>candidate</var>.<a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCIceCandidate\" data-xref-for=\"RTCIceCandidate\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcicecandidate-sdpmid\" class=\"internalDFN\" id=\"ref-for-dom-rtcicecandidate-sdpmid-6\"><code>sdpMid</code></a> and\n                            <var>candidate</var>.<a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCIceCandidate\" data-xref-for=\"RTCIceCandidate\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcicecandidate-sdpmlineindex\" class=\"internalDFN\" id=\"ref-for-dom-rtcicecandidate-sdpmlineindex-6\"><code>sdpMLineIndex</code></a>\n                            are <code>null</code>, then this end-of-candidates\n                            indication applies to all <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-media-description\" class=\"internalDFN\" id=\"ref-for-dfn-media-description-23\">media description</a>s.",
              "rationale": "if",
              "steps": [
                {
                  "html": "If <var>candidate</var> could not be\n                                successfully added the user agent <em class=\"rfc2119\">MUST</em> queue a\n                                task that runs the following steps:",
                  "rationale": "if",
                  "steps": [
                    {
                      "html": "<p>\n                                    If\n                                    <var>connection</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCPeerConnection\" data-xref-for=\"RTCPeerConnection\" data-lt=\"[[IsClosed]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-isclosed\" class=\"internalDFN\" id=\"ref-for-dfn-isclosed-13\"><code>[[IsClosed]]</code></a>\n                                    is <code>true</code>, then abort these\n                                    steps.\n                                  </p>"
                    },
                    {
                      "html": "<p>\n                                    <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-reject\" class=\"internalDFN\" id=\"ref-for-dfn-reject-26\">Reject</a> <var>p</var> with a newly <a data-link-type=\"dfn|abstract-op\" data-link-for=\"exception\" data-xref-for=\"exception\" data-cite=\"webidl\" data-cite-path=\"\" data-cite-frag=\"dfn-create-exception\" data-type=\"dfn\" href=\"https://webidl.spec.whatwg.org/#dfn-create-exception\">created</a> <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"OperationError\" data-cite=\"webidl\" data-cite-path=\"\" data-cite-frag=\"operationerror\" data-type=\"exception\" href=\"https://webidl.spec.whatwg.org/#operationerror\"><code>OperationError</code></a> and\n                                    abort these steps.\n                                  </p>"
                    }
                  ]
                },
                {
                  "html": "If <var>candidate</var> is applied\n                                successfully, or if the candidate was <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-administratively-prohibited\" class=\"internalDFN\" id=\"ref-for-dfn-administratively-prohibited-4\">administratively prohibited</a> the user agent\n                                <em class=\"rfc2119\">MUST</em> queue a task that runs the following\n                                steps:",
                  "rationale": "if",
                  "steps": [
                    {
                      "html": "<p>\n                                    If\n                                    <var>connection</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCPeerConnection\" data-xref-for=\"RTCPeerConnection\" data-lt=\"[[IsClosed]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-isclosed\" class=\"internalDFN\" id=\"ref-for-dfn-isclosed-14\"><code>[[IsClosed]]</code></a>\n                                    is <code>true</code>, then abort these\n                                    steps.\n                                  </p>"
                    },
                    {
                      "html": "<p>\n                                    If\n                                    <var>connection</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCPeerConnection\" data-xref-for=\"RTCPeerConnection\" data-lt=\"[[PendingRemoteDescription]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-pendingremotedescription\" class=\"internalDFN\" id=\"ref-for-dfn-pendingremotedescription-12\"><code>[[PendingRemoteDescription]]</code></a>\n                                    is not <code>null</code>, and represents\n                                    the ICE <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-generation\" class=\"internalDFN\" id=\"ref-for-dfn-generation-4\">generation</a> for which\n                                    <var>candidate</var> was processed, add\n                                    <var>candidate</var> to\n                                    <var>connection</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCPeerConnection\" data-xref-for=\"RTCPeerConnection\" data-lt=\"[[PendingRemoteDescription]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-pendingremotedescription\" class=\"internalDFN\" id=\"ref-for-dfn-pendingremotedescription-13\"><code>[[PendingRemoteDescription]]</code></a>.sdp.\n                                  </p>"
                    },
                    {
                      "html": "<p>\n                                    If\n                                    <var>connection</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCPeerConnection\" data-xref-for=\"RTCPeerConnection\" data-lt=\"[[CurrentRemoteDescription]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-currentremotedescription\" class=\"internalDFN\" id=\"ref-for-dfn-currentremotedescription-8\"><code>[[CurrentRemoteDescription]]</code></a>\n                                    is not <code>null</code>, and represents\n                                    the ICE <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-generation\" class=\"internalDFN\" id=\"ref-for-dfn-generation-5\">generation</a> for which\n                                    <var>candidate</var> was processed, add\n                                    <var>candidate</var> to\n                                    <var>connection</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCPeerConnection\" data-xref-for=\"RTCPeerConnection\" data-lt=\"[[CurrentRemoteDescription]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-currentremotedescription\" class=\"internalDFN\" id=\"ref-for-dfn-currentremotedescription-9\"><code>[[CurrentRemoteDescription]]</code></a>.sdp.\n                                  </p>"
                    },
                    {
                      "html": "<p>\n                                    <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-resolve\" class=\"internalDFN\" id=\"ref-for-dfn-resolve-5\">Resolve</a> <var>p</var> with\n                                    <code>undefined</code>.\n                                  </p>"
                    }
                  ]
                }
              ]
            },
            {
              "html": "<p>\n                            Return <var>p</var>.\n                          </p>"
            }
          ]
        }
      ]
    },
    {
      "name": "RTCPeerConnection/restartIce()",
      "href": "https://w3c.github.io/webrtc-pc/#dom-rtcpeerconnection-restartice",
      "html": "When this method is invoked, the user agent <em class=\"rfc2119\">MUST</em> run the\n                    following steps:",
      "rationale": ".algorithm",
      "steps": [
        {
          "html": "<p>\n                        Let <var>connection</var> be the <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCPeerConnection\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcpeerconnection\" class=\"internalDFN\" id=\"ref-for-dom-rtcpeerconnection-60\"><code>RTCPeerConnection</code></a>\n                        on which the method was invoked.\n                      </p>"
        },
        {
          "html": "<p>\n                        Empty\n                        <var>connection</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCPeerConnection\" data-xref-for=\"RTCPeerConnection\" data-lt=\"[[LocalIceCredentialsToReplace]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-localicecredentialstoreplace\" class=\"internalDFN\" id=\"ref-for-dfn-localicecredentialstoreplace-7\"><code>[[LocalIceCredentialsToReplace]]</code></a>,\n                        and populate it with all ICE credentials (ice-ufrag and\n                        ice-pwd as defined in section 15.4 of [<cite><a class=\"bibref\" data-link-type=\"biblio\" href=\"https://w3c.github.io/webrtc-pc/#bib-rfc5245\" title=\"Interactive Connectivity Establishment (ICE): A Protocol for Network Address Translator (NAT) Traversal for Offer/Answer Protocols\">RFC5245</a></cite>]) found\n                        in\n                        <var>connection</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCPeerConnection\" data-xref-for=\"RTCPeerConnection\" data-lt=\"[[CurrentLocalDescription]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-currentlocaldescription\" class=\"internalDFN\" id=\"ref-for-dfn-currentlocaldescription-9\"><code>[[CurrentLocalDescription]]</code></a>,\n                        as well as all ICE credentials found in\n                        <var>connection</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCPeerConnection\" data-xref-for=\"RTCPeerConnection\" data-lt=\"[[PendingLocalDescription]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-pendinglocaldescription\" class=\"internalDFN\" id=\"ref-for-dfn-pendinglocaldescription-12\"><code>[[PendingLocalDescription]]</code></a>.\n                      </p>"
        },
        {
          "html": "<p>\n                        <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-update-the-negotiation-needed-flag\" class=\"internalDFN\" id=\"ref-for-dfn-update-the-negotiation-needed-flag-3\">Update the negotiation-needed flag</a> for\n                        <var>connection</var>.\n                      </p>"
        }
      ]
    },
    {
      "name": "RTCPeerConnection/setConfiguration()",
      "href": "https://w3c.github.io/webrtc-pc/#dom-rtcpeerconnection-setconfiguration",
      "html": "When the <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"setConfiguration\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcpeerconnection-setconfiguration\" class=\"internalDFN\" id=\"ref-for-dom-rtcpeerconnection-setconfiguration-4\"><code>setConfiguration</code></a> method is invoked, the user\n                    agent <em class=\"rfc2119\">MUST</em> run the following steps:",
      "rationale": ".algorithm",
      "steps": [
        {
          "html": "<p>\n                        Let <var>connection</var> be the <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCPeerConnection\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcpeerconnection\" class=\"internalDFN\" id=\"ref-for-dom-rtcpeerconnection-63\"><code>RTCPeerConnection</code></a>\n                        on which the method was invoked.\n                      </p>"
        },
        {
          "html": "<p>\n                        If <var>connection</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCPeerConnection\" data-xref-for=\"RTCPeerConnection\" data-lt=\"[[IsClosed]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-isclosed\" class=\"internalDFN\" id=\"ref-for-dfn-isclosed-15\"><code>[[IsClosed]]</code></a> is\n                        <code>true</code>, <a data-link-type=\"dfn|abstract-op\" data-link-for=\"exception\" data-xref-for=\"exception\" data-cite=\"webidl\" data-cite-path=\"\" data-cite-frag=\"dfn-throw\" data-type=\"dfn\" href=\"https://webidl.spec.whatwg.org/#dfn-throw\">throw</a> an\n                        <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"InvalidStateError\" data-cite=\"webidl\" data-cite-path=\"\" data-cite-frag=\"invalidstateerror\" data-type=\"exception\" href=\"https://webidl.spec.whatwg.org/#invalidstateerror\"><code>InvalidStateError</code></a>.\n                      </p>"
        },
        {
          "html": "<p>\n                        <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#set-pc-configuration\" class=\"internalDFN\" id=\"ref-for-set-pc-configuration-2\">Set the configuration</a> specified by\n                        <var>configuration</var>.\n                      </p>"
        }
      ]
    },
    {
      "name": "RTCPeerConnection/close()",
      "href": "https://w3c.github.io/webrtc-pc/#dom-rtcpeerconnection-close",
      "html": "When the <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"close\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcpeerconnection-close\" class=\"internalDFN\" id=\"ref-for-dom-rtcpeerconnection-close-3\"><code>close</code></a> method is invoked, the user agent <em class=\"rfc2119\">MUST</em>\n                    run the following steps:",
      "rationale": ".algorithm",
      "steps": [
        {
          "html": "<p>\n                        Let <var>connection</var> be the <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCPeerConnection\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcpeerconnection\" class=\"internalDFN\" id=\"ref-for-dom-rtcpeerconnection-64\"><code>RTCPeerConnection</code></a>\n                        object on which the method was invoked.\n                      </p>"
        },
        {
          "html": "<a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-close-the-connection\" class=\"internalDFN\" id=\"ref-for-dfn-close-the-connection-2\">close the connection</a> with\n                    <var>connection</var> and the value <code>false</code>."
        }
      ]
    },
    {
      "name": "close the connection",
      "href": "https://w3c.github.io/webrtc-pc/#dfn-close-the-connection",
      "html": "The <dfn class=\"abstract-op\" data-dfn-type=\"abstract-op\" id=\"dfn-close-the-connection\" tabindex=\"0\" aria-haspopup=\"dialog\" data-export=\"\">close the connection</dfn> algorithm given a\n                    <var>connection</var> and a <var>disappear</var> boolean,\n                    is as follows:",
      "rationale": ".algorithm",
      "steps": [
        {
          "html": "<p>\n                        If <var>connection</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCPeerConnection\" data-xref-for=\"RTCPeerConnection\" data-lt=\"[[IsClosed]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-isclosed\" class=\"internalDFN\" id=\"ref-for-dfn-isclosed-16\"><code>[[IsClosed]]</code></a> is\n                        <code>true</code>, abort these steps.\n                      </p>"
        },
        {
          "html": "<p>\n                        Set <var>connection</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCPeerConnection\" data-xref-for=\"RTCPeerConnection\" data-lt=\"[[IsClosed]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-isclosed\" class=\"internalDFN\" id=\"ref-for-dfn-isclosed-17\"><code>[[IsClosed]]</code></a> to\n                        <code>true</code>.\n                      </p>"
        },
        {
          "html": "<p>\n                        Set <var>connection</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCPeerConnection\" data-xref-for=\"RTCPeerConnection\" data-lt=\"[[SignalingState]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-signalingstate\" class=\"internalDFN\" id=\"ref-for-dfn-signalingstate-21\"><code>[[SignalingState]]</code></a> to\n                        \"<a data-link-type=\"idl\" data-xref-type=\"enum-value\" data-link-for=\"RTCSignalingState\" data-xref-for=\"RTCSignalingState\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcsignalingstate-closed\" class=\"internalDFN\" id=\"ref-for-dom-rtcsignalingstate-closed-2\"><code>closed</code></a>\". This does not fire any\n                        event.\n                      </p>"
        },
        {
          "html": "Let <var>transceivers</var> be the result of executing\n                        the <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"CollectTransceivers\" href=\"https://w3c.github.io/webrtc-pc/#dfn-collecttransceivers\" class=\"internalDFN\" id=\"ref-for-dfn-collecttransceivers-1\"><code>CollectTransceivers</code></a> algorithm. For every\n                        <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCRtpTransceiver\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtptransceiver\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtptransceiver-10\"><code>RTCRtpTransceiver</code></a> <var>transceiver</var> in\n                        <var>transceivers</var>, run the following steps:",
          "rationale": "if",
          "steps": [
            {
              "html": "<p>\n                            If <var>transceiver</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpTransceiver\" data-xref-for=\"RTCRtpTransceiver\" data-lt=\"[[Stopped]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-stopped-0\" class=\"internalDFN\" id=\"ref-for-dfn-stopped-0-4\"><code>[[Stopped]]</code></a> is\n                            <code>true</code>, abort these sub steps.\n                          </p>"
            },
            {
              "html": "<p>\n                            <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-stop-the-rtcrtptransceiver\" class=\"internalDFN\" id=\"ref-for-dfn-stop-the-rtcrtptransceiver-3\">Stop the RTCRtpTransceiver</a> with\n                            <var>transceiver</var> and <var>disappear</var>.\n                          </p>"
            }
          ]
        },
        {
          "html": "<p>\n                        Set the <a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCDataChannel\" data-xref-for=\"RTCDataChannel\" data-lt=\"[[ReadyState]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-readystate\" class=\"internalDFN\" id=\"ref-for-dfn-readystate-2\"><code>[[ReadyState]]</code></a> slot of each of\n                        <var>connection</var>'s <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCDataChannel\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcdatachannel\" class=\"internalDFN\" id=\"ref-for-dom-rtcdatachannel-2\"><code>RTCDataChannel</code></a>s to\n                        \"<a data-link-type=\"idl\" data-xref-type=\"enum-value\" data-link-for=\"RTCDataChannelState\" data-xref-for=\"RTCDataChannelState\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcdatachannelstate-closed\" class=\"internalDFN\" id=\"ref-for-dom-rtcdatachannelstate-closed-2\"><code>closed</code></a>\".\n                      </p>"
        },
        {
          "html": "<p>\n                        If <var>connection</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCPeerConnection\" data-xref-for=\"RTCPeerConnection\" data-lt=\"[[SctpTransport]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-sctptransport\" class=\"internalDFN\" id=\"ref-for-dfn-sctptransport-7\"><code>[[SctpTransport]]</code></a> is\n                        not <code>null</code>, tear down the underlying SCTP\n                        association by sending an SCTP ABORT chunk and set the\n                        <a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCSctpTransport\" data-xref-for=\"RTCSctpTransport\" data-lt=\"[[SctpTransportState]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-sctptransportstate\" class=\"internalDFN\" id=\"ref-for-dfn-sctptransportstate-1\"><code>[[SctpTransportState]]</code></a> to\n                        \"<a data-link-type=\"idl\" data-xref-type=\"enum-value\" data-link-for=\"RTCSctpTransportState\" data-xref-for=\"RTCSctpTransportState\" href=\"https://w3c.github.io/webrtc-pc/#idl-def-RTCSctpTransportState.closed\" class=\"internalDFN\" id=\"ref-for-idl-def-RTCSctpTransportState.closed-1\"><code>closed</code></a>\".\n                      </p>"
        },
        {
          "html": "<p>\n                        Set the <a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCDtlsTransport\" data-xref-for=\"RTCDtlsTransport\" data-lt=\"[[DtlsTransportState]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-dtlstransportstate\" class=\"internalDFN\" id=\"ref-for-dfn-dtlstransportstate-1\"><code>[[DtlsTransportState]]</code></a> slot of each of\n                        <var>connection</var>'s <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCDtlsTransport\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcdtlstransport\" class=\"internalDFN\" id=\"ref-for-dom-rtcdtlstransport-11\"><code>RTCDtlsTransport</code></a>s to\n                        \"<a data-link-type=\"idl\" data-xref-type=\"enum-value\" data-link-for=\"RTCDtlsTransportState\" data-xref-for=\"RTCDtlsTransportState\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcdtlstransportstate-closed\" class=\"internalDFN\" id=\"ref-for-dom-rtcdtlstransportstate-closed-3\"><code>closed</code></a>\".\n                      </p>"
        },
        {
          "html": "<p>\n                        Destroy <var>connection</var>'s <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-ice-agent\" class=\"internalDFN\" id=\"ref-for-dfn-ice-agent-23\">ICE Agent</a>,\n                        abruptly ending any active ICE processing and releasing\n                        any relevant resources (e.g. TURN permissions).\n                      </p>"
        },
        {
          "html": "<p>\n                        Set the <a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCIceTransport\" data-xref-for=\"RTCIceTransport\" data-lt=\"[[IceTransportState]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-icetransportstate\" class=\"internalDFN\" id=\"ref-for-dfn-icetransportstate-1\"><code>[[IceTransportState]]</code></a> slot of each of\n                        <var>connection</var>'s <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCIceTransport\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcicetransport\" class=\"internalDFN\" id=\"ref-for-dom-rtcicetransport-16\"><code>RTCIceTransport</code></a>s to\n                        \"<a data-link-type=\"idl\" data-xref-type=\"enum-value\" data-link-for=\"RTCIceTransportState\" data-xref-for=\"RTCIceTransportState\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcicetransportstate-closed\" class=\"internalDFN\" id=\"ref-for-dom-rtcicetransportstate-closed-4\"><code>closed</code></a>\".\n                      </p>"
        },
        {
          "html": "<p>\n                        Set\n                        <var>connection</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCPeerConnection\" data-xref-for=\"RTCPeerConnection\" data-lt=\"[[IceConnectionState]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-iceconnectionstate\" class=\"internalDFN\" id=\"ref-for-dfn-iceconnectionstate-8\"><code>[[IceConnectionState]]</code></a>\n                        to \"<a data-link-type=\"idl\" data-xref-type=\"enum-value\" data-link-for=\"RTCIceConnectionState\" data-xref-for=\"RTCIceConnectionState\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtciceconnectionstate-closed\" class=\"internalDFN\" id=\"ref-for-dom-rtciceconnectionstate-closed-3\"><code>closed</code></a>\". This does not\n                        fire any event.\n                      </p>"
        },
        {
          "html": "<p>\n                        Set <var>connection</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCPeerConnection\" data-xref-for=\"RTCPeerConnection\" data-lt=\"[[ConnectionState]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-connectionstate\" class=\"internalDFN\" id=\"ref-for-dfn-connectionstate-6\"><code>[[ConnectionState]]</code></a> to\n                        \"<a data-link-type=\"idl\" data-xref-type=\"enum-value\" data-link-for=\"RTCPeerConnectionState\" data-xref-for=\"RTCPeerConnectionState\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcpeerconnectionstate-closed\" class=\"internalDFN\" id=\"ref-for-dom-rtcpeerconnectionstate-closed-2\"><code>closed</code></a>\". This does not fire\n                        any event.\n                      </p>"
        }
      ]
    },
    {
      "name": "RTCPeerConnection/createOffer!overload-1()",
      "href": "https://w3c.github.io/webrtc-pc/#dom-rtcpeerconnection-createoffer!overload-1",
      "html": "When the <code class=\"overload\">createOffer</code> method\n                      is called, the user agent <em class=\"rfc2119\">MUST</em> run the following steps:",
      "rationale": ".algorithm",
      "steps": [
        {
          "html": "<p>\n                          Let <var>successCallback</var> be the method's first\n                          argument.\n                        </p>"
        },
        {
          "html": "<p>\n                          Let <var>failureCallback</var> be the callback\n                          indicated by the method's second argument.\n                        </p>"
        },
        {
          "html": "<p>\n                          Let <var>options</var> be the callback indicated by\n                          the method's third argument.\n                        </p>"
        },
        {
          "html": "<p>\n                          Run the steps specified by <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCPeerConnection\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcpeerconnection\" class=\"internalDFN\" id=\"ref-for-dom-rtcpeerconnection-67\"><code>RTCPeerConnection</code></a>'s\n                          <a data-link-type=\"idl\" data-xref-type=\"method\" data-link-for=\"RTCPeerConnection\" data-xref-for=\"RTCPeerConnection\" data-lt=\"createOffer()\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcpeerconnection-createoffer\" class=\"internalDFN\" id=\"ref-for-dom-rtcpeerconnection-createoffer-11\"><code>createOffer</code></a><code>()</code> method with\n                          <var>options</var> as the sole argument, and let\n                          <var>p</var> be the resulting promise.\n                        </p>"
        },
        {
          "html": "<p>\n                          Upon <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-fulfill\" class=\"internalDFN\" id=\"ref-for-dfn-fulfill-7\">fulfillment</a> of <var>p</var> with value\n                          <var>offer</var>, invoke <var>successCallback</var>\n                          with <var>offer</var> as the argument.\n                        </p>"
        },
        {
          "html": "<p>\n                          Upon <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-reject\" class=\"internalDFN\" id=\"ref-for-dfn-reject-27\">rejection</a> of <var>p</var> with reason\n                          <var>r</var>, invoke <var>failureCallback</var> with\n                          <var>r</var> as the argument.\n                        </p>"
        },
        {
          "html": "<p>\n                          Return a promise <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-resolve\" class=\"internalDFN\" id=\"ref-for-dfn-resolve-6\">resolved</a> with\n                          <code>undefined</code>.\n                        </p>"
        }
      ]
    },
    {
      "name": "RTCPeerConnection/setLocalDescription!overload-1()",
      "href": "https://w3c.github.io/webrtc-pc/#dom-rtcpeerconnection-setlocaldescription!overload-1",
      "html": "When the <code class=\"overload\">setLocalDescription</code> method is called,\n                      the user agent <em class=\"rfc2119\">MUST</em> run the following steps:",
      "rationale": ".algorithm",
      "steps": [
        {
          "html": "<p>\n                          Let <var>description</var> be the method's first\n                          argument.\n                        </p>"
        },
        {
          "html": "<p>\n                          Let <var>successCallback</var> be the callback\n                          indicated by the method's second argument.\n                        </p>"
        },
        {
          "html": "<p>\n                          Let <var>failureCallback</var> be the callback\n                          indicated by the method's third argument.\n                        </p>"
        },
        {
          "html": "<p>\n                          Run the steps specified by <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCPeerConnection\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcpeerconnection\" class=\"internalDFN\" id=\"ref-for-dom-rtcpeerconnection-68\"><code>RTCPeerConnection</code></a>'s\n                          <a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCPeerConnection\" data-xref-for=\"RTCPeerConnection\" href=\"https://w3c.github.io/webrtc-pc/#dom-peerconnection-setlocaldescription\" class=\"internalDFN\" id=\"ref-for-dom-peerconnection-setlocaldescription-12\"><code>setLocalDescription</code></a> method with\n                          <var>description</var> as the sole argument, and let\n                          <var>p</var> be the resulting promise.\n                        </p>"
        },
        {
          "html": "<p>\n                          Upon <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-fulfill\" class=\"internalDFN\" id=\"ref-for-dfn-fulfill-8\">fulfillment</a> of <var>p</var>, invoke\n                          <var>successCallback</var> with\n                          <code>undefined</code> as the argument.\n                        </p>"
        },
        {
          "html": "<p>\n                          Upon <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-reject\" class=\"internalDFN\" id=\"ref-for-dfn-reject-28\">rejection</a> of <var>p</var> with reason\n                          <var>r</var>, invoke <var>failureCallback</var> with\n                          <var>r</var> as the argument.\n                        </p>"
        },
        {
          "html": "<p>\n                          Return a promise <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-resolve\" class=\"internalDFN\" id=\"ref-for-dfn-resolve-7\">resolved</a> with\n                          <code>undefined</code>.\n                        </p>"
        }
      ]
    },
    {
      "name": "RTCPeerConnection/createAnswer!overload-1()",
      "href": "https://w3c.github.io/webrtc-pc/#dom-rtcpeerconnection-createanswer!overload-1",
      "html": "When the <code class=\"overload\">createAnswer</code>\n                      method is called, the user agent <em class=\"rfc2119\">MUST</em> run the following\n                      steps:",
      "rationale": ".algorithm",
      "steps": [
        {
          "html": "<p>\n                          Let <var>successCallback</var> be the method's first\n                          argument.\n                        </p>"
        },
        {
          "html": "<p>\n                          Let <var>failureCallback</var> be the callback\n                          indicated by the method's second argument.\n                        </p>"
        },
        {
          "html": "<p>\n                          Run the steps specified by <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCPeerConnection\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcpeerconnection\" class=\"internalDFN\" id=\"ref-for-dom-rtcpeerconnection-69\"><code>RTCPeerConnection</code></a>'s\n                          <a data-link-type=\"idl\" data-xref-type=\"method\" data-link-for=\"RTCPeerConnection\" data-xref-for=\"RTCPeerConnection\" data-lt=\"createAnswer()\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcpeerconnection-createanswer\" class=\"internalDFN\" id=\"ref-for-dom-rtcpeerconnection-createanswer-5\"><code>createAnswer</code></a><code>()</code> method with no\n                          arguments, and let <var>p</var> be the resulting\n                          promise.\n                        </p>"
        },
        {
          "html": "<p>\n                          Upon <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-fulfill\" class=\"internalDFN\" id=\"ref-for-dfn-fulfill-9\">fulfillment</a> of <var>p</var> with value\n                          <var>answer</var>, invoke <var>successCallback</var>\n                          with <var>answer</var> as the argument.\n                        </p>"
        },
        {
          "html": "<p>\n                          Upon <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-reject\" class=\"internalDFN\" id=\"ref-for-dfn-reject-29\">rejection</a> of <var>p</var> with reason\n                          <var>r</var>, invoke <var>failureCallback</var> with\n                          <var>r</var> as the argument.\n                        </p>"
        },
        {
          "html": "<p>\n                          Return a promise <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-resolve\" class=\"internalDFN\" id=\"ref-for-dfn-resolve-8\">resolved</a> with\n                          <code>undefined</code>.\n                        </p>"
        }
      ]
    },
    {
      "name": "RTCPeerConnection/setRemoteDescription!overload-1()",
      "href": "https://w3c.github.io/webrtc-pc/#dom-rtcpeerconnection-setremotedescription!overload-1",
      "html": "When the <code class=\"overload\">setRemoteDescription</code> method is called,\n                      the user agent <em class=\"rfc2119\">MUST</em> run the following steps:",
      "rationale": ".algorithm",
      "steps": [
        {
          "html": "<p>\n                          Let <var>description</var> be the method's first\n                          argument.\n                        </p>"
        },
        {
          "html": "<p>\n                          Let <var>successCallback</var> be the callback\n                          indicated by the method's second argument.\n                        </p>"
        },
        {
          "html": "<p>\n                          Let <var>failureCallback</var> be the callback\n                          indicated by the method's third argument.\n                        </p>"
        },
        {
          "html": "<p>\n                          Run the steps specified by <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCPeerConnection\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcpeerconnection\" class=\"internalDFN\" id=\"ref-for-dom-rtcpeerconnection-70\"><code>RTCPeerConnection</code></a>'s\n                          <a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCPeerConnection\" data-xref-for=\"RTCPeerConnection\" href=\"https://w3c.github.io/webrtc-pc/#dom-peerconnection-setremotedescription\" class=\"internalDFN\" id=\"ref-for-dom-peerconnection-setremotedescription-8\"><code>setRemoteDescription</code></a> method\n                          with <var>description</var> as the sole argument, and\n                          let <var>p</var> be the resulting promise.\n                        </p>"
        },
        {
          "html": "<p>\n                          Upon <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-fulfill\" class=\"internalDFN\" id=\"ref-for-dfn-fulfill-10\">fulfillment</a> of <var>p</var>, invoke\n                          <var>successCallback</var> with\n                          <code>undefined</code> as the argument.\n                        </p>"
        },
        {
          "html": "<p>\n                          Upon <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-reject\" class=\"internalDFN\" id=\"ref-for-dfn-reject-30\">rejection</a> of <var>p</var> with reason\n                          <var>r</var>, invoke <var>failureCallback</var> with\n                          <var>r</var> as the argument.\n                        </p>"
        },
        {
          "html": "<p>\n                          Return a promise <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-resolve\" class=\"internalDFN\" id=\"ref-for-dfn-resolve-9\">resolved</a> with\n                          <code>undefined</code>.\n                        </p>"
        }
      ]
    },
    {
      "name": "RTCPeerConnection/addIceCandidate!overload-1()",
      "href": "https://w3c.github.io/webrtc-pc/#dom-rtcpeerconnection-addicecandidate!overload-1",
      "html": "When the <code class=\"overload\">addIceCandidate</code>\n                      method is called, the user agent <em class=\"rfc2119\">MUST</em> run the following\n                      steps:",
      "rationale": ".algorithm",
      "steps": [
        {
          "html": "<p>\n                          Let <var>candidate</var> be the method's first\n                          argument.\n                        </p>"
        },
        {
          "html": "<p>\n                          Let <var>successCallback</var> be the callback\n                          indicated by the method's second argument.\n                        </p>"
        },
        {
          "html": "<p>\n                          Let <var>failureCallback</var> be the callback\n                          indicated by the method's third argument.\n                        </p>"
        },
        {
          "html": "<p>\n                          Run the steps specified by <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCPeerConnection\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcpeerconnection\" class=\"internalDFN\" id=\"ref-for-dom-rtcpeerconnection-71\"><code>RTCPeerConnection</code></a>'s\n                          <a data-link-type=\"idl\" data-xref-type=\"method\" data-link-for=\"RTCPeerConnection\" data-xref-for=\"RTCPeerConnection\" data-lt=\"addIceCandidate()\" href=\"https://w3c.github.io/webrtc-pc/#dom-peerconnection-addicecandidate\" class=\"internalDFN\" id=\"ref-for-dom-peerconnection-addicecandidate-8\"><code>addIceCandidate</code></a><code>()</code> method with\n                          <var>candidate</var> as the sole argument, and let\n                          <var>p</var> be the resulting promise.\n                        </p>"
        },
        {
          "html": "<p>\n                          Upon <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-fulfill\" class=\"internalDFN\" id=\"ref-for-dfn-fulfill-11\">fulfillment</a> of <var>p</var>, invoke\n                          <var>successCallback</var> with\n                          <code>undefined</code> as the argument.\n                        </p>"
        },
        {
          "html": "<p>\n                          Upon <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-reject\" class=\"internalDFN\" id=\"ref-for-dfn-reject-31\">rejection</a> of <var>p</var> with reason\n                          <var>r</var>, invoke <var>failureCallback</var> with\n                          <var>r</var> as the argument.\n                        </p>"
        },
        {
          "html": "<p>\n                          Return a promise <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-resolve\" class=\"internalDFN\" id=\"ref-for-dfn-resolve-10\">resolved</a> with\n                          <code>undefined</code>.\n                        </p>"
        }
      ]
    },
    {
      "html": "When <a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCPeerConnection\" data-xref-for=\"RTCPeerConnection\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcpeerconnection-createoffer\" class=\"internalDFN\" id=\"ref-for-dom-rtcpeerconnection-createoffer-12\"><code>createOffer</code></a> is called with any of the\n              legacy options specified in this section, run the followings\n              steps instead of the regular <a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCPeerConnection\" data-xref-for=\"RTCPeerConnection\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcpeerconnection-createoffer\" class=\"internalDFN\" id=\"ref-for-dom-rtcpeerconnection-createoffer-13\"><code>createOffer</code></a>\n              steps:",
      "rationale": ".algorithm",
      "steps": [
        {
          "html": "<p>\n                  Let <var>options</var> be the methods first argument.\n                </p>"
        },
        {
          "html": "<p>\n                  Let <var>connection</var> be the current\n                  <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCPeerConnection\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcpeerconnection\" class=\"internalDFN\" id=\"ref-for-dom-rtcpeerconnection-73\"><code>RTCPeerConnection</code></a> object.\n                </p>"
        },
        {
          "html": "For each <code>offerToReceive<var>&lt;Kind&gt;</var></code>\n                  member in <var>options</var> with kind, <var>kind</var>, run\n                  the following steps:",
          "rationale": ".algorithm",
          "steps": [
            {
              "html": "If the value of the dictionary member is false,",
              "rationale": "for",
              "steps": [
                {
                  "html": "<p>\n                          For each non-stopped\n                          \"<a data-link-type=\"idl\" data-xref-type=\"enum-value\" data-link-for=\"RTCRtpTransceiverDirection\" data-xref-for=\"RTCRtpTransceiverDirection\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtptransceiverdirection-sendrecv\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtptransceiverdirection-sendrecv-9\"><code>sendrecv</code></a>\" transceiver\n                          of <a data-link-type=\"dfn|abstract-op\" data-link-for=\"RTCRtpTransceiver\" data-xref-for=\"RTCRtpTransceiver\" href=\"https://w3c.github.io/webrtc-pc/#dfn-transceiver-kind\" class=\"internalDFN\" id=\"ref-for-dfn-transceiver-kind-1\">transceiver kind</a> <var>kind</var>, set\n                          <var>transceiver</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpTransceiver\" data-xref-for=\"RTCRtpTransceiver\" data-lt=\"[[Direction]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-direction\" class=\"internalDFN\" id=\"ref-for-dfn-direction-1\"><code>[[Direction]]</code></a> to\n                          \"<a data-link-type=\"idl\" data-xref-type=\"enum-value\" data-link-for=\"RTCRtpTransceiverDirection\" data-xref-for=\"RTCRtpTransceiverDirection\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtptransceiverdirection-sendonly\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtptransceiverdirection-sendonly-5\"><code>sendonly</code></a>\".\n                        </p>"
                },
                {
                  "html": "<p>\n                          For each non-stopped\n                          \"<a data-link-type=\"idl\" data-xref-type=\"enum-value\" data-link-for=\"RTCRtpTransceiverDirection\" data-xref-for=\"RTCRtpTransceiverDirection\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtptransceiverdirection-recvonly\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtptransceiverdirection-recvonly-8\"><code>recvonly</code></a>\" transceiver\n                          of <a data-link-type=\"dfn|abstract-op\" data-link-for=\"RTCRtpTransceiver\" data-xref-for=\"RTCRtpTransceiver\" href=\"https://w3c.github.io/webrtc-pc/#dfn-transceiver-kind\" class=\"internalDFN\" id=\"ref-for-dfn-transceiver-kind-2\">transceiver kind</a> <var>kind</var>, set\n                          <var>transceiver</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpTransceiver\" data-xref-for=\"RTCRtpTransceiver\" data-lt=\"[[Direction]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-direction\" class=\"internalDFN\" id=\"ref-for-dfn-direction-2\"><code>[[Direction]]</code></a> to\n                          \"<a data-link-type=\"idl\" data-xref-type=\"enum-value\" data-link-for=\"RTCRtpTransceiverDirection\" data-xref-for=\"RTCRtpTransceiverDirection\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtptransceiverdirection-inactive\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtptransceiverdirection-inactive-4\"><code>inactive</code></a>\".\n                        </p>"
                }
              ]
            },
            {
              "html": "<p>\n                      If <var>connection</var> has any non-stopped\n                      \"<a data-link-type=\"idl\" data-xref-type=\"enum-value\" data-link-for=\"RTCRtpTransceiverDirection\" data-xref-for=\"RTCRtpTransceiverDirection\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtptransceiverdirection-sendrecv\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtptransceiverdirection-sendrecv-10\"><code>sendrecv</code></a>\" or\n                      \"<a data-link-type=\"idl\" data-xref-type=\"enum-value\" data-link-for=\"RTCRtpTransceiverDirection\" data-xref-for=\"RTCRtpTransceiverDirection\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtptransceiverdirection-recvonly\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtptransceiverdirection-recvonly-9\"><code>recvonly</code></a>\" transceivers of\n                      <a data-link-type=\"dfn|abstract-op\" data-link-for=\"RTCRtpTransceiver\" data-xref-for=\"RTCRtpTransceiver\" href=\"https://w3c.github.io/webrtc-pc/#dfn-transceiver-kind\" class=\"internalDFN\" id=\"ref-for-dfn-transceiver-kind-3\">transceiver kind</a> <var>kind</var>, continue with the\n                      next option, if any.\n                    </p>"
            },
            {
              "html": "<p>\n                      Let <var>transceiver</var> be the result of invoking the\n                      equivalent of\n                      <var>connection</var>.<a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCPeerConnection\" data-xref-for=\"RTCPeerConnection\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcpeerconnection-addtransceiver\" class=\"internalDFN\" id=\"ref-for-dom-rtcpeerconnection-addtransceiver-1\"><code>addTransceiver</code></a>(<var>kind</var>),\n                      except that this operation <em class=\"rfc2119\">MUST NOT</em> <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-update-the-negotiation-needed-flag\" class=\"internalDFN\" id=\"ref-for-dfn-update-the-negotiation-needed-flag-4\">update the negotiation-needed flag</a>.\n                    </p>"
            },
            {
              "html": "<p>\n                      If <var>transceiver</var> is unset because the previous\n                      operation threw an error, abort these steps.\n                    </p>"
            },
            {
              "html": "<p>\n                      Set <var>transceiver</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpTransceiver\" data-xref-for=\"RTCRtpTransceiver\" data-lt=\"[[Direction]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-direction\" class=\"internalDFN\" id=\"ref-for-dfn-direction-3\"><code>[[Direction]]</code></a> to\n                      \"<a data-link-type=\"idl\" data-xref-type=\"enum-value\" data-link-for=\"RTCRtpTransceiverDirection\" data-xref-for=\"RTCRtpTransceiverDirection\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtptransceiverdirection-recvonly\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtptransceiverdirection-recvonly-10\"><code>recvonly</code></a>\".\n                    </p>"
            }
          ]
        },
        {
          "html": "<p>\n                  Run the steps specified by <a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCPeerConnection\" data-xref-for=\"RTCPeerConnection\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcpeerconnection-createoffer\" class=\"internalDFN\" id=\"ref-for-dom-rtcpeerconnection-createoffer-14\"><code>createOffer</code></a>\n                  to create the offer.\n                </p>"
        }
      ]
    },
    {
      "name": "clear the negotiation-needed flag",
      "href": "https://w3c.github.io/webrtc-pc/#dfn-clear-the-negotiation-needed-flag",
      "html": "To <dfn class=\"abstract-op\" data-dfn-type=\"abstract-op\" id=\"dfn-update-the-negotiation-needed-flag\" tabindex=\"0\" aria-haspopup=\"dialog\" data-export=\"\">update the negotiation-needed flag</dfn> for\n            <var>connection</var>, run the following steps:",
      "rationale": ".algorithm",
      "steps": [
        {
          "html": "<p>\n                If the length of <var>connection</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCPeerConnection\" data-xref-for=\"RTCPeerConnection\" data-lt=\"[[Operations]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-operations\" class=\"internalDFN\" id=\"ref-for-dfn-operations-7\"><code>[[Operations]]</code></a>\n                is not <code>0</code>, then set\n                <var>connection</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCPeerConnection\" data-xref-for=\"RTCPeerConnection\" data-lt=\"[[UpdateNegotiationNeededFlagOnEmptyChain]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-updatenegotiationneededflagonemptychain\" class=\"internalDFN\" id=\"ref-for-dfn-updatenegotiationneededflagonemptychain-3\"><code>[[UpdateNegotiationNeededFlagOnEmptyChain]]</code></a>\n                to <code>true</code>, and abort these steps.\n              </p>"
        },
        {
          "html": "Queue a task to run the following steps:",
          "rationale": "if",
          "steps": [
            {
              "html": "<p>\n                    If <var>connection</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCPeerConnection\" data-xref-for=\"RTCPeerConnection\" data-lt=\"[[IsClosed]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-isclosed\" class=\"internalDFN\" id=\"ref-for-dfn-isclosed-19\"><code>[[IsClosed]]</code></a> is\n                    <code>true</code>, abort these steps.\n                  </p>"
            },
            {
              "html": "<p>\n                    If the length of\n                    <var>connection</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCPeerConnection\" data-xref-for=\"RTCPeerConnection\" data-lt=\"[[Operations]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-operations\" class=\"internalDFN\" id=\"ref-for-dfn-operations-8\"><code>[[Operations]]</code></a> is not\n                    <code>0</code>, then set\n                    <var>connection</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCPeerConnection\" data-xref-for=\"RTCPeerConnection\" data-lt=\"[[UpdateNegotiationNeededFlagOnEmptyChain]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-updatenegotiationneededflagonemptychain\" class=\"internalDFN\" id=\"ref-for-dfn-updatenegotiationneededflagonemptychain-4\"><code>[[UpdateNegotiationNeededFlagOnEmptyChain]]</code></a>\n                    to <code>true</code>, and abort these steps.\n                  </p>"
            },
            {
              "html": "<p>\n                    If <var>connection</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCPeerConnection\" data-xref-for=\"RTCPeerConnection\" data-lt=\"[[SignalingState]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-signalingstate\" class=\"internalDFN\" id=\"ref-for-dfn-signalingstate-23\"><code>[[SignalingState]]</code></a> is not\n                    \"<a data-link-type=\"idl\" data-xref-type=\"enum-value\" data-link-for=\"RTCSignalingState\" data-xref-for=\"RTCSignalingState\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcsignalingstate-stable\" class=\"internalDFN\" id=\"ref-for-dom-rtcsignalingstate-stable-15\"><code>stable</code></a>\", abort these steps.\n                  </p>"
            },
            {
              "html": "<p>\n                    If the result of <a data-link-type=\"dfn|abstract-op\" data-lt=\"check if negotiation is needed\" href=\"https://w3c.github.io/webrtc-pc/#dfn-check-if-negotiation-is-needed\" class=\"internalDFN\" id=\"ref-for-dfn-check-if-negotiation-is-needed-1\">checking if negotiation is needed</a> is <code>false</code>,\n                    <dfn id=\"dfn-clear-the-negotiation-needed-flag\" tabindex=\"0\" aria-haspopup=\"dialog\" data-dfn-type=\"dfn\">clear the negotiation-needed flag</dfn> by setting\n                    <var>connection</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCPeerConnection\" data-xref-for=\"RTCPeerConnection\" data-lt=\"[[NegotiationNeeded]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-negotiationneeded\" class=\"internalDFN\" id=\"ref-for-dfn-negotiationneeded-2\"><code>[[NegotiationNeeded]]</code></a> to\n                    <code>false</code>, and abort these steps.\n                  </p>"
            },
            {
              "html": "<p>\n                    If <var>connection</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCPeerConnection\" data-xref-for=\"RTCPeerConnection\" data-lt=\"[[NegotiationNeeded]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-negotiationneeded\" class=\"internalDFN\" id=\"ref-for-dfn-negotiationneeded-3\"><code>[[NegotiationNeeded]]</code></a> is\n                    already <code>true</code>, abort these steps.\n                  </p>"
            },
            {
              "html": "<p>\n                    Set <var>connection</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCPeerConnection\" data-xref-for=\"RTCPeerConnection\" data-lt=\"[[NegotiationNeeded]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-negotiationneeded\" class=\"internalDFN\" id=\"ref-for-dfn-negotiationneeded-4\"><code>[[NegotiationNeeded]]</code></a> to\n                    <code>true</code>.\n                  </p>"
            },
            {
              "html": "<p>\n                    <a data-link-type=\"dfn|abstract-op\" data-cite=\"dom\" data-cite-path=\"\" data-cite-frag=\"concept-event-fire\" data-type=\"dfn\" href=\"https://dom.spec.whatwg.org/#concept-event-fire\">Fire an event</a> named <a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCPeerConnection\" data-xref-for=\"RTCPeerConnection\" href=\"https://w3c.github.io/webrtc-pc/#event-negotiation\" class=\"internalDFN\" id=\"ref-for-event-negotiation-3\"><code>negotiationneeded</code></a> at\n                    <var>connection</var>.\n                  </p>"
            }
          ]
        }
      ]
    },
    {
      "name": "check if negotiation is needed",
      "href": "https://w3c.github.io/webrtc-pc/#dfn-check-if-negotiation-is-needed",
      "html": "To <dfn class=\"abstract-op\" data-dfn-type=\"abstract-op\" id=\"dfn-check-if-negotiation-is-needed\" tabindex=\"0\" aria-haspopup=\"dialog\" data-export=\"\">check if negotiation is needed</dfn> for\n            <var>connection</var>, perform the following checks:",
      "rationale": ".algorithm",
      "steps": [
        {
          "html": "<p>\n                If any implementation-specific negotiation is required, as\n                described at the start of this section, return\n                <code>true</code>.\n              </p>"
        },
        {
          "html": "<p>\n                If\n                <var>connection</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCPeerConnection\" data-xref-for=\"RTCPeerConnection\" data-lt=\"[[LocalIceCredentialsToReplace]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-localicecredentialstoreplace\" class=\"internalDFN\" id=\"ref-for-dfn-localicecredentialstoreplace-8\"><code>[[LocalIceCredentialsToReplace]]</code></a>\n                is not empty, return <code>true</code>.\n              </p>"
        },
        {
          "html": "<p>\n                Let <var>description</var> be\n                <var>connection</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCPeerConnection\" data-xref-for=\"RTCPeerConnection\" data-lt=\"[[CurrentLocalDescription]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-currentlocaldescription\" class=\"internalDFN\" id=\"ref-for-dfn-currentlocaldescription-10\"><code>[[CurrentLocalDescription]]</code></a>.\n              </p>"
        },
        {
          "html": "<p>\n                If <var>connection</var> has created any <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCDataChannel\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcdatachannel\" class=\"internalDFN\" id=\"ref-for-dom-rtcdatachannel-7\"><code>RTCDataChannel</code></a>s,\n                and no m= section in <var>description</var> has been negotiated\n                yet for data, return <code>true</code>.\n              </p>"
        },
        {
          "html": "For each <var>transceiver</var> in <var>connection</var>'s <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#transceivers-set\" class=\"internalDFN\" id=\"ref-for-transceivers-set-14\">set of transceivers</a>, perform the following checks:",
          "rationale": "if",
          "steps": [
            {
              "html": "<p>\n                    If <var>transceiver</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpTransceiver\" data-xref-for=\"RTCRtpTransceiver\" data-lt=\"[[Stopping]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-stopping\" class=\"internalDFN\" id=\"ref-for-dfn-stopping-1\"><code>[[Stopping]]</code></a> is\n                    <code>true</code> and\n                    <var>transceiver</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpTransceiver\" data-xref-for=\"RTCRtpTransceiver\" data-lt=\"[[Stopped]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-stopped-0\" class=\"internalDFN\" id=\"ref-for-dfn-stopped-0-5\"><code>[[Stopped]]</code></a> is\n                    <code>false</code>, return <code>true</code>.\n                  </p>"
            },
            {
              "html": "<p>\n                    If <var>transceiver</var> isn't <a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCRtpTransceiver\" data-xref-for=\"RTCRtpTransceiver\" href=\"https://w3c.github.io/webrtc-pc/#dfn-stopped\" class=\"internalDFN\" id=\"ref-for-dfn-stopped-5\"><code>stopped</code></a> and isn't yet <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-associated\" class=\"internalDFN\" id=\"ref-for-dfn-associated-9\">associated</a> with an m= section\n                    in <var>description</var>, return <code>true</code>.\n                  </p>"
            },
            {
              "html": "If <var>transceiver</var> isn't <a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCRtpTransceiver\" data-xref-for=\"RTCRtpTransceiver\" href=\"https://w3c.github.io/webrtc-pc/#dfn-stopped\" class=\"internalDFN\" id=\"ref-for-dfn-stopped-6\"><code>stopped</code></a> and is <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-associated\" class=\"internalDFN\" id=\"ref-for-dfn-associated-10\">associated</a> with an m= section in\n                    <var>description</var> then perform the following checks:",
              "rationale": "if",
              "steps": [
                {
                  "html": "<p>\n                        If <var>transceiver</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpTransceiver\" data-xref-for=\"RTCRtpTransceiver\" data-lt=\"[[Direction]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-direction\" class=\"internalDFN\" id=\"ref-for-dfn-direction-4\"><code>[[Direction]]</code></a> is\n                        \"<a data-link-type=\"idl\" data-xref-type=\"enum-value\" data-link-for=\"RTCRtpTransceiverDirection\" data-xref-for=\"RTCRtpTransceiverDirection\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtptransceiverdirection-sendrecv\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtptransceiverdirection-sendrecv-11\"><code>sendrecv</code></a>\" or\n                        \"<a data-link-type=\"idl\" data-xref-type=\"enum-value\" data-link-for=\"RTCRtpTransceiverDirection\" data-xref-for=\"RTCRtpTransceiverDirection\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtptransceiverdirection-sendonly\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtptransceiverdirection-sendonly-6\"><code>sendonly</code></a>\", and the <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-associated\" class=\"internalDFN\" id=\"ref-for-dfn-associated-11\">associated</a> m= section in <var>description</var>\n                        either doesn't contain a single <code class=\"sdp\">a=msid</code> line, or the number of MSIDs from\n                        the <code class=\"sdp\">a=msid</code> lines in this\n                        <code class=\"sdp\">m=</code> section, or the MSID values\n                        themselves, differ from what is in\n                        <var>transceiver</var>.sender.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpSender\" data-xref-for=\"RTCRtpSender\" data-lt=\"[[AssociatedMediaStreamIds]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-associatedmediastreamids\" class=\"internalDFN\" id=\"ref-for-dfn-associatedmediastreamids-1\"><code>[[AssociatedMediaStreamIds]]</code></a>,\n                        return <code>true</code>.\n                      </p>"
                },
                {
                  "html": "<p>\n                        If <var>description</var> is of type\n                        \"<a data-link-type=\"idl\" data-xref-type=\"enum-value\" data-link-for=\"RTCSdpType\" data-xref-for=\"RTCSdpType\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcsdptype-offer\" class=\"internalDFN\" id=\"ref-for-dom-rtcsdptype-offer-17\"><code>offer</code></a>\", and the direction of the <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-associated\" class=\"internalDFN\" id=\"ref-for-dfn-associated-12\">associated</a> m= section in neither\n                        <var>connection</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCPeerConnection\" data-xref-for=\"RTCPeerConnection\" data-lt=\"[[CurrentLocalDescription]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-currentlocaldescription\" class=\"internalDFN\" id=\"ref-for-dfn-currentlocaldescription-11\"><code>[[CurrentLocalDescription]]</code></a>\n                        nor\n                        <var>connection</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCPeerConnection\" data-xref-for=\"RTCPeerConnection\" data-lt=\"[[CurrentRemoteDescription]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-currentremotedescription\" class=\"internalDFN\" id=\"ref-for-dfn-currentremotedescription-10\"><code>[[CurrentRemoteDescription]]</code></a>\n                        matches <var>transceiver</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpTransceiver\" data-xref-for=\"RTCRtpTransceiver\" data-lt=\"[[Direction]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-direction\" class=\"internalDFN\" id=\"ref-for-dfn-direction-5\"><code>[[Direction]]</code></a>,\n                        return <code>true</code>. In this step, when the\n                        direction is compared with a direction found in\n                        <a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCPeerConnection\" data-xref-for=\"RTCPeerConnection\" data-lt=\"[[CurrentRemoteDescription]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-currentremotedescription\" class=\"internalDFN\" id=\"ref-for-dfn-currentremotedescription-11\"><code>[[CurrentRemoteDescription]]</code></a>, the description's\n                        direction must be reversed to represent the peer's\n                        point of view.\n                      </p>"
                },
                {
                  "html": "<p>\n                        If <var>description</var> is of type\n                        \"<a data-link-type=\"idl\" data-xref-type=\"enum-value\" data-link-for=\"RTCSdpType\" data-xref-for=\"RTCSdpType\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcsdptype-answer\" class=\"internalDFN\" id=\"ref-for-dom-rtcsdptype-answer-18\"><code>answer</code></a>\", and the direction of the <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-associated\" class=\"internalDFN\" id=\"ref-for-dfn-associated-13\">associated</a> m= section in the <var>description</var>\n                        does not match\n                        <var>transceiver</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpTransceiver\" data-xref-for=\"RTCRtpTransceiver\" data-lt=\"[[Direction]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-direction\" class=\"internalDFN\" id=\"ref-for-dfn-direction-6\"><code>[[Direction]]</code></a>\n                        intersected with the offered direction (as described in\n                        <span>[<cite><a class=\"bibref\" data-link-type=\"biblio\" href=\"https://w3c.github.io/webrtc-pc/#bib-rfc9429\" title=\"JavaScript Session Establishment Protocol (JSEP)\">RFC9429</a></cite>] (<a href=\"https://www.rfc-editor.org/rfc/rfc9429#section-5.3.1\">section 5.3.1.</a>)</span>),\n                        return <code>true</code>.\n                      </p>"
                }
              ]
            },
            {
              "html": "<p>\n                    If <var>transceiver</var> is <a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCRtpTransceiver\" data-xref-for=\"RTCRtpTransceiver\" href=\"https://w3c.github.io/webrtc-pc/#dfn-stopped\" class=\"internalDFN\" id=\"ref-for-dfn-stopped-7\"><code>stopped</code></a>\n                    and is <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-associated\" class=\"internalDFN\" id=\"ref-for-dfn-associated-14\">associated</a> with an m= section, but the\n                    associated m= section is not yet rejected in\n                    <var>connection</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCPeerConnection\" data-xref-for=\"RTCPeerConnection\" data-lt=\"[[CurrentLocalDescription]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-currentlocaldescription\" class=\"internalDFN\" id=\"ref-for-dfn-currentlocaldescription-12\"><code>[[CurrentLocalDescription]]</code></a>\n                    or\n                    <var>connection</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCPeerConnection\" data-xref-for=\"RTCPeerConnection\" data-lt=\"[[CurrentRemoteDescription]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-currentremotedescription\" class=\"internalDFN\" id=\"ref-for-dfn-currentremotedescription-12\"><code>[[CurrentRemoteDescription]]</code></a>,\n                    return <code>true</code>.\n                  </p>"
            }
          ]
        },
        {
          "html": "<p>\n                If all the preceding checks were performed and\n                <code>true</code> was not returned, nothing remains to be\n                negotiated; return <code>false</code>.\n              </p>"
        }
      ]
    },
    {
      "name": "RTCIceCandidate/constructor()",
      "href": "https://w3c.github.io/webrtc-pc/#dom-rtcicecandidate-constructor",
      "html": "When invoked, run the following steps:",
      "rationale": ".algorithm",
      "steps": [
        {
          "html": "If both\n                    the <a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCIceCandidateInit\" data-xref-for=\"RTCIceCandidateInit\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcicecandidateinit-sdpmid\" class=\"internalDFN\" id=\"ref-for-dom-rtcicecandidateinit-sdpmid-1\"><code>sdpMid</code></a> and\n                    <a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCIceCandidateInit\" data-xref-for=\"RTCIceCandidateInit\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcicecandidateinit-sdpmlineindex\" class=\"internalDFN\" id=\"ref-for-dom-rtcicecandidateinit-sdpmlineindex-1\"><code>sdpMLineIndex</code></a> members of\n                    <var>candidateInitDict</var> are <code>null</code>, <a data-link-type=\"dfn|abstract-op\" data-link-for=\"exception\" data-xref-for=\"exception\" data-cite=\"webidl\" data-cite-path=\"\" data-cite-frag=\"dfn-throw\" data-type=\"dfn\" href=\"https://webidl.spec.whatwg.org/#dfn-throw\">throw</a> a <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"TypeError\" data-cite=\"webidl\" data-cite-path=\"\" data-cite-frag=\"exceptiondef-typeerror\" data-type=\"exception\" href=\"https://webidl.spec.whatwg.org/#exceptiondef-typeerror\"><code>TypeError</code></a>."
        },
        {
          "html": "<p>\n                        Return the result of <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-creating-an-rtcicecandidate\" class=\"internalDFN\" id=\"ref-for-dfn-creating-an-rtcicecandidate-1\">creating an RTCIceCandidate</a>\n                        with <var>candidateInitDict</var>.\n                      </p>"
        }
      ]
    },
    {
      "name": "creating an RTCIceCandidate",
      "href": "https://w3c.github.io/webrtc-pc/#dfn-creating-an-rtcicecandidate",
      "html": "To <dfn class=\"abstract-op\" data-lt=\"creating an RTCIceCandidate|create an RTCIceCandidate\" data-dfn-type=\"abstract-op\" id=\"dfn-creating-an-rtcicecandidate\" tabindex=\"0\" aria-haspopup=\"dialog\" data-export=\"\">create an\n                    RTCIceCandidate</dfn> with a <var>candidateInitDict</var>\n                    dictionary, run the following steps:",
      "rationale": "let",
      "steps": [
        {
          "html": "Let <var>iceCandidate</var> be a newly created\n                    <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCIceCandidate\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcicecandidate\" class=\"internalDFN\" id=\"ref-for-dom-rtcicecandidate-4\"><code>RTCIceCandidate</code></a> object."
        },
        {
          "html": "Create internal slots for the following attributes of\n                    <var>iceCandidate</var>, initilized to <code>null</code>:\n                    <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"foundation\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcicecandidate-foundation\" class=\"internalDFN\" id=\"ref-for-dom-rtcicecandidate-foundation-2\"><code>foundation</code></a>, <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"component\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcicecandidate-component\" class=\"internalDFN\" id=\"ref-for-dom-rtcicecandidate-component-2\"><code>component</code></a>, <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"priority\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcicecandidate-priority\" class=\"internalDFN\" id=\"ref-for-dom-rtcicecandidate-priority-2\"><code>priority</code></a>, <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"address\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcicecandidate-address\" class=\"internalDFN\" id=\"ref-for-dom-rtcicecandidate-address-3\"><code>address</code></a>,\n                    <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"protocol\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcicecandidate-protocol\" class=\"internalDFN\" id=\"ref-for-dom-rtcicecandidate-protocol-2\"><code>protocol</code></a>, <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"port\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcicecandidate-port\" class=\"internalDFN\" id=\"ref-for-dom-rtcicecandidate-port-2\"><code>port</code></a>, <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"type\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcicecandidate-type\" class=\"internalDFN\" id=\"ref-for-dom-rtcicecandidate-type-2\"><code>type</code></a>, <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"tcpType\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcicecandidate-tcptype\" class=\"internalDFN\" id=\"ref-for-dom-rtcicecandidate-tcptype-2\"><code>tcpType</code></a>,\n                    <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"relatedAddress\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcicecandidate-relatedaddress\" class=\"internalDFN\" id=\"ref-for-dom-rtcicecandidate-relatedaddress-2\"><code>relatedAddress</code></a>, and <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"relatedPort\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcicecandidate-relatedport\" class=\"internalDFN\" id=\"ref-for-dom-rtcicecandidate-relatedport-2\"><code>relatedPort</code></a>."
        },
        {
          "html": "Create internal slots for the following attributes of\n                    <var>iceCandidate</var>, initilized to their namesakes in\n                    <var>candidateInitDict</var>: <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"candidate\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcicecandidate-candidate\" class=\"internalDFN\" id=\"ref-for-dom-rtcicecandidate-candidate-7\"><code>candidate</code></a>, <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"sdpMid\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcicecandidate-sdpmid\" class=\"internalDFN\" id=\"ref-for-dom-rtcicecandidate-sdpmid-9\"><code>sdpMid</code></a>,\n                    <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"sdpMLineIndex\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcicecandidate-sdpmlineindex\" class=\"internalDFN\" id=\"ref-for-dom-rtcicecandidate-sdpmlineindex-9\"><code>sdpMLineIndex</code></a>, <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"usernameFragment\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcicecandidate-usernamefragment\" class=\"internalDFN\" id=\"ref-for-dom-rtcicecandidate-usernamefragment-7\"><code>usernameFragment</code></a>."
        },
        {
          "html": "Let <var>candidate</var> be the\n                    <a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCIceCandidateInit\" data-xref-for=\"RTCIceCandidateInit\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcicecandidateinit-candidate\" class=\"internalDFN\" id=\"ref-for-dom-rtcicecandidateinit-candidate-2\"><code>candidate</code></a> dictionary member of\n                    <var>candidateInitDict</var>. If <var>candidate</var> is\n                    not an empty string, run the following steps:",
          "rationale": "parse",
          "steps": [
            {
              "html": "Parse <var>candidate</var> using the <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-candidate-attribute\" class=\"internalDFN\" id=\"ref-for-dfn-candidate-attribute-1\"><code>candidate-attribute</code></a> grammar."
            },
            {
              "html": "If parsing of <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-candidate-attribute\" class=\"internalDFN\" id=\"ref-for-dfn-candidate-attribute-2\"><code>candidate-attribute</code></a> has failed,\n                        abort these steps."
            },
            {
              "html": "If any field in the parse result represents an\n                        invalid value for the corresponding attribute in <var>\n                          iceCandidate</var>, abort these steps."
            },
            {
              "html": "Set the corresponding internal slots in\n                        <var>iceCandidate</var> to the field values of the\n                        parsed result."
            }
          ]
        },
        {
          "html": "Return <var>iceCandidate</var>."
        }
      ]
    },
    {
      "name": "RTCIceCandidate/toJSON()",
      "href": "https://w3c.github.io/webrtc-pc/#dom-rtcicecandidate-tojson",
      "html": "To invoke the <a data-link-type=\"idl\" data-xref-type=\"method\" data-lt=\"toJSON()\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcicecandidate-tojson\" class=\"internalDFN\" id=\"ref-for-dom-rtcicecandidate-tojson-2\"><code>toJSON</code></a><code>()</code> operation of the\n                  <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCIceCandidate\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcicecandidate\" class=\"internalDFN\" id=\"ref-for-dom-rtcicecandidate-10\"><code>RTCIceCandidate</code></a> interface, run the following steps:",
      "rationale": ".algorithm",
      "steps": [
        {
          "html": "Let <var>json</var> be a new\n                    <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCIceCandidateInit\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcicecandidateinit\" class=\"internalDFN\" id=\"ref-for-dom-rtcicecandidateinit-5\"><code>RTCIceCandidateInit</code></a> dictionary."
        },
        {
          "html": "For each attribute identifier\n                    <var>attr</var> in <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"candidate\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcicecandidate-candidate\" class=\"internalDFN\" id=\"ref-for-dom-rtcicecandidate-candidate-10\"><code>candidate</code></a>, <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"sdpMid\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcicecandidate-sdpmid\" class=\"internalDFN\" id=\"ref-for-dom-rtcicecandidate-sdpmid-10\"><code>sdpMid</code></a>,\n                    <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"sdpMLineIndex\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcicecandidate-sdpmlineindex\" class=\"internalDFN\" id=\"ref-for-dom-rtcicecandidate-sdpmlineindex-10\"><code>sdpMLineIndex</code></a>, <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"usernameFragment\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcicecandidate-usernamefragment\" class=\"internalDFN\" id=\"ref-for-dom-rtcicecandidate-usernamefragment-8\"><code>usernameFragment</code></a>:",
          "rationale": "let",
          "steps": [
            {
              "html": "Let <var>value</var> be the result of getting the\n                        underlying value of the attribute identified by\n                        <var>attr</var>, given this <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCIceCandidate\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcicecandidate\" class=\"internalDFN\" id=\"ref-for-dom-rtcicecandidate-11\"><code>RTCIceCandidate</code></a> object."
            },
            {
              "html": "Set <code><var>json</var>[<var>attr</var>]</code>\n                        to <var>value</var>."
            }
          ]
        },
        {
          "html": "Return <var>json</var>."
        }
      ]
    },
    {
      "name": "RTCPeerConnection/generateCertificate()",
      "href": "https://w3c.github.io/webrtc-pc/#dom-rtcpeerconnection-generatecertificate",
      "html": "When the method is called, the user agent <em class=\"rfc2119\">MUST</em> run the\n                  following steps:",
      "rationale": ".algorithm",
      "steps": [
        {
          "html": "<p>\n                      Let <var>keygenAlgorithm</var> be the first argument to\n                      <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"generateCertificate\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcpeerconnection-generatecertificate\" class=\"internalDFN\" id=\"ref-for-dom-rtcpeerconnection-generatecertificate-5\"><code>generateCertificate</code></a>.\n                    </p>"
        },
        {
          "html": "<p>\n                      Let <var>expires</var> be a value of\n                      2592000000 (30*24*60*60*1000)\n                    </p>"
        },
        {
          "html": "If <var>keygenAlgorithm</var> is an object, run the\n                      following steps:",
          "rationale": "let",
          "steps": [
            {
              "html": "<p>\n                          Let <var>certificateExpiration</var> be the result of\n                          <a data-cite=\"webidl#dfn-convert-ecmascript-to-idl-value\" href=\"https://webidl.spec.whatwg.org/#dfn-convert-ecmascript-to-idl-value\">converting</a>\n                          the ECMAScript object represented by\n                          <var>keygenAlgorithm</var> to an\n                          <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCCertificateExpiration\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtccertificateexpiration\" class=\"internalDFN\" id=\"ref-for-dom-rtccertificateexpiration-1\"><code>RTCCertificateExpiration</code></a> dictionary.\n                        </p>"
            },
            {
              "html": "<p>\n                          If the conversion fails with an <var>error</var>,\n                          return a promise that is <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-reject\" class=\"internalDFN\" id=\"ref-for-dfn-reject-32\">rejected</a> with\n                          <var>error</var>.\n                        </p>"
            },
            {
              "html": "<p>\n                          If\n                          <var>certificateExpiration</var>.<a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCCertificateExpiration\" data-xref-for=\"RTCCertificateExpiration\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtccertificateexpiration-expires\" class=\"internalDFN\" id=\"ref-for-dom-rtccertificateexpiration-expires-1\"><code>expires</code></a>\n                          is not <code>undefined</code>, set <var>expires</var>\n                          to\n                          <var>certificateExpiration</var>.<a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCCertificateExpiration\" data-xref-for=\"RTCCertificateExpiration\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtccertificateexpiration-expires\" class=\"internalDFN\" id=\"ref-for-dom-rtccertificateexpiration-expires-2\"><code>expires</code></a>.\n                        </p>"
            },
            {
              "html": "<p>\n                          If <var>expires</var> is greater than 31536000000,\n                          set <var>expires</var> to 31536000000.\n                        </p>\n                        \n                        <p>\n                          A <a href=\"https://w3c.github.io/webrtc-pc/#dfn-user-agent\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-user-agent-6\">user agent</a> <em class=\"rfc2119\">MAY</em> further cap the value of\n                          <var>expires</var>.\n                        </p>"
            }
          ]
        },
        {
          "html": "<p>\n                      Let <var>normalizedKeygenAlgorithm</var> be the result of\n                      <a data-cite=\"!WebCryptoAPI#dfn-normalize-an-algorithm\" href=\"https://www.w3.org/TR/WebCryptoAPI/#dfn-normalize-an-algorithm\">normalizing an\n                      algorithm</a> with an operation name of <code class=\"ext\"><a data-cite=\"WebCryptoAPI#SubtleCrypto-method-generateKey\" href=\"https://www.w3.org/TR/WebCryptoAPI/#SubtleCrypto-method-generateKey\">generateKey</a></code>\n                      and a <a data-cite=\"!WebCryptoAPI#dfn-supportedAlgorithms\" href=\"https://www.w3.org/TR/WebCryptoAPI/#dfn-supportedAlgorithms\">supportedAlgorithms</a>\n                      value specific to production of certificates for\n                      <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCPeerConnection\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcpeerconnection\" class=\"internalDFN\" id=\"ref-for-dom-rtcpeerconnection-93\"><code>RTCPeerConnection</code></a>.\n                    </p>"
        },
        {
          "html": "<p>\n                      If the above normalization step fails with an\n                      <var>error</var>, return a promise that is <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-reject\" class=\"internalDFN\" id=\"ref-for-dfn-reject-33\">rejected</a>\n                      with <var>error</var>.\n                    </p>"
        },
        {
          "html": "<p>\n                      If the <var>normalizedKeygenAlgorithm</var> parameter\n                      identifies an algorithm that the <a href=\"https://w3c.github.io/webrtc-pc/#dfn-user-agent\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-user-agent-7\">user agent</a> cannot\n                      or will not use to generate a certificate for\n                      <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCPeerConnection\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcpeerconnection\" class=\"internalDFN\" id=\"ref-for-dom-rtcpeerconnection-94\"><code>RTCPeerConnection</code></a>, return a promise that is <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-reject\" class=\"internalDFN\" id=\"ref-for-dfn-reject-34\">rejected</a> with a <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"DOMException\" data-cite=\"webidl\" data-cite-path=\"\" data-cite-frag=\"idl-DOMException\" data-type=\"interface\" href=\"https://webidl.spec.whatwg.org/#idl-DOMException\"><code>DOMException</code></a> of type\n                      <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"NotSupportedError\" data-cite=\"webidl\" data-cite-path=\"\" data-cite-frag=\"notsupportederror\" data-type=\"exception\" href=\"https://webidl.spec.whatwg.org/#notsupportederror\"><code>NotSupportedError</code></a>. In particular,\n                      <var>normalizedKeygenAlgorithm</var> <em class=\"rfc2119\">MUST</em> be an\n                      asymmetric algorithm that can be used to produce a\n                      signature used to authenticate DTLS connections.\n                    </p>"
        },
        {
          "html": "<p>\n                      Let <var>p</var> be a new promise.\n                    </p>"
        },
        {
          "html": "Run the following steps <a data-link-type=\"dfn|abstract-op\" data-cite=\"html\" data-cite-path=\"/infrastructure.html\" data-cite-frag=\"in-parallel\" data-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel\">in parallel</a>:",
          "rationale": "perform",
          "steps": [
            {
              "html": "<p>\n                          Perform the generate key operation specified by\n                          <var>normalizedKeygenAlgorithm</var> using\n                          <var>keygenAlgorithm</var>.\n                        </p>"
            },
            {
              "html": "<p>\n                          Let <var>generatedKeyingMaterial</var> and\n                          <var>generatedKeyCertificate</var> be the private\n                          keying material and certificate generated by the\n                          above step.\n                        </p>"
            },
            {
              "html": "<p>\n                          Let <var>certificate</var> be a new\n                          <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCCertificate\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtccertificate\" class=\"internalDFN\" id=\"ref-for-dom-rtccertificate-9\"><code>RTCCertificate</code></a> object.\n                        </p>"
            },
            {
              "html": "<p>\n                          Set <var>certificate</var>.[[Expires]] to the\n                          current time plus <var>expires</var> value.\n                        </p>"
            },
            {
              "html": "<p>\n                          Set <var>certificate</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCCertificate\" data-xref-for=\"RTCCertificate\" data-lt=\"[[Origin]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-origin\" class=\"internalDFN\" id=\"ref-for-dfn-origin-2\"><code>[[Origin]]</code></a> to the\n                          <a data-link-type=\"dfn|abstract-op\" data-cite=\"html\" data-cite-path=\"/webappapis.html\" data-cite-frag=\"relevant-settings-object\" data-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object\">relevant settings object</a>'s\n                          <a data-link-type=\"dfn|abstract-op\" data-link-for=\"environment settings object\" data-xref-for=\"environment settings object\" data-cite=\"html\" data-cite-path=\"/webappapis.html\" data-cite-frag=\"concept-settings-object-origin\" data-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-origin\">origin</a>.\n                        </p>"
            },
            {
              "html": "<p>\n                          Store the <var>generatedKeyingMaterial</var> in a\n                          secure module, and let <var>handle</var> be a\n                          reference identifier to it.\n                        </p>"
            },
            {
              "html": "<p>\n                          Set <var>certificate</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCCertificate\" data-xref-for=\"RTCCertificate\" data-lt=\"[[KeyingMaterialHandle]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-keyingmaterialhandle\" class=\"internalDFN\" id=\"ref-for-dfn-keyingmaterialhandle-1\"><code>[[KeyingMaterialHandle]]</code></a>\n                          to <var>handle</var>.\n                        </p>"
            },
            {
              "html": "<p>\n                          Set <var>certificate</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCCertificate\" data-xref-for=\"RTCCertificate\" data-lt=\"[[Certificate]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-certificate\" class=\"internalDFN\" id=\"ref-for-dfn-certificate-1\"><code>[[Certificate]]</code></a> to\n                          <var>generatedCertificate</var>.\n                        </p>"
            },
            {
              "html": "<p>\n                          Resolve <var>p</var> with <var>certificate</var>.\n                        </p>"
            }
          ]
        },
        {
          "html": "<p>\n                      Return <var>p</var>.\n                    </p>"
        }
      ]
    },
    {
      "html": "<a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCCertificate\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtccertificate\" class=\"internalDFN\" id=\"ref-for-dom-rtccertificate-14\"><code>RTCCertificate</code></a> objects are <a data-link-type=\"dfn|abstract-op\" data-cite=\"HTML/structured-data.html#serializable-objects\" href=\"https://html.spec.whatwg.org/multipage/structured-data.html#serializable-objects\">serializable objects</a>\n            [<cite><a class=\"bibref\" data-link-type=\"biblio\" href=\"https://w3c.github.io/webrtc-pc/#bib-html\" title=\"HTML Standard\">HTML</a></cite>]. Their <a data-link-type=\"dfn|abstract-op\" data-cite=\"html\" data-cite-path=\"/structured-data.html\" data-cite-frag=\"serialization-steps\" data-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/structured-data.html#serialization-steps\">serialization steps</a>, given <var>value</var>\n            and <var>serialized</var>, are:",
      "rationale": ".algorithm",
      "steps": [
        {
          "html": "Set <var>serialized</var>.[[Expires]] to the value of\n            <var>value</var>.<a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCCertificate\" data-xref-for=\"RTCCertificate\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtccertificate-expires\" class=\"internalDFN\" id=\"ref-for-dom-rtccertificate-expires-3\"><code>expires</code></a> attribute."
        },
        {
          "html": "Set <var>serialized</var>.[[Certificate]] to a copy of the\n            unstructured binary data in\n            <var>value</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCCertificate\" data-xref-for=\"RTCCertificate\" data-lt=\"[[Certificate]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-certificate\" class=\"internalDFN\" id=\"ref-for-dfn-certificate-3\"><code>[[Certificate]]</code></a>."
        },
        {
          "html": "Set <var>serialized</var>.[[Origin]] to a copy of the\n            unstructured binary data in <var>value</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCCertificate\" data-xref-for=\"RTCCertificate\" data-lt=\"[[Origin]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-origin\" class=\"internalDFN\" id=\"ref-for-dfn-origin-3\"><code>[[Origin]]</code></a>."
        },
        {
          "html": "Set <var>serialized</var>.[[KeyingMaterialHandle]] to a\n            serialization of the handle in\n            <var>value</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCCertificate\" data-xref-for=\"RTCCertificate\" data-lt=\"[[KeyingMaterialHandle]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-keyingmaterialhandle\" class=\"internalDFN\" id=\"ref-for-dfn-keyingmaterialhandle-4\"><code>[[KeyingMaterialHandle]]</code></a> (not the private\n            keying material itself)."
        }
      ]
    },
    {
      "html": "Their <a data-cite=\"html\" data-cite-path=\"/structured-data.html\" data-cite-frag=\"deserialization-steps\" data-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/structured-data.html#deserialization-steps\">deserialization steps</a>, given <var>serialized</var> and\n            <var>value</var>, are:",
      "rationale": ".algorithm",
      "steps": [
        {
          "html": "Initialize <var>value</var>.<a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCCertificate\" data-xref-for=\"RTCCertificate\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtccertificate-expires\" class=\"internalDFN\" id=\"ref-for-dom-rtccertificate-expires-4\"><code>expires</code></a>\n            attribute to contain <var>serialized</var>.[[Expires]]."
        },
        {
          "html": "Set <var>value</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCCertificate\" data-xref-for=\"RTCCertificate\" data-lt=\"[[Certificate]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-certificate\" class=\"internalDFN\" id=\"ref-for-dfn-certificate-4\"><code>[[Certificate]]</code></a> to a copy of <var>\n              serialized</var>.[[Certificate]]"
        },
        {
          "html": "Set <var>value</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCCertificate\" data-xref-for=\"RTCCertificate\" data-lt=\"[[Origin]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-origin\" class=\"internalDFN\" id=\"ref-for-dfn-origin-4\"><code>[[Origin]]</code></a> to a copy of\n            <var>serialized</var>.[[Origin]]"
        },
        {
          "html": "Set <var>value</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCCertificate\" data-xref-for=\"RTCCertificate\" data-lt=\"[[KeyingMaterialHandle]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-keyingmaterialhandle\" class=\"internalDFN\" id=\"ref-for-dfn-keyingmaterialhandle-5\"><code>[[KeyingMaterialHandle]]</code></a> to the\n            private keying material handle resulting from deserializing\n            <var>serialized</var>.[[KeyingMaterialHandle]]"
        }
      ]
    },
    {
      "name": "CollectSenders",
      "href": "https://w3c.github.io/webrtc-pc/#dfn-collectsenders",
      "html": "We define the <dfn class=\"abstract-op\" data-dfn-type=\"abstract-op\" id=\"dfn-collectsenders\" tabindex=\"0\" aria-haspopup=\"dialog\" data-export=\"\">CollectSenders</dfn> algorithm as follows:",
      "rationale": ".algorithm",
      "steps": [
        {
          "html": "Let\n                  <var>transceivers</var> be the result of executing the\n                  <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"CollectTransceivers\" href=\"https://w3c.github.io/webrtc-pc/#dfn-collecttransceivers\" class=\"internalDFN\" id=\"ref-for-dfn-collecttransceivers-2\"><code>CollectTransceivers</code></a> algorithm."
        },
        {
          "html": "Let\n                  <var>senders</var> be a new empty sequence."
        },
        {
          "html": "For each <var>transceiver</var> in\n                  <var>transceivers</var>,",
          "rationale": "if",
          "steps": [
            {
              "html": "If\n                      <var>transceiver</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpTransceiver\" data-xref-for=\"RTCRtpTransceiver\" data-lt=\"[[Stopped]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-stopped-0\" class=\"internalDFN\" id=\"ref-for-dfn-stopped-0-6\"><code>[[Stopped]]</code></a> is\n                      <code>false</code>, add\n                      <var>transceiver</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpTransceiver\" data-xref-for=\"RTCRtpTransceiver\" data-lt=\"[[Sender]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-sender\" class=\"internalDFN\" id=\"ref-for-dfn-sender-31\"><code>[[Sender]]</code></a> to\n                      <var>senders</var>."
            }
          ]
        },
        {
          "html": "Return\n                  <var>senders</var>."
        }
      ]
    },
    {
      "name": "RTCPeerConnection/getReceivers()",
      "href": "https://w3c.github.io/webrtc-pc/#dom-peerconnection-getreceivers",
      "html": "When the <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"getReceivers\" href=\"https://w3c.github.io/webrtc-pc/#dom-peerconnection-getreceivers\" class=\"internalDFN\" id=\"ref-for-dom-peerconnection-getreceivers-2\"><code>getReceivers</code></a> method is invoked, the user agent\n                  <em class=\"rfc2119\">MUST</em> run the following steps:",
      "rationale": ".algorithm",
      "steps": [
        {
          "html": "Let\n                  <var>transceivers</var> be the result of executing the\n                  <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"CollectTransceivers\" href=\"https://w3c.github.io/webrtc-pc/#dfn-collecttransceivers\" class=\"internalDFN\" id=\"ref-for-dfn-collecttransceivers-3\"><code>CollectTransceivers</code></a> algorithm."
        },
        {
          "html": "Let\n                  <var>receivers</var> be a new empty sequence."
        },
        {
          "html": "For each <var>\n                    transceiver</var> in <var>transceivers</var>,",
          "rationale": "if",
          "steps": [
            {
              "html": "If <var>transceiver</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpTransceiver\" data-xref-for=\"RTCRtpTransceiver\" data-lt=\"[[Stopped]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-stopped-0\" class=\"internalDFN\" id=\"ref-for-dfn-stopped-0-7\"><code>[[Stopped]]</code></a> is\n                      <code>false</code>, add\n                      <var>transceiver</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpTransceiver\" data-xref-for=\"RTCRtpTransceiver\" data-lt=\"[[Receiver]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-receiver\" class=\"internalDFN\" id=\"ref-for-dfn-receiver-21\"><code>[[Receiver]]</code></a> to\n                      <var>receivers</var>."
            }
          ]
        },
        {
          "html": "Return\n                  <var>receivers</var>."
        }
      ]
    },
    {
      "name": "CollectTransceivers",
      "href": "https://w3c.github.io/webrtc-pc/#dfn-collecttransceivers",
      "html": "We define the <dfn class=\"abstract-op\" data-dfn-type=\"abstract-op\" id=\"dfn-collecttransceivers\" tabindex=\"0\" aria-haspopup=\"dialog\" data-export=\"\">CollectTransceivers</dfn> algorithm as\n                  follows:",
      "rationale": ".algorithm",
      "steps": [
        {
          "html": "Let\n                  <var>transceivers</var> be a new sequence consisting of all\n                  <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCRtpTransceiver\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtptransceiver\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtptransceiver-24\"><code>RTCRtpTransceiver</code></a> objects in this <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCPeerConnection\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcpeerconnection\" class=\"internalDFN\" id=\"ref-for-dom-rtcpeerconnection-107\"><code>RTCPeerConnection</code></a>\n                  object's <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#transceivers-set\" class=\"internalDFN\" id=\"ref-for-transceivers-set-15\">set of transceivers</a>, in insertion order."
        },
        {
          "html": "Return <var>transceivers</var>."
        }
      ]
    },
    {
      "name": "RTCPeerConnection/addTrack()",
      "href": "https://w3c.github.io/webrtc-pc/#dom-rtcpeerconnection-addtrack",
      "html": "When the <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"addTrack\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcpeerconnection-addtrack\" class=\"internalDFN\" id=\"ref-for-dom-rtcpeerconnection-addtrack-9\"><code>addTrack</code></a> method is invoked, the user agent <em class=\"rfc2119\">MUST</em>\n                  run the following steps:",
      "rationale": ".algorithm",
      "steps": [
        {
          "html": "<p>\n                      Let <var>connection</var> be the <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCPeerConnection\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcpeerconnection\" class=\"internalDFN\" id=\"ref-for-dom-rtcpeerconnection-109\"><code>RTCPeerConnection</code></a>\n                      object on which this method was invoked.\n                    </p>"
        },
        {
          "html": "<p>\n                      Let <var>track</var> be the <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"MediaStreamTrack\" data-cite=\"mediacapture-streams\" data-cite-path=\"\" data-cite-frag=\"dom-mediastreamtrack\" data-type=\"interface\" href=\"https://www.w3.org/TR/mediacapture-streams/#dom-mediastreamtrack\"><code>MediaStreamTrack</code></a> object\n                      indicated by the method's first argument.\n                    </p>"
        },
        {
          "html": "<p>\n                      Let <var>kind</var> be <var>track.kind</var>.\n                    </p>"
        },
        {
          "html": "<p>\n                      Let <var>streams</var> be a list of <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"MediaStream\" data-cite=\"mediacapture-streams\" data-cite-path=\"\" data-cite-frag=\"dom-mediastream\" data-type=\"interface\" href=\"https://www.w3.org/TR/mediacapture-streams/#dom-mediastream\"><code>MediaStream</code></a>\n                      objects constructed from the method's remaining\n                      arguments, or an empty list if the method was called with\n                      a single argument.\n                    </p>"
        },
        {
          "html": "<p>\n                      If <var>connection</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCPeerConnection\" data-xref-for=\"RTCPeerConnection\" data-lt=\"[[IsClosed]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-isclosed\" class=\"internalDFN\" id=\"ref-for-dfn-isclosed-20\"><code>[[IsClosed]]</code></a> is\n                      <code>true</code>, <a data-link-type=\"dfn|abstract-op\" data-link-for=\"exception\" data-xref-for=\"exception\" data-cite=\"webidl\" data-cite-path=\"\" data-cite-frag=\"dfn-throw\" data-type=\"dfn\" href=\"https://webidl.spec.whatwg.org/#dfn-throw\">throw</a> an\n                      <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"InvalidStateError\" data-cite=\"webidl\" data-cite-path=\"\" data-cite-frag=\"invalidstateerror\" data-type=\"exception\" href=\"https://webidl.spec.whatwg.org/#invalidstateerror\"><code>InvalidStateError</code></a>.\n                    </p>"
        },
        {
          "html": "<p>\n                      Let <var>senders</var> be the result of executing the\n                      <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"CollectSenders\" href=\"https://w3c.github.io/webrtc-pc/#dfn-collectsenders\" class=\"internalDFN\" id=\"ref-for-dfn-collectsenders-2\"><code>CollectSenders</code></a> algorithm. If an <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCRtpSender\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtpsender\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtpsender-14\"><code>RTCRtpSender</code></a> for\n                      <var>track</var> already exists in <var>senders</var>, <a data-link-type=\"dfn|abstract-op\" data-link-for=\"exception\" data-xref-for=\"exception\" data-cite=\"webidl\" data-cite-path=\"\" data-cite-frag=\"dfn-throw\" data-type=\"dfn\" href=\"https://webidl.spec.whatwg.org/#dfn-throw\">throw</a> an <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"InvalidAccessError\" data-cite=\"webidl\" data-cite-path=\"\" data-cite-frag=\"invalidaccesserror\" data-type=\"exception\" href=\"https://webidl.spec.whatwg.org/#invalidaccesserror\"><code>InvalidAccessError</code></a>.\n                    </p>"
        },
        {
          "html": "<p>\n                      The steps below describe how to determine if an existing\n                      sender can be reused. Doing so will cause future calls to\n                      <a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCPeerConnection\" data-xref-for=\"RTCPeerConnection\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcpeerconnection-createoffer\" class=\"internalDFN\" id=\"ref-for-dom-rtcpeerconnection-createoffer-15\"><code>createOffer</code></a> and\n                      <a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCPeerConnection\" data-xref-for=\"RTCPeerConnection\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcpeerconnection-createanswer\" class=\"internalDFN\" id=\"ref-for-dom-rtcpeerconnection-createanswer-6\"><code>createAnswer</code></a> to mark the\n                      corresponding <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-media-description\" class=\"internalDFN\" id=\"ref-for-dfn-media-description-27\">media description</a> as <code class=\"sdp\">sendrecv</code> or <code class=\"sdp\">sendonly</code> and add the MSID of the sender's\n                      streams, as defined in <span>[<cite><a class=\"bibref\" data-link-type=\"biblio\" href=\"https://w3c.github.io/webrtc-pc/#bib-rfc9429\" title=\"JavaScript Session Establishment Protocol (JSEP)\">RFC9429</a></cite>] (<a href=\"https://www.rfc-editor.org/rfc/rfc9429#section-5.2.2\">section 5.2.2.</a> and <a href=\"https://www.rfc-editor.org/rfc/rfc9429#section-5.3.2\">section 5.3.2.</a>)</span>.\n                    </p>\n                    <p>\n                      If any <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCRtpSender\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtpsender\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtpsender-15\"><code>RTCRtpSender</code></a> object in <var>senders</var>\n                      matches all the following criteria, let <var>sender</var>\n                      be that object, or <code>null</code> otherwise:\n                    </p>\n                    <ul>\n                      <li>\n                        <p>\n                          The sender's track is null.\n                        </p>\n                      </li>\n                      <li>\n                        <p>\n                          The <a data-link-type=\"dfn|abstract-op\" data-link-for=\"RTCRtpTransceiver\" data-xref-for=\"RTCRtpTransceiver\" href=\"https://w3c.github.io/webrtc-pc/#dfn-transceiver-kind\" class=\"internalDFN\" id=\"ref-for-dfn-transceiver-kind-4\">transceiver kind</a> of the\n                          <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCRtpTransceiver\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtptransceiver\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtptransceiver-25\"><code>RTCRtpTransceiver</code></a>, associated with the sender,\n                          matches <var>kind</var>.\n                        </p>\n                      </li>\n                      <li>\n                        <p>\n                          The <a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpTransceiver\" data-xref-for=\"RTCRtpTransceiver\" data-lt=\"[[Stopping]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-stopping\" class=\"internalDFN\" id=\"ref-for-dfn-stopping-2\"><code>[[Stopping]]</code></a> slot of the\n                          <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCRtpTransceiver\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtptransceiver\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtptransceiver-26\"><code>RTCRtpTransceiver</code></a> associated with the sender is\n                          <code>false</code>.\n                        </p>\n                      </li>\n                      <li>\n                        <p>\n                          The sender has never been used to send. More\n                          precisely, the <a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpTransceiver\" data-xref-for=\"RTCRtpTransceiver\" data-lt=\"[[CurrentDirection]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-currentdirection\" class=\"internalDFN\" id=\"ref-for-dfn-currentdirection-4\"><code>[[CurrentDirection]]</code></a> slot of\n                          the <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCRtpTransceiver\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtptransceiver\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtptransceiver-27\"><code>RTCRtpTransceiver</code></a> associated with the sender\n                          has never had a value of\n                          \"<a data-link-type=\"idl\" data-xref-type=\"enum-value\" data-link-for=\"RTCRtpTransceiverDirection\" data-xref-for=\"RTCRtpTransceiverDirection\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtptransceiverdirection-sendrecv\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtptransceiverdirection-sendrecv-12\"><code>sendrecv</code></a>\" or\n                          \"<a data-link-type=\"idl\" data-xref-type=\"enum-value\" data-link-for=\"RTCRtpTransceiverDirection\" data-xref-for=\"RTCRtpTransceiverDirection\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtptransceiverdirection-sendonly\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtptransceiverdirection-sendonly-7\"><code>sendonly</code></a>\".\n                        </p>\n                      </li>\n                    </ul>"
        },
        {
          "html": "If <var>sender</var> is not <code>null</code>, run the\n                      following steps to use that sender:",
          "rationale": ".algorithm",
          "steps": [
            {
              "html": "<p>\n                          Set <var>sender</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpSender\" data-xref-for=\"RTCRtpSender\" data-lt=\"[[SenderTrack]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-sendertrack\" class=\"internalDFN\" id=\"ref-for-dfn-sendertrack-1\"><code>[[SenderTrack]]</code></a> to\n                          <var>track</var>.\n                        </p>"
            },
            {
              "html": "<p>\n                          Set\n                          <var>sender</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpSender\" data-xref-for=\"RTCRtpSender\" data-lt=\"[[AssociatedMediaStreamIds]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-associatedmediastreamids\" class=\"internalDFN\" id=\"ref-for-dfn-associatedmediastreamids-2\"><code>[[AssociatedMediaStreamIds]]</code></a>\n                          to an empty set.\n                        </p>"
            },
            {
              "html": "<p>\n                          For each <var>stream</var> in <var>streams</var>, add\n                          <var>stream.id</var> to\n                          <a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpSender\" data-xref-for=\"RTCRtpSender\" data-lt=\"[[AssociatedMediaStreamIds]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-associatedmediastreamids\" class=\"internalDFN\" id=\"ref-for-dfn-associatedmediastreamids-3\"><code>[[AssociatedMediaStreamIds]]</code></a> if it's not\n                          already there.\n                        </p>"
            },
            {
              "html": "<p>\n                          Let <var>transceiver</var> be the\n                          <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCRtpTransceiver\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtptransceiver\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtptransceiver-28\"><code>RTCRtpTransceiver</code></a> associated with\n                          <var>sender</var>.\n                        </p>"
            },
            {
              "html": "<p>\n                          If <var>transceiver</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpTransceiver\" data-xref-for=\"RTCRtpTransceiver\" data-lt=\"[[Direction]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-direction\" class=\"internalDFN\" id=\"ref-for-dfn-direction-7\"><code>[[Direction]]</code></a> is\n                          \"<a data-link-type=\"idl\" data-xref-type=\"enum-value\" data-link-for=\"RTCRtpTransceiverDirection\" data-xref-for=\"RTCRtpTransceiverDirection\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtptransceiverdirection-recvonly\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtptransceiverdirection-recvonly-11\"><code>recvonly</code></a>\", set\n                          <var>transceiver</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpTransceiver\" data-xref-for=\"RTCRtpTransceiver\" data-lt=\"[[Direction]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-direction\" class=\"internalDFN\" id=\"ref-for-dfn-direction-8\"><code>[[Direction]]</code></a> to\n                          \"<a data-link-type=\"idl\" data-xref-type=\"enum-value\" data-link-for=\"RTCRtpTransceiverDirection\" data-xref-for=\"RTCRtpTransceiverDirection\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtptransceiverdirection-sendrecv\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtptransceiverdirection-sendrecv-13\"><code>sendrecv</code></a>\".\n                        </p>"
            },
            {
              "html": "<p>\n                          If <var>transceiver</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpTransceiver\" data-xref-for=\"RTCRtpTransceiver\" data-lt=\"[[Direction]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-direction\" class=\"internalDFN\" id=\"ref-for-dfn-direction-9\"><code>[[Direction]]</code></a> is\n                          \"<a data-link-type=\"idl\" data-xref-type=\"enum-value\" data-link-for=\"RTCRtpTransceiverDirection\" data-xref-for=\"RTCRtpTransceiverDirection\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtptransceiverdirection-inactive\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtptransceiverdirection-inactive-5\"><code>inactive</code></a>\", set\n                          <var>transceiver</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpTransceiver\" data-xref-for=\"RTCRtpTransceiver\" data-lt=\"[[Direction]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-direction\" class=\"internalDFN\" id=\"ref-for-dfn-direction-10\"><code>[[Direction]]</code></a> to\n                          \"<a data-link-type=\"idl\" data-xref-type=\"enum-value\" data-link-for=\"RTCRtpTransceiverDirection\" data-xref-for=\"RTCRtpTransceiverDirection\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtptransceiverdirection-sendonly\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtptransceiverdirection-sendonly-8\"><code>sendonly</code></a>\".\n                        </p>"
            }
          ]
        },
        {
          "html": "If <var>sender</var> is <code>null</code>, run the\n                      following steps:",
          "rationale": "create",
          "steps": [
            {
              "html": "<p>\n                          <a href=\"https://w3c.github.io/webrtc-pc/#dfn-create-an-rtcrtpsender\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-create-an-rtcrtpsender-2\">Create an RTCRtpSender</a> with <var>track</var>,\n                          <var>kind</var> and <var>streams</var>, and let\n                          <var>sender</var> be the result.\n                        </p>"
            },
            {
              "html": "<p>\n                          <a href=\"https://w3c.github.io/webrtc-pc/#dfn-create-an-rtcrtpreceiver\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-create-an-rtcrtpreceiver-2\">Create an RTCRtpReceiver</a> with <var>kind</var>,\n                          and let <var>receiver</var> be the result.\n                        </p>"
            },
            {
              "html": "<p>\n                          <a href=\"https://w3c.github.io/webrtc-pc/#dfn-create-an-rtcrtptransceiver\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-create-an-rtcrtptransceiver-2\">Create an RTCRtpTransceiver</a> with\n                          <var>sender</var>, <var>receiver</var> and an\n                          <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCRtpTransceiverDirection\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtptransceiverdirection\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtptransceiverdirection-4\"><code>RTCRtpTransceiverDirection</code></a> value of\n                          \"<a data-link-type=\"idl\" data-xref-type=\"enum-value\" data-link-for=\"RTCRtpTransceiverDirection\" data-xref-for=\"RTCRtpTransceiverDirection\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtptransceiverdirection-sendrecv\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtptransceiverdirection-sendrecv-14\"><code>sendrecv</code></a>\", and let\n                          <var>transceiver</var> be the result.\n                        </p>"
            },
            {
              "html": "<p>\n                          Add <var>transceiver</var> to <var>connection</var>'s\n                          <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#transceivers-set\" class=\"internalDFN\" id=\"ref-for-transceivers-set-16\">set of transceivers</a>.\n                        </p>"
            }
          ]
        },
        {
          "html": "<p>\n                      A track could have contents that are inaccessible to the\n                      application. This can be due to anything that would make\n                      a track <a data-cite=\"!fetch#concept-cors-check\" href=\"https://fetch.spec.whatwg.org/#concept-cors-check\">CORS\n                      cross-origin</a>. These tracks can be supplied to the\n                      <a data-link-type=\"idl\" data-xref-type=\"method\" data-link-for=\"RTCPeerConnection\" data-xref-for=\"RTCPeerConnection\" data-lt=\"addTrack()\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcpeerconnection-addtrack\" class=\"internalDFN\" id=\"ref-for-dom-rtcpeerconnection-addtrack-10\"><code>addTrack</code></a><code>()</code> method, and have an\n                      <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCRtpSender\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtpsender\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtpsender-16\"><code>RTCRtpSender</code></a> created for them, but content <em class=\"rfc2119\">MUST NOT</em>\n                      be transmitted. Silence (audio), black frames (video) or\n                      equivalently absent content is sent in place of track\n                      content.\n                    </p>\n                    <p>\n                      Note that this property can change over time.\n                    </p>"
        },
        {
          "html": "<p>\n                      <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-update-the-negotiation-needed-flag\" class=\"internalDFN\" id=\"ref-for-dfn-update-the-negotiation-needed-flag-8\">Update the negotiation-needed flag</a> for\n                      <var>connection</var>.\n                    </p>"
        },
        {
          "html": "<p>\n                      Return <var>sender</var>.\n                    </p>"
        }
      ]
    },
    {
      "name": "RTCPeerConnection/removeTrack()",
      "href": "https://w3c.github.io/webrtc-pc/#dom-rtcpeerconnection-removetrack",
      "html": "When the <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"removeTrack\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcpeerconnection-removetrack\" class=\"internalDFN\" id=\"ref-for-dom-rtcpeerconnection-removetrack-4\"><code>removeTrack</code></a> method is invoked, the user agent\n                  <em class=\"rfc2119\">MUST</em> run the following steps:",
      "rationale": ".algorithm",
      "steps": [
        {
          "html": "<p>\n                      Let <var>sender</var> be the argument to <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"removeTrack\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcpeerconnection-removetrack\" class=\"internalDFN\" id=\"ref-for-dom-rtcpeerconnection-removetrack-5\"><code>removeTrack</code></a>.\n                    </p>"
        },
        {
          "html": "<p>\n                      Let <var>connection</var> be the <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCPeerConnection\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcpeerconnection\" class=\"internalDFN\" id=\"ref-for-dom-rtcpeerconnection-110\"><code>RTCPeerConnection</code></a>\n                      object on which the method was invoked.\n                    </p>"
        },
        {
          "html": "<p>\n                      If <var>connection</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCPeerConnection\" data-xref-for=\"RTCPeerConnection\" data-lt=\"[[IsClosed]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-isclosed\" class=\"internalDFN\" id=\"ref-for-dfn-isclosed-21\"><code>[[IsClosed]]</code></a> is\n                      <code>true</code>, <a data-link-type=\"dfn|abstract-op\" data-link-for=\"exception\" data-xref-for=\"exception\" data-cite=\"webidl\" data-cite-path=\"\" data-cite-frag=\"dfn-throw\" data-type=\"dfn\" href=\"https://webidl.spec.whatwg.org/#dfn-throw\">throw</a> an\n                      <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"InvalidStateError\" data-cite=\"webidl\" data-cite-path=\"\" data-cite-frag=\"invalidstateerror\" data-type=\"exception\" href=\"https://webidl.spec.whatwg.org/#invalidstateerror\"><code>InvalidStateError</code></a>.\n                    </p>"
        },
        {
          "html": "<p>\n                      If <var>sender</var> was not created by\n                      <var>connection</var>, <a data-link-type=\"dfn|abstract-op\" data-link-for=\"exception\" data-xref-for=\"exception\" data-cite=\"webidl\" data-cite-path=\"\" data-cite-frag=\"dfn-throw\" data-type=\"dfn\" href=\"https://webidl.spec.whatwg.org/#dfn-throw\">throw</a> an\n                      <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"InvalidAccessError\" data-cite=\"webidl\" data-cite-path=\"\" data-cite-frag=\"invalidaccesserror\" data-type=\"exception\" href=\"https://webidl.spec.whatwg.org/#invalidaccesserror\"><code>InvalidAccessError</code></a>.\n                    </p>"
        },
        {
          "html": "<p>\n                      Let <var>transceiver</var> be the <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCRtpTransceiver\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtptransceiver\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtptransceiver-30\"><code>RTCRtpTransceiver</code></a>\n                      object corresponding to <var>sender</var>.\n                    </p>"
        },
        {
          "html": "<p>\n                      If <var>transceiver</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpTransceiver\" data-xref-for=\"RTCRtpTransceiver\" data-lt=\"[[Stopping]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-stopping\" class=\"internalDFN\" id=\"ref-for-dfn-stopping-3\"><code>[[Stopping]]</code></a> is\n                      <code>true</code>, abort these steps.\n                    </p>"
        },
        {
          "html": "<p>\n                      Let <var>senders</var> be the result of executing the\n                      <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"CollectSenders\" href=\"https://w3c.github.io/webrtc-pc/#dfn-collectsenders\" class=\"internalDFN\" id=\"ref-for-dfn-collectsenders-3\"><code>CollectSenders</code></a> algorithm.\n                    </p>"
        },
        {
          "html": "<p>\n                      If <var>sender</var> is not in <var>senders</var> (which\n                      indicates its transceiver was stopped or removed due to\n                      <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#set-description\" class=\"internalDFN\" id=\"ref-for-set-description-5\">setting a session description</a> of\n                      <a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCSessionDescriptionInit\" data-xref-for=\"RTCSessionDescriptionInit\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcsessiondescriptioninit-type\" class=\"internalDFN\" id=\"ref-for-dom-rtcsessiondescriptioninit-type-10\"><code>type</code></a>\n                      \"<a data-link-type=\"idl\" data-xref-type=\"enum-value\" data-link-for=\"RTCSdpType\" data-xref-for=\"RTCSdpType\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcsdptype-rollback\" class=\"internalDFN\" id=\"ref-for-dom-rtcsdptype-rollback-9\"><code>rollback</code></a>\"), then abort these steps.\n                    </p>"
        },
        {
          "html": "<p>\n                      If <var>sender</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpSender\" data-xref-for=\"RTCRtpSender\" data-lt=\"[[SenderTrack]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-sendertrack\" class=\"internalDFN\" id=\"ref-for-dfn-sendertrack-2\"><code>[[SenderTrack]]</code></a> is null,\n                      abort these steps.\n                    </p>"
        },
        {
          "html": "<p>\n                      Set <var>sender</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpSender\" data-xref-for=\"RTCRtpSender\" data-lt=\"[[SenderTrack]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-sendertrack\" class=\"internalDFN\" id=\"ref-for-dfn-sendertrack-3\"><code>[[SenderTrack]]</code></a> to null.\n                    </p>"
        },
        {
          "html": "<p>\n                      If <var>transceiver</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpTransceiver\" data-xref-for=\"RTCRtpTransceiver\" data-lt=\"[[Direction]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-direction\" class=\"internalDFN\" id=\"ref-for-dfn-direction-11\"><code>[[Direction]]</code></a> is\n                      \"<a data-link-type=\"idl\" data-xref-type=\"enum-value\" data-link-for=\"RTCRtpTransceiverDirection\" data-xref-for=\"RTCRtpTransceiverDirection\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtptransceiverdirection-sendrecv\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtptransceiverdirection-sendrecv-15\"><code>sendrecv</code></a>\", set\n                      <var>transceiver</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpTransceiver\" data-xref-for=\"RTCRtpTransceiver\" data-lt=\"[[Direction]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-direction\" class=\"internalDFN\" id=\"ref-for-dfn-direction-12\"><code>[[Direction]]</code></a> to\n                      \"<a data-link-type=\"idl\" data-xref-type=\"enum-value\" data-link-for=\"RTCRtpTransceiverDirection\" data-xref-for=\"RTCRtpTransceiverDirection\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtptransceiverdirection-recvonly\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtptransceiverdirection-recvonly-13\"><code>recvonly</code></a>\".\n                    </p>"
        },
        {
          "html": "<p>\n                      If <var>transceiver</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpTransceiver\" data-xref-for=\"RTCRtpTransceiver\" data-lt=\"[[Direction]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-direction\" class=\"internalDFN\" id=\"ref-for-dfn-direction-13\"><code>[[Direction]]</code></a> is\n                      \"<a data-link-type=\"idl\" data-xref-type=\"enum-value\" data-link-for=\"RTCRtpTransceiverDirection\" data-xref-for=\"RTCRtpTransceiverDirection\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtptransceiverdirection-sendonly\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtptransceiverdirection-sendonly-9\"><code>sendonly</code></a>\", set\n                      <var>transceiver</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpTransceiver\" data-xref-for=\"RTCRtpTransceiver\" data-lt=\"[[Direction]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-direction\" class=\"internalDFN\" id=\"ref-for-dfn-direction-14\"><code>[[Direction]]</code></a> to\n                      \"<a data-link-type=\"idl\" data-xref-type=\"enum-value\" data-link-for=\"RTCRtpTransceiverDirection\" data-xref-for=\"RTCRtpTransceiverDirection\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtptransceiverdirection-inactive\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtptransceiverdirection-inactive-7\"><code>inactive</code></a>\".\n                    </p>"
        },
        {
          "html": "<p>\n                      <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-update-the-negotiation-needed-flag\" class=\"internalDFN\" id=\"ref-for-dfn-update-the-negotiation-needed-flag-9\">Update the negotiation-needed flag</a> for\n                      <var>connection</var>.\n                    </p>"
        }
      ]
    },
    {
      "name": "RTCPeerConnection/addTransceiver sendEncodings validation steps",
      "href": "https://w3c.github.io/webrtc-pc/#dfn-addtransceiver-sendencodings-validation-steps",
      "html": "When this method is invoked, the user agent <em class=\"rfc2119\">MUST</em> run the\n                  following steps:",
      "rationale": ".algorithm",
      "steps": [
        {
          "html": "<p>\n                      Let <var>init</var> be the second argument.\n                    </p>"
        },
        {
          "html": "<p>\n                      Let <var>streams</var> be\n                      <var>init</var>.<a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCRtpTransceiverInit\" data-xref-for=\"RTCRtpTransceiverInit\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtptransceiverinit-streams\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtptransceiverinit-streams-1\"><code>streams</code></a>.\n                    </p>"
        },
        {
          "html": "<p>\n                      Let <var>sendEncodings</var> be\n                      <var>init</var>.<a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCRtpTransceiverInit\" data-xref-for=\"RTCRtpTransceiverInit\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtptransceiverinit-sendencodings\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtptransceiverinit-sendencodings-2\"><code>sendEncodings</code></a>.\n                    </p>"
        },
        {
          "html": "<p>\n                      Let <var>direction</var> be\n                      <var>init</var>.<a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCRtpTransceiverInit\" data-xref-for=\"RTCRtpTransceiverInit\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtptransceiverinit-direction\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtptransceiverinit-direction-1\"><code>direction</code></a>.\n                    </p>"
        },
        {
          "html": "If the first argument is a string, let <var>kind</var> be\n                      the first argument and run the following steps:",
          "rationale": "if",
          "steps": [
            {
              "html": "<p>\n                          If <var>kind</var> is neither <code>\"audio\"</code> nor <code>\"video\"</code>,\n                          <a data-link-type=\"dfn|abstract-op\" data-link-for=\"exception\" data-xref-for=\"exception\" data-cite=\"webidl\" data-cite-path=\"\" data-cite-frag=\"dfn-throw\" data-type=\"dfn\" href=\"https://webidl.spec.whatwg.org/#dfn-throw\">throw</a> a <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"TypeError\" data-cite=\"webidl\" data-cite-path=\"\" data-cite-frag=\"exceptiondef-typeerror\" data-type=\"exception\" href=\"https://webidl.spec.whatwg.org/#exceptiondef-typeerror\"><code>TypeError</code></a>.\n                        </p>"
            },
            {
              "html": "<p>\n                          Let <var>track</var> be <code>null</code>.\n                        </p>"
            }
          ]
        },
        {
          "html": "<p>\n                      If the first argument is a <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"MediaStreamTrack\" data-cite=\"mediacapture-streams\" data-cite-path=\"\" data-cite-frag=\"dom-mediastreamtrack\" data-type=\"interface\" href=\"https://www.w3.org/TR/mediacapture-streams/#dom-mediastreamtrack\"><code>MediaStreamTrack</code></a>, let\n                      <var>track</var> be the first argument and let <var>kind</var> be\n                      <var>track</var>.<a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"MediaStreamTrack\" data-xref-for=\"MediaStreamTrack\" data-cite=\"mediacapture-streams\" data-cite-path=\"\" data-cite-frag=\"dom-mediastreamtrack-kind\" data-type=\"attribute\" href=\"https://www.w3.org/TR/mediacapture-streams/#dom-mediastreamtrack-kind\"><code>kind</code></a>.\n                    </p>"
        },
        {
          "html": "<p>\n                      If <var>connection</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCPeerConnection\" data-xref-for=\"RTCPeerConnection\" data-lt=\"[[IsClosed]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-isclosed\" class=\"internalDFN\" id=\"ref-for-dfn-isclosed-22\"><code>[[IsClosed]]</code></a> is\n                      <code>true</code>, <a data-link-type=\"dfn|abstract-op\" data-link-for=\"exception\" data-xref-for=\"exception\" data-cite=\"webidl\" data-cite-path=\"\" data-cite-frag=\"dfn-throw\" data-type=\"dfn\" href=\"https://webidl.spec.whatwg.org/#dfn-throw\">throw</a> an\n                      <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"InvalidStateError\" data-cite=\"webidl\" data-cite-path=\"\" data-cite-frag=\"invalidstateerror\" data-type=\"exception\" href=\"https://webidl.spec.whatwg.org/#invalidstateerror\"><code>InvalidStateError</code></a>.\n                    </p>"
        },
        {
          "html": "Validate <var>sendEncodings</var> by running the following\n                    <dfn class=\"export\" data-dfn-for=\"RTCPeerConnection\" data-export=\"\" id=\"dfn-addtransceiver-sendencodings-validation-steps\" tabindex=\"0\" aria-haspopup=\"dialog\" data-dfn-type=\"dfn\">\n                    addTransceiver sendEncodings validation steps</dfn>,\n                    where each <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCRtpEncodingParameters\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtpencodingparameters\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtpencodingparameters-2\"><code>RTCRtpEncodingParameters</code></a>\n                    dictionary in it is an \"encoding\":",
          "rationale": "if",
          "steps": [
            {
              "html": "If any of the following conditions are met,\n                        <a data-link-type=\"dfn|abstract-op\" data-link-for=\"exception\" data-xref-for=\"exception\" data-cite=\"webidl\" data-cite-path=\"\" data-cite-frag=\"dfn-throw\" data-type=\"dfn\" href=\"https://webidl.spec.whatwg.org/#dfn-throw\">throw</a> a <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"TypeError\" data-cite=\"webidl\" data-cite-path=\"\" data-cite-frag=\"exceptiondef-typeerror\" data-type=\"exception\" href=\"https://webidl.spec.whatwg.org/#exceptiondef-typeerror\"><code>TypeError</code></a>:\n                        <ul>\n                          <li data-tests=\"RTCPeerConnection-addTransceiver.https.html\" class=\"has-tests\">\n                            Any encoding <a data-link-type=\"dfn|abstract-op\" data-link-for=\"map\" data-xref-for=\"map\" data-cite=\"infra\" data-cite-path=\"\" data-cite-frag=\"map-exists\" data-type=\"dfn\" href=\"https://infra.spec.whatwg.org/#map-exists\">contains</a> a\n                            <a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCRtpCodingParameters\" data-xref-for=\"RTCRtpCodingParameters\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtpcodingparameters-rid\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtpcodingparameters-rid-6\"><code>rid</code></a> member whose value\n                            does not conform to the grammar requirements specified\n                            in Section 10 of [<cite><a class=\"bibref\" data-link-type=\"biblio\" href=\"https://w3c.github.io/webrtc-pc/#bib-rfc8851\" title=\"RTP Payload Format Restrictions\">RFC8851</a></cite>].\n                          </li>\n                          <li data-tests=\"RTCPeerConnection-addTransceiver.https.html\" class=\"has-tests\">\n                            Some but not all encodings <a data-link-type=\"dfn|abstract-op\" data-link-for=\"map\" data-xref-for=\"map\" data-cite=\"infra\" data-cite-path=\"\" data-cite-frag=\"map-exists\" data-type=\"dfn\" href=\"https://infra.spec.whatwg.org/#map-exists\">contain</a> a\n                            <a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCRtpCodingParameters\" data-xref-for=\"RTCRtpCodingParameters\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtpcodingparameters-rid\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtpcodingparameters-rid-7\"><code>rid</code></a> member.\n                          </li>\n                          <li data-tests=\"RTCPeerConnection-addTransceiver.https.html\" class=\"has-tests\">\n                            Any encoding <a data-link-type=\"dfn|abstract-op\" data-link-for=\"map\" data-xref-for=\"map\" data-cite=\"infra\" data-cite-path=\"\" data-cite-frag=\"map-exists\" data-type=\"dfn\" href=\"https://infra.spec.whatwg.org/#map-exists\">contains</a> a\n                            <a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCRtpCodingParameters\" data-xref-for=\"RTCRtpCodingParameters\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtpcodingparameters-rid\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtpcodingparameters-rid-8\"><code>rid</code></a> member whose value\n                            is the same as that of a <a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCRtpCodingParameters\" data-xref-for=\"RTCRtpCodingParameters\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtpcodingparameters-rid\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtpcodingparameters-rid-9\"><code>rid</code></a>\n                            <a data-link-type=\"dfn|abstract-op\" data-link-for=\"map\" data-xref-for=\"map\" data-lt=\"contains\" data-cite=\"infra\" data-cite-path=\"\" data-cite-frag=\"map-exists\" data-type=\"dfn\" href=\"https://infra.spec.whatwg.org/#map-exists\">contained</a> in another encoding in\n                            <var>sendEncodings</var>.\n                          </li>\n                        </ul>"
            },
            {
              "html": "<p>\n                          If any encoding <a data-link-type=\"dfn|abstract-op\" data-link-for=\"map\" data-xref-for=\"map\" data-cite=\"infra\" data-cite-path=\"\" data-cite-frag=\"map-exists\" data-type=\"dfn\" href=\"https://infra.spec.whatwg.org/#map-exists\">contains</a> a <a href=\"https://w3c.github.io/webrtc-pc/#dfn-read-only-parameter\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-read-only-parameter-1\">read-only\n                          parameter</a> other than\n                          <a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCRtpCodingParameters\" data-xref-for=\"RTCRtpCodingParameters\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtpcodingparameters-rid\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtpcodingparameters-rid-10\"><code>rid</code></a>, <a data-link-type=\"dfn|abstract-op\" data-link-for=\"exception\" data-xref-for=\"exception\" data-cite=\"webidl\" data-cite-path=\"\" data-cite-frag=\"dfn-throw\" data-type=\"dfn\" href=\"https://webidl.spec.whatwg.org/#dfn-throw\">throw</a>\n                          an <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"InvalidAccessError\" data-cite=\"webidl\" data-cite-path=\"\" data-cite-frag=\"invalidaccesserror\" data-type=\"exception\" href=\"https://webidl.spec.whatwg.org/#invalidaccesserror\"><code>InvalidAccessError</code></a>.\n                        </p>"
            },
            {
              "html": "<p>\n                          If any encoding <a data-link-type=\"dfn|abstract-op\" data-link-for=\"map\" data-xref-for=\"map\" data-cite=\"infra\" data-cite-path=\"\" data-cite-frag=\"map-exists\" data-type=\"dfn\" href=\"https://infra.spec.whatwg.org/#map-exists\">contains</a> a\n                          <a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCRtpEncodingParameters\" data-xref-for=\"RTCRtpEncodingParameters\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtpencodingparameters-codec\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtpencodingparameters-codec-3\"><code>codec</code></a> member whose value does\n                          <a data-link-type=\"dfn|abstract-op\" data-lt=\"codec dictionary match\" href=\"https://w3c.github.io/webrtc-pc/#dfn-codec-dictionary-match\" class=\"internalDFN\" id=\"ref-for-dfn-codec-dictionary-match-2\">not match</a> any codec in <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCRtpSender\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtpsender\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtpsender-19\"><code>RTCRtpSender</code></a>.<a data-link-type=\"idl\" data-xref-type=\"method\" data-link-for=\"RTCRtpSender\" data-xref-for=\"RTCRtpSender\" data-lt=\"getCapabilities(kind)\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtpsender-getcapabilities\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtpsender-getcapabilities-1\"><code>getCapabilities</code></a><code>(<var>kind</var>)</code>.<code>codecs</code>,\n                          <a data-link-type=\"dfn|abstract-op\" data-link-for=\"exception\" data-xref-for=\"exception\" data-cite=\"webidl\" data-cite-path=\"\" data-cite-frag=\"dfn-throw\" data-type=\"dfn\" href=\"https://webidl.spec.whatwg.org/#dfn-throw\">throw</a> an <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"OperationError\" data-cite=\"webidl\" data-cite-path=\"\" data-cite-frag=\"operationerror\" data-type=\"exception\" href=\"https://webidl.spec.whatwg.org/#operationerror\"><code>OperationError</code></a>.</p>"
            },
            {
              "html": "<p>If the user agent does not support changing codecs without negotiation or\n                          does not support setting codecs for individual encodings, return a promise\n                          <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-reject\" class=\"internalDFN\" id=\"ref-for-dfn-reject-35\">rejected</a> with a newly <a data-link-type=\"dfn|abstract-op\" data-link-for=\"exception\" data-xref-for=\"exception\" data-cite=\"webidl\" data-cite-path=\"\" data-cite-frag=\"dfn-create-exception\" data-type=\"dfn\" href=\"https://webidl.spec.whatwg.org/#dfn-create-exception\">created</a> <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"OperationError\" data-cite=\"webidl\" data-cite-path=\"\" data-cite-frag=\"operationerror\" data-type=\"exception\" href=\"https://webidl.spec.whatwg.org/#operationerror\"><code>OperationError</code></a>.</p>"
            },
            {
              "html": "<p>\n                          If <var>kind</var> is <code>\"audio\"</code>, remove the\n                          <a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCRtpEncodingParameters\" data-xref-for=\"RTCRtpEncodingParameters\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtpencodingparameters-scaleresolutiondownby\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtpencodingparameters-scaleresolutiondownby-4\"><code>scaleResolutionDownBy</code></a> and\n                          <a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCRtpEncodingParameters\" data-xref-for=\"RTCRtpEncodingParameters\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtpencodingparameters-maxframerate\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtpencodingparameters-maxframerate-1\"><code>maxFramerate</code></a>\n                          members from all encodings that <a data-link-type=\"dfn|abstract-op\" data-link-for=\"map\" data-xref-for=\"map\" data-cite=\"infra\" data-cite-path=\"\" data-cite-frag=\"map-exists\" data-type=\"dfn\" href=\"https://infra.spec.whatwg.org/#map-exists\">contain</a> any of\n                          them.\n                        </p>"
            },
            {
              "html": "<p>\n                          If any encoding <a data-link-type=\"dfn|abstract-op\" data-link-for=\"map\" data-xref-for=\"map\" data-cite=\"infra\" data-cite-path=\"\" data-cite-frag=\"map-exists\" data-type=\"dfn\" href=\"https://infra.spec.whatwg.org/#map-exists\">contains</a> a\n                          <a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCRtpEncodingParameters\" data-xref-for=\"RTCRtpEncodingParameters\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtpencodingparameters-scaleresolutiondownby\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtpencodingparameters-scaleresolutiondownby-5\"><code>scaleResolutionDownBy</code></a>\n                          member whose value is less than <code>1.0</code>, <a data-link-type=\"dfn|abstract-op\" data-link-for=\"exception\" data-xref-for=\"exception\" data-cite=\"webidl\" data-cite-path=\"\" data-cite-frag=\"dfn-throw\" data-type=\"dfn\" href=\"https://webidl.spec.whatwg.org/#dfn-throw\">throw</a> a <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RangeError\" data-cite=\"webidl\" data-cite-path=\"\" data-cite-frag=\"exceptiondef-rangeerror\" data-type=\"exception\" href=\"https://webidl.spec.whatwg.org/#exceptiondef-rangeerror\"><code>RangeError</code></a>.\n                        </p>"
            },
            {
              "html": "<p>\n                          Verify that the value of each\n                          <a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCRtpEncodingParameters\" data-xref-for=\"RTCRtpEncodingParameters\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtpencodingparameters-maxframerate\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtpencodingparameters-maxframerate-2\"><code>maxFramerate</code></a>\n                          member in <var>sendEncodings</var> that is defined\n                          is greater than 0.0. If one of the\n                          <a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCRtpEncodingParameters\" data-xref-for=\"RTCRtpEncodingParameters\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtpencodingparameters-maxframerate\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtpencodingparameters-maxframerate-3\"><code>maxFramerate</code></a>\n                          values does not meet this requirement, <a data-link-type=\"dfn|abstract-op\" data-link-for=\"exception\" data-xref-for=\"exception\" data-cite=\"webidl\" data-cite-path=\"\" data-cite-frag=\"dfn-throw\" data-type=\"dfn\" href=\"https://webidl.spec.whatwg.org/#dfn-throw\">throw</a> a <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RangeError\" data-cite=\"webidl\" data-cite-path=\"\" data-cite-frag=\"exceptiondef-rangeerror\" data-type=\"exception\" href=\"https://webidl.spec.whatwg.org/#exceptiondef-rangeerror\"><code>RangeError</code></a>.\n                        </p>"
            },
            {
              "html": "<p>\n                          Let <var>maxN</var> be the maximum number of total\n                          simultaneous encodings the user agent may support for\n                          this <var>kind</var>, at minimum <code>1</code>.This\n                          should be an optimistic number since the codec to be\n                          used is not known yet.\n                        </p>"
            },
            {
              "html": "<p>\n                          If any encoding <a data-link-type=\"dfn|abstract-op\" data-link-for=\"map\" data-xref-for=\"map\" data-cite=\"infra\" data-cite-path=\"\" data-cite-frag=\"map-exists\" data-type=\"dfn\" href=\"https://infra.spec.whatwg.org/#map-exists\">contains</a> a\n                          <a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCRtpEncodingParameters\" data-xref-for=\"RTCRtpEncodingParameters\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtpencodingparameters-scaleresolutiondownby\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtpencodingparameters-scaleresolutiondownby-6\"><code>scaleResolutionDownBy</code></a>\n                          member, then for each encoding without one,\n                          add a <a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCRtpEncodingParameters\" data-xref-for=\"RTCRtpEncodingParameters\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtpencodingparameters-scaleresolutiondownby\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtpencodingparameters-scaleresolutiondownby-7\"><code>scaleResolutionDownBy</code></a>\n                          member with the value <code>1.0</code>.\n                        </p>"
            },
            {
              "html": "<p>\n                          If the number of encodings stored\n                          in <var>sendEncodings</var> exceeds <var>maxN</var>,\n                          then trim <var>sendEncodings</var> from the tail\n                          until its length is <var>maxN</var>.\n                        </p>"
            },
            {
              "html": "<p>\n                          If <var>kind</var> is <code>\"video\"</code> and none of the\n                          encodings <a data-link-type=\"dfn|abstract-op\" data-link-for=\"map\" data-xref-for=\"map\" data-cite=\"infra\" data-cite-path=\"\" data-cite-frag=\"map-exists\" data-type=\"dfn\" href=\"https://infra.spec.whatwg.org/#map-exists\">contain</a> a\n                          <a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCRtpEncodingParameters\" data-xref-for=\"RTCRtpEncodingParameters\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtpencodingparameters-scaleresolutiondownby\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtpencodingparameters-scaleresolutiondownby-8\"><code>scaleResolutionDownBy</code></a>\n                          member, then for each encoding, add a\n                          <a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCRtpEncodingParameters\" data-xref-for=\"RTCRtpEncodingParameters\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtpencodingparameters-scaleresolutiondownby\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtpencodingparameters-scaleresolutiondownby-9\"><code>scaleResolutionDownBy</code></a>\n                          member with the value\n                          <code>2^(length of <var>sendEncodings</var> - encoding\n                          index - 1)</code>. This results in smaller-to-larger\n                          resolutions where the last encoding has no scaling\n                          applied to it, e.g. 4:2:1 if the length is 3.\n                        </p>"
            },
            {
              "html": "<p>\n                          If the number of encodings now\n                          stored in <var>sendEncodings</var> is <code>1</code>,\n                          then remove any <a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCRtpCodingParameters\" data-xref-for=\"RTCRtpCodingParameters\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtpcodingparameters-rid\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtpcodingparameters-rid-11\"><code>rid</code></a> member\n                          from the lone entry.\n                        </p>"
            }
          ]
        },
        {
          "html": "<p>\n                      <a href=\"https://w3c.github.io/webrtc-pc/#dfn-create-an-rtcrtpsender\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-create-an-rtcrtpsender-3\">Create an RTCRtpSender</a> with <var>track</var>,\n                      <var>kind</var>, <var>streams</var> and\n                      <var>sendEncodings</var> and let <var>sender</var> be the\n                      result.\n                    </p>\n                    <p>\n                      If <var>sendEncodings</var> is set, then subsequent calls\n                      to <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"createOffer\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcpeerconnection-createoffer\" class=\"internalDFN\" id=\"ref-for-dom-rtcpeerconnection-createoffer-18\"><code>createOffer</code></a> will be configured to send multiple\n                      RTP encodings as defined in <span>[<cite><a class=\"bibref\" data-link-type=\"biblio\" href=\"https://w3c.github.io/webrtc-pc/#bib-rfc9429\" title=\"JavaScript Session Establishment Protocol (JSEP)\">RFC9429</a></cite>] (<a href=\"https://www.rfc-editor.org/rfc/rfc9429#section-5.2.2\">section 5.2.2.</a> and <a href=\"https://www.rfc-editor.org/rfc/rfc9429#section-5.2.1\">section 5.2.1.</a>)</span>. When\n                      <a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCPeerConnection\" data-xref-for=\"RTCPeerConnection\" href=\"https://w3c.github.io/webrtc-pc/#dom-peerconnection-setremotedescription\" class=\"internalDFN\" id=\"ref-for-dom-peerconnection-setremotedescription-9\"><code>setRemoteDescription</code></a> is called with\n                      a corresponding remote description that is able to\n                      receive multiple RTP encodings as defined in\n                      <span>[<cite><a class=\"bibref\" data-link-type=\"biblio\" href=\"https://w3c.github.io/webrtc-pc/#bib-rfc9429\" title=\"JavaScript Session Establishment Protocol (JSEP)\">RFC9429</a></cite>] (<a href=\"https://www.rfc-editor.org/rfc/rfc9429#section-3.7\">section 3.7.</a>)</span>, the\n                      <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCRtpSender\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtpsender\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtpsender-20\"><code>RTCRtpSender</code></a> may send multiple RTP encodings and the\n                      parameters retrieved via the transceiver's\n                      <a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCRtpTransceiver\" data-xref-for=\"RTCRtpTransceiver\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtptransceiver-sender\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtptransceiver-sender-1\"><code>sender</code></a>.<a data-link-type=\"idl\" data-xref-type=\"method\" data-link-for=\"RTCRtpSender\" data-xref-for=\"RTCRtpSender\" data-lt=\"getParameters()\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtpsender-getparameters\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtpsender-getparameters-1\"><code>getParameters</code></a><code>()</code>\n                      will reflect the encodings negotiated.\n                    </p>"
        },
        {
          "html": "<p>\n                      <a href=\"https://w3c.github.io/webrtc-pc/#dfn-create-an-rtcrtpreceiver\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-create-an-rtcrtpreceiver-3\">Create an RTCRtpReceiver</a> with <var>kind</var> and\n                      let <var>receiver</var> be the result.\n                    </p>"
        },
        {
          "html": "<p>\n                      <a href=\"https://w3c.github.io/webrtc-pc/#dfn-create-an-rtcrtptransceiver\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-create-an-rtcrtptransceiver-3\">Create an RTCRtpTransceiver</a> with\n                      <var>sender</var>, <var>receiver</var> and\n                      <var>direction</var>, and let <var>transceiver</var> be\n                      the result.\n                    </p>"
        },
        {
          "html": "<p>\n                      Add <var>transceiver</var> to <var>connection</var>'s <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#transceivers-set\" class=\"internalDFN\" id=\"ref-for-transceivers-set-18\">set of transceivers</a>.\n                    </p>"
        },
        {
          "html": "<p>\n                      <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-update-the-negotiation-needed-flag\" class=\"internalDFN\" id=\"ref-for-dfn-update-the-negotiation-needed-flag-10\">Update the negotiation-needed flag</a> for\n                      <var>connection</var>.\n                    </p>"
        },
        {
          "html": "<p>\n                      Return <var>transceiver</var>.\n                    </p>"
        }
      ]
    },
    {
      "name": "process remote tracks",
      "href": "https://w3c.github.io/webrtc-pc/#process-remote-tracks",
      "html": "To <dfn class=\"abstract-op\" id=\"process-remote-tracks\" data-dfn-type=\"abstract-op\" tabindex=\"0\" aria-haspopup=\"dialog\" data-export=\"\">process remote tracks</dfn>\n            given an <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCRtpTransceiver\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtptransceiver\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtptransceiver-43\"><code>RTCRtpTransceiver</code></a> <var>transceiver</var>,\n            <var>direction</var>, <var>msids</var>, <var>addList</var>,\n            <var>removeList</var>, and <var>trackEventInits</var>, run the\n            following steps:",
      "rationale": ".algorithm",
      "steps": [
        {
          "html": "<p>\n                <a href=\"https://w3c.github.io/webrtc-pc/#set-associated-remote-streams\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-set-associated-remote-streams-2\">Set the associated remote streams</a> with\n                <var>transceiver</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpTransceiver\" data-xref-for=\"RTCRtpTransceiver\" data-lt=\"[[Receiver]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-receiver\" class=\"internalDFN\" id=\"ref-for-dfn-receiver-22\"><code>[[Receiver]]</code></a>, <var>msids</var>,\n                <var>addList</var>, and <var>removeList</var>.\n              </p>"
        },
        {
          "html": "<p>\n                If <var>direction</var> is\n                \"<a data-link-type=\"idl\" data-xref-type=\"enum-value\" data-link-for=\"RTCRtpTransceiverDirection\" data-xref-for=\"RTCRtpTransceiverDirection\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtptransceiverdirection-sendrecv\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtptransceiverdirection-sendrecv-18\"><code>sendrecv</code></a>\" or\n                \"<a data-link-type=\"idl\" data-xref-type=\"enum-value\" data-link-for=\"RTCRtpTransceiverDirection\" data-xref-for=\"RTCRtpTransceiverDirection\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtptransceiverdirection-recvonly\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtptransceiverdirection-recvonly-15\"><code>recvonly</code></a>\" and\n                <var>transceiver</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpTransceiver\" data-xref-for=\"RTCRtpTransceiver\" data-lt=\"[[FiredDirection]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-fireddirection\" class=\"internalDFN\" id=\"ref-for-dfn-fireddirection-3\"><code>[[FiredDirection]]</code></a> is neither\n                \"<a data-link-type=\"idl\" data-xref-type=\"enum-value\" data-link-for=\"RTCRtpTransceiverDirection\" data-xref-for=\"RTCRtpTransceiverDirection\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtptransceiverdirection-sendrecv\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtptransceiverdirection-sendrecv-19\"><code>sendrecv</code></a>\" nor\n                \"<a data-link-type=\"idl\" data-xref-type=\"enum-value\" data-link-for=\"RTCRtpTransceiverDirection\" data-xref-for=\"RTCRtpTransceiverDirection\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtptransceiverdirection-recvonly\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtptransceiverdirection-recvonly-16\"><code>recvonly</code></a>\", or the previous step\n                increased the length of <var>addList</var>, <a href=\"https://w3c.github.io/webrtc-pc/#process-remote-track-addition\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-process-remote-track-addition-1\">process the\n                addition of a remote track</a> with <var>transceiver</var> and\n                <var>trackEventInits</var>.\n              </p>"
        },
        {
          "html": "<p>\n                If <var>direction</var> is\n                \"<a data-link-type=\"idl\" data-xref-type=\"enum-value\" data-link-for=\"RTCRtpTransceiverDirection\" data-xref-for=\"RTCRtpTransceiverDirection\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtptransceiverdirection-sendonly\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtptransceiverdirection-sendonly-12\"><code>sendonly</code></a>\" or\n                \"<a data-link-type=\"idl\" data-xref-type=\"enum-value\" data-link-for=\"RTCRtpTransceiverDirection\" data-xref-for=\"RTCRtpTransceiverDirection\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtptransceiverdirection-inactive\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtptransceiverdirection-inactive-10\"><code>inactive</code></a>\", set\n                <var>transceiver</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpTransceiver\" data-xref-for=\"RTCRtpTransceiver\" data-lt=\"[[Receptive]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-receptive\" class=\"internalDFN\" id=\"ref-for-dfn-receptive-2\"><code>[[Receptive]]</code></a> to\n                <code>false</code>.\n              </p>"
        },
        {
          "html": "<p>\n                If <var>direction</var> is\n                \"<a data-link-type=\"idl\" data-xref-type=\"enum-value\" data-link-for=\"RTCRtpTransceiverDirection\" data-xref-for=\"RTCRtpTransceiverDirection\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtptransceiverdirection-sendonly\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtptransceiverdirection-sendonly-13\"><code>sendonly</code></a>\" or\n                \"<a data-link-type=\"idl\" data-xref-type=\"enum-value\" data-link-for=\"RTCRtpTransceiverDirection\" data-xref-for=\"RTCRtpTransceiverDirection\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtptransceiverdirection-inactive\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtptransceiverdirection-inactive-11\"><code>inactive</code></a>\", and\n                <var>transceiver</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpTransceiver\" data-xref-for=\"RTCRtpTransceiver\" data-lt=\"[[FiredDirection]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-fireddirection\" class=\"internalDFN\" id=\"ref-for-dfn-fireddirection-4\"><code>[[FiredDirection]]</code></a> is either\n                \"<a data-link-type=\"idl\" data-xref-type=\"enum-value\" data-link-for=\"RTCRtpTransceiverDirection\" data-xref-for=\"RTCRtpTransceiverDirection\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtptransceiverdirection-sendrecv\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtptransceiverdirection-sendrecv-20\"><code>sendrecv</code></a>\" or\n                \"<a data-link-type=\"idl\" data-xref-type=\"enum-value\" data-link-for=\"RTCRtpTransceiverDirection\" data-xref-for=\"RTCRtpTransceiverDirection\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtptransceiverdirection-recvonly\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtptransceiverdirection-recvonly-17\"><code>recvonly</code></a>\", <a href=\"https://w3c.github.io/webrtc-pc/#process-remote-track-removal\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-process-remote-track-removal-2\">process the\n                removal of a remote track</a> for the <a href=\"https://w3c.github.io/webrtc-pc/#dfn-media-description\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-media-description-30\">media description</a>,\n                with <var>transceiver</var> and <var>muteTracks</var>.\n              </p>"
        },
        {
          "html": "<p>\n                Set <var>transceiver</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpTransceiver\" data-xref-for=\"RTCRtpTransceiver\" data-lt=\"[[FiredDirection]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-fireddirection\" class=\"internalDFN\" id=\"ref-for-dfn-fireddirection-5\"><code>[[FiredDirection]]</code></a> to\n                <var>direction</var>.\n              </p>"
        }
      ]
    },
    {
      "name": "process the addition of a remote track",
      "href": "https://w3c.github.io/webrtc-pc/#process-remote-track-addition",
      "html": "To <dfn class=\"abstract-op\" id=\"process-remote-track-addition\" data-dfn-type=\"abstract-op\" tabindex=\"0\" aria-haspopup=\"dialog\" data-export=\"\">process the addition of\n            a remote track</dfn> given an <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCRtpTransceiver\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtptransceiver\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtptransceiver-44\"><code>RTCRtpTransceiver</code></a>\n            <var>transceiver</var> and <var>trackEventInits</var>, run the\n            following steps:",
      "rationale": ".algorithm",
      "steps": [
        {
          "html": "<p>\n                Let <var>receiver</var> be\n                <var>transceiver</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpTransceiver\" data-xref-for=\"RTCRtpTransceiver\" data-lt=\"[[Receiver]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-receiver\" class=\"internalDFN\" id=\"ref-for-dfn-receiver-23\"><code>[[Receiver]]</code></a>.\n              </p>"
        },
        {
          "html": "<p>\n                Let <var>track</var> be\n                <var>receiver</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpReceiver\" data-xref-for=\"RTCRtpReceiver\" data-lt=\"[[ReceiverTrack]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-receivertrack\" class=\"internalDFN\" id=\"ref-for-dfn-receivertrack-4\"><code>[[ReceiverTrack]]</code></a>.\n              </p>"
        },
        {
          "html": "<p>\n                Let <var>streams</var> be\n                <var>receiver</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpReceiver\" data-xref-for=\"RTCRtpReceiver\" data-lt=\"[[AssociatedRemoteMediaStreams]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-associatedremotemediastreams\" class=\"internalDFN\" id=\"ref-for-dfn-associatedremotemediastreams-2\"><code>[[AssociatedRemoteMediaStreams]]</code></a>.\n              </p>"
        },
        {
          "html": "<p>\n                Create a new <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCTrackEventInit\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtctrackeventinit\" class=\"internalDFN\" id=\"ref-for-dom-rtctrackeventinit-1\"><code>RTCTrackEventInit</code></a> dictionary with\n                <var>receiver</var>, <var>track</var>, <var>streams</var> and\n                <var>transceiver</var> as members and add it to\n                <var>trackEventInits</var>.\n              </p>"
        }
      ]
    },
    {
      "name": "process the removal of a remote track",
      "href": "https://w3c.github.io/webrtc-pc/#process-remote-track-removal",
      "html": "To <dfn class=\"abstract-op\" id=\"process-remote-track-removal\" data-dfn-type=\"abstract-op\" tabindex=\"0\" aria-haspopup=\"dialog\" data-export=\"\">process the removal of a\n            remote track</dfn> with an <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCRtpTransceiver\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtptransceiver\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtptransceiver-45\"><code>RTCRtpTransceiver</code></a>\n            <var>transceiver</var> and <var>muteTracks</var>, run the following\n            steps:",
      "rationale": ".algorithm",
      "steps": [
        {
          "html": "<p>\n                Let <var>receiver</var> be\n                <var>transceiver</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpTransceiver\" data-xref-for=\"RTCRtpTransceiver\" data-lt=\"[[Receiver]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-receiver\" class=\"internalDFN\" id=\"ref-for-dfn-receiver-24\"><code>[[Receiver]]</code></a>.\n              </p>"
        },
        {
          "html": "<p>\n                Let <var>track</var> be\n                <var>receiver</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpReceiver\" data-xref-for=\"RTCRtpReceiver\" data-lt=\"[[ReceiverTrack]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-receivertrack\" class=\"internalDFN\" id=\"ref-for-dfn-receivertrack-5\"><code>[[ReceiverTrack]]</code></a>.\n              </p>"
        },
        {
          "html": "<p>\n                If <var>track.muted</var> is <code>false</code>, add\n                <var>track</var> to <var>muteTracks</var>.\n              </p>"
        }
      ]
    },
    {
      "name": "set the associated remote streams",
      "href": "https://w3c.github.io/webrtc-pc/#set-associated-remote-streams",
      "html": "To <dfn class=\"abstract-op\" id=\"set-associated-remote-streams\" data-dfn-type=\"abstract-op\" tabindex=\"0\" aria-haspopup=\"dialog\" data-export=\"\">set the associated\n            remote streams</dfn> given <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCRtpReceiver\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtpreceiver\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtpreceiver-15\"><code>RTCRtpReceiver</code></a> <var>receiver</var>,\n            <var>msids</var>, <var>addList</var>, and <var>removeList</var>,\n            run the following steps:",
      "rationale": ".algorithm",
      "steps": [
        {
          "html": "<p>\n                Let <var>connection</var> be the <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCPeerConnection\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcpeerconnection\" class=\"internalDFN\" id=\"ref-for-dom-rtcpeerconnection-112\"><code>RTCPeerConnection</code></a> object\n                associated with <var>receiver</var>.\n              </p>"
        },
        {
          "html": "<p>\n                For each MSID in <var>msids</var>, unless a <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"MediaStream\" data-cite=\"mediacapture-streams\" data-cite-path=\"\" data-cite-frag=\"dom-mediastream\" data-type=\"interface\" href=\"https://www.w3.org/TR/mediacapture-streams/#dom-mediastream\"><code>MediaStream</code></a>\n                object has previously been created with that <code class=\"gum\">id</code> for this <var>connection</var>, create a\n                <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"MediaStream\" data-cite=\"mediacapture-streams\" data-cite-path=\"\" data-cite-frag=\"dom-mediastream\" data-type=\"interface\" href=\"https://www.w3.org/TR/mediacapture-streams/#dom-mediastream\"><code>MediaStream</code></a> object with that <code class=\"gum\">id</code>.\n              </p>"
        },
        {
          "html": "<p>\n                Let <var>streams</var> be a list of the <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"MediaStream\" data-cite=\"mediacapture-streams\" data-cite-path=\"\" data-cite-frag=\"dom-mediastream\" data-type=\"interface\" href=\"https://www.w3.org/TR/mediacapture-streams/#dom-mediastream\"><code>MediaStream</code></a> objects\n                created for this <var>connection</var> with the <code class=\"gum\">id</code>s corresponding to <var>msids</var>.\n              </p>"
        },
        {
          "html": "<p>\n                Let <var>track</var> be\n                <var>receiver</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpReceiver\" data-xref-for=\"RTCRtpReceiver\" data-lt=\"[[ReceiverTrack]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-receivertrack\" class=\"internalDFN\" id=\"ref-for-dfn-receivertrack-6\"><code>[[ReceiverTrack]]</code></a>.\n              </p>"
        },
        {
          "html": "<p>\n                For each <var>stream</var> in\n                <var>receiver</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpReceiver\" data-xref-for=\"RTCRtpReceiver\" data-lt=\"[[AssociatedRemoteMediaStreams]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-associatedremotemediastreams\" class=\"internalDFN\" id=\"ref-for-dfn-associatedremotemediastreams-3\"><code>[[AssociatedRemoteMediaStreams]]</code></a>\n                that is not present in <var>streams</var>, add\n                <var>stream</var> and <var>track</var> as a pair to\n                <var>removeList</var>.\n              </p>"
        },
        {
          "html": "<p>\n                For each <var>stream</var> in <var>streams</var> that is not\n                present in\n                <var>receiver</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpReceiver\" data-xref-for=\"RTCRtpReceiver\" data-lt=\"[[AssociatedRemoteMediaStreams]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-associatedremotemediastreams\" class=\"internalDFN\" id=\"ref-for-dfn-associatedremotemediastreams-4\"><code>[[AssociatedRemoteMediaStreams]]</code></a>,\n                add <var>stream</var> and <var>track</var> as a pair to\n                <var>addList</var>.\n              </p>"
        },
        {
          "html": "<p>\n                Set\n                <var>receiver</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpReceiver\" data-xref-for=\"RTCRtpReceiver\" data-lt=\"[[AssociatedRemoteMediaStreams]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-associatedremotemediastreams\" class=\"internalDFN\" id=\"ref-for-dfn-associatedremotemediastreams-5\"><code>[[AssociatedRemoteMediaStreams]]</code></a> to\n                <var>streams</var>.\n              </p>"
        }
      ]
    },
    {
      "name": "RTCRtpSender/[[SenderTrack]]",
      "href": "https://w3c.github.io/webrtc-pc/#dfn-sendertrack",
      "html": "To <dfn class=\"abstract-op\" data-dfn-type=\"abstract-op\" id=\"dfn-create-an-rtcrtpsender\" tabindex=\"0\" aria-haspopup=\"dialog\" data-export=\"\">create an RTCRtpSender</dfn> with a <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"MediaStreamTrack\" data-cite=\"mediacapture-streams\" data-cite-path=\"\" data-cite-frag=\"dom-mediastreamtrack\" data-type=\"interface\" href=\"https://www.w3.org/TR/mediacapture-streams/#dom-mediastreamtrack\"><code>MediaStreamTrack</code></a>,\n          <var>track</var>, a string, <var>kind</var>, a list of\n          <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"MediaStream\" data-cite=\"mediacapture-streams\" data-cite-path=\"\" data-cite-frag=\"dom-mediastream\" data-type=\"interface\" href=\"https://www.w3.org/TR/mediacapture-streams/#dom-mediastream\"><code>MediaStream</code></a> objects, <var>streams</var>, and optionally a list of\n          <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCRtpEncodingParameters\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtpencodingparameters\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtpencodingparameters-6\"><code>RTCRtpEncodingParameters</code></a> objects, <var>sendEncodings</var>, run\n          the following steps:",
      "rationale": ".algorithm",
      "steps": [
        {
          "html": "<p>\n              Let <var>sender</var> be a new <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCRtpSender\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtpsender\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtpsender-28\"><code>RTCRtpSender</code></a> object.\n            </p>"
        },
        {
          "html": "<p>\n              Let <var>sender</var> have a <dfn data-dfn-for=\"RTCRtpSender\" data-idl=\"\" data-noexport=\"\" data-dfn-type=\"attribute\" id=\"dfn-sendertrack\" tabindex=\"0\" aria-haspopup=\"dialog\">[[SenderTrack]]</dfn> internal\n              slot initialized to <var>track</var>.\n            </p>"
        },
        {
          "html": "<p>\n              Let <var>sender</var> have a <dfn data-dfn-for=\"RTCRtpSender\" data-idl=\"\" data-noexport=\"\" data-dfn-type=\"attribute\" id=\"dfn-sendertransport\" tabindex=\"0\" aria-haspopup=\"dialog\">[[SenderTransport]]</dfn>\n              internal slot initialized to <code>null</code>.\n            </p>"
        },
        {
          "html": "<p>\n              Let <var>sender</var> have a\n              <dfn data-dfn-for=\"RTCRtpSender\" data-idl=\"\" data-noexport=\"\" data-dfn-type=\"attribute\" id=\"dfn-laststablestatesendertransport\" tabindex=\"0\" aria-haspopup=\"dialog\">[[LastStableStateSenderTransport]]</dfn> internal slot\n              initialized to <code>null</code>.\n            </p>"
        },
        {
          "html": "<p>\n              Let <var>sender</var> have a <dfn data-dfn-for=\"RTCRtpSender\" data-idl=\"\" data-noexport=\"\" data-dfn-type=\"attribute\" id=\"dfn-dtmf\" tabindex=\"0\" aria-haspopup=\"dialog\">[[Dtmf]]</dfn> internal slot\n              initialized to <code>null</code>.\n            </p>"
        },
        {
          "html": "<p>\n              If <var>kind</var> is <code>\"audio\"</code> then <a href=\"https://w3c.github.io/webrtc-pc/#dfn-create-an-rtcdtmfsender\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-create-an-rtcdtmfsender-1\">create an\n              RTCDTMFSender</a> <var>dtmf</var> and set the <a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpSender\" data-xref-for=\"RTCRtpSender\" data-lt=\"[[Dtmf]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-dtmf\" class=\"internalDFN\" id=\"ref-for-dfn-dtmf-1\"><code>[[Dtmf]]</code></a>\n              internal slot to <var>dtmf</var>.\n            </p>"
        },
        {
          "html": "<p>\n              Let <var>sender</var> have an\n              <dfn data-dfn-for=\"RTCRtpSender\" data-idl=\"\" data-noexport=\"\" data-dfn-type=\"attribute\" id=\"dfn-associatedmediastreamids\" tabindex=\"0\" aria-haspopup=\"dialog\">[[AssociatedMediaStreamIds]]</dfn> internal slot,\n              representing a list of Ids of <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"MediaStream\" data-cite=\"mediacapture-streams\" data-cite-path=\"\" data-cite-frag=\"dom-mediastream\" data-type=\"interface\" href=\"https://www.w3.org/TR/mediacapture-streams/#dom-mediastream\"><code>MediaStream</code></a> objects that this\n              sender is to be associated with. The\n              <a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpSender\" data-xref-for=\"RTCRtpSender\" data-lt=\"[[AssociatedMediaStreamIds]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-associatedmediastreamids\" class=\"internalDFN\" id=\"ref-for-dfn-associatedmediastreamids-4\"><code>[[AssociatedMediaStreamIds]]</code></a> slot is used when\n              <var>sender</var> is represented in SDP as described in\n              <span>[<cite><a class=\"bibref\" data-link-type=\"biblio\" href=\"https://w3c.github.io/webrtc-pc/#bib-rfc9429\" title=\"JavaScript Session Establishment Protocol (JSEP)\">RFC9429</a></cite>] (<a href=\"https://www.rfc-editor.org/rfc/rfc9429#section-5.2.1\">section 5.2.1.</a>)</span>.\n            </p>"
        },
        {
          "html": "<p>\n              Set <var>sender</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpSender\" data-xref-for=\"RTCRtpSender\" data-lt=\"[[AssociatedMediaStreamIds]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-associatedmediastreamids\" class=\"internalDFN\" id=\"ref-for-dfn-associatedmediastreamids-5\"><code>[[AssociatedMediaStreamIds]]</code></a> to an\n              empty set.\n            </p>"
        },
        {
          "html": "<p>\n              For each <var>stream</var> in <var>streams</var>, add\n              <var>stream.id</var> to <a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpSender\" data-xref-for=\"RTCRtpSender\" data-lt=\"[[AssociatedMediaStreamIds]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-associatedmediastreamids\" class=\"internalDFN\" id=\"ref-for-dfn-associatedmediastreamids-6\"><code>[[AssociatedMediaStreamIds]]</code></a> if\n              it's not already there.\n            </p>"
        },
        {
          "html": "<p>\n              Let <var>sender</var> have a <dfn class=\"export\" data-dfn-for=\"RTCRtpSender\" data-idl=\"\" data-dfn-type=\"attribute\" data-export=\"\" id=\"dfn-sendencodings\" tabindex=\"0\" aria-haspopup=\"dialog\">[[SendEncodings]]</dfn>\n              internal slot, representing a list of\n              <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCRtpEncodingParameters\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtpencodingparameters\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtpencodingparameters-7\"><code>RTCRtpEncodingParameters</code></a> dictionaries.\n            </p>"
        },
        {
          "html": "<p>\n              If <var>sendEncodings</var> is given as input to this algorithm,\n              and is non-empty, set the <a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpSender\" data-xref-for=\"RTCRtpSender\" data-lt=\"[[SendEncodings]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-sendencodings\" class=\"internalDFN\" id=\"ref-for-dfn-sendencodings-19\"><code>[[SendEncodings]]</code></a> slot to\n              <var>sendEncodings</var>. Otherwise, set it to a list containing\n              a single new <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCRtpEncodingParameters\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtpencodingparameters\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtpencodingparameters-8\"><code>RTCRtpEncodingParameters</code></a> dictionary, and if\n              <var>kind</var> is <code>\"video\"</code>, add a\n              <a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCRtpEncodingParameters\" data-xref-for=\"RTCRtpEncodingParameters\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtpencodingparameters-scaleresolutiondownby\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtpencodingparameters-scaleresolutiondownby-10\"><code>scaleResolutionDownBy</code></a> member with the\n              value <code>1.0</code> to that dictionary.\n            </p>"
        },
        {
          "html": "<p>\n              Let <var>sender</var> have a\n              <dfn data-dfn-for=\"RTCRtpSender\" data-idl=\"\" data-noexport=\"\" data-dfn-type=\"attribute\" id=\"dfn-laststableridlesssendencodings\" tabindex=\"0\" aria-haspopup=\"dialog\">[[LastStableRidlessSendEncodings]]</dfn> internal slot\n              initialized to <code>null</code>.\n            </p>"
        },
        {
          "html": "<p>\n              Let <var>sender</var> have a <dfn class=\"export\" data-dfn-for=\"RTCRtpSender\" data-idl=\"\" data-dfn-type=\"attribute\" data-export=\"\" id=\"dfn-sendcodecs\" tabindex=\"0\" aria-haspopup=\"dialog\">[[SendCodecs]]</dfn> internal\n              slot, representing a list of <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCRtpCodecParameters\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtpcodecparameters\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtpcodecparameters-1\"><code>RTCRtpCodecParameters</code></a>\n              dictionaries, and initialized to an empty list.\n            </p>"
        },
        {
          "html": "<p>\n              Let <var>sender</var> have a\n              <dfn data-dfn-for=\"RTCRtpSender\" data-idl=\"\" data-noexport=\"\" data-dfn-type=\"attribute\" id=\"dfn-lastreturnedparameters\" tabindex=\"0\" aria-haspopup=\"dialog\">[[LastReturnedParameters]]</dfn> internal slot, which will\n              be used to match <a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCRtpSender\" data-xref-for=\"RTCRtpSender\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtpsender-getparameters\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtpsender-getparameters-4\"><code>getParameters</code></a> and\n              <a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCRtpSender\" data-xref-for=\"RTCRtpSender\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtpsender-setparameters\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtpsender-setparameters-4\"><code>setParameters</code></a> transactions.\n            </p>"
        },
        {
          "html": "<p>\n              Return <var>sender</var>.\n            </p>"
        }
      ]
    },
    {
      "name": "RTCRtpSender/getCapabilities()",
      "href": "https://w3c.github.io/webrtc-pc/#dom-rtcrtpsender-getcapabilities",
      "html": "When the <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"getCapabilities\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtpsender-getcapabilities\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtpsender-getcapabilities-4\"><code>getCapabilities</code></a> method is called, the user agent <em class=\"rfc2119\">MUST</em> run the\n                  following steps:",
      "rationale": ".algorithm",
      "steps": [
        {
          "html": "<p>Let <var>kind</var> be the method's first argument.</p>"
        },
        {
          "html": "<p>If <var>kind</var> is neither <code>\"video\"</code> nor <code>\"audio\"</code> return <code>null</code>.</p>"
        },
        {
          "html": "<p>Return a new <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCRtpCapabilities\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtpcapabilities\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtpcapabilities-2\"><code>RTCRtpCapabilities</code></a> dictionary, with its\n                    <a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCRtpCapabilities\" data-xref-for=\"RTCRtpCapabilities\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtpcapabilities-codecs\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtpcapabilities-codecs-1\"><code>codecs</code></a> member initialized to the\n                    <a data-link-type=\"dfn|abstract-op\" data-link-for=\"RTCRtpSender\" data-xref-for=\"RTCRtpSender\" href=\"https://w3c.github.io/webrtc-pc/#dfn-list-of-implemented-send-codecs\" class=\"internalDFN\" id=\"ref-for-dfn-list-of-implemented-send-codecs-3\">list of implemented send codecs</a> for <var>kind</var>, and its\n                    <a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCRtpCapabilities\" data-xref-for=\"RTCRtpCapabilities\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtpcapabilities-headerextensions\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtpcapabilities-headerextensions-1\"><code>headerExtensions</code></a> member initialized to the\n                    <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-list-of-implemented-header-extensions-for-sending\" class=\"internalDFN\" id=\"ref-for-dfn-list-of-implemented-header-extensions-for-sending-1\">list of implemented header extensions for sending</a> with\n                    <var>kind</var>.</p>"
        }
      ]
    },
    {
      "name": "RTCRtpSender/setParameters validation steps",
      "href": "https://w3c.github.io/webrtc-pc/#dfn-setparameters-validation-steps",
      "html": "When the <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"setParameters\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtpsender-setparameters\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtpsender-setparameters-7\"><code>setParameters</code></a> method is called, the user agent\n                  <em class=\"rfc2119\">MUST</em> run the following steps:",
      "rationale": ".algorithm",
      "steps": [
        {
          "html": "Let <var>parameters</var> be the\n                  method's first argument."
        },
        {
          "html": "Let <var>sender</var> be the\n                  <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCRtpSender\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtpsender\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtpsender-36\"><code>RTCRtpSender</code></a> object on which <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"setParameters\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtpsender-setparameters\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtpsender-setparameters-8\"><code>setParameters</code></a> is\n                  invoked."
        },
        {
          "html": "Let <var>transceiver</var> be the\n                  <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCRtpTransceiver\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtptransceiver\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtptransceiver-46\"><code>RTCRtpTransceiver</code></a> object associated with\n                  <var>sender</var> (i.e. <var>sender</var> is\n                  <var>transceiver</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpTransceiver\" data-xref-for=\"RTCRtpTransceiver\" data-lt=\"[[Sender]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-sender\" class=\"internalDFN\" id=\"ref-for-dfn-sender-32\"><code>[[Sender]]</code></a>)."
        },
        {
          "html": "If <var>transceiver</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpTransceiver\" data-xref-for=\"RTCRtpTransceiver\" data-lt=\"[[Stopping]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-stopping\" class=\"internalDFN\" id=\"ref-for-dfn-stopping-4\"><code>[[Stopping]]</code></a> is\n                  <code>true</code>, return a promise <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-reject\" class=\"internalDFN\" id=\"ref-for-dfn-reject-36\">rejected</a> with a\n                  newly <a data-link-type=\"dfn|abstract-op\" data-link-for=\"exception\" data-xref-for=\"exception\" data-cite=\"webidl\" data-cite-path=\"\" data-cite-frag=\"dfn-create-exception\" data-type=\"dfn\" href=\"https://webidl.spec.whatwg.org/#dfn-create-exception\">created</a> <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"InvalidStateError\" data-cite=\"webidl\" data-cite-path=\"\" data-cite-frag=\"invalidstateerror\" data-type=\"exception\" href=\"https://webidl.spec.whatwg.org/#invalidstateerror\"><code>InvalidStateError</code></a>."
        },
        {
          "html": "If <var>\n                    sender</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpSender\" data-xref-for=\"RTCRtpSender\" data-lt=\"[[LastReturnedParameters]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-lastreturnedparameters\" class=\"internalDFN\" id=\"ref-for-dfn-lastreturnedparameters-3\"><code>[[LastReturnedParameters]]</code></a> is\n                    <code>null</code>, return a promise <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-reject\" class=\"internalDFN\" id=\"ref-for-dfn-reject-37\">rejected</a> with a\n                    newly <a data-link-type=\"dfn|abstract-op\" data-link-for=\"exception\" data-xref-for=\"exception\" data-cite=\"webidl\" data-cite-path=\"\" data-cite-frag=\"dfn-create-exception\" data-type=\"dfn\" href=\"https://webidl.spec.whatwg.org/#dfn-create-exception\">created</a> <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"InvalidStateError\" data-cite=\"webidl\" data-cite-path=\"\" data-cite-frag=\"invalidstateerror\" data-type=\"exception\" href=\"https://webidl.spec.whatwg.org/#invalidstateerror\"><code>InvalidStateError</code></a>."
        },
        {
          "html": "Validate <var>parameters</var> by running the following\n                    <dfn class=\"export\" data-dfn-for=\"RTCRtpSender\" data-export=\"\" id=\"dfn-setparameters-validation-steps\" tabindex=\"0\" aria-haspopup=\"dialog\" data-dfn-type=\"dfn\">\n                    setParameters validation steps</dfn>:",
          "rationale": "let",
          "steps": [
            {
              "html": "Let <var>encodings</var> be\n                      <var>parameters</var>.<a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCRtpSendParameters\" data-xref-for=\"RTCRtpSendParameters\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtpsendparameters-encodings\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtpsendparameters-encodings-4\"><code>encodings</code></a>."
            },
            {
              "html": "Let <var>codecs</var> be <var>\n                        parameters</var>.<a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCRtpParameters\" data-xref-for=\"RTCRtpParameters\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtpparameters-codecs\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtpparameters-codecs-1\"><code>codecs</code></a>."
            },
            {
              "html": "<p>Let <var>choosableCodecs</var> be <var>codecs</var>.</p>"
            },
            {
              "html": "<p>If <var>choosableCodecs</var> is an empty list, set <var>choosableCodecs</var>\n                          to transceiver.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpTransceiver\" data-xref-for=\"RTCRtpTransceiver\" data-lt=\"[[PreferredCodecs]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-preferredcodecs\" class=\"internalDFN\" id=\"ref-for-dfn-preferredcodecs-5\"><code>[[PreferredCodecs]]</code></a>.</p>"
            },
            {
              "html": "<p>If <var>choosableCodecs</var> is still an empty list, set <var>choosableCodecs</var>\n                            to the <a data-link-type=\"dfn|abstract-op\" data-link-for=\"RTCRtpSender\" data-xref-for=\"RTCRtpSender\" href=\"https://w3c.github.io/webrtc-pc/#dfn-list-of-implemented-send-codecs\" class=\"internalDFN\" id=\"ref-for-dfn-list-of-implemented-send-codecs-4\">list of implemented send codecs</a> for transceiver's kind.</p>"
            },
            {
              "html": "Let <var>N</var> be the number\n                      of <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCRtpEncodingParameters\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtpencodingparameters\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtpencodingparameters-10\"><code>RTCRtpEncodingParameters</code></a> stored in\n                      <var>sender</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpSender\" data-xref-for=\"RTCRtpSender\" data-lt=\"[[SendEncodings]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-sendencodings\" class=\"internalDFN\" id=\"ref-for-dfn-sendencodings-20\"><code>[[SendEncodings]]</code></a>."
            },
            {
              "html": "If any of the following conditions are met, return a\n                      promise <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-reject\" class=\"internalDFN\" id=\"ref-for-dfn-reject-38\">rejected</a> with a newly <a data-link-type=\"dfn|abstract-op\" data-link-for=\"exception\" data-xref-for=\"exception\" data-cite=\"webidl\" data-cite-path=\"\" data-cite-frag=\"dfn-create-exception\" data-type=\"dfn\" href=\"https://webidl.spec.whatwg.org/#dfn-create-exception\">created</a> <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"InvalidModificationError\" data-cite=\"webidl\" data-cite-path=\"\" data-cite-frag=\"invalidmodificationerror\" data-type=\"exception\" href=\"https://webidl.spec.whatwg.org/#invalidmodificationerror\"><code>InvalidModificationError</code></a>:\n                        <ul>\n                          <li data-tests=\"RTCRtpParameters-encodings.html\" class=\"has-tests\">\n                            <code><var>encodings</var>.length</code> is\n                            different from <var>N</var>.\n                          </li>\n                          <li>\n                            <var>encodings</var> has been re-ordered.\n                          </li>\n                          <li data-tests=\"RTCRtpParameters-codecs.html,RTCRtpParameters-encodings.html,RTCRtpParameters-headerExtensions.html,RTCRtpParameters-rtcp.html,RTCRtpParameters-transactionId.html\" class=\"has-tests\">\n                          Any parameter in <var>parameters</var> is marked as a\n                          <dfn data-plurals=\"read-only parameters\" id=\"dfn-read-only-parameter\" tabindex=\"0\" aria-haspopup=\"dialog\" data-dfn-type=\"dfn\">Read-only parameter</dfn> (such as RID) and has\n                          a value that is different from the corresponding\n                          parameter value in\n                          <var>sender</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpSender\" data-xref-for=\"RTCRtpSender\" data-lt=\"[[LastReturnedParameters]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-lastreturnedparameters\" class=\"internalDFN\" id=\"ref-for-dfn-lastreturnedparameters-4\"><code>[[LastReturnedParameters]]</code></a>.\n                          Note that this also applies to\n                          <var>transactionId</var>.\n                          </li>\n                          <li id=\"setparameters-codec-validation-4\">\n                            Any <var>encoding</var> in encodings <a data-link-type=\"dfn|abstract-op\" data-link-for=\"map\" data-xref-for=\"map\" data-lt=\"exists\" data-cite=\"infra\" data-cite-path=\"\" data-cite-frag=\"map-exists\" data-type=\"dfn\" href=\"https://infra.spec.whatwg.org/#map-exists\">contains</a> a codec\n                            <a data-link-type=\"dfn|abstract-op\" data-lt=\"codec dictionary match\" href=\"https://w3c.github.io/webrtc-pc/#dfn-codec-dictionary-match\" class=\"internalDFN\" id=\"ref-for-dfn-codec-dictionary-match-3\">not found</a> in <var>choosableCodecs</var>.\n                          </li>\n                        </ul>"
            },
            {
              "html": "<p>\n                          If <a data-link-type=\"dfn|abstract-op\" data-link-for=\"RTCRtpTransceiver\" data-xref-for=\"RTCRtpTransceiver\" href=\"https://w3c.github.io/webrtc-pc/#dfn-transceiver-kind\" class=\"internalDFN\" id=\"ref-for-dfn-transceiver-kind-5\">transceiver kind</a> is <code>\"audio\"</code>, remove the\n                          <a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCRtpEncodingParameters\" data-xref-for=\"RTCRtpEncodingParameters\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtpencodingparameters-scaleresolutiondownby\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtpencodingparameters-scaleresolutiondownby-11\"><code>scaleResolutionDownBy</code></a> and\n                          <a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCRtpEncodingParameters\" data-xref-for=\"RTCRtpEncodingParameters\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtpencodingparameters-maxframerate\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtpencodingparameters-maxframerate-4\"><code>maxFramerate</code></a>\n                          members from all <var>encodings</var> that\n                          <a data-link-type=\"dfn|abstract-op\" data-link-for=\"map\" data-xref-for=\"map\" data-cite=\"infra\" data-cite-path=\"\" data-cite-frag=\"map-exists\" data-type=\"dfn\" href=\"https://infra.spec.whatwg.org/#map-exists\">contain</a> any of them.\n                        </p>"
            },
            {
              "html": "<p>\n                          If <a data-link-type=\"dfn|abstract-op\" data-link-for=\"RTCRtpTransceiver\" data-xref-for=\"RTCRtpTransceiver\" href=\"https://w3c.github.io/webrtc-pc/#dfn-transceiver-kind\" class=\"internalDFN\" id=\"ref-for-dfn-transceiver-kind-6\">transceiver kind</a> is <code>\"video\"</code>, then for\n                          each encoding in <var>encodings</var> that doesn't\n                          <a data-link-type=\"dfn|abstract-op\" data-link-for=\"map\" data-xref-for=\"map\" data-cite=\"infra\" data-cite-path=\"\" data-cite-frag=\"map-exists\" data-type=\"dfn\" href=\"https://infra.spec.whatwg.org/#map-exists\">contain</a> a\n                          <a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCRtpEncodingParameters\" data-xref-for=\"RTCRtpEncodingParameters\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtpencodingparameters-scaleresolutiondownby\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtpencodingparameters-scaleresolutiondownby-12\"><code>scaleResolutionDownBy</code></a>\n                          member, add a\n                          <a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCRtpEncodingParameters\" data-xref-for=\"RTCRtpEncodingParameters\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtpencodingparameters-scaleresolutiondownby\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtpencodingparameters-scaleresolutiondownby-13\"><code>scaleResolutionDownBy</code></a>\n                          member with the value <code>1.0</code>.\n                        </p>"
            },
            {
              "html": "<p>\n                          If <a data-link-type=\"dfn|abstract-op\" data-link-for=\"RTCRtpTransceiver\" data-xref-for=\"RTCRtpTransceiver\" href=\"https://w3c.github.io/webrtc-pc/#dfn-transceiver-kind\" class=\"internalDFN\" id=\"ref-for-dfn-transceiver-kind-7\">transceiver kind</a> is <code>\"video\"</code>,\n                          and any encoding in <var>encodings</var>\n                          <a data-link-type=\"dfn|abstract-op\" data-link-for=\"map\" data-xref-for=\"map\" data-cite=\"infra\" data-cite-path=\"\" data-cite-frag=\"map-exists\" data-type=\"dfn\" href=\"https://infra.spec.whatwg.org/#map-exists\">contains</a> a\n                          <a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCRtpEncodingParameters\" data-xref-for=\"RTCRtpEncodingParameters\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtpencodingparameters-scaleresolutiondownby\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtpencodingparameters-scaleresolutiondownby-14\"><code>scaleResolutionDownBy</code></a>\n                          member whose value is less than <code>1.0</code>, return a\n                          promise <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-reject\" class=\"internalDFN\" id=\"ref-for-dfn-reject-39\">rejected</a> with a newly <a data-link-type=\"dfn|abstract-op\" data-link-for=\"exception\" data-xref-for=\"exception\" data-cite=\"webidl\" data-cite-path=\"\" data-cite-frag=\"dfn-create-exception\" data-type=\"dfn\" href=\"https://webidl.spec.whatwg.org/#dfn-create-exception\">created</a> <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RangeError\" data-cite=\"webidl\" data-cite-path=\"\" data-cite-frag=\"exceptiondef-rangeerror\" data-type=\"exception\" href=\"https://webidl.spec.whatwg.org/#exceptiondef-rangeerror\"><code>RangeError</code></a>.\n                        </p>"
            },
            {
              "html": "<p>\n                          Verify that each encoding in <var>encodings</var> has\n                          a <a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCRtpEncodingParameters\" data-xref-for=\"RTCRtpEncodingParameters\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtpencodingparameters-maxframerate\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtpencodingparameters-maxframerate-5\"><code>maxFramerate</code></a>\n                          member whose value is greater than or equal to 0.0. If one of the\n                          <a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCRtpEncodingParameters\" data-xref-for=\"RTCRtpEncodingParameters\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtpencodingparameters-maxframerate\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtpencodingparameters-maxframerate-6\"><code>maxFramerate</code></a>\n                          values does not meet this requirement, return a\n                          promise <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-reject\" class=\"internalDFN\" id=\"ref-for-dfn-reject-40\">rejected</a> with a newly <a data-link-type=\"dfn|abstract-op\" data-link-for=\"exception\" data-xref-for=\"exception\" data-cite=\"webidl\" data-cite-path=\"\" data-cite-frag=\"dfn-create-exception\" data-type=\"dfn\" href=\"https://webidl.spec.whatwg.org/#dfn-create-exception\">created</a> <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RangeError\" data-cite=\"webidl\" data-cite-path=\"\" data-cite-frag=\"exceptiondef-rangeerror\" data-type=\"exception\" href=\"https://webidl.spec.whatwg.org/#exceptiondef-rangeerror\"><code>RangeError</code></a>.\n                        </p>"
            },
            {
              "html": "<p>If the user agent does not support setting the codec for any encoding or mixing\n                          different codec values on the different encodings, return a promise <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-reject\" class=\"internalDFN\" id=\"ref-for-dfn-reject-41\">rejected</a>\n                          with a newly <a data-link-type=\"dfn|abstract-op\" data-link-for=\"exception\" data-xref-for=\"exception\" data-cite=\"webidl\" data-cite-path=\"\" data-cite-frag=\"dfn-create-exception\" data-type=\"dfn\" href=\"https://webidl.spec.whatwg.org/#dfn-create-exception\">created</a> <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"OperationError\" data-cite=\"webidl\" data-cite-path=\"\" data-cite-frag=\"operationerror\" data-type=\"exception\" href=\"https://webidl.spec.whatwg.org/#operationerror\"><code>OperationError</code></a>.\n                        </p>"
            }
          ]
        },
        {
          "html": "Let <var>p</var> be a new promise."
        },
        {
          "html": "<a data-link-type=\"dfn|abstract-op\" data-cite=\"html\" data-cite-path=\"/infrastructure.html\" data-cite-frag=\"in-parallel\" data-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel\">In parallel</a>, configure the media stack to use\n                  <var>parameters</var> to transmit\n                  <var>sender</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpSender\" data-xref-for=\"RTCRtpSender\" data-lt=\"[[SenderTrack]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-sendertrack\" class=\"internalDFN\" id=\"ref-for-dfn-sendertrack-5\"><code>[[SenderTrack]]</code></a>.",
          "rationale": "if",
          "steps": [
            {
              "html": "If the media stack is successfully configured with\n                      <var>parameters</var>, queue a task to run the following\n                      steps:",
              "rationale": "set",
              "steps": [
                {
                  "html": "Set\n                          <var>sender</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpSender\" data-xref-for=\"RTCRtpSender\" data-lt=\"[[LastReturnedParameters]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-lastreturnedparameters\" class=\"internalDFN\" id=\"ref-for-dfn-lastreturnedparameters-5\"><code>[[LastReturnedParameters]]</code></a>\n                          to <code>null</code>."
                },
                {
                  "html": "Set <var>sender</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpSender\" data-xref-for=\"RTCRtpSender\" data-lt=\"[[SendEncodings]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-sendencodings\" class=\"internalDFN\" id=\"ref-for-dfn-sendencodings-21\"><code>[[SendEncodings]]</code></a>\n                          to\n                          <var>parameters</var>.<a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCRtpSendParameters\" data-xref-for=\"RTCRtpSendParameters\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtpsendparameters-encodings\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtpsendparameters-encodings-5\"><code>encodings</code></a>."
                },
                {
                  "html": "<a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-resolve\" class=\"internalDFN\" id=\"ref-for-dfn-resolve-11\">Resolve</a> <var>p</var> with\n                          <code>undefined</code>."
                }
              ]
            },
            {
              "html": "If any error occurred while configuring the media\n                      stack, queue a task to run the following steps:",
              "rationale": "if",
              "steps": [
                {
                  "html": "If an error occurred due to hardware resources\n                          not being available, <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-reject\" class=\"internalDFN\" id=\"ref-for-dfn-reject-42\">reject</a> <var>p</var> with a\n                          newly created <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCError\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcerror\" class=\"internalDFN\" id=\"ref-for-dom-rtcerror-2\"><code>RTCError</code></a> whose\n                          <a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCError\" data-xref-for=\"RTCError\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcerror-errordetail\" class=\"internalDFN\" id=\"ref-for-dom-rtcerror-errordetail-3\"><code>errorDetail</code></a> is set to\n                          \"<a data-link-type=\"idl\" data-xref-type=\"enum-value\" data-link-for=\"RTCErrorDetailType\" data-xref-for=\"RTCErrorDetailType\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcerrordetailtype-hardware-encoder-not-available\" class=\"internalDFN\" id=\"ref-for-dom-rtcerrordetailtype-hardware-encoder-not-available-1\"><code>hardware-encoder-not-available</code></a>\"\n                          and abort these steps."
                },
                {
                  "html": "If an error occurred due to a hardware encoder\n                          not supporting <var>parameters</var>, <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-reject\" class=\"internalDFN\" id=\"ref-for-dfn-reject-43\">reject</a>\n                          <var>p</var> with a newly created <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCError\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcerror\" class=\"internalDFN\" id=\"ref-for-dom-rtcerror-3\"><code>RTCError</code></a> whose\n                          <a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCError\" data-xref-for=\"RTCError\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcerror-errordetail\" class=\"internalDFN\" id=\"ref-for-dom-rtcerror-errordetail-4\"><code>errorDetail</code></a> is set to\n                          \"<a data-link-type=\"idl\" data-xref-type=\"enum-value\" data-link-for=\"RTCErrorDetailType\" data-xref-for=\"RTCErrorDetailType\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcerrordetailtype-hardware-encoder-error\" class=\"internalDFN\" id=\"ref-for-dom-rtcerrordetailtype-hardware-encoder-error-1\"><code>hardware-encoder-error</code></a>\" and\n                          abort these steps."
                },
                {
                  "html": "For all other errors, <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-reject\" class=\"internalDFN\" id=\"ref-for-dfn-reject-44\">reject</a> <var>p</var>\n                          with a newly <a data-link-type=\"dfn|abstract-op\" data-link-for=\"exception\" data-xref-for=\"exception\" data-cite=\"webidl\" data-cite-path=\"\" data-cite-frag=\"dfn-create-exception\" data-type=\"dfn\" href=\"https://webidl.spec.whatwg.org/#dfn-create-exception\">created</a>\n                          <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"OperationError\" data-cite=\"webidl\" data-cite-path=\"\" data-cite-frag=\"operationerror\" data-type=\"exception\" href=\"https://webidl.spec.whatwg.org/#operationerror\"><code>OperationError</code></a>."
                }
              ]
            }
          ]
        },
        {
          "html": "Return <var>p</var>."
        }
      ]
    },
    {
      "name": "RTCRtpSender/getParameters()",
      "href": "https://w3c.github.io/webrtc-pc/#dom-rtcrtpsender-getparameters",
      "html": "When <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"getParameters\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtpsender-getparameters\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtpsender-getparameters-7\"><code>getParameters</code></a> is called, the user agent <em class=\"rfc2119\">MUST</em> run the\n                  following steps:",
      "rationale": ".algorithm",
      "steps": [
        {
          "html": "<p>\n                      Let <var>sender</var> be the <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCRtpSender\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtpsender\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtpsender-38\"><code>RTCRtpSender</code></a> object on\n                      which the getter was invoked.\n                    </p>"
        },
        {
          "html": "<p>\n                      If <var>sender</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpSender\" data-xref-for=\"RTCRtpSender\" data-lt=\"[[LastReturnedParameters]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-lastreturnedparameters\" class=\"internalDFN\" id=\"ref-for-dfn-lastreturnedparameters-6\"><code>[[LastReturnedParameters]]</code></a>\n                      is not <code>null</code>, return\n                      <var>sender</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpSender\" data-xref-for=\"RTCRtpSender\" data-lt=\"[[LastReturnedParameters]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-lastreturnedparameters\" class=\"internalDFN\" id=\"ref-for-dfn-lastreturnedparameters-7\"><code>[[LastReturnedParameters]]</code></a>, and\n                      abort these steps.\n                    </p>"
        },
        {
          "html": "<p>\n                      Let <var>result</var> be a new <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCRtpSendParameters\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtpsendparameters\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtpsendparameters-4\"><code>RTCRtpSendParameters</code></a>\n                      dictionary constructed as follows:\n                    </p>\n                    <ul>\n                      <li data-tests=\"RTCRtpParameters-codecs.html,RTCRtpParameters-encodings.html,RTCRtpParameters-transactionId.html\" class=\"has-tests\">\n                      <a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCRtpSendParameters\" data-xref-for=\"RTCRtpSendParameters\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtpsendparameters-transactionid\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtpsendparameters-transactionid-1\"><code>transactionId</code></a> is set to a new\n                      unique identifier.\n                      </li>\n                      <li data-tests=\"RTCRtpParameters-encodings.html\" class=\"has-tests\">\n                      <a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCRtpSendParameters\" data-xref-for=\"RTCRtpSendParameters\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtpsendparameters-encodings\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtpsendparameters-encodings-6\"><code>encodings</code></a> is set to the value of\n                      the <a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpSender\" data-xref-for=\"RTCRtpSender\" data-lt=\"[[SendEncodings]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-sendencodings\" class=\"internalDFN\" id=\"ref-for-dfn-sendencodings-22\"><code>[[SendEncodings]]</code></a> internal slot.\n                      </li>\n                      <li data-tests=\"RTCRtpParameters-headerExtensions.html\" class=\"has-tests\">\n                      The <a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCRtpParameters\" data-xref-for=\"RTCRtpParameters\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtpparameters-headerextensions\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtpparameters-headerextensions-1\"><code>headerExtensions</code></a> sequence is\n                      populated based on the header extensions that have been\n                      negotiated for sending.\n                      </li>\n                      <li data-tests=\"RTCRtpParameters-codecs.html,protocol/video-codecs.https.html\" class=\"has-tests\">\n                      <a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCRtpParameters\" data-xref-for=\"RTCRtpParameters\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtpparameters-codecs\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtpparameters-codecs-2\"><code>codecs</code></a> is set to the value of the\n                      <a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpSender\" data-xref-for=\"RTCRtpSender\" data-lt=\"[[SendCodecs]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-sendcodecs\" class=\"internalDFN\" id=\"ref-for-dfn-sendcodecs-4\"><code>[[SendCodecs]]</code></a> internal slot.\n                      </li>\n                      <li data-tests=\"RTCRtpParameters-encodings.html\" class=\"has-tests\">\n                      <a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCRtpParameters\" data-xref-for=\"RTCRtpParameters\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtpparameters-rtcp\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtpparameters-rtcp-1\"><code>rtcp</code></a>.<a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCRtcpParameters\" data-xref-for=\"RTCRtcpParameters\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtcpparameters-cname\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtcpparameters-cname-2\"><code>cname</code></a> is\n                      set to the CNAME of the associated <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCPeerConnection\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcpeerconnection\" class=\"internalDFN\" id=\"ref-for-dom-rtcpeerconnection-113\"><code>RTCPeerConnection</code></a>.\n                      <a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCRtpParameters\" data-xref-for=\"RTCRtpParameters\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtpparameters-rtcp\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtpparameters-rtcp-2\"><code>rtcp</code></a>.<a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCRtcpParameters\" data-xref-for=\"RTCRtcpParameters\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtcpparameters-reducedsize\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtcpparameters-reducedsize-1\"><code>reducedSize</code></a>\n                      is set to <code>true</code> if reduced-size RTCP has been\n                      negotiated for sending, and <code>false</code> otherwise.\n                      </li>\n                    </ul>"
        },
        {
          "html": "<p>\n                      Set <var>sender</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpSender\" data-xref-for=\"RTCRtpSender\" data-lt=\"[[LastReturnedParameters]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-lastreturnedparameters\" class=\"internalDFN\" id=\"ref-for-dfn-lastreturnedparameters-8\"><code>[[LastReturnedParameters]]</code></a>\n                      to <var>result</var>.\n                    </p>"
        },
        {
          "html": "<p>\n                      Queue a task that sets\n                      <var>sender</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpSender\" data-xref-for=\"RTCRtpSender\" data-lt=\"[[LastReturnedParameters]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-lastreturnedparameters\" class=\"internalDFN\" id=\"ref-for-dfn-lastreturnedparameters-9\"><code>[[LastReturnedParameters]]</code></a> to\n                      <code>null</code>.\n                    </p>"
        },
        {
          "html": "<p>\n                      Return <var>result</var>.\n                    </p>"
        }
      ]
    },
    {
      "name": "RTCRtpSender/replaceTrack()",
      "href": "https://w3c.github.io/webrtc-pc/#dom-rtcrtpsender-replacetrack",
      "html": "When the <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"replaceTrack\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtpsender-replacetrack\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtpsender-replacetrack-6\"><code>replaceTrack</code></a> method is invoked, the user agent\n                  <em class=\"rfc2119\">MUST</em> run the following steps:",
      "rationale": ".algorithm",
      "steps": [
        {
          "html": "<p>\n                      Let <var>sender</var> be the <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCRtpSender\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtpsender\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtpsender-40\"><code>RTCRtpSender</code></a> object on\n                      which <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"replaceTrack\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtpsender-replacetrack\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtpsender-replacetrack-7\"><code>replaceTrack</code></a> is invoked.\n                    </p>"
        },
        {
          "html": "<p>\n                      Let <var>transceiver</var> be the <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCRtpTransceiver\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtptransceiver\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtptransceiver-47\"><code>RTCRtpTransceiver</code></a>\n                      object associated with <var>sender</var>.\n                    </p>"
        },
        {
          "html": "<p>\n                      Let <var>connection</var> be the <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCPeerConnection\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcpeerconnection\" class=\"internalDFN\" id=\"ref-for-dom-rtcpeerconnection-114\"><code>RTCPeerConnection</code></a>\n                      object associated with <var>sender</var>.\n                    </p>"
        },
        {
          "html": "<p>\n                      Let <var>withTrack</var> be the argument to this method.\n                    </p>"
        },
        {
          "html": "<p>\n                      If <var>withTrack</var> is non-null and\n                      <code><var>withTrack</var>.kind</code> differs from the\n                      <a data-link-type=\"dfn|abstract-op\" data-link-for=\"RTCRtpTransceiver\" data-xref-for=\"RTCRtpTransceiver\" href=\"https://w3c.github.io/webrtc-pc/#dfn-transceiver-kind\" class=\"internalDFN\" id=\"ref-for-dfn-transceiver-kind-8\">transceiver kind</a> of <var>transceiver</var>, return\n                      a promise <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-reject\" class=\"internalDFN\" id=\"ref-for-dfn-reject-45\">rejected</a> with a newly <a data-link-type=\"dfn|abstract-op\" data-link-for=\"exception\" data-xref-for=\"exception\" data-cite=\"webidl\" data-cite-path=\"\" data-cite-frag=\"dfn-create-exception\" data-type=\"dfn\" href=\"https://webidl.spec.whatwg.org/#dfn-create-exception\">created</a> <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"TypeError\" data-cite=\"webidl\" data-cite-path=\"\" data-cite-frag=\"exceptiondef-typeerror\" data-type=\"exception\" href=\"https://webidl.spec.whatwg.org/#exceptiondef-typeerror\"><code>TypeError</code></a>.\n                    </p>"
        },
        {
          "html": "Return the result of <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-chain\" class=\"internalDFN\" id=\"ref-for-dfn-chain-6\">chaining</a> the following steps\n                      to <var>connection</var>'s <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-operations-chain\" class=\"internalDFN\" id=\"ref-for-dfn-operations-chain-9\">operations chain</a>:",
          "rationale": "if",
          "steps": [
            {
              "html": "<p>\n                          If <var>transceiver</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpTransceiver\" data-xref-for=\"RTCRtpTransceiver\" data-lt=\"[[Stopping]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-stopping\" class=\"internalDFN\" id=\"ref-for-dfn-stopping-5\"><code>[[Stopping]]</code></a> is\n                          <code>true</code>, return a promise <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-reject\" class=\"internalDFN\" id=\"ref-for-dfn-reject-46\">rejected</a>\n                          with a newly <a data-link-type=\"dfn|abstract-op\" data-link-for=\"exception\" data-xref-for=\"exception\" data-cite=\"webidl\" data-cite-path=\"\" data-cite-frag=\"dfn-create-exception\" data-type=\"dfn\" href=\"https://webidl.spec.whatwg.org/#dfn-create-exception\">created</a>\n                          <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"InvalidStateError\" data-cite=\"webidl\" data-cite-path=\"\" data-cite-frag=\"invalidstateerror\" data-type=\"exception\" href=\"https://webidl.spec.whatwg.org/#invalidstateerror\"><code>InvalidStateError</code></a>.\n                        </p>"
            },
            {
              "html": "<p>\n                          Let <var>p</var> be a new promise.\n                        </p>"
            },
            {
              "html": "<p>\n                          Let <var>sending</var> be <code>true</code> if\n                          <var>transceiver</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpTransceiver\" data-xref-for=\"RTCRtpTransceiver\" data-lt=\"[[CurrentDirection]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-currentdirection\" class=\"internalDFN\" id=\"ref-for-dfn-currentdirection-5\"><code>[[CurrentDirection]]</code></a>\n                          is \"<a data-link-type=\"idl\" data-xref-type=\"enum-value\" data-link-for=\"RTCRtpTransceiverDirection\" data-xref-for=\"RTCRtpTransceiverDirection\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtptransceiverdirection-sendrecv\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtptransceiverdirection-sendrecv-21\"><code>sendrecv</code></a>\" or\n                          \"<a data-link-type=\"idl\" data-xref-type=\"enum-value\" data-link-for=\"RTCRtpTransceiverDirection\" data-xref-for=\"RTCRtpTransceiverDirection\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtptransceiverdirection-sendonly\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtptransceiverdirection-sendonly-14\"><code>sendonly</code></a>\", and\n                          <code>false</code> otherwise.\n                        </p>"
            },
            {
              "html": "Run the following steps <a data-link-type=\"dfn|abstract-op\" data-cite=\"html\" data-cite-path=\"/infrastructure.html\" data-cite-frag=\"in-parallel\" data-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel\">in parallel</a>:",
              "rationale": "if",
              "steps": [
                {
                  "html": "<p>\n                              If <var>sending</var> is <code>true</code>, and\n                              <var>withTrack</var> is <code>null</code>, have\n                              the sender stop sending.\n                            </p>"
                },
                {
                  "html": "<p>\n                              If <var>sending</var> is <code>true</code>, and\n                              <var>withTrack</var> is not <code>null</code>,\n                              determine if <var>withTrack</var> can be sent\n                              immediately by the sender without violating the\n                              sender's already-negotiated envelope, and if it\n                              cannot, then <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-reject\" class=\"internalDFN\" id=\"ref-for-dfn-reject-47\">reject</a> <var>p</var> with a\n                              newly <a data-link-type=\"dfn|abstract-op\" data-link-for=\"exception\" data-xref-for=\"exception\" data-cite=\"webidl\" data-cite-path=\"\" data-cite-frag=\"dfn-create-exception\" data-type=\"dfn\" href=\"https://webidl.spec.whatwg.org/#dfn-create-exception\">created</a>\n                              <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"InvalidModificationError\" data-cite=\"webidl\" data-cite-path=\"\" data-cite-frag=\"invalidmodificationerror\" data-type=\"exception\" href=\"https://webidl.spec.whatwg.org/#invalidmodificationerror\"><code>InvalidModificationError</code></a>, and abort these\n                              steps.\n                            </p>"
                },
                {
                  "html": "<p>\n                              If <var>sending</var> is <code>true</code>, and\n                              <var>withTrack</var> is not <code>null</code>,\n                              have the sender switch seamlessly to transmitting\n                              <var>withTrack</var> instead of the sender's\n                              existing track.\n                            </p>"
                },
                {
                  "html": "Queue a task that runs the following steps:",
                  "rationale": "if",
                  "steps": [
                    {
                      "html": "<p>\n                                  If <var>connection</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCPeerConnection\" data-xref-for=\"RTCPeerConnection\" data-lt=\"[[IsClosed]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-isclosed\" class=\"internalDFN\" id=\"ref-for-dfn-isclosed-23\"><code>[[IsClosed]]</code></a>\n                                  is <code>true</code>, abort these steps.\n                                </p>"
                    },
                    {
                      "html": "<p>\n                                  Set <var>sender</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpSender\" data-xref-for=\"RTCRtpSender\" data-lt=\"[[SenderTrack]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-sendertrack\" class=\"internalDFN\" id=\"ref-for-dfn-sendertrack-6\"><code>[[SenderTrack]]</code></a>\n                                  to <var>withTrack</var>.\n                                </p>"
                    },
                    {
                      "html": "<p>\n                                  <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-resolve\" class=\"internalDFN\" id=\"ref-for-dfn-resolve-12\">Resolve</a> <var>p</var> with\n                                  <code>undefined</code>.\n                                </p>"
                    }
                  ]
                }
              ]
            },
            {
              "html": "<p>\n                          Return <var>p</var>.\n                        </p>"
            }
          ]
        }
      ]
    },
    {
      "name": "RTCRtpSender/setStreams()",
      "href": "https://w3c.github.io/webrtc-pc/#dom-rtcrtpsender-setstreams",
      "html": "When the <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"setStreams\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtpsender-setstreams\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtpsender-setstreams-2\"><code>setStreams</code></a> method is invoked, the user agent\n                  <em class=\"rfc2119\">MUST</em> run the following steps:",
      "rationale": ".algorithm",
      "steps": [
        {
          "html": "<p>\n                      Let <var>sender</var> be the <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCRtpSender\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtpsender\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtpsender-41\"><code>RTCRtpSender</code></a> object on\n                      which this method was invoked.\n                    </p>"
        },
        {
          "html": "<p>\n                      Let <var>connection</var> be the <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCPeerConnection\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcpeerconnection\" class=\"internalDFN\" id=\"ref-for-dom-rtcpeerconnection-115\"><code>RTCPeerConnection</code></a>\n                      object on which this method was invoked.\n                    </p>"
        },
        {
          "html": "<p>\n                      If <var>connection</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCPeerConnection\" data-xref-for=\"RTCPeerConnection\" data-lt=\"[[IsClosed]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-isclosed\" class=\"internalDFN\" id=\"ref-for-dfn-isclosed-24\"><code>[[IsClosed]]</code></a> is\n                      <code>true</code>, <a data-link-type=\"dfn|abstract-op\" data-link-for=\"exception\" data-xref-for=\"exception\" data-cite=\"webidl\" data-cite-path=\"\" data-cite-frag=\"dfn-throw\" data-type=\"dfn\" href=\"https://webidl.spec.whatwg.org/#dfn-throw\">throw</a> an\n                      <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"InvalidStateError\" data-cite=\"webidl\" data-cite-path=\"\" data-cite-frag=\"invalidstateerror\" data-type=\"exception\" href=\"https://webidl.spec.whatwg.org/#invalidstateerror\"><code>InvalidStateError</code></a>.\n                    </p>"
        },
        {
          "html": "<p>\n                      Let <var>streams</var> be a list of <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"MediaStream\" data-cite=\"mediacapture-streams\" data-cite-path=\"\" data-cite-frag=\"dom-mediastream\" data-type=\"interface\" href=\"https://www.w3.org/TR/mediacapture-streams/#dom-mediastream\"><code>MediaStream</code></a>\n                      objects constructed from the method's arguments, or an\n                      empty list if the method was called without arguments.\n                    </p>"
        },
        {
          "html": "<p>\n                      Set\n                      <var>sender</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpSender\" data-xref-for=\"RTCRtpSender\" data-lt=\"[[AssociatedMediaStreamIds]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-associatedmediastreamids\" class=\"internalDFN\" id=\"ref-for-dfn-associatedmediastreamids-7\"><code>[[AssociatedMediaStreamIds]]</code></a> to\n                      an empty set.\n                    </p>"
        },
        {
          "html": "<p>\n                      For each <var>stream</var> in <var>streams</var>, add\n                      <var>stream.id</var> to\n                      <a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpSender\" data-xref-for=\"RTCRtpSender\" data-lt=\"[[AssociatedMediaStreamIds]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-associatedmediastreamids\" class=\"internalDFN\" id=\"ref-for-dfn-associatedmediastreamids-8\"><code>[[AssociatedMediaStreamIds]]</code></a> if it's not already\n                      there.\n                    </p>"
        },
        {
          "html": "<p>\n                      <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-update-the-negotiation-needed-flag\" class=\"internalDFN\" id=\"ref-for-dfn-update-the-negotiation-needed-flag-11\">Update the negotiation-needed flag</a> for\n                      <var>connection</var>.\n                    </p>"
        }
      ]
    },
    {
      "name": "RTCRtpSender/getStats()",
      "href": "https://w3c.github.io/webrtc-pc/#widl-RTCRtpSender-getStats-Promise-RTCStatsReport",
      "html": "When the <a data-link-type=\"idl\" data-xref-type=\"method\" data-lt=\"getStats()\" href=\"https://w3c.github.io/webrtc-pc/#widl-RTCRtpSender-getStats-Promise-RTCStatsReport\" class=\"internalDFN\" id=\"ref-for-widl-RTCRtpSender-getStats-Promise-RTCStatsReport-2\"><code>getStats</code></a><code>()</code> method is invoked, the user agent\n                  <em class=\"rfc2119\">MUST</em> run the following steps:",
      "rationale": ".algorithm",
      "steps": [
        {
          "html": "<p>\n                      Let <var>selector</var> be the <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCRtpSender\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtpsender\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtpsender-42\"><code>RTCRtpSender</code></a> object on\n                      which the method was invoked.\n                    </p>"
        },
        {
          "html": "Let <var>p</var> be a new promise, and run the following\n                      steps <a data-link-type=\"dfn|abstract-op\" data-cite=\"html\" data-cite-path=\"/infrastructure.html\" data-cite-frag=\"in-parallel\" data-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel\">in parallel</a>:",
          "rationale": "gather",
          "steps": [
            {
              "html": "<p>\n                          Gather the stats indicated by <var>selector</var>\n                          according to the <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-stats-selection-algorithm\" class=\"internalDFN\" id=\"ref-for-dfn-stats-selection-algorithm-1\">stats selection algorithm</a>.\n                        </p>"
            },
            {
              "html": "<p>\n                          <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-resolve\" class=\"internalDFN\" id=\"ref-for-dfn-resolve-13\">Resolve</a> <var>p</var> with the resulting\n                          <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCStatsReport\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcstatsreport\" class=\"internalDFN\" id=\"ref-for-dom-rtcstatsreport-2\"><code>RTCStatsReport</code></a> object, containing the gathered\n                          stats.\n                        </p>"
            }
          ]
        },
        {
          "html": "<p>\n                      Return <var>p</var>.\n                    </p>"
        }
      ]
    },
    {
      "name": "remote source",
      "href": "https://w3c.github.io/webrtc-pc/#dfn-remote-source",
      "html": "To <dfn class=\"abstract-op\" data-dfn-type=\"abstract-op\" id=\"dfn-create-an-rtcrtpreceiver\" tabindex=\"0\" aria-haspopup=\"dialog\" data-export=\"\">create an RTCRtpReceiver</dfn> with a string,\n          <var>kind</var>, run the following steps:",
      "rationale": ".algorithm",
      "steps": [
        {
          "html": "<p>\n              Let <var>receiver</var> be a new <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCRtpReceiver\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtpreceiver\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtpreceiver-20\"><code>RTCRtpReceiver</code></a> object.\n            </p>"
        },
        {
          "html": "<p>\n              Let <var>track</var> be a new <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"MediaStreamTrack\" data-cite=\"mediacapture-streams\" data-cite-path=\"\" data-cite-frag=\"dom-mediastreamtrack\" data-type=\"interface\" href=\"https://www.w3.org/TR/mediacapture-streams/#dom-mediastreamtrack\"><code>MediaStreamTrack</code></a> object\n              [<cite><a class=\"bibref\" data-link-type=\"biblio\" href=\"https://w3c.github.io/webrtc-pc/#bib-getusermedia\" title=\"Media Capture and Streams\">GETUSERMEDIA</a></cite>]. The source of <var>track</var> is a\n              <dfn id=\"dfn-remote-source\" tabindex=\"0\" aria-haspopup=\"dialog\" data-dfn-type=\"dfn\">remote source</dfn> provided by <var>receiver</var>. Note\n              that the <var>track</var>.<code class=\"gum\">id</code> is\n              generated by the <a href=\"https://w3c.github.io/webrtc-pc/#dfn-user-agent\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-user-agent-9\">user agent</a> and does not map to any track\n              IDs on the remote side.\n            </p>"
        },
        {
          "html": "<p>\n              Initialize <var>track.kind</var> to <var>kind</var>.\n            </p>"
        },
        {
          "html": "<p>\n              Initialize <var>track.label</var> to the result of concatenating\n              the string <code>\"remote \"</code> with <var>kind</var>.\n            </p>"
        },
        {
          "html": "<p>\n              Initialize <var>track.readyState</var> to <code class=\"gum\">live</code>.\n            </p>"
        },
        {
          "html": "<p>\n              Initialize <var>track.muted</var> to <code>true</code>. See the\n              <a href=\"https://w3c.github.io/webrtc-pc/#mediastreamtrack-network-use\">MediaStreamTrack</a>\n              section about how the <code class=\"gum\">muted</code> attribute\n              reflects if a <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"MediaStreamTrack\" data-cite=\"mediacapture-streams\" data-cite-path=\"\" data-cite-frag=\"dom-mediastreamtrack\" data-type=\"interface\" href=\"https://www.w3.org/TR/mediacapture-streams/#dom-mediastreamtrack\"><code>MediaStreamTrack</code></a> is receiving media data or\n              not.\n            </p>"
        },
        {
          "html": "<p>\n              Let <var>receiver</var> have a <dfn class=\"export\" data-dfn-for=\"RTCRtpReceiver\" data-idl=\"\" data-dfn-type=\"attribute\" data-export=\"\" id=\"dfn-receivertrack\" tabindex=\"0\" aria-haspopup=\"dialog\">[[ReceiverTrack]]</dfn>\n              internal slot initialized to <var>track</var>.\n            </p>"
        },
        {
          "html": "<p>\n              Let <var>receiver</var> have a <dfn data-dfn-for=\"RTCRtpReceiver\" data-idl=\"\" data-noexport=\"\" data-dfn-type=\"attribute\" id=\"dfn-receivertransport\" tabindex=\"0\" aria-haspopup=\"dialog\">[[ReceiverTransport]]</dfn>\n              internal slot initialized to <code>null</code>.\n            </p>"
        },
        {
          "html": "<p>\n              Let <var>receiver</var> have a\n              <dfn data-dfn-for=\"RTCRtpReceiver\" data-idl=\"\" data-noexport=\"\" data-dfn-type=\"attribute\" id=\"dfn-laststablestatereceivertransport\" tabindex=\"0\" aria-haspopup=\"dialog\">[[LastStableStateReceiverTransport]]</dfn> internal slot\n              initialized to <code>null</code>.\n            </p>"
        },
        {
          "html": "<p>\n              Let <var>receiver</var> have an\n              <dfn data-dfn-for=\"RTCRtpReceiver\" data-idl=\"\" data-noexport=\"\" data-dfn-type=\"attribute\" id=\"dfn-associatedremotemediastreams\" tabindex=\"0\" aria-haspopup=\"dialog\">[[AssociatedRemoteMediaStreams]]</dfn> internal slot,\n              representing a list of <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"MediaStream\" data-cite=\"mediacapture-streams\" data-cite-path=\"\" data-cite-frag=\"dom-mediastream\" data-type=\"interface\" href=\"https://www.w3.org/TR/mediacapture-streams/#dom-mediastream\"><code>MediaStream</code></a> objects that the\n              <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"MediaStreamTrack\" data-cite=\"mediacapture-streams\" data-cite-path=\"\" data-cite-frag=\"dom-mediastreamtrack\" data-type=\"interface\" href=\"https://www.w3.org/TR/mediacapture-streams/#dom-mediastreamtrack\"><code>MediaStreamTrack</code></a> object of this receiver is associated with,\n              and initialized to an empty list.\n            </p>"
        },
        {
          "html": "<p>\n              Let <var>receiver</var> have a\n              <dfn data-dfn-for=\"RTCRtpReceiver\" data-idl=\"\" data-noexport=\"\" data-dfn-type=\"attribute\" id=\"dfn-laststablestateassociatedremotemediastreams\" tabindex=\"0\" aria-haspopup=\"dialog\">[[LastStableStateAssociatedRemoteMediaStreams]]</dfn>\n              internal slot and initialize it to an empty list.\n            </p>"
        },
        {
          "html": "<p>\n              Let <var>receiver</var> have a <dfn data-dfn-for=\"RTCRtpReceiver\" data-idl=\"\" data-noexport=\"\" data-dfn-type=\"attribute\" id=\"dfn-receivecodecs\" tabindex=\"0\" aria-haspopup=\"dialog\">[[ReceiveCodecs]]</dfn>\n              internal slot, representing a list of <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCRtpCodecParameters\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtpcodecparameters\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtpcodecparameters-7\"><code>RTCRtpCodecParameters</code></a>\n              dictionaries, and initialized to an empty list.\n            </p>"
        },
        {
          "html": "<p>\n              Let <var>receiver</var> have a\n              <dfn data-dfn-for=\"RTCRtpReceiver\" data-idl=\"\" data-noexport=\"\" data-dfn-type=\"attribute\" id=\"dfn-laststablestatereceivecodecs\" tabindex=\"0\" aria-haspopup=\"dialog\">[[LastStableStateReceiveCodecs]]</dfn> internal slot and\n              initialize it to an empty list.\n            </p>"
        },
        {
          "html": "<p>\n              Let <var>receiver</var> have a <dfn class=\"export\" data-dfn-for=\"RTCRtpReceiver\" data-idl=\"\" data-dfn-type=\"attribute\" data-export=\"\" id=\"dfn-jitterbuffertarget\" tabindex=\"0\" aria-haspopup=\"dialog\">[[JitterBufferTarget]]</dfn>\n              internal slot initialized to <code>null</code>.\n            </p>"
        },
        {
          "html": "<p>\n              Return <var>receiver</var>.\n            </p>"
        }
      ]
    },
    {
      "name": "RTCRtpReceiver/jitterBufferTarget",
      "href": "https://w3c.github.io/webrtc-pc/#dom-rtcrtpreceiver-jitterbuffertarget",
      "html": "On setting, the <a href=\"https://w3c.github.io/webrtc-pc/#dfn-user-agent\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-user-agent-14\">user agent</a> <em class=\"rfc2119\">MUST</em> run the following steps:",
      "rationale": ".algorithm",
      "steps": [
        {
          "html": "<p>Let <var>receiver</var> be the\n              <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCRtpReceiver\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtpreceiver\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtpreceiver-25\"><code>RTCRtpReceiver</code></a> object on which the setter is\n              invoked.</p>"
        },
        {
          "html": "<p>Let <var>target</var> be the argument to the setter.</p>"
        },
        {
          "html": "<p>If <var>target</var> is negative or larger than 4000 milliseconds, then\n              <a data-link-type=\"dfn|abstract-op\" data-link-for=\"exception\" data-xref-for=\"exception\" data-cite=\"webidl\" data-cite-path=\"\" data-cite-frag=\"dfn-throw\" data-type=\"dfn\" href=\"https://webidl.spec.whatwg.org/#dfn-throw\">throw</a> a <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RangeError\" data-cite=\"webidl\" data-cite-path=\"\" data-cite-frag=\"exceptiondef-rangeerror\" data-type=\"exception\" href=\"https://webidl.spec.whatwg.org/#exceptiondef-rangeerror\"><code>RangeError</code></a>.</p>"
        },
        {
          "html": "<p>Set <var>receiver</var>'s <a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpReceiver\" data-xref-for=\"RTCRtpReceiver\" data-lt=\"[[JitterBufferTarget]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-jitterbuffertarget\" class=\"internalDFN\" id=\"ref-for-dfn-jitterbuffertarget-2\"><code>[[JitterBufferTarget]]</code></a>\n              to <var>target</var>.</p>"
        },
        {
          "html": "<p>Let <var>track</var> be <var>receiver</var>'s\n              <a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpReceiver\" data-xref-for=\"RTCRtpReceiver\" data-lt=\"[[ReceiverTrack]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-receivertrack\" class=\"internalDFN\" id=\"ref-for-dfn-receivertrack-8\"><code>[[ReceiverTrack]]</code></a>.</p>"
        },
        {
          "html": "<a data-link-type=\"dfn|abstract-op\" data-cite=\"html\" data-cite-path=\"/infrastructure.html\" data-cite-frag=\"in-parallel\" data-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel\">in parallel</a>, begin executing the following steps:",
          "rationale": "update",
          "steps": [
            {
              "html": "<p>Update the underlying system about the new <var>target</var>,\n                  or that there is no application preference if <var>target</var> is\n                  <code>null</code>.</p>\n                  <p>\n                    If <var>track</var> is synchronized with another\n                    <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCRtpReceiver\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtpreceiver\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtpreceiver-26\"><code>RTCRtpReceiver</code></a>'s track for\n                    <a data-cite=\"RFC5888#section-7\" href=\"https://www.rfc-editor.org/rfc/rfc5888#section-7\">audio/video synchronization</a>,\n                    then the <a href=\"https://w3c.github.io/webrtc-pc/#dfn-user-agent\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-user-agent-15\">user agent</a> <em class=\"rfc2119\">SHOULD</em> use the larger of the two receivers'\n                    <a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpReceiver\" data-xref-for=\"RTCRtpReceiver\" data-lt=\"[[JitterBufferTarget]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-jitterbuffertarget\" class=\"internalDFN\" id=\"ref-for-dfn-jitterbuffertarget-3\"><code>[[JitterBufferTarget]]</code></a> for both receivers.\n                  </p>\n                  <p>\n                    When the underlying system is applying a jitter buffer target, it will\n                    continuously make sure that the actual jitter buffer target is clamped\n                    within the <a href=\"https://w3c.github.io/webrtc-pc/#dfn-minimum-allowed-target\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-minimum-allowed-target-1\">minimum allowed target</a> and <a href=\"https://w3c.github.io/webrtc-pc/#dfn-maximum-allowed-target\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-maximum-allowed-target-1\">maximum allowed\n                    target</a>.\n                    </p>\n                  <p></p>"
            },
            {
              "html": "<p>Modifying the jitter buffer target of the underlying system <em class=\"rfc2119\">SHOULD</em>\n                  affect the internal audio or video buffering gradually in order not\n                  to hurt user experience. Audio samples or video frames <em class=\"rfc2119\">SHOULD</em>\n                  be accelerated or decelerated before playout, similarly to how\n                  it is done for\n                  <a data-cite=\"RFC5888#section-7\" href=\"https://www.rfc-editor.org/rfc/rfc5888#section-7\">\n                  audio/video synchronization</a> or in response to congestion\n                  control.</p>\n                  <p>The acceleration or deceleration rate may vary depending on\n                  network conditions or the type of audio received (e.g. speech\n                  or background noise). It <em class=\"rfc2119\">MAY</em> take several seconds to achieve 1\n                  second of buffering but <em class=\"rfc2119\">SHOULD</em> not take more than 30 seconds\n                  assuming packets are being received. The speed <em class=\"rfc2119\">MAY</em> be\n                  different for audio and video.</p>"
            }
          ]
        }
      ]
    },
    {
      "name": "RTCRtpReceiver/getCapabilities()",
      "href": "https://w3c.github.io/webrtc-pc/#dom-rtcrtpreceiver-getcapabilities",
      "html": "When the <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"getCapabilities\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtpreceiver-getcapabilities\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtpreceiver-getcapabilities-3\"><code>getCapabilities</code></a> method is called, the user agent <em class=\"rfc2119\">MUST</em> run the\n                  following steps:",
      "rationale": ".algorithm",
      "steps": [
        {
          "html": "<p>Let <var>kind</var> be the method's first argument.</p>"
        },
        {
          "html": "<p>If <var>kind</var> is neither <code>\"video\"</code> nor <code>\"audio\"</code> return <code>null</code>.</p>"
        },
        {
          "html": "<p>Return a new <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCRtpCapabilities\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtpcapabilities\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtpcapabilities-6\"><code>RTCRtpCapabilities</code></a> dictionary, with its\n                    <a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCRtpCapabilities\" data-xref-for=\"RTCRtpCapabilities\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtpcapabilities-codecs\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtpcapabilities-codecs-4\"><code>codecs</code></a> member initialized to the\n                    <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-list-of-implemented-receive-codecs\" class=\"internalDFN\" id=\"ref-for-dfn-list-of-implemented-receive-codecs-3\">list of implemented receive codecs</a> for <var>kind</var>, and its\n                    <a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCRtpCapabilities\" data-xref-for=\"RTCRtpCapabilities\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtpcapabilities-headerextensions\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtpcapabilities-headerextensions-3\"><code>headerExtensions</code></a> member initialized to the\n                    <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-list-of-implemented-header-extensions-for-receiving\" class=\"internalDFN\" id=\"ref-for-dfn-list-of-implemented-header-extensions-for-receiving-1\">list of implemented header extensions for receiving</a> for\n                    <var>kind</var>.</p>"
        }
      ]
    },
    {
      "name": "RTCRtpReceiver/getStats()",
      "href": "https://w3c.github.io/webrtc-pc/#widl-RTCRtpReceiver-getStats-Promise-RTCStatsReport",
      "html": "When the <a data-link-type=\"idl\" data-xref-type=\"method\" data-lt=\"getStats()\" href=\"https://w3c.github.io/webrtc-pc/#widl-RTCRtpReceiver-getStats-Promise-RTCStatsReport\" class=\"internalDFN\" id=\"ref-for-widl-RTCRtpReceiver-getStats-Promise-RTCStatsReport-2\"><code>getStats</code></a><code>()</code> method is invoked, the user agent\n                  <em class=\"rfc2119\">MUST</em> run the following steps:",
      "rationale": ".algorithm",
      "steps": [
        {
          "html": "<p>\n                      Let <var>selector</var> be the <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCRtpReceiver\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtpreceiver\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtpreceiver-31\"><code>RTCRtpReceiver</code></a> object\n                      on which the method was invoked.\n                    </p>"
        },
        {
          "html": "Let <var>p</var> be a new promise, and run the following\n                      steps <a data-link-type=\"dfn|abstract-op\" data-cite=\"html\" data-cite-path=\"/infrastructure.html\" data-cite-frag=\"in-parallel\" data-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel\">in parallel</a>:",
          "rationale": "gather",
          "steps": [
            {
              "html": "<p>\n                          Gather the stats indicated by <var>selector</var>\n                          according to the <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-stats-selection-algorithm\" class=\"internalDFN\" id=\"ref-for-dfn-stats-selection-algorithm-2\">stats selection algorithm</a>.\n                        </p>"
            },
            {
              "html": "<p>\n                          <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-resolve\" class=\"internalDFN\" id=\"ref-for-dfn-resolve-14\">Resolve</a> <var>p</var> with the resulting\n                          <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCStatsReport\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcstatsreport\" class=\"internalDFN\" id=\"ref-for-dom-rtcstatsreport-4\"><code>RTCStatsReport</code></a> object, containing the gathered\n                          stats.\n                        </p>"
            }
          ]
        },
        {
          "html": "<p>\n                      Return <var>p</var>.\n                    </p>"
        }
      ]
    },
    {
      "name": "RTCRtpTransceiver/[[Sender]]",
      "href": "https://w3c.github.io/webrtc-pc/#dfn-sender",
      "html": "To <dfn class=\"abstract-op\" data-dfn-type=\"abstract-op\" id=\"dfn-create-an-rtcrtptransceiver\" tabindex=\"0\" aria-haspopup=\"dialog\" data-export=\"\">create an RTCRtpTransceiver</dfn> with an <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCRtpReceiver\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtpreceiver\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtpreceiver-38\"><code>RTCRtpReceiver</code></a>\n          object, <var>receiver</var>, <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCRtpSender\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtpsender\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtpsender-47\"><code>RTCRtpSender</code></a> object,\n          <var>sender</var>, and an <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCRtpTransceiverDirection\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtptransceiverdirection\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtptransceiverdirection-8\"><code>RTCRtpTransceiverDirection</code></a> value,\n          <var>direction</var>, run the following steps:",
      "rationale": ".algorithm",
      "steps": [
        {
          "html": "<p>\n              Let <var>transceiver</var> be a new <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCRtpTransceiver\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtptransceiver\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtptransceiver-53\"><code>RTCRtpTransceiver</code></a> object.\n            </p>"
        },
        {
          "html": "<p>\n              Let <var>transceiver</var> have a <dfn class=\"export\" data-dfn-for=\"RTCRtpTransceiver\" data-idl=\"\" data-dfn-type=\"attribute\" data-export=\"\" id=\"dfn-sender\" tabindex=\"0\" aria-haspopup=\"dialog\">[[Sender]]</dfn> internal\n              slot, initialized to <var>sender</var>.\n            </p>"
        },
        {
          "html": "<p>\n              Let <var>transceiver</var> have a <dfn data-dfn-for=\"RTCRtpTransceiver\" data-idl=\"\" data-noexport=\"\" data-dfn-type=\"attribute\" id=\"dfn-receiver\" tabindex=\"0\" aria-haspopup=\"dialog\">[[Receiver]]</dfn>\n              internal slot, initialized to <var>receiver</var>.\n            </p>"
        },
        {
          "html": "<p>\n              Let <var>transceiver</var> have a <dfn data-dfn-for=\"RTCRtpTransceiver\" data-idl=\"\" data-noexport=\"\" data-dfn-type=\"attribute\" id=\"dfn-stopping\" tabindex=\"0\" aria-haspopup=\"dialog\">[[Stopping]]</dfn>\n              internal slot, initialized to <code>false</code>.\n            </p>"
        },
        {
          "html": "<p>\n              Let <var>transceiver</var> have a <dfn data-dfn-for=\"RTCRtpTransceiver\" data-idl=\"\" data-noexport=\"\" data-dfn-type=\"attribute\" id=\"dfn-stopped-0\" tabindex=\"0\" aria-haspopup=\"dialog\">[[Stopped]]</dfn>\n              internal slot, initialized to <code>false</code>.\n            </p>"
        },
        {
          "html": "<p>\n              Let <var>transceiver</var> have a <dfn data-dfn-for=\"RTCRtpTransceiver\" data-idl=\"\" data-noexport=\"\" data-dfn-type=\"attribute\" id=\"dfn-direction\" tabindex=\"0\" aria-haspopup=\"dialog\">[[Direction]]</dfn>\n              internal slot, initialized to <var>direction</var>.\n            </p>"
        },
        {
          "html": "<p>\n              Let <var>transceiver</var> have a <dfn data-dfn-for=\"RTCRtpTransceiver\" data-idl=\"\" data-noexport=\"\" data-dfn-type=\"attribute\" id=\"dfn-receptive\" tabindex=\"0\" aria-haspopup=\"dialog\">[[Receptive]]</dfn>\n              internal slot, initialized to <code>false</code>.\n            </p>"
        },
        {
          "html": "<p>\n              Let <var>transceiver</var> have a\n              <dfn data-dfn-for=\"RTCRtpTransceiver\" data-idl=\"\" data-noexport=\"\" data-dfn-type=\"attribute\" id=\"dfn-currentdirection\" tabindex=\"0\" aria-haspopup=\"dialog\">[[CurrentDirection]]</dfn> internal slot, initialized to\n              <code>null</code>.\n            </p>"
        },
        {
          "html": "<p>\n              Let <var>transceiver</var> have a <dfn data-dfn-for=\"RTCRtpTransceiver\" data-idl=\"\" data-noexport=\"\" data-dfn-type=\"attribute\" id=\"dfn-fireddirection\" tabindex=\"0\" aria-haspopup=\"dialog\">[[FiredDirection]]</dfn>\n              internal slot, initialized to <code>null</code>.\n            </p>"
        },
        {
          "html": "<p>\n              Let <var>transceiver</var> have a <dfn class=\"export\" data-dfn-for=\"RTCRtpTransceiver\" data-idl=\"\" data-dfn-type=\"attribute\" data-export=\"\" id=\"dfn-preferredcodecs\" tabindex=\"0\" aria-haspopup=\"dialog\">[[PreferredCodecs]]</dfn>\n              internal slot, initialized to an empty list.\n            </p>"
        },
        {
          "html": "<p>\n              Let <var>transceiver</var> have a <dfn data-dfn-for=\"RTCRtpTransceiver\" data-idl=\"\" data-noexport=\"\" data-dfn-type=\"attribute\" id=\"dfn-jsepmid\" tabindex=\"0\" aria-haspopup=\"dialog\">[[JsepMid]]</dfn>\n              internal slot, initialized to <code>null</code>. This is the\n              \"RtpTransceiver mid property\" defined in <span>[<cite><a class=\"bibref\" data-link-type=\"biblio\" href=\"https://w3c.github.io/webrtc-pc/#bib-rfc9429\" title=\"JavaScript Session Establishment Protocol (JSEP)\">RFC9429</a></cite>] (<a href=\"https://www.rfc-editor.org/rfc/rfc9429#section-5.2.1\">section 5.2.1.</a> and <a href=\"https://www.rfc-editor.org/rfc/rfc9429#section-5.3.1\">section 5.3.1.</a>)</span>, and is only\n              modified there.\n            </p>"
        },
        {
          "html": "<p>\n              Let <var>transceiver</var> have a <dfn data-dfn-for=\"RTCRtpTransceiver\" data-idl=\"\" data-noexport=\"\" data-dfn-type=\"attribute\" id=\"dfn-mid\" tabindex=\"0\" aria-haspopup=\"dialog\">[[Mid]]</dfn> internal\n              slot, initialized to <code>null</code>.\n            </p>"
        },
        {
          "html": "<p>\n              Return <var>transceiver</var>.\n            </p>"
        }
      ]
    },
    {
      "name": "RTCRtpTransceiver/direction",
      "href": "https://w3c.github.io/webrtc-pc/#dom-rtcrtptransceiver-direction",
      "html": "On getting, the user agent <em class=\"rfc2119\">MUST</em> run the following steps:",
      "rationale": ".algorithm",
      "steps": [
        {
          "html": "<p>\n                      Let <var>transceiver</var> be the <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCRtpTransceiver\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtptransceiver\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtptransceiver-55\"><code>RTCRtpTransceiver</code></a>\n                      object on which the getter is invoked.\n                    </p>"
        },
        {
          "html": "<p>\n                      If <var>transceiver</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpTransceiver\" data-xref-for=\"RTCRtpTransceiver\" data-lt=\"[[Stopping]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-stopping\" class=\"internalDFN\" id=\"ref-for-dfn-stopping-6\"><code>[[Stopping]]</code></a> is\n                      <code>true</code>, return\n                      \"<a data-link-type=\"idl\" data-xref-type=\"enum-value\" data-link-for=\"RTCRtpTransceiverDirection\" data-xref-for=\"RTCRtpTransceiverDirection\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtptransceiverdirection-stopped\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtptransceiverdirection-stopped-2\"><code>stopped</code></a>\".\n                    </p>"
        },
        {
          "html": "<p>\n                      Otherwise, return the value of the <a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpTransceiver\" data-xref-for=\"RTCRtpTransceiver\" data-lt=\"[[Direction]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-direction\" class=\"internalDFN\" id=\"ref-for-dfn-direction-15\"><code>[[Direction]]</code></a>\n                      slot.\n                    </p>"
        }
      ]
    },
    {
      "name": "RTCRtpTransceiver/direction",
      "href": "https://w3c.github.io/webrtc-pc/#dom-rtcrtptransceiver-direction",
      "html": "On setting, the user agent <em class=\"rfc2119\">MUST</em> run the following steps:",
      "rationale": ".algorithm",
      "steps": [
        {
          "html": "<p>\n                      Let <var>transceiver</var> be the <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCRtpTransceiver\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtptransceiver\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtptransceiver-56\"><code>RTCRtpTransceiver</code></a>\n                      object on which the setter is invoked.\n                    </p>"
        },
        {
          "html": "<p>\n                      Let <var>connection</var> be the <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCPeerConnection\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcpeerconnection\" class=\"internalDFN\" id=\"ref-for-dom-rtcpeerconnection-116\"><code>RTCPeerConnection</code></a>\n                      object associated with <var>transceiver</var>.\n                    </p>"
        },
        {
          "html": "<p>\n                      If <var>transceiver</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpTransceiver\" data-xref-for=\"RTCRtpTransceiver\" data-lt=\"[[Stopping]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-stopping\" class=\"internalDFN\" id=\"ref-for-dfn-stopping-7\"><code>[[Stopping]]</code></a> is\n                      <code>true</code>, <a data-link-type=\"dfn|abstract-op\" data-link-for=\"exception\" data-xref-for=\"exception\" data-cite=\"webidl\" data-cite-path=\"\" data-cite-frag=\"dfn-throw\" data-type=\"dfn\" href=\"https://webidl.spec.whatwg.org/#dfn-throw\">throw</a> an\n                      <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"InvalidStateError\" data-cite=\"webidl\" data-cite-path=\"\" data-cite-frag=\"invalidstateerror\" data-type=\"exception\" href=\"https://webidl.spec.whatwg.org/#invalidstateerror\"><code>InvalidStateError</code></a>.\n                    </p>"
        },
        {
          "html": "<p>\n                      Let <var>newDirection</var> be the argument to the\n                      setter.\n                    </p>"
        },
        {
          "html": "<p>\n                      If <var>newDirection</var> is equal to\n                      <var>transceiver</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpTransceiver\" data-xref-for=\"RTCRtpTransceiver\" data-lt=\"[[Direction]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-direction\" class=\"internalDFN\" id=\"ref-for-dfn-direction-16\"><code>[[Direction]]</code></a>, abort these\n                      steps.\n                    </p>"
        },
        {
          "html": "<p>\n                      If <var>newDirection</var> is equal to\n                      \"<a data-link-type=\"idl\" data-xref-type=\"enum-value\" data-link-for=\"RTCRtpTransceiverDirection\" data-xref-for=\"RTCRtpTransceiverDirection\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtptransceiverdirection-stopped\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtptransceiverdirection-stopped-3\"><code>stopped</code></a>\", <a data-link-type=\"dfn|abstract-op\" data-link-for=\"exception\" data-xref-for=\"exception\" data-cite=\"webidl\" data-cite-path=\"\" data-cite-frag=\"dfn-throw\" data-type=\"dfn\" href=\"https://webidl.spec.whatwg.org/#dfn-throw\">throw</a> a <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"TypeError\" data-cite=\"webidl\" data-cite-path=\"\" data-cite-frag=\"exceptiondef-typeerror\" data-type=\"exception\" href=\"https://webidl.spec.whatwg.org/#exceptiondef-typeerror\"><code>TypeError</code></a>.\n                    </p>"
        },
        {
          "html": "<p>\n                      Set <var>transceiver</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpTransceiver\" data-xref-for=\"RTCRtpTransceiver\" data-lt=\"[[Direction]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-direction\" class=\"internalDFN\" id=\"ref-for-dfn-direction-17\"><code>[[Direction]]</code></a> to\n                      <var>newDirection</var>.\n                    </p>"
        },
        {
          "html": "<p>\n                      <a href=\"https://w3c.github.io/webrtc-pc/#dfn-update-the-negotiation-needed-flag\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-update-the-negotiation-needed-flag-12\">Update the negotiation-needed flag</a> for\n                      <var>connection</var>.\n                    </p>"
        }
      ]
    },
    {
      "name": "RTCRtpTransceiver/currentDirection",
      "href": "https://w3c.github.io/webrtc-pc/#dom-rtcrtptransceiver-currentdirection",
      "html": "On getting, the user agent <em class=\"rfc2119\">MUST</em> run the following steps:",
      "rationale": ".algorithm",
      "steps": [
        {
          "html": "<p>\n                      Let <var>transceiver</var> be the <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCRtpTransceiver\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtptransceiver\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtptransceiver-57\"><code>RTCRtpTransceiver</code></a>\n                      object on which the getter is invoked.\n                    </p>"
        },
        {
          "html": "<p>\n                      If <var>transceiver</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpTransceiver\" data-xref-for=\"RTCRtpTransceiver\" data-lt=\"[[Stopped]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-stopped-0\" class=\"internalDFN\" id=\"ref-for-dfn-stopped-0-8\"><code>[[Stopped]]</code></a> is\n                      <code>true</code>, return\n                      \"<a data-link-type=\"idl\" data-xref-type=\"enum-value\" data-link-for=\"RTCRtpTransceiverDirection\" data-xref-for=\"RTCRtpTransceiverDirection\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtptransceiverdirection-stopped\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtptransceiverdirection-stopped-5\"><code>stopped</code></a>\".\n                    </p>"
        },
        {
          "html": "<p>\n                      Otherwise, return the value of the\n                      <a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpTransceiver\" data-xref-for=\"RTCRtpTransceiver\" data-lt=\"[[CurrentDirection]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-currentdirection\" class=\"internalDFN\" id=\"ref-for-dfn-currentdirection-6\"><code>[[CurrentDirection]]</code></a> slot.\n                    </p>"
        }
      ]
    },
    {
      "name": "RTCRtpTransceiver/stop()",
      "href": "https://w3c.github.io/webrtc-pc/#dom-rtcrtptransceiver-stop",
      "html": "When the <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"stop\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtptransceiver-stop\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtptransceiver-stop-5\"><code>stop</code></a> method is invoked, the user agent <em class=\"rfc2119\">MUST</em> run\n                  the following steps:",
      "rationale": ".algorithm",
      "steps": [
        {
          "html": "<p>\n                      Let <var>transceiver</var> be the <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCRtpTransceiver\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtptransceiver\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtptransceiver-59\"><code>RTCRtpTransceiver</code></a>\n                      object on which the method is invoked.\n                    </p>"
        },
        {
          "html": "<p>\n                      Let <var>connection</var> be the <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCPeerConnection\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcpeerconnection\" class=\"internalDFN\" id=\"ref-for-dom-rtcpeerconnection-118\"><code>RTCPeerConnection</code></a>\n                      object associated with <var>transceiver</var>.\n                    </p>"
        },
        {
          "html": "<p>\n                      If <var>connection</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCPeerConnection\" data-xref-for=\"RTCPeerConnection\" data-lt=\"[[IsClosed]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-isclosed\" class=\"internalDFN\" id=\"ref-for-dfn-isclosed-25\"><code>[[IsClosed]]</code></a> is\n                      <code>true</code>, <a data-link-type=\"dfn|abstract-op\" data-link-for=\"exception\" data-xref-for=\"exception\" data-cite=\"webidl\" data-cite-path=\"\" data-cite-frag=\"dfn-throw\" data-type=\"dfn\" href=\"https://webidl.spec.whatwg.org/#dfn-throw\">throw</a> an\n                      <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"InvalidStateError\" data-cite=\"webidl\" data-cite-path=\"\" data-cite-frag=\"invalidstateerror\" data-type=\"exception\" href=\"https://webidl.spec.whatwg.org/#invalidstateerror\"><code>InvalidStateError</code></a>.\n                    </p>"
        },
        {
          "html": "<p>\n                      If <var>transceiver</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpTransceiver\" data-xref-for=\"RTCRtpTransceiver\" data-lt=\"[[Stopping]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-stopping\" class=\"internalDFN\" id=\"ref-for-dfn-stopping-8\"><code>[[Stopping]]</code></a> is\n                      <code>true</code>, abort these steps.\n                    </p>"
        },
        {
          "html": "<p>\n                      <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-stop-sending-and-receiving\" class=\"internalDFN\" id=\"ref-for-dfn-stop-sending-and-receiving-1\">Stop sending and receiving</a> with\n                      <var>transceiver</var>.\n                    </p>"
        },
        {
          "html": "<p>\n                      <a href=\"https://w3c.github.io/webrtc-pc/#dfn-update-the-negotiation-needed-flag\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-update-the-negotiation-needed-flag-14\">Update the negotiation-needed flag</a> for\n                      <var>connection</var>.\n                    </p>"
        }
      ]
    },
    {
      "name": "stop sending and receiving",
      "href": "https://w3c.github.io/webrtc-pc/#dfn-stop-sending-and-receiving",
      "html": "The <dfn class=\"abstract-op\" data-dfn-type=\"abstract-op\" id=\"dfn-stop-sending-and-receiving\" tabindex=\"0\" aria-haspopup=\"dialog\" data-export=\"\">stop sending and receiving</dfn> algorithm given a\n                  <var>transceiver</var> and, optionally, a\n                  <var>disappear</var> boolean defaulting to\n                  <code>false</code>, is as follows:",
      "rationale": ".algorithm",
      "steps": [
        {
          "html": "<p>\n                      Let <var>sender</var> be\n                      <var>transceiver</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpTransceiver\" data-xref-for=\"RTCRtpTransceiver\" data-lt=\"[[Sender]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-sender\" class=\"internalDFN\" id=\"ref-for-dfn-sender-34\"><code>[[Sender]]</code></a>.\n                    </p>"
        },
        {
          "html": "<p>\n                      Let <var>receiver</var> be\n                      <var>transceiver</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpTransceiver\" data-xref-for=\"RTCRtpTransceiver\" data-lt=\"[[Receiver]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-receiver\" class=\"internalDFN\" id=\"ref-for-dfn-receiver-26\"><code>[[Receiver]]</code></a>.\n                    </p>"
        },
        {
          "html": "<p>\n                      <a data-link-type=\"dfn|abstract-op\" data-cite=\"html\" data-cite-path=\"/infrastructure.html\" data-cite-frag=\"in-parallel\" data-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel\">In parallel</a>, stop sending media with <var>sender</var>, and\n                      send an RTCP BYE for each RTP stream that was being sent\n                      by <var>sender</var>, as specified in [<cite><a class=\"bibref\" data-link-type=\"biblio\" href=\"https://w3c.github.io/webrtc-pc/#bib-rfc3550\" title=\"RTP: A Transport Protocol for Real-Time Applications\">RFC3550</a></cite>].\n                    </p>"
        },
        {
          "html": "<p>\n                      <a data-link-type=\"dfn|abstract-op\" data-cite=\"html\" data-cite-path=\"/infrastructure.html\" data-cite-frag=\"in-parallel\" data-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel\">In parallel</a>, stop receiving media with <var>receiver</var>.\n                    </p>"
        },
        {
          "html": "<p>\n                      If <var>disappear</var> is <code>false</code>, execute\n                      the steps for\n                      <var>receiver</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpReceiver\" data-xref-for=\"RTCRtpReceiver\" data-lt=\"[[ReceiverTrack]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-receivertrack\" class=\"internalDFN\" id=\"ref-for-dfn-receivertrack-9\"><code>[[ReceiverTrack]]</code></a> to be\n                      <a data-cite=\"!GETUSERMEDIA#track-ended\" href=\"https://www.w3.org/TR/mediacapture-streams/#track-ended\">ended</a>. This\n                      fires an event.\n                    </p>"
        },
        {
          "html": "<p>\n                      Set <var>transceiver</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpTransceiver\" data-xref-for=\"RTCRtpTransceiver\" data-lt=\"[[Direction]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-direction\" class=\"internalDFN\" id=\"ref-for-dfn-direction-18\"><code>[[Direction]]</code></a> to\n                      \"<a data-link-type=\"idl\" data-xref-type=\"enum-value\" data-link-for=\"RTCRtpTransceiverDirection\" data-xref-for=\"RTCRtpTransceiverDirection\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtptransceiverdirection-inactive\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtptransceiverdirection-inactive-12\"><code>inactive</code></a>\".\n                    </p>"
        },
        {
          "html": "<p>\n                      Set <var>transceiver</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpTransceiver\" data-xref-for=\"RTCRtpTransceiver\" data-lt=\"[[Stopping]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-stopping\" class=\"internalDFN\" id=\"ref-for-dfn-stopping-9\"><code>[[Stopping]]</code></a> to\n                      <code>true</code>.\n                    </p>"
        }
      ]
    },
    {
      "name": "stop the RTCRtpTransceiver",
      "href": "https://w3c.github.io/webrtc-pc/#dfn-stop-the-rtcrtptransceiver",
      "html": "The <dfn class=\"abstract-op\" data-dfn-type=\"abstract-op\" id=\"dfn-stop-the-rtcrtptransceiver\" tabindex=\"0\" aria-haspopup=\"dialog\" data-export=\"\">stop the RTCRtpTransceiver</dfn> algorithm given a\n                  <var>transceiver</var> and, optionally, a\n                  <var>disappear</var> boolean defaulting to\n                  <code>false</code>, is as follows:",
      "rationale": ".algorithm",
      "steps": [
        {
          "html": "<p>\n                      If <var>transceiver</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpTransceiver\" data-xref-for=\"RTCRtpTransceiver\" data-lt=\"[[Stopping]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-stopping\" class=\"internalDFN\" id=\"ref-for-dfn-stopping-10\"><code>[[Stopping]]</code></a> is\n                      <code>false</code>, <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-stop-sending-and-receiving\" class=\"internalDFN\" id=\"ref-for-dfn-stop-sending-and-receiving-2\">stop sending and receiving</a> with\n                      <var>transceiver</var> and <var>disappear</var>.\n                    </p>"
        },
        {
          "html": "<p>\n                      Set <var>transceiver</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpTransceiver\" data-xref-for=\"RTCRtpTransceiver\" data-lt=\"[[Stopped]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-stopped-0\" class=\"internalDFN\" id=\"ref-for-dfn-stopped-0-9\"><code>[[Stopped]]</code></a> to\n                      <code>true</code>.\n                    </p>"
        },
        {
          "html": "<p>\n                      Set <var>transceiver</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpTransceiver\" data-xref-for=\"RTCRtpTransceiver\" data-lt=\"[[Receptive]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-receptive\" class=\"internalDFN\" id=\"ref-for-dfn-receptive-3\"><code>[[Receptive]]</code></a> to\n                      <code>false</code>.\n                    </p>"
        },
        {
          "html": "<p>\n                      Set <var>transceiver</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpTransceiver\" data-xref-for=\"RTCRtpTransceiver\" data-lt=\"[[CurrentDirection]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-currentdirection\" class=\"internalDFN\" id=\"ref-for-dfn-currentdirection-7\"><code>[[CurrentDirection]]</code></a>\n                      to <code>null</code>.\n                    </p>"
        }
      ]
    },
    {
      "html": "When <a data-link-type=\"idl\" data-xref-type=\"method\" data-lt=\"setCodecPreferences()\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtptransceiver-setcodecpreferences\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtptransceiver-setcodecpreferences-6\"><code>setCodecPreferences</code></a><code>()</code> is invoked, the <a href=\"https://w3c.github.io/webrtc-pc/#dfn-user-agent\" class=\"internalDFN\" data-link-type=\"dfn\" id=\"ref-for-dfn-user-agent-19\">user\n                  agent</a> <em class=\"rfc2119\">MUST</em> run the following steps:",
      "rationale": ".algorithm",
      "steps": [
        {
          "html": "<p>\n                      Let <var>transceiver</var> be the <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCRtpTransceiver\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtptransceiver\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtptransceiver-63\"><code>RTCRtpTransceiver</code></a>\n                      object this method was invoked on.\n                    </p>"
        },
        {
          "html": "<p>\n                      Let <var>codecs</var> be the first argument.\n                    </p>"
        },
        {
          "html": "<p>\n                      If <var>codecs</var> is an empty list, set\n                      <var>transceiver</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpTransceiver\" data-xref-for=\"RTCRtpTransceiver\" data-lt=\"[[PreferredCodecs]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-preferredcodecs\" class=\"internalDFN\" id=\"ref-for-dfn-preferredcodecs-6\"><code>[[PreferredCodecs]]</code></a> to\n                      <var>codecs</var> and abort these steps.\n                    </p>"
        },
        {
          "html": "<p>\n                      Remove any <a data-link-type=\"dfn|abstract-op\" data-lt=\"codec dictionary match\" href=\"https://w3c.github.io/webrtc-pc/#dfn-codec-dictionary-match\" class=\"internalDFN\" id=\"ref-for-dfn-codec-dictionary-match-5\">duplicate</a> values in\n                      <var>codecs</var>, ensuring that the first occurrence of each\n                      value remains in place.\n                    </p>"
        },
        {
          "html": "<p>\n                      Let <var>kind</var> be the <var>transceiver</var>'s <a data-link-type=\"dfn|abstract-op\" data-link-for=\"RTCRtpTransceiver\" data-xref-for=\"RTCRtpTransceiver\" href=\"https://w3c.github.io/webrtc-pc/#dfn-transceiver-kind\" class=\"internalDFN\" id=\"ref-for-dfn-transceiver-kind-9\">transceiver kind</a>.\n                    </p>"
        },
        {
          "html": "<p>\n                      Let <var>codecCapabilities</var> be\n                      <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCRtpReceiver\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtpreceiver\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtpreceiver-43\"><code>RTCRtpReceiver</code></a>.<a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCRtpReceiver\" data-xref-for=\"RTCRtpReceiver\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtpreceiver-getcapabilities\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtpreceiver-getcapabilities-5\"><code>getCapabilities</code></a>(<var>kind</var>).<a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCRtpParameters\" data-xref-for=\"RTCRtpParameters\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtpparameters-codecs\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtpparameters-codecs-6\"><code>codecs</code></a>.\n                    </p>"
        },
        {
          "html": "For each <var>codec</var> in <var>codecs</var>,",
          "rationale": "if",
          "steps": [
            {
              "html": "<p>If <var>codec</var> does <a data-link-type=\"dfn|abstract-op\" data-lt=\"codec dictionary match\" href=\"https://w3c.github.io/webrtc-pc/#dfn-codec-dictionary-match\" class=\"internalDFN\" id=\"ref-for-dfn-codec-dictionary-match-6\">not match</a> any codec\n                          in <var>codecCapabilities</var>, throw <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"InvalidModificationError\" data-cite=\"webidl\" data-cite-path=\"\" data-cite-frag=\"invalidmodificationerror\" data-type=\"exception\" href=\"https://webidl.spec.whatwg.org/#invalidmodificationerror\"><code>InvalidModificationError</code></a>.\n                        </p>"
            }
          ]
        },
        {
          "html": "<p>\n                      If <var>codecs</var> only contains entries for RTX, RED, FEC\n                      or Comfort Noise or is an empty set,\n                      throw <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"InvalidModificationError\" data-cite=\"webidl\" data-cite-path=\"\" data-cite-frag=\"invalidmodificationerror\" data-type=\"exception\" href=\"https://webidl.spec.whatwg.org/#invalidmodificationerror\"><code>InvalidModificationError</code></a>. This ensures that we\n                      always have something to offer, regardless of\n                      <var>transceiver</var>.<a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCRtpTransceiver\" data-xref-for=\"RTCRtpTransceiver\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtptransceiver-direction\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtptransceiver-direction-7\"><code>direction</code></a>.\n                    </p>"
        },
        {
          "html": "<p>\n                      Set <var>transceiver</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpTransceiver\" data-xref-for=\"RTCRtpTransceiver\" data-lt=\"[[PreferredCodecs]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-preferredcodecs\" class=\"internalDFN\" id=\"ref-for-dfn-preferredcodecs-7\"><code>[[PreferredCodecs]]</code></a> to\n                      <var>codecs</var>.\n                    </p>"
        }
      ]
    },
    {
      "name": "codec dictionary match",
      "href": "https://w3c.github.io/webrtc-pc/#dfn-codec-dictionary-match",
      "html": "The <dfn class=\"export\" data-export=\"\" id=\"dfn-codec-dictionary-match\" tabindex=\"0\" aria-haspopup=\"dialog\" data-dfn-type=\"dfn\">codec dictionary match</dfn> algorithm\n                  given two <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCRtpCodec\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtpcodec\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtpcodec-12\"><code>RTCRtpCodec</code></a> dictionaries\n                  <var>first</var> and <var>second</var> is as follows:",
      "rationale": ".algorithm",
      "steps": [
        {
          "html": "<p>\n                      If <var>first</var>.<a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCRtpCodec\" data-xref-for=\"RTCRtpCodec\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtpcodec-mimetype\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtpcodec-mimetype-3\"><code>mimeType</code></a> is not an\n                      <a data-link-type=\"dfn|abstract-op\" data-cite=\"infra\" data-cite-path=\"\" data-cite-frag=\"ascii-case-insensitive\" data-type=\"dfn\" href=\"https://infra.spec.whatwg.org/#ascii-case-insensitive\">ASCII case-insensitive</a> match for\n                      <var>second</var>.<a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCRtpCodec\" data-xref-for=\"RTCRtpCodec\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtpcodec-mimetype\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtpcodec-mimetype-4\"><code>mimeType</code></a>, return <code>false</code>.\n                    </p>"
        },
        {
          "html": "<p>\n                      If <var>first</var>.<a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCRtpCodec\" data-xref-for=\"RTCRtpCodec\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtpcodec-clockrate\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtpcodec-clockrate-2\"><code>clockRate</code></a> is different from\n                      <var>second</var>.<a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCRtpCodec\" data-xref-for=\"RTCRtpCodec\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtpcodec-clockrate\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtpcodec-clockrate-3\"><code>clockRate</code></a>, return <code>false</code>.\n                    </p>"
        },
        {
          "html": "<p>\n                      If either (but not both) of <var>first</var>.<a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCRtpCodec\" data-xref-for=\"RTCRtpCodec\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtpcodec-channels\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtpcodec-channels-2\"><code>channels</code></a>\n                      and <var>second</var>.<a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCRtpCodec\" data-xref-for=\"RTCRtpCodec\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtpcodec-channels\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtpcodec-channels-3\"><code>channels</code></a> are <a data-link-type=\"dfn|abstract-op\" data-link-for=\"map\" data-xref-for=\"map\" data-lt=\"exist\" data-cite=\"infra\" data-cite-path=\"\" data-cite-frag=\"map-exists\" data-type=\"dfn\" href=\"https://infra.spec.whatwg.org/#map-exists\">missing</a>,\n                      or if they both <a data-link-type=\"dfn|abstract-op\" data-link-for=\"map\" data-xref-for=\"map\" data-cite=\"infra\" data-cite-path=\"\" data-cite-frag=\"map-exists\" data-type=\"dfn\" href=\"https://infra.spec.whatwg.org/#map-exists\">exist</a> and <var>first</var>.<a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCRtpCodec\" data-xref-for=\"RTCRtpCodec\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtpcodec-channels\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtpcodec-channels-4\"><code>channels</code></a>\n                      is different from <var>second</var>.<a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCRtpCodec\" data-xref-for=\"RTCRtpCodec\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtpcodec-channels\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtpcodec-channels-5\"><code>channels</code></a>, return\n                      <code>false</code>.\n                    </p>"
        },
        {
          "html": "<p>\n                      If either (but not both) of <var>first</var>.<a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCRtpCodec\" data-xref-for=\"RTCRtpCodec\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtpcodec-sdpfmtpline\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtpcodec-sdpfmtpline-5\"><code>sdpFmtpLine</code></a>\n                      and <var>second</var>.<a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCRtpCodec\" data-xref-for=\"RTCRtpCodec\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtpcodec-sdpfmtpline\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtpcodec-sdpfmtpline-6\"><code>sdpFmtpLine</code></a> are <a data-link-type=\"dfn|abstract-op\" data-link-for=\"map\" data-xref-for=\"map\" data-lt=\"exist\" data-cite=\"infra\" data-cite-path=\"\" data-cite-frag=\"map-exists\" data-type=\"dfn\" href=\"https://infra.spec.whatwg.org/#map-exists\">missing</a>,\n                      or if they both <a data-link-type=\"dfn|abstract-op\" data-link-for=\"map\" data-xref-for=\"map\" data-cite=\"infra\" data-cite-path=\"\" data-cite-frag=\"map-exists\" data-type=\"dfn\" href=\"https://infra.spec.whatwg.org/#map-exists\">exist</a> and <var>first</var>.<a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCRtpCodec\" data-xref-for=\"RTCRtpCodec\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtpcodec-sdpfmtpline\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtpcodec-sdpfmtpline-7\"><code>sdpFmtpLine</code></a>\n                      is different from <var>second</var>.<a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCRtpCodec\" data-xref-for=\"RTCRtpCodec\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtpcodec-sdpfmtpline\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtpcodec-sdpfmtpline-8\"><code>sdpFmtpLine</code></a>, return\n                      <code>false</code>.\n                    </p>"
        },
        {
          "html": "<p>\n                      Return <code>true</code>.\n                    </p>"
        }
      ]
    },
    {
      "html": "When the underlying DTLS transport experiences an error, such as a\n          certificate validation failure, or a fatal alert (see [<cite><a class=\"bibref\" data-link-type=\"biblio\" href=\"https://w3c.github.io/webrtc-pc/#bib-rfc5246\" title=\"The Transport Layer Security (TLS) Protocol Version 1.2\">RFC5246</a></cite>]\n          section 7.2), the user agent <em class=\"rfc2119\">MUST</em> queue a task that runs the\n          following steps:",
      "rationale": ".algorithm",
      "steps": [
        {
          "html": "<p>\n              Let <var>transport</var> be the <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCDtlsTransport\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcdtlstransport\" class=\"internalDFN\" id=\"ref-for-dom-rtcdtlstransport-25\"><code>RTCDtlsTransport</code></a> object to\n              receive the state update and error notification.\n            </p>"
        },
        {
          "html": "<p>\n              If the state of <var>transport</var> is already\n              \"<a data-link-type=\"idl\" data-xref-type=\"enum-value\" data-link-for=\"RTCDtlsTransportState\" data-xref-for=\"RTCDtlsTransportState\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcdtlstransportstate-failed\" class=\"internalDFN\" id=\"ref-for-dom-rtcdtlstransportstate-failed-2\"><code>failed</code></a>\", abort these steps.\n            </p>"
        },
        {
          "html": "<p>\n              Set <var>transport</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCDtlsTransport\" data-xref-for=\"RTCDtlsTransport\" data-lt=\"[[DtlsTransportState]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-dtlstransportstate\" class=\"internalDFN\" id=\"ref-for-dfn-dtlstransportstate-2\"><code>[[DtlsTransportState]]</code></a> to\n              \"<a data-link-type=\"idl\" data-xref-type=\"enum-value\" data-link-for=\"RTCDtlsTransportState\" data-xref-for=\"RTCDtlsTransportState\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcdtlstransportstate-failed\" class=\"internalDFN\" id=\"ref-for-dom-rtcdtlstransportstate-failed-3\"><code>failed</code></a>\".\n            </p>"
        },
        {
          "html": "<p>\n              <a data-link-type=\"dfn|abstract-op\" data-cite=\"dom\" data-cite-path=\"\" data-cite-frag=\"concept-event-fire\" data-type=\"dfn\" href=\"https://dom.spec.whatwg.org/#concept-event-fire\">Fire an event</a> named <a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCDtlsTransport\" data-xref-for=\"RTCDtlsTransport\" href=\"https://w3c.github.io/webrtc-pc/#dfn-error\" class=\"internalDFN\" id=\"ref-for-dfn-error-1\"><code>error</code></a> using the\n              <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCErrorEvent\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcerrorevent\" class=\"internalDFN\" id=\"ref-for-dom-rtcerrorevent-2\"><code>RTCErrorEvent</code></a> interface with its errorDetail attribute set to\n              either \"<a data-link-type=\"idl\" data-xref-type=\"enum-value\" data-link-for=\"RTCErrorDetailType\" data-xref-for=\"RTCErrorDetailType\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcerrordetailtype-dtls-failure\" class=\"internalDFN\" id=\"ref-for-dom-rtcerrordetailtype-dtls-failure-1\"><code>dtls-failure</code></a>\" or\n              \"<a data-link-type=\"idl\" data-xref-type=\"enum-value\" data-link-for=\"RTCErrorDetailType\" data-xref-for=\"RTCErrorDetailType\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcerrordetailtype-fingerprint-failure\" class=\"internalDFN\" id=\"ref-for-dom-rtcerrordetailtype-fingerprint-failure-1\"><code>fingerprint-failure</code></a>\", as appropriate, and\n              other fields set as described under the <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCErrorDetailType\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcerrordetailtype\" class=\"internalDFN\" id=\"ref-for-dom-rtcerrordetailtype-1\"><code>RTCErrorDetailType</code></a>\n              enum description, at <var>transport</var>.\n            </p>"
        },
        {
          "html": "<p>\n              <a data-link-type=\"dfn|abstract-op\" data-cite=\"dom\" data-cite-path=\"\" data-cite-frag=\"concept-event-fire\" data-type=\"dfn\" href=\"https://dom.spec.whatwg.org/#concept-event-fire\">Fire an event</a> named <a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCDtlsTransport\" data-xref-for=\"RTCDtlsTransport\" href=\"https://w3c.github.io/webrtc-pc/#event-dtlstransport-statechange\" class=\"internalDFN\" id=\"ref-for-event-dtlstransport-statechange-1\"><code>statechange</code></a> at\n              <var>transport</var>.\n            </p>"
        }
      ]
    },
    {
      "html": "When the underlying DTLS transport needs to update the state of the\n          corresponding <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCDtlsTransport\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcdtlstransport\" class=\"internalDFN\" id=\"ref-for-dom-rtcdtlstransport-26\"><code>RTCDtlsTransport</code></a> object for any other reason, the\n          user agent <em class=\"rfc2119\">MUST</em> queue a task that runs the following steps:",
      "rationale": ".algorithm",
      "steps": [
        {
          "html": "<p>\n              Let <var>transport</var> be the <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCDtlsTransport\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcdtlstransport\" class=\"internalDFN\" id=\"ref-for-dom-rtcdtlstransport-27\"><code>RTCDtlsTransport</code></a> object to\n              receive the state update.\n            </p>"
        },
        {
          "html": "<p>\n              Let <var>newState</var> be the new state.\n            </p>"
        },
        {
          "html": "<p>\n              Set <var>transport</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCDtlsTransport\" data-xref-for=\"RTCDtlsTransport\" data-lt=\"[[DtlsTransportState]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-dtlstransportstate\" class=\"internalDFN\" id=\"ref-for-dfn-dtlstransportstate-3\"><code>[[DtlsTransportState]]</code></a> to\n              <var>newState</var>.\n            </p>"
        },
        {
          "html": "<p>\n              If <var>newState</var> is <a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCDtlsTransportState\" data-xref-for=\"RTCDtlsTransportState\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcdtlstransportstate-connected\" class=\"internalDFN\" id=\"ref-for-dom-rtcdtlstransportstate-connected-2\"><code>connected</code></a>\n              then let <var>newRemoteCertificates</var> be the certificate\n              chain in use by the remote side, with each certificate encoded in\n              binary Distinguished Encoding Rules (DER) [<cite><a class=\"bibref\" data-link-type=\"biblio\" href=\"https://w3c.github.io/webrtc-pc/#bib-x690\" title=\"Recommendation X.690  Information Technology  ASN.1 Encoding Rules  Specification of Basic Encoding Rules (BER), Canonical Encoding Rules (CER), and Distinguished Encoding Rules (DER)\">X690</a></cite>], and set\n              <var>transport</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCDtlsTransport\" data-xref-for=\"RTCDtlsTransport\" data-lt=\"[[RemoteCertificates]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-remotecertificates\" class=\"internalDFN\" id=\"ref-for-dfn-remotecertificates-1\"><code>[[RemoteCertificates]]</code></a> to\n              <var>newRemoteCertificates</var>.\n            </p>"
        },
        {
          "html": "<p>\n              <a data-link-type=\"dfn|abstract-op\" data-cite=\"dom\" data-cite-path=\"\" data-cite-frag=\"concept-event-fire\" data-type=\"dfn\" href=\"https://dom.spec.whatwg.org/#concept-event-fire\">Fire an event</a> named <a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCDtlsTransport\" data-xref-for=\"RTCDtlsTransport\" href=\"https://w3c.github.io/webrtc-pc/#event-dtlstransport-statechange\" class=\"internalDFN\" id=\"ref-for-event-dtlstransport-statechange-2\"><code>statechange</code></a> at\n              <var>transport</var>.\n            </p>"
        }
      ]
    },
    {
      "html": "When the <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-ice-agent\" class=\"internalDFN\" id=\"ref-for-dfn-ice-agent-27\">ICE Agent</a> indicates that it began gathering a <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-generation\" class=\"internalDFN\" id=\"ref-for-dfn-generation-7\">generation</a> of candidates for an <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCIceTransport\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcicetransport\" class=\"internalDFN\" id=\"ref-for-dom-rtcicetransport-28\"><code>RTCIceTransport</code></a> <var>transport</var>\n          associated with an <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCPeerConnection\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcpeerconnection\" class=\"internalDFN\" id=\"ref-for-dom-rtcpeerconnection-120\"><code>RTCPeerConnection</code></a> <var>connection</var>, the user\n          agent <em class=\"rfc2119\">MUST</em> queue a task that runs the following steps:",
      "rationale": ".algorithm",
      "steps": [
        {
          "html": "<p>\n              If <var>connection</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCPeerConnection\" data-xref-for=\"RTCPeerConnection\" data-lt=\"[[IsClosed]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-isclosed\" class=\"internalDFN\" id=\"ref-for-dfn-isclosed-26\"><code>[[IsClosed]]</code></a> is\n              <code>true</code>, abort these steps.\n            </p>"
        },
        {
          "html": "<p>\n              Set <var>transport</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCIceTransport\" data-xref-for=\"RTCIceTransport\" data-lt=\"[[IceGathererState]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-icegathererstate\" class=\"internalDFN\" id=\"ref-for-dfn-icegathererstate-1\"><code>[[IceGathererState]]</code></a> to\n              <a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCIceGathererState\" data-xref-for=\"RTCIceGathererState\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcicegathererstate-gathering\" class=\"internalDFN\" id=\"ref-for-dom-rtcicegathererstate-gathering-3\"><code>gathering</code></a>.\n            </p>"
        },
        {
          "html": "<p>\n              Set <var>connection</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCPeerConnection\" data-xref-for=\"RTCPeerConnection\" data-lt=\"[[IceGatheringState]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-icegatheringstate\" class=\"internalDFN\" id=\"ref-for-dfn-icegatheringstate-3\"><code>[[IceGatheringState]]</code></a>\n              to the value of deriving a new state value as described by the\n              <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCIceGatheringState\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcicegatheringstate\" class=\"internalDFN\" id=\"ref-for-dom-rtcicegatheringstate-7\"><code>RTCIceGatheringState</code></a> enum.\n            </p>"
        },
        {
          "html": "<p>\n              Let <var>connectionIceGatheringStateChanged</var> be\n              <code>true</code> if\n              <var>connection</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCPeerConnection\" data-xref-for=\"RTCPeerConnection\" data-lt=\"[[IceGatheringState]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-icegatheringstate\" class=\"internalDFN\" id=\"ref-for-dfn-icegatheringstate-4\"><code>[[IceGatheringState]]</code></a>\n              changed in the previous step, otherwise <code>false</code>.\n            </p>"
        },
        {
          "html": "<p>Do not read or modify state beyond this point.</p>"
        },
        {
          "html": "<p>\n              <a data-link-type=\"dfn|abstract-op\" data-cite=\"dom\" data-cite-path=\"\" data-cite-frag=\"concept-event-fire\" data-type=\"dfn\" href=\"https://dom.spec.whatwg.org/#concept-event-fire\">Fire an event</a> named <a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCIceTransport\" data-xref-for=\"RTCIceTransport\" href=\"https://w3c.github.io/webrtc-pc/#event-icetransport-gatheringstatechange\" class=\"internalDFN\" id=\"ref-for-event-icetransport-gatheringstatechange-1\"><code>gatheringstatechange</code></a> at\n              <var>transport</var>.\n            </p>"
        },
        {
          "html": "<p>\n              If <var>connectionIceGatheringStateChanged</var> is\n              <code>true</code>, <a data-link-type=\"dfn|abstract-op\" data-cite=\"dom\" data-cite-path=\"\" data-cite-frag=\"concept-event-fire\" data-type=\"dfn\" href=\"https://dom.spec.whatwg.org/#concept-event-fire\">fire an event</a> named\n              <a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCPeerConnection\" data-xref-for=\"RTCPeerConnection\" href=\"https://w3c.github.io/webrtc-pc/#event-icegatheringstatechange\" class=\"internalDFN\" id=\"ref-for-event-icegatheringstatechange-3\"><code>icegatheringstatechange</code></a> at <var>connection</var>.\n            </p>"
        }
      ]
    },
    {
      "html": "When the <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-ice-agent\" class=\"internalDFN\" id=\"ref-for-dfn-ice-agent-28\">ICE Agent</a> is finished gathering a <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-generation\" class=\"internalDFN\" id=\"ref-for-dfn-generation-8\">generation</a> of\n          candidates for an <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCIceTransport\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcicetransport\" class=\"internalDFN\" id=\"ref-for-dom-rtcicetransport-29\"><code>RTCIceTransport</code></a> <var>transport</var> associated\n          with an <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCPeerConnection\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcpeerconnection\" class=\"internalDFN\" id=\"ref-for-dom-rtcpeerconnection-121\"><code>RTCPeerConnection</code></a> <var>connection</var>, and those candidates have been\n          surfaced to the application, the user agent <em class=\"rfc2119\">MUST</em> queue a task to run the following\n          steps:",
      "rationale": ".algorithm",
      "steps": [
        {
          "html": "<p>\n              If <var>connection</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCPeerConnection\" data-xref-for=\"RTCPeerConnection\" data-lt=\"[[IsClosed]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-isclosed\" class=\"internalDFN\" id=\"ref-for-dfn-isclosed-27\"><code>[[IsClosed]]</code></a> is\n              <code>true</code>, abort these steps.\n            </p>"
        },
        {
          "html": "<p>\n              If <var>connection</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCPeerConnection\" data-xref-for=\"RTCPeerConnection\" data-lt=\"[[PendingLocalDescription]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-pendinglocaldescription\" class=\"internalDFN\" id=\"ref-for-dfn-pendinglocaldescription-14\"><code>[[PendingLocalDescription]]</code></a> is\n              not <code>null</code>, and represents the ICE <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-generation\" class=\"internalDFN\" id=\"ref-for-dfn-generation-9\">generation</a>\n              for which gathering finished, add\n              <code>a=end-of-candidates</code> to\n              <var>connection</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCPeerConnection\" data-xref-for=\"RTCPeerConnection\" data-lt=\"[[PendingLocalDescription]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-pendinglocaldescription\" class=\"internalDFN\" id=\"ref-for-dfn-pendinglocaldescription-15\"><code>[[PendingLocalDescription]]</code></a>.sdp.\n            </p>"
        },
        {
          "html": "<p>\n              If <var>connection</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCPeerConnection\" data-xref-for=\"RTCPeerConnection\" data-lt=\"[[CurrentLocalDescription]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-currentlocaldescription\" class=\"internalDFN\" id=\"ref-for-dfn-currentlocaldescription-14\"><code>[[CurrentLocalDescription]]</code></a> is\n              not <code>null</code>, and represents the ICE <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-generation\" class=\"internalDFN\" id=\"ref-for-dfn-generation-10\">generation</a>\n              for which gathering finished, add\n              <code>a=end-of-candidates</code> to\n              <var>connection</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCPeerConnection\" data-xref-for=\"RTCPeerConnection\" data-lt=\"[[CurrentLocalDescription]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-currentlocaldescription\" class=\"internalDFN\" id=\"ref-for-dfn-currentlocaldescription-15\"><code>[[CurrentLocalDescription]]</code></a>.sdp.\n            </p>"
        },
        {
          "html": "<p>\n              Let <var>endOfGatheringCandidate</var> be the result of <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-creating-an-rtcicecandidate\" class=\"internalDFN\" id=\"ref-for-dfn-creating-an-rtcicecandidate-2\">creating an RTCIceCandidate</a> with a new dictionary whose\n              <a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCIceCandidateInit\" data-xref-for=\"RTCIceCandidateInit\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcicecandidateinit-sdpmid\" class=\"internalDFN\" id=\"ref-for-dom-rtcicecandidateinit-sdpmid-4\"><code>sdpMid</code></a> and\n              <a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCIceCandidateInit\" data-xref-for=\"RTCIceCandidateInit\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcicecandidateinit-sdpmlineindex\" class=\"internalDFN\" id=\"ref-for-dom-rtcicecandidateinit-sdpmlineindex-4\"><code>sdpMLineIndex</code></a> are set to the values\n              associated with this <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCIceTransport\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcicetransport\" class=\"internalDFN\" id=\"ref-for-dom-rtcicetransport-30\"><code>RTCIceTransport</code></a>,\n              <a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCIceCandidateInit\" data-xref-for=\"RTCIceCandidateInit\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcicecandidateinit-usernamefragment\" class=\"internalDFN\" id=\"ref-for-dom-rtcicecandidateinit-usernamefragment-3\"><code>usernameFragment</code></a> is set to the username\n              fragment of the <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-generation\" class=\"internalDFN\" id=\"ref-for-dfn-generation-11\">generation</a> of candidates for which\n              gathering finished, and <a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCIceCandidateInit\" data-xref-for=\"RTCIceCandidateInit\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcicecandidateinit-candidate\" class=\"internalDFN\" id=\"ref-for-dom-rtcicecandidateinit-candidate-8\"><code>candidate</code></a> is set to <code>\"\"</code>.\n            </p>"
        },
        {
          "html": "<p>\n              <a data-link-type=\"dfn|abstract-op\" data-cite=\"dom\" data-cite-path=\"\" data-cite-frag=\"concept-event-fire\" data-type=\"dfn\" href=\"https://dom.spec.whatwg.org/#concept-event-fire\">Fire an event</a> named <a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCPeerConnection\" data-xref-for=\"RTCPeerConnection\" href=\"https://w3c.github.io/webrtc-pc/#event-icecandidate\" class=\"internalDFN\" id=\"ref-for-event-icecandidate-4\"><code>icecandidate</code></a> using the\n              <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCPeerConnectionIceEvent\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcpeerconnectioniceevent\" class=\"internalDFN\" id=\"ref-for-dom-rtcpeerconnectioniceevent-5\"><code>RTCPeerConnectionIceEvent</code></a> interface with the candidate\n              attribute set to <var>endOfGatheringCandidate</var> at\n              <var>connection</var>.\n            </p>"
        }
      ]
    },
    {
      "html": "When the <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-ice-agent\" class=\"internalDFN\" id=\"ref-for-dfn-ice-agent-29\">ICE Agent</a> has queued the above task, and no other\n          <a data-link-type=\"dfn|abstract-op\" data-lt=\"generation\" href=\"https://w3c.github.io/webrtc-pc/#dfn-generation\" class=\"internalDFN\" id=\"ref-for-dfn-generation-12\">generations</a> of candidates is being gathered, the user agent\n          <em class=\"rfc2119\">MUST</em> also queue a second task to run the following steps:",
      "rationale": ".algorithm",
      "steps": [
        {
          "html": "<p>\n              If <var>connection</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCPeerConnection\" data-xref-for=\"RTCPeerConnection\" data-lt=\"[[IsClosed]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-isclosed\" class=\"internalDFN\" id=\"ref-for-dfn-isclosed-28\"><code>[[IsClosed]]</code></a> is\n              <code>true</code>, abort these steps.\n            </p>"
        },
        {
          "html": "<p>\n              Set <var>transport</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCIceTransport\" data-xref-for=\"RTCIceTransport\" data-lt=\"[[IceGathererState]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-icegathererstate\" class=\"internalDFN\" id=\"ref-for-dfn-icegathererstate-2\"><code>[[IceGathererState]]</code></a> to\n              <a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCIceGathererState\" data-xref-for=\"RTCIceGathererState\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcicegathererstate-complete\" class=\"internalDFN\" id=\"ref-for-dom-rtcicegathererstate-complete-2\"><code>complete</code></a>.\n            </p>"
        },
        {
          "html": "<p>\n              Set <var>connection</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCPeerConnection\" data-xref-for=\"RTCPeerConnection\" data-lt=\"[[IceGatheringState]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-icegatheringstate\" class=\"internalDFN\" id=\"ref-for-dfn-icegatheringstate-5\"><code>[[IceGatheringState]]</code></a>\n              to the value of deriving a new state value as described by the\n              <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCIceGatheringState\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcicegatheringstate\" class=\"internalDFN\" id=\"ref-for-dom-rtcicegatheringstate-8\"><code>RTCIceGatheringState</code></a> enum.\n            </p>"
        },
        {
          "html": "<p>\n              Let <var>connectionIceGatheringStateChanged</var> be\n              <code>true</code> if\n              <var>connection</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCPeerConnection\" data-xref-for=\"RTCPeerConnection\" data-lt=\"[[IceGatheringState]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-icegatheringstate\" class=\"internalDFN\" id=\"ref-for-dfn-icegatheringstate-6\"><code>[[IceGatheringState]]</code></a>\n              changed in the previous step, otherwise <code>false</code>.\n            </p>"
        },
        {
          "html": "<p>Do not read or modify state beyond this point.</p>"
        },
        {
          "html": "<p>\n              <a data-link-type=\"dfn|abstract-op\" data-cite=\"dom\" data-cite-path=\"\" data-cite-frag=\"concept-event-fire\" data-type=\"dfn\" href=\"https://dom.spec.whatwg.org/#concept-event-fire\">Fire an event</a> named <a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCIceTransport\" data-xref-for=\"RTCIceTransport\" href=\"https://w3c.github.io/webrtc-pc/#event-icetransport-gatheringstatechange\" class=\"internalDFN\" id=\"ref-for-event-icetransport-gatheringstatechange-2\"><code>gatheringstatechange</code></a> at\n              <var>transport</var>.\n            </p>"
        },
        {
          "html": "<p>\n              If <var>connectionIceGatheringStateChanged</var> is\n              <code>true</code>, <a data-link-type=\"dfn|abstract-op\" data-cite=\"dom\" data-cite-path=\"\" data-cite-frag=\"concept-event-fire\" data-type=\"dfn\" href=\"https://dom.spec.whatwg.org/#concept-event-fire\">fire an event</a> named\n              <a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCPeerConnection\" data-xref-for=\"RTCPeerConnection\" href=\"https://w3c.github.io/webrtc-pc/#event-icegatheringstatechange\" class=\"internalDFN\" id=\"ref-for-event-icegatheringstatechange-4\"><code>icegatheringstatechange</code></a> at <var>connection</var>.\n            </p>"
        },
        {
          "html": "<p>\n              <a data-link-type=\"dfn|abstract-op\" data-cite=\"dom\" data-cite-path=\"\" data-cite-frag=\"concept-event-fire\" data-type=\"dfn\" href=\"https://dom.spec.whatwg.org/#concept-event-fire\">Fire an event</a>\n              named <a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCPeerConnection\" data-xref-for=\"RTCPeerConnection\" href=\"https://w3c.github.io/webrtc-pc/#event-icecandidate\" class=\"internalDFN\" id=\"ref-for-event-icecandidate-5\"><code>icecandidate</code></a> using the\n              <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCPeerConnectionIceEvent\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcpeerconnectioniceevent\" class=\"internalDFN\" id=\"ref-for-dom-rtcpeerconnectioniceevent-6\"><code>RTCPeerConnectionIceEvent</code></a> interface with the candidate\n              attribute set to <code>null</code> at <var>connection</var>.\n            </p>"
        }
      ]
    },
    {
      "html": "When the <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-ice-agent\" class=\"internalDFN\" id=\"ref-for-dfn-ice-agent-30\">ICE Agent</a> indicates that a new ICE candidate is\n          available for an <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCIceTransport\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcicetransport\" class=\"internalDFN\" id=\"ref-for-dom-rtcicetransport-32\"><code>RTCIceTransport</code></a>, either by taking one from the\n          <a data-link-type=\"dfn|abstract-op\" data-lt=\"ICE candidate pool size\" href=\"https://w3c.github.io/webrtc-pc/#dfn-ice-candidate-pool-size\" class=\"internalDFN\" id=\"ref-for-dfn-ice-candidate-pool-size-3\">ICE candidate pool</a> or gathering it\n          from scratch, the user agent <em class=\"rfc2119\">MUST</em> queue a task that runs the\n          following steps:",
      "rationale": ".algorithm",
      "steps": [
        {
          "html": "<p>\n              Let <var>candidate</var> be the available ICE candidate.\n            </p>"
        },
        {
          "html": "<p>\n              Let <var>connection</var> be the <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCPeerConnection\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcpeerconnection\" class=\"internalDFN\" id=\"ref-for-dom-rtcpeerconnection-123\"><code>RTCPeerConnection</code></a> object\n              associated with this <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-ice-agent\" class=\"internalDFN\" id=\"ref-for-dfn-ice-agent-31\">ICE Agent</a>.\n            </p>"
        },
        {
          "html": "<p>\n              If <var>connection</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCPeerConnection\" data-xref-for=\"RTCPeerConnection\" data-lt=\"[[IsClosed]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-isclosed\" class=\"internalDFN\" id=\"ref-for-dfn-isclosed-29\"><code>[[IsClosed]]</code></a> is\n              <code>true</code>, abort these steps.\n            </p>"
        },
        {
          "html": "<p>\n              If either\n              <var>connection</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCPeerConnection\" data-xref-for=\"RTCPeerConnection\" data-lt=\"[[PendingLocalDescription]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-pendinglocaldescription\" class=\"internalDFN\" id=\"ref-for-dfn-pendinglocaldescription-16\"><code>[[PendingLocalDescription]]</code></a> or\n              <var>connection</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCPeerConnection\" data-xref-for=\"RTCPeerConnection\" data-lt=\"[[CurrentLocalDescription]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-currentlocaldescription\" class=\"internalDFN\" id=\"ref-for-dfn-currentlocaldescription-16\"><code>[[CurrentLocalDescription]]</code></a> are not\n              <code>null</code>, and represent the ICE <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-generation\" class=\"internalDFN\" id=\"ref-for-dfn-generation-15\">generation</a> for\n              which <var>candidate</var> was gathered, <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-surface-the-candidate\" class=\"internalDFN\" id=\"ref-for-dfn-surface-the-candidate-2\">surface the candidate</a> with <var>candidate</var> and <var>connection</var>, and abort\n              these steps.\n            </p>"
        },
        {
          "html": "<p>\n              Otherwise, append <var>candidate</var> to\n              <var>connection</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCPeerConnection\" data-xref-for=\"RTCPeerConnection\" data-lt=\"[[EarlyCandidates]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-earlycandidates\" class=\"internalDFN\" id=\"ref-for-dfn-earlycandidates-1\"><code>[[EarlyCandidates]]</code></a>.\n            </p>"
        }
      ]
    },
    {
      "name": "release early candidates",
      "href": "https://w3c.github.io/webrtc-pc/#dfn-release-early-candidates",
      "html": "To <dfn class=\"abstract-op\" data-dfn-type=\"abstract-op\" id=\"dfn-release-early-candidates\" tabindex=\"0\" aria-haspopup=\"dialog\" data-export=\"\">release early candidates</dfn> of a <var>connection</var>,\n          run the following steps:",
      "rationale": ".algorithm",
      "steps": [
        {
          "html": "<p>\n              For each candidate, <var>candidate</var>, in\n              <var>connection</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCPeerConnection\" data-xref-for=\"RTCPeerConnection\" data-lt=\"[[EarlyCandidates]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-earlycandidates\" class=\"internalDFN\" id=\"ref-for-dfn-earlycandidates-2\"><code>[[EarlyCandidates]]</code></a>, queue a task\n              to <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-surface-the-candidate\" class=\"internalDFN\" id=\"ref-for-dfn-surface-the-candidate-3\">surface the candidate</a> with <var>candidate</var> and\n              <var>connection</var>.\n            </p>"
        },
        {
          "html": "<p>\n              Set <var>connection</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCPeerConnection\" data-xref-for=\"RTCPeerConnection\" data-lt=\"[[EarlyCandidates]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-earlycandidates\" class=\"internalDFN\" id=\"ref-for-dfn-earlycandidates-3\"><code>[[EarlyCandidates]]</code></a> to an empty\n              list.\n            </p>"
        }
      ]
    },
    {
      "name": "surface the candidate",
      "href": "https://w3c.github.io/webrtc-pc/#dfn-surface-the-candidate",
      "html": "To <dfn class=\"abstract-op\" data-lt=\"surface the candidate|surface a candidate\" data-dfn-type=\"abstract-op\" id=\"dfn-surface-the-candidate\" tabindex=\"0\" aria-haspopup=\"dialog\" data-export=\"\">surface a candidate</dfn>\n          with <var>candidate</var> and <var>connection</var>, run the\n          following steps:",
      "rationale": ".algorithm",
      "steps": [
        {
          "html": "<p>\n              If <var>connection</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCPeerConnection\" data-xref-for=\"RTCPeerConnection\" data-lt=\"[[IsClosed]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-isclosed\" class=\"internalDFN\" id=\"ref-for-dfn-isclosed-30\"><code>[[IsClosed]]</code></a> is\n              <code>true</code>, abort these steps.\n            </p>"
        },
        {
          "html": "<p>\n              Let <var>transport</var> be the <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCIceTransport\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcicetransport\" class=\"internalDFN\" id=\"ref-for-dom-rtcicetransport-33\"><code>RTCIceTransport</code></a> for which\n              <var>candidate</var> is being made available.\n            </p>"
        },
        {
          "html": "<p>\n              If <var>connection</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCPeerConnection\" data-xref-for=\"RTCPeerConnection\" data-lt=\"[[PendingLocalDescription]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-pendinglocaldescription\" class=\"internalDFN\" id=\"ref-for-dfn-pendinglocaldescription-17\"><code>[[PendingLocalDescription]]</code></a> is\n              not <code>null</code>, and represents the ICE <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-generation\" class=\"internalDFN\" id=\"ref-for-dfn-generation-16\">generation</a>\n              for which <var>candidate</var> was gathered, add\n              <var>candidate</var> to\n              <var>connection</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCPeerConnection\" data-xref-for=\"RTCPeerConnection\" data-lt=\"[[PendingLocalDescription]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-pendinglocaldescription\" class=\"internalDFN\" id=\"ref-for-dfn-pendinglocaldescription-18\"><code>[[PendingLocalDescription]]</code></a>.sdp.\n            </p>"
        },
        {
          "html": "<p>\n              If <var>connection</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCPeerConnection\" data-xref-for=\"RTCPeerConnection\" data-lt=\"[[CurrentLocalDescription]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-currentlocaldescription\" class=\"internalDFN\" id=\"ref-for-dfn-currentlocaldescription-17\"><code>[[CurrentLocalDescription]]</code></a> is\n              not <code>null</code>, and represents the ICE <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-generation\" class=\"internalDFN\" id=\"ref-for-dfn-generation-17\">generation</a>\n              for which <var>candidate</var> was gathered, add\n              <var>candidate</var> to\n              <var>connection</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCPeerConnection\" data-xref-for=\"RTCPeerConnection\" data-lt=\"[[CurrentLocalDescription]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-currentlocaldescription\" class=\"internalDFN\" id=\"ref-for-dfn-currentlocaldescription-18\"><code>[[CurrentLocalDescription]]</code></a>.sdp.\n            </p>"
        },
        {
          "html": "<p>\n              Let <var>newCandidate</var> be the result of <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-creating-an-rtcicecandidate\" class=\"internalDFN\" id=\"ref-for-dfn-creating-an-rtcicecandidate-3\">creating an RTCIceCandidate</a> with a new dictionary whose\n              <a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCIceCandidateInit\" data-xref-for=\"RTCIceCandidateInit\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcicecandidateinit-sdpmid\" class=\"internalDFN\" id=\"ref-for-dom-rtcicecandidateinit-sdpmid-5\"><code>sdpMid</code></a> and\n              <a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCIceCandidateInit\" data-xref-for=\"RTCIceCandidateInit\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcicecandidateinit-sdpmlineindex\" class=\"internalDFN\" id=\"ref-for-dom-rtcicecandidateinit-sdpmlineindex-5\"><code>sdpMLineIndex</code></a> are set to the values\n              associated with this <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCIceTransport\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcicetransport\" class=\"internalDFN\" id=\"ref-for-dom-rtcicetransport-34\"><code>RTCIceTransport</code></a>,\n              <a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCIceCandidateInit\" data-xref-for=\"RTCIceCandidateInit\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcicecandidateinit-usernamefragment\" class=\"internalDFN\" id=\"ref-for-dom-rtcicecandidateinit-usernamefragment-4\"><code>usernameFragment</code></a> is set to the username\n              fragment of the candidate, and <a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCIceCandidateInit\" data-xref-for=\"RTCIceCandidateInit\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcicecandidateinit-candidate\" class=\"internalDFN\" id=\"ref-for-dom-rtcicecandidateinit-candidate-9\"><code>candidate</code></a>\n              is set to a string encoded using the <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-candidate-attribute\" class=\"internalDFN\" id=\"ref-for-dfn-candidate-attribute-15\"><code>candidate-attribute</code></a>\n              grammar to represent <var>candidate</var>.\n            </p>"
        },
        {
          "html": "<p>\n              Add <var>newCandidate</var> to <var>transport</var>'s set of\n              local candidates.\n            </p>"
        },
        {
          "html": "<p>\n              <a data-link-type=\"dfn|abstract-op\" data-cite=\"dom\" data-cite-path=\"\" data-cite-frag=\"concept-event-fire\" data-type=\"dfn\" href=\"https://dom.spec.whatwg.org/#concept-event-fire\">Fire an event</a> named <a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCPeerConnection\" data-xref-for=\"RTCPeerConnection\" href=\"https://w3c.github.io/webrtc-pc/#event-icecandidate\" class=\"internalDFN\" id=\"ref-for-event-icecandidate-6\"><code>icecandidate</code></a> using the\n              <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCPeerConnectionIceEvent\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcpeerconnectioniceevent\" class=\"internalDFN\" id=\"ref-for-dom-rtcpeerconnectioniceevent-7\"><code>RTCPeerConnectionIceEvent</code></a> interface with the candidate\n              attribute set to <var>newCandidate</var> at\n              <var>connection</var>.\n            </p>"
        }
      ]
    },
    {
      "name": "RTCIceTransport/change the selected candidate pair and state",
      "href": "https://w3c.github.io/webrtc-pc/#dfn-change-the-selected-candidate-pair-and-state",
      "html": "When the <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-ice-agent\" class=\"internalDFN\" id=\"ref-for-dfn-ice-agent-33\">ICE Agent</a> indicates that an <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCIceTransport\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcicetransport\" class=\"internalDFN\" id=\"ref-for-dom-rtcicetransport-36\"><code>RTCIceTransport</code></a> has\n          changed either the selected candidate pair, the\n          <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCIceTransportState\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcicetransportstate\" class=\"internalDFN\" id=\"ref-for-dom-rtcicetransportstate-3\"><code>RTCIceTransportState</code></a> or both, the user agent <em class=\"rfc2119\">MUST</em> queue a task\n          that runs the steps to <dfn class=\"export\" data-dfn-for=\"RTCIceTransport\" data-export=\"\" id=\"dfn-change-the-selected-candidate-pair-and-state\" tabindex=\"0\" aria-haspopup=\"dialog\" data-dfn-type=\"dfn\">change the selected candidate pair and state</dfn>:",
      "rationale": ".algorithm",
      "steps": [
        {
          "html": "<p>\n              Let <var>connection</var> be the <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCPeerConnection\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcpeerconnection\" class=\"internalDFN\" id=\"ref-for-dom-rtcpeerconnection-124\"><code>RTCPeerConnection</code></a> object\n              associated with this <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-ice-agent\" class=\"internalDFN\" id=\"ref-for-dfn-ice-agent-34\">ICE Agent</a>.\n            </p>"
        },
        {
          "html": "<p>\n              If <var>connection</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCPeerConnection\" data-xref-for=\"RTCPeerConnection\" data-lt=\"[[IsClosed]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-isclosed\" class=\"internalDFN\" id=\"ref-for-dfn-isclosed-31\"><code>[[IsClosed]]</code></a> is\n              <code>true</code>, abort these steps.\n            </p>"
        },
        {
          "html": "<p>\n              Let <var>transport</var> be the <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCIceTransport\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcicetransport\" class=\"internalDFN\" id=\"ref-for-dom-rtcicetransport-37\"><code>RTCIceTransport</code></a> whose state\n              is changing.\n            </p>"
        },
        {
          "html": "<p>\n              Let <var>selectedCandidatePairChanged</var> be\n              <code>false</code>.\n            </p>"
        },
        {
          "html": "<p>\n              Let <var>transportIceConnectionStateChanged</var> be\n              <code>false</code>.\n            </p>"
        },
        {
          "html": "<p>\n              Let <var>connectionIceConnectionStateChanged</var> be\n              <code>false</code>.\n            </p>"
        },
        {
          "html": "<p>\n              Let <var>connectionStateChanged</var> be <code>false</code>.\n            </p>"
        },
        {
          "html": "If <var>transport</var>'s selected candidate pair was changed,\n              run the following steps:",
          "rationale": "let",
          "steps": [
            {
              "html": "<p>\n                  Let <var>newCandidatePair</var> be the result of <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-creating-an-rtcicecandidatepair\" class=\"internalDFN\" id=\"ref-for-dfn-creating-an-rtcicecandidatepair-1\">creating an RTCIceCandidatePair</a> with <var data-type=\"RTCIceCandidate\">local</var> and <var data-type=\"RTCIceCandidate\">remote</var>, representing the local and remote candidates of the indicated pair if one is selected, and <code>null</code> otherwise.\n                </p>"
            },
            {
              "html": "<p>\n                  Set <var>transport</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCIceTransport\" data-xref-for=\"RTCIceTransport\" data-lt=\"[[SelectedCandidatePair]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-selectedcandidatepair\" class=\"internalDFN\" id=\"ref-for-dfn-selectedcandidatepair-2\"><code>[[SelectedCandidatePair]]</code></a> to\n                  <var>newCandidatePair</var>.\n                </p>"
            },
            {
              "html": "<p>\n                  Set <var>selectedCandidatePairChanged</var> to\n                  <code>true</code>.\n                </p>"
            }
          ]
        },
        {
          "html": "If <var>transport</var>'s <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCIceTransportState\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcicetransportstate\" class=\"internalDFN\" id=\"ref-for-dom-rtcicetransportstate-4\"><code>RTCIceTransportState</code></a> was changed,\n              run the following steps:",
          "rationale": "set",
          "steps": [
            {
              "html": "<p>\n                  Set <var>transport</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCIceTransport\" data-xref-for=\"RTCIceTransport\" data-lt=\"[[IceTransportState]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-icetransportstate\" class=\"internalDFN\" id=\"ref-for-dfn-icetransportstate-2\"><code>[[IceTransportState]]</code></a> to the\n                  new indicated <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCIceTransportState\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcicetransportstate\" class=\"internalDFN\" id=\"ref-for-dom-rtcicetransportstate-5\"><code>RTCIceTransportState</code></a>.\n                </p>"
            },
            {
              "html": "<p>\n                  Set <var>transportIceConnectionStateChanged</var> to\n                  <code>true</code>.\n                </p>"
            },
            {
              "html": "<p>\n                  Set <var>connection</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCPeerConnection\" data-xref-for=\"RTCPeerConnection\" data-lt=\"[[IceConnectionState]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-iceconnectionstate\" class=\"internalDFN\" id=\"ref-for-dfn-iceconnectionstate-9\"><code>[[IceConnectionState]]</code></a> to the\n                  value of deriving a new state value as described by the\n                  <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCIceConnectionState\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtciceconnectionstate\" class=\"internalDFN\" id=\"ref-for-dom-rtciceconnectionstate-5\"><code>RTCIceConnectionState</code></a> enum.\n                </p>"
            },
            {
              "html": "<p>\n                  If <var>connection</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCPeerConnection\" data-xref-for=\"RTCPeerConnection\" data-lt=\"[[IceConnectionState]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-iceconnectionstate\" class=\"internalDFN\" id=\"ref-for-dfn-iceconnectionstate-10\"><code>[[IceConnectionState]]</code></a>\n                  changed in the previous\n                  step, set <var>connectionIceConnectionStateChanged</var> to\n                  <code>true</code>.\n                </p>"
            },
            {
              "html": "<p>\n                  Set <var>connection</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCPeerConnection\" data-xref-for=\"RTCPeerConnection\" data-lt=\"[[ConnectionState]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-connectionstate\" class=\"internalDFN\" id=\"ref-for-dfn-connectionstate-7\"><code>[[ConnectionState]]</code></a> to the\n                  value of deriving a new state value as described by the\n                  <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCPeerConnectionState\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcpeerconnectionstate\" class=\"internalDFN\" id=\"ref-for-dom-rtcpeerconnectionstate-6\"><code>RTCPeerConnectionState</code></a> enum.\n                </p>"
            },
            {
              "html": "<p>\n                  If <var>connection</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCPeerConnection\" data-xref-for=\"RTCPeerConnection\" data-lt=\"[[ConnectionState]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-connectionstate\" class=\"internalDFN\" id=\"ref-for-dfn-connectionstate-8\"><code>[[ConnectionState]]</code></a>\n                  changed in the previous step,\n                  set <var>connectionStateChanged</var> to <code>true</code>.\n                </p>"
            }
          ]
        },
        {
          "html": "<p>\n              If <var>selectedCandidatePairChanged</var> is <code>true</code>,\n              <a data-link-type=\"dfn|abstract-op\" data-cite=\"dom\" data-cite-path=\"\" data-cite-frag=\"concept-event-fire\" data-type=\"dfn\" href=\"https://dom.spec.whatwg.org/#concept-event-fire\">fire an event</a> named <a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCIceTransport\" data-xref-for=\"RTCIceTransport\" href=\"https://w3c.github.io/webrtc-pc/#event-icetransport-selectedcandidatepairchange\" class=\"internalDFN\" id=\"ref-for-event-icetransport-selectedcandidatepairchange-1\"><code>selectedcandidatepairchange</code></a> at\n              <var>transport</var>.\n            </p>"
        },
        {
          "html": "<p>\n              If <var>transportIceConnectionStateChanged</var> is\n              <code>true</code>, <a data-link-type=\"dfn|abstract-op\" data-cite=\"dom\" data-cite-path=\"\" data-cite-frag=\"concept-event-fire\" data-type=\"dfn\" href=\"https://dom.spec.whatwg.org/#concept-event-fire\">fire an event</a> named <a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCIceTransport\" data-xref-for=\"RTCIceTransport\" href=\"https://w3c.github.io/webrtc-pc/#event-icetransport-statechange\" class=\"internalDFN\" id=\"ref-for-event-icetransport-statechange-1\"><code>statechange</code></a> at\n              <var>transport</var>.\n            </p>"
        },
        {
          "html": "<p>\n              If <var>connectionIceConnectionStateChanged</var> is\n              <code>true</code>, <a data-link-type=\"dfn|abstract-op\" data-cite=\"dom\" data-cite-path=\"\" data-cite-frag=\"concept-event-fire\" data-type=\"dfn\" href=\"https://dom.spec.whatwg.org/#concept-event-fire\">fire an event</a> named\n              <a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCPeerConnection\" data-xref-for=\"RTCPeerConnection\" href=\"https://w3c.github.io/webrtc-pc/#event-iceconnectionstatechange\" class=\"internalDFN\" id=\"ref-for-event-iceconnectionstatechange-2\"><code>iceconnectionstatechange</code></a> at <var>connection</var>.\n            </p>"
        },
        {
          "html": "<p>\n              If <var>connectionStateChanged</var> is <code>true</code>, <a data-link-type=\"dfn|abstract-op\" data-cite=\"dom\" data-cite-path=\"\" data-cite-frag=\"concept-event-fire\" data-type=\"dfn\" href=\"https://dom.spec.whatwg.org/#concept-event-fire\">fire an event</a> named <a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCPeerConnection\" data-xref-for=\"RTCPeerConnection\" href=\"https://w3c.github.io/webrtc-pc/#event-connectionstatechange\" class=\"internalDFN\" id=\"ref-for-event-connectionstatechange-3\"><code>connectionstatechange</code></a> at\n              <var>connection</var>.\n            </p>"
        }
      ]
    },
    {
      "name": "RTCIceCandidatePair/[[Local]]",
      "href": "https://w3c.github.io/webrtc-pc/#dfn-local",
      "html": "To <dfn class=\"abstract-op\" data-lt=\"creating an RTCIceCandidatePair|create an RTCIceCandidatePair\" data-dfn-type=\"abstract-op\" id=\"dfn-creating-an-rtcicecandidatepair\" tabindex=\"0\" aria-haspopup=\"dialog\" data-export=\"\">create an RTCIceCandidatePair</dfn> with <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCIceCandidate\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcicecandidate\" class=\"internalDFN\" id=\"ref-for-dom-rtcicecandidate-22\"><code>RTCIceCandidate</code></a> objects, <var data-type=\"RTCIceCandidate\">local</var> and <var data-type=\"RTCIceCandidate\">remote</var>, run the following steps:",
      "rationale": ".algorithm",
      "steps": [
        {
          "html": "Let <var data-type=\"RTCIceCandidatePair\">candidatePair</var> be a newly created <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCIceCandidatePair\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcicecandidatepair\" class=\"internalDFN\" id=\"ref-for-dom-rtcicecandidatepair-3\"><code>RTCIceCandidatePair</code></a> object."
        },
        {
          "html": "Let <var data-type=\"RTCIceCandidatePair\">candidatePair</var> have a <dfn data-dfn-for=\"RTCIceCandidatePair\" data-idl=\"\" data-noexport=\"\" data-dfn-type=\"attribute\" id=\"dfn-local\" tabindex=\"0\" aria-haspopup=\"dialog\">[[Local]]</dfn> internal slot, initialized to <var data-type=\"RTCIceCandidate\">local</var>."
        },
        {
          "html": "Let <var data-type=\"RTCIceCandidatePair\">candidatePair</var> have a <dfn data-dfn-for=\"RTCIceCandidatePair\" data-idl=\"\" data-noexport=\"\" data-dfn-type=\"attribute\" id=\"dfn-remote\" tabindex=\"0\" aria-haspopup=\"dialog\">[[Remote]]</dfn> internal slot, initialized to <var data-type=\"RTCIceCandidate\">remote</var>."
        },
        {
          "html": "Return <var data-type=\"RTCIceCandidatePair\">candidatePair</var>."
        }
      ]
    },
    {
      "name": "RTCPeerConnection/createDataChannel()",
      "href": "https://w3c.github.io/webrtc-pc/#dom-peerconnection-createdatachannel",
      "html": "When the <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"createDataChannel\" href=\"https://w3c.github.io/webrtc-pc/#dom-peerconnection-createdatachannel\" class=\"internalDFN\" id=\"ref-for-dom-peerconnection-createdatachannel-2\"><code>createDataChannel</code></a> method is invoked, the user\n                  agent <em class=\"rfc2119\">MUST</em> run the following steps.",
      "rationale": ".algorithm",
      "steps": [
        {
          "html": "<p>\n                      Let <var>connection</var> be the <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCPeerConnection\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcpeerconnection\" class=\"internalDFN\" id=\"ref-for-dom-rtcpeerconnection-128\"><code>RTCPeerConnection</code></a>\n                      object on which the method is invoked.\n                    </p>"
        },
        {
          "html": "<p>\n                      If <var>connection</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCPeerConnection\" data-xref-for=\"RTCPeerConnection\" data-lt=\"[[IsClosed]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-isclosed\" class=\"internalDFN\" id=\"ref-for-dfn-isclosed-32\"><code>[[IsClosed]]</code></a> is\n                      <code>true</code>, <a data-link-type=\"dfn|abstract-op\" data-link-for=\"exception\" data-xref-for=\"exception\" data-cite=\"webidl\" data-cite-path=\"\" data-cite-frag=\"dfn-throw\" data-type=\"dfn\" href=\"https://webidl.spec.whatwg.org/#dfn-throw\">throw</a> an\n                      <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"InvalidStateError\" data-cite=\"webidl\" data-cite-path=\"\" data-cite-frag=\"invalidstateerror\" data-type=\"exception\" href=\"https://webidl.spec.whatwg.org/#invalidstateerror\"><code>InvalidStateError</code></a>.\n                    </p>"
        },
        {
          "html": "<p>\n                      <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-create-an-rtcdatachannel\" class=\"internalDFN\" id=\"ref-for-dfn-create-an-rtcdatachannel-1\">Create an RTCDataChannel</a>, <var>channel</var>.\n                    </p>"
        },
        {
          "html": "<p>\n                      Initialize\n                      <var>channel</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCDataChannel\" data-xref-for=\"RTCDataChannel\" data-lt=\"[[DataChannelLabel]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-datachannellabel\" class=\"internalDFN\" id=\"ref-for-dfn-datachannellabel-1\"><code>[[DataChannelLabel]]</code></a> to the\n                      value of the first argument.\n                    </p>"
        },
        {
          "html": "<p>\n                      If the UTF-8 representation of\n                      <a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCDataChannel\" data-xref-for=\"RTCDataChannel\" data-lt=\"[[DataChannelLabel]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-datachannellabel\" class=\"internalDFN\" id=\"ref-for-dfn-datachannellabel-2\"><code>[[DataChannelLabel]]</code></a> is longer than 65535 bytes,\n                      <a data-link-type=\"dfn|abstract-op\" data-link-for=\"exception\" data-xref-for=\"exception\" data-cite=\"webidl\" data-cite-path=\"\" data-cite-frag=\"dfn-throw\" data-type=\"dfn\" href=\"https://webidl.spec.whatwg.org/#dfn-throw\">throw</a> a <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"TypeError\" data-cite=\"webidl\" data-cite-path=\"\" data-cite-frag=\"exceptiondef-typeerror\" data-type=\"exception\" href=\"https://webidl.spec.whatwg.org/#exceptiondef-typeerror\"><code>TypeError</code></a>.\n                    </p>"
        },
        {
          "html": "<p>\n                      Let <var>options</var> be the second argument.\n                    </p>"
        },
        {
          "html": "<p>\n                      Initialize\n                      <var>channel</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCDataChannel\" data-xref-for=\"RTCDataChannel\" data-lt=\"[[MaxPacketLifeTime]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-maxpacketlifetime\" class=\"internalDFN\" id=\"ref-for-dfn-maxpacketlifetime-1\"><code>[[MaxPacketLifeTime]]</code></a> to\n                      <var>option</var>.<a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCDataChannelInit\" data-xref-for=\"RTCDataChannelInit\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcdatachannelinit-maxpacketlifetime\" class=\"internalDFN\" id=\"ref-for-dom-rtcdatachannelinit-maxpacketlifetime-1\"><code>maxPacketLifeTime</code></a>,\n                      if present, otherwise <code>null</code>.\n                    </p>"
        },
        {
          "html": "<p>\n                      Initialize <var>channel</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCDataChannel\" data-xref-for=\"RTCDataChannel\" data-lt=\"[[MaxRetransmits]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-maxretransmits\" class=\"internalDFN\" id=\"ref-for-dfn-maxretransmits-1\"><code>[[MaxRetransmits]]</code></a>\n                      to\n                      <var>option</var>.<a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCDataChannelInit\" data-xref-for=\"RTCDataChannelInit\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcdatachannelinit-maxretransmits\" class=\"internalDFN\" id=\"ref-for-dom-rtcdatachannelinit-maxretransmits-1\"><code>maxRetransmits</code></a>,\n                      if present, otherwise <code>null</code>.\n                    </p>"
        },
        {
          "html": "<p>\n                      Initialize <var>channel</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCDataChannel\" data-xref-for=\"RTCDataChannel\" data-lt=\"[[Ordered]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-ordered\" class=\"internalDFN\" id=\"ref-for-dfn-ordered-1\"><code>[[Ordered]]</code></a> to\n                      <var>option</var>.<a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCDataChannelInit\" data-xref-for=\"RTCDataChannelInit\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcdatachannelinit-ordered\" class=\"internalDFN\" id=\"ref-for-dom-rtcdatachannelinit-ordered-1\"><code>ordered</code></a>.\n                    </p>"
        },
        {
          "html": "<p>\n                      Initialize\n                      <var>channel</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCDataChannel\" data-xref-for=\"RTCDataChannel\" data-lt=\"[[DataChannelProtocol]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-datachannelprotocol\" class=\"internalDFN\" id=\"ref-for-dfn-datachannelprotocol-1\"><code>[[DataChannelProtocol]]</code></a> to\n                      <var>option</var>.<a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCDataChannelInit\" data-xref-for=\"RTCDataChannelInit\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcdatachannelinit-protocol\" class=\"internalDFN\" id=\"ref-for-dom-rtcdatachannelinit-protocol-1\"><code>protocol</code></a>.\n                    </p>"
        },
        {
          "html": "<p>\n                      If the UTF-8 representation of\n                      <a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCDataChannel\" data-xref-for=\"RTCDataChannel\" data-lt=\"[[DataChannelProtocol]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-datachannelprotocol\" class=\"internalDFN\" id=\"ref-for-dfn-datachannelprotocol-2\"><code>[[DataChannelProtocol]]</code></a> is longer than 65535\n                      bytes, <a data-link-type=\"dfn|abstract-op\" data-link-for=\"exception\" data-xref-for=\"exception\" data-cite=\"webidl\" data-cite-path=\"\" data-cite-frag=\"dfn-throw\" data-type=\"dfn\" href=\"https://webidl.spec.whatwg.org/#dfn-throw\">throw</a> a <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"TypeError\" data-cite=\"webidl\" data-cite-path=\"\" data-cite-frag=\"exceptiondef-typeerror\" data-type=\"exception\" href=\"https://webidl.spec.whatwg.org/#exceptiondef-typeerror\"><code>TypeError</code></a>.\n                    </p>"
        },
        {
          "html": "<p>\n                      Initialize <var>channel</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCDataChannel\" data-xref-for=\"RTCDataChannel\" data-lt=\"[[Negotiated]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-negotiated\" class=\"internalDFN\" id=\"ref-for-dfn-negotiated-1\"><code>[[Negotiated]]</code></a> to\n                      <var>option</var>.<a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCDataChannelInit\" data-xref-for=\"RTCDataChannelInit\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcdatachannelinit-negotiated\" class=\"internalDFN\" id=\"ref-for-dom-rtcdatachannelinit-negotiated-1\"><code>negotiated</code></a>.\n                    </p>"
        },
        {
          "html": "<p>\n                      Initialize <var>channel</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCDataChannel\" data-xref-for=\"RTCDataChannel\" data-lt=\"[[DataChannelId]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-datachannelid\" class=\"internalDFN\" id=\"ref-for-dfn-datachannelid-1\"><code>[[DataChannelId]]</code></a>\n                      to the value of\n                      <var>option</var>.<a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCDataChannelInit\" data-xref-for=\"RTCDataChannelInit\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcdatachannelinit-id\" class=\"internalDFN\" id=\"ref-for-dom-rtcdatachannelinit-id-1\"><code>id</code></a>, if it is\n                      present and <a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCDataChannel\" data-xref-for=\"RTCDataChannel\" data-lt=\"[[Negotiated]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-negotiated\" class=\"internalDFN\" id=\"ref-for-dfn-negotiated-2\"><code>[[Negotiated]]</code></a> is true, otherwise\n                      <code>null</code>.\n                    </p>"
        },
        {
          "html": "<p>\n                      If <a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCDataChannel\" data-xref-for=\"RTCDataChannel\" data-lt=\"[[Negotiated]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-negotiated\" class=\"internalDFN\" id=\"ref-for-dfn-negotiated-3\"><code>[[Negotiated]]</code></a> is <code>true</code> and\n                      <a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCDataChannel\" data-xref-for=\"RTCDataChannel\" data-lt=\"[[DataChannelId]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-datachannelid\" class=\"internalDFN\" id=\"ref-for-dfn-datachannelid-2\"><code>[[DataChannelId]]</code></a> is <code>null</code>, <a data-link-type=\"dfn|abstract-op\" data-link-for=\"exception\" data-xref-for=\"exception\" data-cite=\"webidl\" data-cite-path=\"\" data-cite-frag=\"dfn-throw\" data-type=\"dfn\" href=\"https://webidl.spec.whatwg.org/#dfn-throw\">throw</a> a <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"TypeError\" data-cite=\"webidl\" data-cite-path=\"\" data-cite-frag=\"exceptiondef-typeerror\" data-type=\"exception\" href=\"https://webidl.spec.whatwg.org/#exceptiondef-typeerror\"><code>TypeError</code></a>.\n                    </p>"
        },
        {
          "html": "<p>\n                      If both <a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCDataChannel\" data-xref-for=\"RTCDataChannel\" data-lt=\"[[MaxPacketLifeTime]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-maxpacketlifetime\" class=\"internalDFN\" id=\"ref-for-dfn-maxpacketlifetime-2\"><code>[[MaxPacketLifeTime]]</code></a> and\n                      <a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCDataChannel\" data-xref-for=\"RTCDataChannel\" data-lt=\"[[MaxRetransmits]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-maxretransmits\" class=\"internalDFN\" id=\"ref-for-dfn-maxretransmits-2\"><code>[[MaxRetransmits]]</code></a> attributes are set (not null),\n                      <a data-link-type=\"dfn|abstract-op\" data-link-for=\"exception\" data-xref-for=\"exception\" data-cite=\"webidl\" data-cite-path=\"\" data-cite-frag=\"dfn-throw\" data-type=\"dfn\" href=\"https://webidl.spec.whatwg.org/#dfn-throw\">throw</a> a <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"TypeError\" data-cite=\"webidl\" data-cite-path=\"\" data-cite-frag=\"exceptiondef-typeerror\" data-type=\"exception\" href=\"https://webidl.spec.whatwg.org/#exceptiondef-typeerror\"><code>TypeError</code></a>.\n                    </p>"
        },
        {
          "html": "<p>\n                      If a setting, either <a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCDataChannel\" data-xref-for=\"RTCDataChannel\" data-lt=\"[[MaxPacketLifeTime]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-maxpacketlifetime\" class=\"internalDFN\" id=\"ref-for-dfn-maxpacketlifetime-3\"><code>[[MaxPacketLifeTime]]</code></a> or\n                      <a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCDataChannel\" data-xref-for=\"RTCDataChannel\" data-lt=\"[[MaxRetransmits]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-maxretransmits\" class=\"internalDFN\" id=\"ref-for-dfn-maxretransmits-3\"><code>[[MaxRetransmits]]</code></a>, has been set to indicate\n                      unreliable mode, and that value exceeds the maximum value\n                      supported by the user agent, the value <em class=\"rfc2119\">MUST</em> be set to the\n                      user agents maximum value.\n                    </p>"
        },
        {
          "html": "<p>\n                      If <a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCDataChannel\" data-xref-for=\"RTCDataChannel\" data-lt=\"[[DataChannelId]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-datachannelid\" class=\"internalDFN\" id=\"ref-for-dfn-datachannelid-3\"><code>[[DataChannelId]]</code></a> is equal to 65535, which is\n                      greater than the maximum allowed ID of 65534 but still\n                      qualifies as an <span class=\"idlMemberType\">unsigned\n                      short</span>, <a data-link-type=\"dfn|abstract-op\" data-link-for=\"exception\" data-xref-for=\"exception\" data-cite=\"webidl\" data-cite-path=\"\" data-cite-frag=\"dfn-throw\" data-type=\"dfn\" href=\"https://webidl.spec.whatwg.org/#dfn-throw\">throw</a> a <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"TypeError\" data-cite=\"webidl\" data-cite-path=\"\" data-cite-frag=\"exceptiondef-typeerror\" data-type=\"exception\" href=\"https://webidl.spec.whatwg.org/#exceptiondef-typeerror\"><code>TypeError</code></a>.\n                    </p>"
        },
        {
          "html": "<p>\n                      If the <a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCDataChannel\" data-xref-for=\"RTCDataChannel\" data-lt=\"[[DataChannelId]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-datachannelid\" class=\"internalDFN\" id=\"ref-for-dfn-datachannelid-4\"><code>[[DataChannelId]]</code></a> slot is\n                      <code>null</code> (due to no ID being passed into\n                      <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"createDataChannel\" href=\"https://w3c.github.io/webrtc-pc/#dom-peerconnection-createdatachannel\" class=\"internalDFN\" id=\"ref-for-dom-peerconnection-createdatachannel-3\"><code>createDataChannel</code></a>, or <a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCDataChannel\" data-xref-for=\"RTCDataChannel\" data-lt=\"[[Negotiated]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-negotiated\" class=\"internalDFN\" id=\"ref-for-dfn-negotiated-4\"><code>[[Negotiated]]</code></a> being\n                      false), and the DTLS role of the SCTP transport has\n                      already been negotiated, then initialize\n                      <a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCDataChannel\" data-xref-for=\"RTCDataChannel\" data-lt=\"[[DataChannelId]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-datachannelid\" class=\"internalDFN\" id=\"ref-for-dfn-datachannelid-5\"><code>[[DataChannelId]]</code></a> to a value generated by the\n                      user agent, according to [<cite><a class=\"bibref\" data-link-type=\"biblio\" href=\"https://w3c.github.io/webrtc-pc/#bib-rfc8832\" title=\"WebRTC Data Channel Establishment Protocol\">RFC8832</a></cite>], and\n                      skip to the next step. If no available ID could be\n                      generated, or if the value of the\n                      <a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCDataChannel\" data-xref-for=\"RTCDataChannel\" data-lt=\"[[DataChannelId]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-datachannelid\" class=\"internalDFN\" id=\"ref-for-dfn-datachannelid-6\"><code>[[DataChannelId]]</code></a> slot is being used by an\n                      existing <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCDataChannel\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcdatachannel\" class=\"internalDFN\" id=\"ref-for-dom-rtcdatachannel-10\"><code>RTCDataChannel</code></a>, <a data-link-type=\"dfn|abstract-op\" data-link-for=\"exception\" data-xref-for=\"exception\" data-cite=\"webidl\" data-cite-path=\"\" data-cite-frag=\"dfn-throw\" data-type=\"dfn\" href=\"https://webidl.spec.whatwg.org/#dfn-throw\">throw</a> an\n                      <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"OperationError\" data-cite=\"webidl\" data-cite-path=\"\" data-cite-frag=\"operationerror\" data-type=\"exception\" href=\"https://webidl.spec.whatwg.org/#operationerror\"><code>OperationError</code></a> exception.\n                    </p>"
        },
        {
          "html": "<p>\n                      Let <var>transport</var> be\n                      <var>connection</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCPeerConnection\" data-xref-for=\"RTCPeerConnection\" data-lt=\"[[SctpTransport]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-sctptransport\" class=\"internalDFN\" id=\"ref-for-dfn-sctptransport-9\"><code>[[SctpTransport]]</code></a>.\n                    </p>\n                    <p>\n                      If the <a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCDataChannel\" data-xref-for=\"RTCDataChannel\" data-lt=\"[[DataChannelId]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-datachannelid\" class=\"internalDFN\" id=\"ref-for-dfn-datachannelid-8\"><code>[[DataChannelId]]</code></a> slot is not\n                      <code>null</code>, <var>transport</var> is in the\n                      \"<a data-link-type=\"idl\" data-xref-type=\"enum-value\" data-link-for=\"RTCSctpTransportState\" data-xref-for=\"RTCSctpTransportState\" href=\"https://w3c.github.io/webrtc-pc/#idl-def-RTCSctpTransportState.connected\" class=\"internalDFN\" id=\"ref-for-idl-def-RTCSctpTransportState.connected-1\"><code>connected</code></a>\" state and\n                      <a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCDataChannel\" data-xref-for=\"RTCDataChannel\" data-lt=\"[[DataChannelId]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-datachannelid\" class=\"internalDFN\" id=\"ref-for-dfn-datachannelid-9\"><code>[[DataChannelId]]</code></a> is greater or equal to\n                      <var>transport</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCSctpTransport\" data-xref-for=\"RTCSctpTransport\" data-lt=\"[[MaxChannels]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-maxchannels\" class=\"internalDFN\" id=\"ref-for-dfn-maxchannels-1\"><code>[[MaxChannels]]</code></a>, <a data-link-type=\"dfn|abstract-op\" data-link-for=\"exception\" data-xref-for=\"exception\" data-cite=\"webidl\" data-cite-path=\"\" data-cite-frag=\"dfn-throw\" data-type=\"dfn\" href=\"https://webidl.spec.whatwg.org/#dfn-throw\">throw</a> an <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"OperationError\" data-cite=\"webidl\" data-cite-path=\"\" data-cite-frag=\"operationerror\" data-type=\"exception\" href=\"https://webidl.spec.whatwg.org/#operationerror\"><code>OperationError</code></a>.\n                    </p>"
        },
        {
          "html": "<p>\n                      If <var>channel</var> is the first <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCDataChannel\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcdatachannel\" class=\"internalDFN\" id=\"ref-for-dom-rtcdatachannel-11\"><code>RTCDataChannel</code></a>\n                      created on <var>connection</var>, <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-update-the-negotiation-needed-flag\" class=\"internalDFN\" id=\"ref-for-dfn-update-the-negotiation-needed-flag-15\">update the negotiation-needed flag</a> for <var>connection</var>.\n                    </p>"
        },
        {
          "html": "<p>\n                      <a data-link-type=\"dfn|abstract-op\" data-link-for=\"list\" data-xref-for=\"list\" data-cite=\"infra\" data-cite-path=\"\" data-cite-frag=\"list-append\" data-type=\"dfn\" href=\"https://infra.spec.whatwg.org/#list-append\">Append</a> <var>channel</var> to\n                      <var>connection</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCPeerConnection\" data-xref-for=\"RTCPeerConnection\" data-lt=\"[[DataChannels]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-datachannels\" class=\"internalDFN\" id=\"ref-for-dfn-datachannels-1\"><code>[[DataChannels]]</code></a>.\n                    </p>"
        },
        {
          "html": "<p>\n                      Return <var>channel</var> and continue the following\n                      steps <a data-link-type=\"dfn|abstract-op\" data-cite=\"html\" data-cite-path=\"/infrastructure.html\" data-cite-frag=\"in-parallel\" data-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel\">in parallel</a>.\n                    </p>"
        },
        {
          "html": "<p class=\"untestable\">\n                      Create <var>channel</var>'s associated <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-data-transport\" class=\"internalDFN\" id=\"ref-for-dfn-data-transport-1\">underlying data transport</a> and configure it according to the relevant\n                      properties of <var>channel</var>.\n                    </p>"
        }
      ]
    },
    {
      "name": "RTCSctpTransport/[[SctpTransportState]]",
      "href": "https://w3c.github.io/webrtc-pc/#dfn-sctptransportstate",
      "html": "To <dfn class=\"abstract-op\" data-dfn-type=\"abstract-op\" id=\"dfn-create-an-rtcsctptransport\" tabindex=\"0\" aria-haspopup=\"dialog\" data-export=\"\">create an <code>RTCSctpTransport</code></dfn> with an initial\n              state, <var>initialState</var>, run the following steps:",
      "rationale": ".algorithm",
      "steps": [
        {
          "html": "<p>\n                  Let <var>transport</var> be a new <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCSctpTransport\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcsctptransport\" class=\"internalDFN\" id=\"ref-for-dom-rtcsctptransport-5\"><code>RTCSctpTransport</code></a>\n                  object.\n                </p>"
        },
        {
          "html": "<p>\n                  Let <var>transport</var> have a\n                  <dfn data-dfn-for=\"RTCSctpTransport\" data-idl=\"\" data-noexport=\"\" data-dfn-type=\"attribute\" id=\"dfn-sctptransportstate\" tabindex=\"0\" aria-haspopup=\"dialog\">[[SctpTransportState]]</dfn> internal slot initialized\n                  to <var>initialState</var>.\n                </p>"
        },
        {
          "html": "<p>\n                  Let <var>transport</var> have a\n                  <dfn data-dfn-for=\"RTCSctpTransport\" data-idl=\"\" data-noexport=\"\" data-dfn-type=\"attribute\" id=\"dfn-maxmessagesize\" tabindex=\"0\" aria-haspopup=\"dialog\">[[MaxMessageSize]]</dfn> internal slot and run the\n                  steps labeled <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-update-the-data-max-message-size\" class=\"internalDFN\" id=\"ref-for-dfn-update-the-data-max-message-size-2\">update the data max message size</a> to\n                  initialize it.\n                </p>"
        },
        {
          "html": "<p>\n                  Let <var>transport</var> have a <dfn data-dfn-for=\"RTCSctpTransport\" data-idl=\"\" data-noexport=\"\" data-dfn-type=\"attribute\" id=\"dfn-maxchannels\" tabindex=\"0\" aria-haspopup=\"dialog\">[[MaxChannels]]</dfn>\n                  internal slot initialized to <code>null</code>.\n                </p>"
        },
        {
          "html": "<p>\n                  Return <var>transport</var>.\n                </p>"
        }
      ]
    },
    {
      "name": "update the data max message size",
      "href": "https://w3c.github.io/webrtc-pc/#dfn-update-the-data-max-message-size",
      "html": "To <dfn class=\"abstract-op\" data-dfn-type=\"abstract-op\" id=\"dfn-update-the-data-max-message-size\" tabindex=\"0\" aria-haspopup=\"dialog\" data-export=\"\">update the data max message size</dfn> of an\n              <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCSctpTransport\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcsctptransport\" class=\"internalDFN\" id=\"ref-for-dom-rtcsctptransport-6\"><code>RTCSctpTransport</code></a> run the following steps:",
      "rationale": ".algorithm",
      "steps": [
        {
          "html": "<p>\n                  Let <var>transport</var> be the <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCSctpTransport\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcsctptransport\" class=\"internalDFN\" id=\"ref-for-dom-rtcsctptransport-7\"><code>RTCSctpTransport</code></a> object\n                  to be updated.\n                </p>"
        },
        {
          "html": "<p>\n                  Let <var>remoteMaxMessageSize</var> be the value of the\n                  <code class=\"sdp\">max-message-size</code> SDP attribute read\n                  from the remote description, as described in [<cite><a class=\"bibref\" data-link-type=\"biblio\" href=\"https://w3c.github.io/webrtc-pc/#bib-rfc8841\" title=\"Session Description Protocol (SDP) Offer/Answer Procedures for Stream Control Transmission Protocol (SCTP) over Datagram Transport Layer Security (DTLS) Transport\">RFC8841</a></cite>]\n                  (section 6), or 65536 if the attribute is missing.\n                </p>"
        },
        {
          "html": "<p>\n                  Let <var>canSendSize</var> be the number of bytes that this\n                  client can send (i.e. the size of the local send buffer) or 0\n                  if the implementation can handle messages of any size.\n                </p>"
        },
        {
          "html": "<p>\n                  If both <var>remoteMaxMessageSize</var> and\n                  <var>canSendSize</var> are 0, set <a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCSctpTransport\" data-xref-for=\"RTCSctpTransport\" data-lt=\"[[MaxMessageSize]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-maxmessagesize\" class=\"internalDFN\" id=\"ref-for-dfn-maxmessagesize-1\"><code>[[MaxMessageSize]]</code></a>\n                  to the positive Infinity value.\n                </p>"
        },
        {
          "html": "<p>\n                  Else, if either <var>remoteMaxMessageSize</var> or\n                  <var>canSendSize</var> is 0, set <a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCSctpTransport\" data-xref-for=\"RTCSctpTransport\" data-lt=\"[[MaxMessageSize]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-maxmessagesize\" class=\"internalDFN\" id=\"ref-for-dfn-maxmessagesize-2\"><code>[[MaxMessageSize]]</code></a>\n                  to the larger of the two.\n                </p>"
        },
        {
          "html": "<p>\n                  Else, set <a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCSctpTransport\" data-xref-for=\"RTCSctpTransport\" data-lt=\"[[MaxMessageSize]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-maxmessagesize\" class=\"internalDFN\" id=\"ref-for-dfn-maxmessagesize-3\"><code>[[MaxMessageSize]]</code></a> to the smaller of\n                  <var>remoteMaxMessageSize</var> or <var>canSendSize</var>.\n                </p>"
        }
      ]
    },
    {
      "name": "rtcsctptransport connected",
      "href": "https://w3c.github.io/webrtc-pc/#dfn-rtcsctptransport-connected",
      "html": "Once an <dfn data-lt=\"rtcsctptransport connected|SCTP transport is connected\" id=\"dfn-rtcsctptransport-connected\" tabindex=\"0\" aria-haspopup=\"dialog\" data-dfn-type=\"dfn\">SCTP transport\n              is connected</dfn>, meaning the SCTP association of an <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCSctpTransport\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcsctptransport\" class=\"internalDFN\" id=\"ref-for-dom-rtcsctptransport-8\"><code>RTCSctpTransport</code></a> has been established, run the following steps:",
      "rationale": ".algorithm",
      "steps": [
        {
          "html": "<p>\n                  Let <var>transport</var> be the <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCSctpTransport\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcsctptransport\" class=\"internalDFN\" id=\"ref-for-dom-rtcsctptransport-9\"><code>RTCSctpTransport</code></a> object.\n                </p>"
        },
        {
          "html": "<p>\n                  Let <var>connection</var> be the <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCPeerConnection\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcpeerconnection\" class=\"internalDFN\" id=\"ref-for-dom-rtcpeerconnection-129\"><code>RTCPeerConnection</code></a> object\n                  associated with <var>transport</var>.\n                </p>"
        },
        {
          "html": "<p>\n                  Set <a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCSctpTransport\" data-xref-for=\"RTCSctpTransport\" data-lt=\"[[MaxChannels]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-maxchannels\" class=\"internalDFN\" id=\"ref-for-dfn-maxchannels-2\"><code>[[MaxChannels]]</code></a> to the minimum of the negotiated\n                  amount of incoming and outgoing SCTP streams.\n                </p>"
        },
        {
          "html": "For each of <var>connection</var>'s <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCDataChannel\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcdatachannel\" class=\"internalDFN\" id=\"ref-for-dom-rtcdatachannel-12\"><code>RTCDataChannel</code></a>:",
          "rationale": "let",
          "steps": [
            {
              "html": "<p>\n                      Let <var>channel</var> be the <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCDataChannel\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcdatachannel\" class=\"internalDFN\" id=\"ref-for-dom-rtcdatachannel-13\"><code>RTCDataChannel</code></a> object.\n                    </p>"
            },
            {
              "html": "<p>\n                      If <var>channel</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCDataChannel\" data-xref-for=\"RTCDataChannel\" data-lt=\"[[DataChannelId]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-datachannelid\" class=\"internalDFN\" id=\"ref-for-dfn-datachannelid-10\"><code>[[DataChannelId]]</code></a> is\n                      <code>null</code>, initialize <a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCDataChannel\" data-xref-for=\"RTCDataChannel\" data-lt=\"[[DataChannelId]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-datachannelid\" class=\"internalDFN\" id=\"ref-for-dfn-datachannelid-11\"><code>[[DataChannelId]]</code></a>\n                      to the value generated by the underlying sctp data\n                      channel, according to [<cite><a class=\"bibref\" data-link-type=\"biblio\" href=\"https://w3c.github.io/webrtc-pc/#bib-rfc8832\" title=\"WebRTC Data Channel Establishment Protocol\">RFC8832</a></cite>].\n                    </p>"
            },
            {
              "html": "<p>\n                      If <var>channel</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCDataChannel\" data-xref-for=\"RTCDataChannel\" data-lt=\"[[DataChannelId]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-datachannelid\" class=\"internalDFN\" id=\"ref-for-dfn-datachannelid-12\"><code>[[DataChannelId]]</code></a> is\n                      greater or equal to\n                      <var>transport</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCSctpTransport\" data-xref-for=\"RTCSctpTransport\" data-lt=\"[[MaxChannels]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-maxchannels\" class=\"internalDFN\" id=\"ref-for-dfn-maxchannels-3\"><code>[[MaxChannels]]</code></a>, or the\n                      previous step failed to assign an id, <a data-link-type=\"dfn|abstract-op\" data-lt=\"unable to create an RTCDataChannel\" href=\"https://w3c.github.io/webrtc-pc/#dfn-unable-to-create-an-rtcdatachannel\" class=\"internalDFN\" id=\"ref-for-dfn-unable-to-create-an-rtcdatachannel-1\">close</a> the <var>channel</var> due\n                      to a failure. Otherwise, <a data-link-type=\"dfn|abstract-op\" data-lt=\"announce the rtcdatachannel as open\" href=\"https://w3c.github.io/webrtc-pc/#announce-datachannel-open\" class=\"internalDFN\" id=\"ref-for-announce-datachannel-open-1\">announce the channel as open</a>.\n                    </p>"
            }
          ]
        },
        {
          "html": "<p>\n                  <a data-link-type=\"dfn|abstract-op\" data-cite=\"dom\" data-cite-path=\"\" data-cite-frag=\"concept-event-fire\" data-type=\"dfn\" href=\"https://dom.spec.whatwg.org/#concept-event-fire\">Fire an event</a> named <a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCSctpTransport\" data-xref-for=\"RTCSctpTransport\" href=\"https://w3c.github.io/webrtc-pc/#event-sctptransport-statechange\" class=\"internalDFN\" id=\"ref-for-event-sctptransport-statechange-1\"><code>statechange</code></a> at\n                  <var>transport</var>.\n                </p>"
        }
      ]
    },
    {
      "name": "RTCDataChannel/[[ReadyState]]",
      "href": "https://w3c.github.io/webrtc-pc/#dfn-readystate",
      "html": "To <dfn class=\"abstract-op\" data-dfn-type=\"abstract-op\" id=\"dfn-create-an-rtcdatachannel\" tabindex=\"0\" aria-haspopup=\"dialog\" data-export=\"\">create an <code>RTCDataChannel</code></dfn>, run the following\n            steps:",
      "rationale": ".algorithm",
      "steps": [
        {
          "html": "<p>\n                Let <var>channel</var> be a newly created <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCDataChannel\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcdatachannel\" class=\"internalDFN\" id=\"ref-for-dom-rtcdatachannel-29\"><code>RTCDataChannel</code></a>\n                object.\n              </p>"
        },
        {
          "html": "<p>\n                Let <var>channel</var> have a <dfn data-dfn-for=\"RTCDataChannel\" data-idl=\"\" data-noexport=\"\" data-dfn-type=\"attribute\" id=\"dfn-readystate\" tabindex=\"0\" aria-haspopup=\"dialog\">[[ReadyState]]</dfn>\n                internal slot initialized to\n                \"<a data-link-type=\"idl\" data-xref-type=\"enum-value\" data-link-for=\"RTCDataChannelState\" data-xref-for=\"RTCDataChannelState\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcdatachannelstate-connecting\" class=\"internalDFN\" id=\"ref-for-dom-rtcdatachannelstate-connecting-2\"><code>connecting</code></a>\".\n              </p>"
        },
        {
          "html": "<p>\n                Let <var>channel</var> have a <dfn data-dfn-for=\"RTCDataChannel\" data-idl=\"\" data-noexport=\"\" data-dfn-type=\"attribute\" id=\"dfn-bufferedamount\" tabindex=\"0\" aria-haspopup=\"dialog\">[[BufferedAmount]]</dfn>\n                internal slot initialized to <code>0</code>.\n              </p>"
        },
        {
          "html": "<p>\n                Let <var>channel</var> have internal slots named\n                <dfn data-dfn-for=\"RTCDataChannel\" data-idl=\"\" data-noexport=\"\" data-dfn-type=\"attribute\" id=\"dfn-datachannellabel\" tabindex=\"0\" aria-haspopup=\"dialog\">[[DataChannelLabel]]</dfn>, <dfn data-dfn-for=\"RTCDataChannel\" data-idl=\"\" data-noexport=\"\" data-dfn-type=\"attribute\" id=\"dfn-ordered\" tabindex=\"0\" aria-haspopup=\"dialog\">[[Ordered]]</dfn>,\n                <dfn data-dfn-for=\"RTCDataChannel\" data-idl=\"\" data-noexport=\"\" data-dfn-type=\"attribute\" id=\"dfn-maxpacketlifetime\" tabindex=\"0\" aria-haspopup=\"dialog\">[[MaxPacketLifeTime]]</dfn>,\n                <dfn data-dfn-for=\"RTCDataChannel\" data-idl=\"\" data-noexport=\"\" data-dfn-type=\"attribute\" id=\"dfn-maxretransmits\" tabindex=\"0\" aria-haspopup=\"dialog\">[[MaxRetransmits]]</dfn>,\n                <dfn data-dfn-for=\"RTCDataChannel\" data-idl=\"\" data-noexport=\"\" data-dfn-type=\"attribute\" id=\"dfn-datachannelprotocol\" tabindex=\"0\" aria-haspopup=\"dialog\">[[DataChannelProtocol]]</dfn>,\n                <dfn data-dfn-for=\"RTCDataChannel\" data-idl=\"\" data-noexport=\"\" data-dfn-type=\"attribute\" id=\"dfn-negotiated\" tabindex=\"0\" aria-haspopup=\"dialog\">[[Negotiated]]</dfn>, and <dfn data-dfn-for=\"RTCDataChannel\" data-idl=\"\" data-noexport=\"\" data-dfn-type=\"attribute\" id=\"dfn-datachannelid\" tabindex=\"0\" aria-haspopup=\"dialog\">[[DataChannelId]]</dfn>.\n              </p>"
        },
        {
          "html": "Let <var>channel</var> have a <dfn data-dfn-for=\"RTCDataChannel\" data-idl=\"\" data-noexport=\"\" data-dfn-type=\"attribute\" id=\"dfn-istransferable\" tabindex=\"0\" aria-haspopup=\"dialog\">[[IsTransferable]]</dfn> internal slot initialized to <code>true</code>."
        },
        {
          "html": "<a data-link-type=\"dfn|abstract-op\" data-cite=\"html\" data-cite-path=\"/webappapis.html\" data-cite-frag=\"queue-a-task\" data-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task\">Queue a task</a> to run the following step:",
          "rationale": "set",
          "steps": [
            {
              "html": "Set <var>channel</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCDataChannel\" data-xref-for=\"RTCDataChannel\" data-lt=\"[[IsTransferable]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-istransferable\" class=\"internalDFN\" id=\"ref-for-dfn-istransferable-1\"><code>[[IsTransferable]]</code></a> to <code>false</code>."
            }
          ]
        },
        {
          "html": "<p>\n                Return <var>channel</var>.\n              </p>"
        }
      ]
    },
    {
      "name": "announce the rtcdatachannel as open",
      "href": "https://w3c.github.io/webrtc-pc/#announce-datachannel-open",
      "html": "When the user agent is to <dfn class=\"abstract-op\" data-lt=\"announce the rtcdatachannel as open|announce an RTCDataChannel as open\" id=\"announce-datachannel-open\" data-dfn-type=\"abstract-op\" tabindex=\"0\" aria-haspopup=\"dialog\" data-export=\"\">announce an <code>RTCDataChannel</code> as\n            open</dfn>, the user agent <em class=\"rfc2119\">MUST</em> queue a task to run the following\n            steps:",
      "rationale": ".algorithm",
      "steps": [
        {
          "html": "<p>\n                If the associated <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCPeerConnection\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcpeerconnection\" class=\"internalDFN\" id=\"ref-for-dom-rtcpeerconnection-131\"><code>RTCPeerConnection</code></a> object's\n                <a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCPeerConnection\" data-xref-for=\"RTCPeerConnection\" data-lt=\"[[IsClosed]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-isclosed\" class=\"internalDFN\" id=\"ref-for-dfn-isclosed-33\"><code>[[IsClosed]]</code></a> slot is <code>true</code>, abort these\n                steps.\n              </p>"
        },
        {
          "html": "<p>\n                Let <var>channel</var> be the <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCDataChannel\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcdatachannel\" class=\"internalDFN\" id=\"ref-for-dom-rtcdatachannel-31\"><code>RTCDataChannel</code></a> object to be\n                announced.\n              </p>"
        },
        {
          "html": "<p>\n                If <var>channel</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCDataChannel\" data-xref-for=\"RTCDataChannel\" data-lt=\"[[ReadyState]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-readystate\" class=\"internalDFN\" id=\"ref-for-dfn-readystate-3\"><code>[[ReadyState]]</code></a> is\n                \"<a data-link-type=\"idl\" data-xref-type=\"enum-value\" data-link-for=\"RTCDataChannelState\" data-xref-for=\"RTCDataChannelState\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcdatachannelstate-closing\" class=\"internalDFN\" id=\"ref-for-dom-rtcdatachannelstate-closing-1\"><code>closing</code></a>\" or\n                \"<a data-link-type=\"idl\" data-xref-type=\"enum-value\" data-link-for=\"RTCDataChannelState\" data-xref-for=\"RTCDataChannelState\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcdatachannelstate-closed\" class=\"internalDFN\" id=\"ref-for-dom-rtcdatachannelstate-closed-3\"><code>closed</code></a>\", abort these steps.\n              </p>"
        },
        {
          "html": "<p>\n                Set <var>channel</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCDataChannel\" data-xref-for=\"RTCDataChannel\" data-lt=\"[[ReadyState]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-readystate\" class=\"internalDFN\" id=\"ref-for-dfn-readystate-4\"><code>[[ReadyState]]</code></a> to\n                \"<a data-link-type=\"idl\" data-xref-type=\"enum-value\" data-link-for=\"RTCDataChannelState\" data-xref-for=\"RTCDataChannelState\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcdatachannelstate-open\" class=\"internalDFN\" id=\"ref-for-dom-rtcdatachannelstate-open-1\"><code>open</code></a>\".\n              </p>"
        },
        {
          "html": "<p>\n                <a data-link-type=\"dfn|abstract-op\" data-cite=\"dom\" data-cite-path=\"\" data-cite-frag=\"concept-event-fire\" data-type=\"dfn\" href=\"https://dom.spec.whatwg.org/#concept-event-fire\">Fire an event</a> named <a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCDataChannel\" data-xref-for=\"RTCDataChannel\" href=\"https://w3c.github.io/webrtc-pc/#event-datachannel-open\" class=\"internalDFN\" id=\"ref-for-event-datachannel-open-3\"><code>open</code></a> at <var>channel</var>.\n              </p>"
        }
      ]
    },
    {
      "html": "When an <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-data-transport\" class=\"internalDFN\" id=\"ref-for-dfn-data-transport-4\">underlying data transport</a> is to be announced (the\n            other peer created a channel with <a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCDataChannelInit\" data-xref-for=\"RTCDataChannelInit\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcdatachannelinit-negotiated\" class=\"internalDFN\" id=\"ref-for-dom-rtcdatachannelinit-negotiated-5\"><code>negotiated</code></a>\n            unset or set to false), the user agent of the peer that did not\n            initiate the creation process <em class=\"rfc2119\">MUST</em> queue a task to run the\n            following steps:",
      "rationale": ".algorithm",
      "steps": [
        {
          "html": "<p>\n                Let <var>connection</var> be the <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCPeerConnection\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcpeerconnection\" class=\"internalDFN\" id=\"ref-for-dom-rtcpeerconnection-132\"><code>RTCPeerConnection</code></a> object\n                associated with the <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-data-transport\" class=\"internalDFN\" id=\"ref-for-dfn-data-transport-5\">underlying data transport</a>.\n              </p>"
        },
        {
          "html": "<p>\n                If <var>connection</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCPeerConnection\" data-xref-for=\"RTCPeerConnection\" data-lt=\"[[IsClosed]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-isclosed\" class=\"internalDFN\" id=\"ref-for-dfn-isclosed-34\"><code>[[IsClosed]]</code></a> is\n                <code>true</code>, abort these steps.\n              </p>"
        },
        {
          "html": "<p>\n                <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-create-an-rtcdatachannel\" class=\"internalDFN\" id=\"ref-for-dfn-create-an-rtcdatachannel-2\">Create an RTCDataChannel</a>, <var>channel</var>.\n              </p>"
        },
        {
          "html": "<p>\n                Let <var>configuration</var> be an information bundle received\n                from the other peer as a part of the process to establish the\n                <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-data-transport\" class=\"internalDFN\" id=\"ref-for-dfn-data-transport-6\">underlying data transport</a> described by the WebRTC\n                DataChannel Protocol specification [<cite><a class=\"bibref\" data-link-type=\"biblio\" href=\"https://w3c.github.io/webrtc-pc/#bib-rfc8832\" title=\"WebRTC Data Channel Establishment Protocol\">RFC8832</a></cite>].\n              </p>"
        },
        {
          "html": "<p>\n                Initialize <var>channel</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCDataChannel\" data-xref-for=\"RTCDataChannel\" data-lt=\"[[DataChannelLabel]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-datachannellabel\" class=\"internalDFN\" id=\"ref-for-dfn-datachannellabel-3\"><code>[[DataChannelLabel]]</code></a>,\n                <a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCDataChannel\" data-xref-for=\"RTCDataChannel\" data-lt=\"[[Ordered]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-ordered\" class=\"internalDFN\" id=\"ref-for-dfn-ordered-2\"><code>[[Ordered]]</code></a>, <a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCDataChannel\" data-xref-for=\"RTCDataChannel\" data-lt=\"[[MaxPacketLifeTime]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-maxpacketlifetime\" class=\"internalDFN\" id=\"ref-for-dfn-maxpacketlifetime-4\"><code>[[MaxPacketLifeTime]]</code></a>,\n                <a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCDataChannel\" data-xref-for=\"RTCDataChannel\" data-lt=\"[[MaxRetransmits]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-maxretransmits\" class=\"internalDFN\" id=\"ref-for-dfn-maxretransmits-4\"><code>[[MaxRetransmits]]</code></a>, <a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCDataChannel\" data-xref-for=\"RTCDataChannel\" data-lt=\"[[DataChannelProtocol]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-datachannelprotocol\" class=\"internalDFN\" id=\"ref-for-dfn-datachannelprotocol-3\"><code>[[DataChannelProtocol]]</code></a>,\n                and <a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCDataChannel\" data-xref-for=\"RTCDataChannel\" data-lt=\"[[DataChannelId]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-datachannelid\" class=\"internalDFN\" id=\"ref-for-dfn-datachannelid-13\"><code>[[DataChannelId]]</code></a> internal slots to the\n                corresponding values in <var>configuration</var>.\n              </p>"
        },
        {
          "html": "<p>\n                Initialize <var>channel</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCDataChannel\" data-xref-for=\"RTCDataChannel\" data-lt=\"[[Negotiated]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-negotiated\" class=\"internalDFN\" id=\"ref-for-dfn-negotiated-5\"><code>[[Negotiated]]</code></a> to\n                <code>false</code>.\n              </p>"
        },
        {
          "html": "<p>\n                <a data-link-type=\"dfn|abstract-op\" data-link-for=\"list\" data-xref-for=\"list\" data-cite=\"infra\" data-cite-path=\"\" data-cite-frag=\"list-append\" data-type=\"dfn\" href=\"https://infra.spec.whatwg.org/#list-append\">Append</a> <var>channel</var> to\n                <var>connection</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCPeerConnection\" data-xref-for=\"RTCPeerConnection\" data-lt=\"[[DataChannels]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-datachannels\" class=\"internalDFN\" id=\"ref-for-dfn-datachannels-2\"><code>[[DataChannels]]</code></a>.\n              </p>"
        },
        {
          "html": "<p>\n                Set <var>channel</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCDataChannel\" data-xref-for=\"RTCDataChannel\" data-lt=\"[[ReadyState]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-readystate\" class=\"internalDFN\" id=\"ref-for-dfn-readystate-5\"><code>[[ReadyState]]</code></a> to\n                \"<a data-link-type=\"idl\" data-xref-type=\"enum-value\" data-link-for=\"RTCDataChannelState\" data-xref-for=\"RTCDataChannelState\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcdatachannelstate-open\" class=\"internalDFN\" id=\"ref-for-dom-rtcdatachannelstate-open-2\"><code>open</code></a>\" (but do not fire the <a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCDataChannel\" data-xref-for=\"RTCDataChannel\" href=\"https://w3c.github.io/webrtc-pc/#event-datachannel-open\" class=\"internalDFN\" id=\"ref-for-event-datachannel-open-4\"><code>open</code></a>\n                event, yet).\n              </p>"
        },
        {
          "html": "<p>\n                <a data-link-type=\"dfn|abstract-op\" data-cite=\"dom\" data-cite-path=\"\" data-cite-frag=\"concept-event-fire\" data-type=\"dfn\" href=\"https://dom.spec.whatwg.org/#concept-event-fire\">Fire an event</a> named <a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCPeerConnection\" data-xref-for=\"RTCPeerConnection\" href=\"https://w3c.github.io/webrtc-pc/#event-datachannel\" class=\"internalDFN\" id=\"ref-for-event-datachannel-3\"><code>datachannel</code></a> using the\n                <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCDataChannelEvent\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcdatachannelevent\" class=\"internalDFN\" id=\"ref-for-dom-rtcdatachannelevent-3\"><code>RTCDataChannelEvent</code></a> interface with the\n                <a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCDataChannelEvent\" data-xref-for=\"RTCDataChannelEvent\" href=\"https://w3c.github.io/webrtc-pc/#dom-datachannelevent-channel\" class=\"internalDFN\" id=\"ref-for-dom-datachannelevent-channel-1\"><code>channel</code></a> attribute set to\n                <var>channel</var> at <var>connection</var>.\n              </p>"
        },
        {
          "html": "<p>\n                <a data-link-type=\"dfn|abstract-op\" data-lt=\"announce the rtcdatachannel as open\" href=\"https://w3c.github.io/webrtc-pc/#announce-datachannel-open\" class=\"internalDFN\" id=\"ref-for-announce-datachannel-open-4\">Announce the data channel as open</a>.\n              </p>"
        }
      ]
    },
    {
      "name": "closing procedure",
      "href": "https://w3c.github.io/webrtc-pc/#data-transport-closing-procedure",
      "html": "An <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCDataChannel\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcdatachannel\" class=\"internalDFN\" id=\"ref-for-dom-rtcdatachannel-32\"><code>RTCDataChannel</code></a> object's <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-data-transport\" class=\"internalDFN\" id=\"ref-for-dfn-data-transport-7\">underlying data transport</a> may\n            be torn down in a non-abrupt manner by running the <dfn id=\"data-transport-closing-procedure\" class=\"abstract-op\" data-dfn-type=\"abstract-op\" tabindex=\"0\" aria-haspopup=\"dialog\" data-export=\"\">closing procedure</dfn>. When\n            that happens the user agent <em class=\"rfc2119\">MUST</em> queue a task to run the following\n            steps:",
      "rationale": ".algorithm",
      "steps": [
        {
          "html": "<p>\n                Let <var>channel</var> be the <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCDataChannel\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcdatachannel\" class=\"internalDFN\" id=\"ref-for-dom-rtcdatachannel-33\"><code>RTCDataChannel</code></a> object whose\n                <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-data-transport\" class=\"internalDFN\" id=\"ref-for-dfn-data-transport-8\">underlying data transport</a> was closed.\n              </p>"
        },
        {
          "html": "<p>\n                Let <var>connection</var> be the <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCPeerConnection\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcpeerconnection\" class=\"internalDFN\" id=\"ref-for-dom-rtcpeerconnection-133\"><code>RTCPeerConnection</code></a> object\n                associated with <var>channel</var>.\n              </p>"
        },
        {
          "html": "<p>\n                <a data-link-type=\"dfn|abstract-op\" data-link-for=\"list\" data-xref-for=\"list\" data-cite=\"infra\" data-cite-path=\"\" data-cite-frag=\"list-remove\" data-type=\"dfn\" href=\"https://infra.spec.whatwg.org/#list-remove\">Remove</a> <var>channel</var> from <var>connection</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCPeerConnection\" data-xref-for=\"RTCPeerConnection\" data-lt=\"[[DataChannels]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-datachannels\" class=\"internalDFN\" id=\"ref-for-dfn-datachannels-3\"><code>[[DataChannels]]</code></a>.\n              </p>"
        },
        {
          "html": "<p>\n                Unless the procedure was initiated by\n                <var>channel</var>.<a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCDataChannel\" data-xref-for=\"RTCDataChannel\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcdatachannel-close\" class=\"internalDFN\" id=\"ref-for-dom-rtcdatachannel-close-1\"><code>close</code></a>, set\n                <var>channel</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCDataChannel\" data-xref-for=\"RTCDataChannel\" data-lt=\"[[ReadyState]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-readystate\" class=\"internalDFN\" id=\"ref-for-dfn-readystate-6\"><code>[[ReadyState]]</code></a> to\n                \"<a data-link-type=\"idl\" data-xref-type=\"enum-value\" data-link-for=\"RTCDataChannelState\" data-xref-for=\"RTCDataChannelState\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcdatachannelstate-closing\" class=\"internalDFN\" id=\"ref-for-dom-rtcdatachannelstate-closing-2\"><code>closing</code></a>\" and <a data-link-type=\"dfn|abstract-op\" data-cite=\"dom\" data-cite-path=\"\" data-cite-frag=\"concept-event-fire\" data-type=\"dfn\" href=\"https://dom.spec.whatwg.org/#concept-event-fire\">fire an event</a> named\n                <a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCDataChannel\" data-xref-for=\"RTCDataChannel\" href=\"https://w3c.github.io/webrtc-pc/#event-datachannel-closing\" class=\"internalDFN\" id=\"ref-for-event-datachannel-closing-1\"><code>closing</code></a> at <var>channel</var>.\n              </p>"
        },
        {
          "html": "Run the following steps <a data-link-type=\"dfn|abstract-op\" data-cite=\"html\" data-cite-path=\"/infrastructure.html\" data-cite-frag=\"in-parallel\" data-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel\">in parallel</a>:",
          "rationale": "finish",
          "steps": [
            {
              "html": "<p>\n                    Finish sending all currently pending messages of the\n                    <var>channel</var>.\n                  </p>"
            },
            {
              "html": "<p>\n                    Follow the closing procedure defined for the\n                    <var>channel</var>'s <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-data-transport\" class=\"internalDFN\" id=\"ref-for-dfn-data-transport-9\">underlying data transport</a> :\n                  </p>",
              "ignored": [
                "In the case of an SCTP-based transport, follow [RFC8831], section 6.7."
              ]
            },
            {
              "html": "<p>\n                    <a data-link-type=\"dfn|abstract-op\" data-link-for=\"RTCDataChannel underlying data transport\" data-xref-for=\"RTCDataChannel underlying data transport\" data-lt=\"closed\" href=\"https://w3c.github.io/webrtc-pc/#data-transport-closed\" class=\"internalDFN\" id=\"ref-for-data-transport-closed-1\">Close</a> the <var>channel</var>'s <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-data-transport\" class=\"internalDFN\" id=\"ref-for-dfn-data-transport-11\">data transport</a>\n                     by following the associated procedure.\n                  </p>"
            }
          ]
        }
      ]
    },
    {
      "name": "RTCDataChannel underlying data transport/closed",
      "href": "https://w3c.github.io/webrtc-pc/#data-transport-closed",
      "html": "When an <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCDataChannel\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcdatachannel\" class=\"internalDFN\" id=\"ref-for-dom-rtcdatachannel-34\"><code>RTCDataChannel</code></a> object's <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-data-transport\" class=\"internalDFN\" id=\"ref-for-dfn-data-transport-12\">underlying data transport</a>\n            has been <dfn id=\"data-transport-closed\" data-dfn-for=\"RTCDataChannel underlying data transport\" tabindex=\"0\" aria-haspopup=\"dialog\" data-dfn-type=\"dfn\">closed</dfn>, the user agent <em class=\"rfc2119\">MUST</em> queue a task to run the\n            following steps:",
      "rationale": ".algorithm",
      "steps": [
        {
          "html": "<p>\n                Let <var>channel</var> be the <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCDataChannel\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcdatachannel\" class=\"internalDFN\" id=\"ref-for-dom-rtcdatachannel-35\"><code>RTCDataChannel</code></a> object whose\n                <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-data-transport\" class=\"internalDFN\" id=\"ref-for-dfn-data-transport-13\">underlying data transport</a> was closed.\n              </p>"
        },
        {
          "html": "If <var>channel</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCDataChannel\" data-xref-for=\"RTCDataChannel\" data-lt=\"[[ReadyState]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-readystate\" class=\"internalDFN\" id=\"ref-for-dfn-readystate-7\"><code>[[ReadyState]]</code></a> is\n            \"<a data-link-type=\"idl\" data-xref-type=\"enum-value\" data-link-for=\"RTCDataChannelState\" data-xref-for=\"RTCDataChannelState\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcdatachannelstate-closed\" class=\"internalDFN\" id=\"ref-for-dom-rtcdatachannelstate-closed-4\"><code>closed</code></a>\", abort these steps."
        },
        {
          "html": "<p>\n                Set <var>channel</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCDataChannel\" data-xref-for=\"RTCDataChannel\" data-lt=\"[[ReadyState]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-readystate\" class=\"internalDFN\" id=\"ref-for-dfn-readystate-8\"><code>[[ReadyState]]</code></a> to\n                \"<a data-link-type=\"idl\" data-xref-type=\"enum-value\" data-link-for=\"RTCDataChannelState\" data-xref-for=\"RTCDataChannelState\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcdatachannelstate-closed\" class=\"internalDFN\" id=\"ref-for-dom-rtcdatachannelstate-closed-5\"><code>closed</code></a>\".\n              </p>"
        },
        {
          "html": "<p>\n                <a data-link-type=\"dfn|abstract-op\" data-link-for=\"list\" data-xref-for=\"list\" data-cite=\"infra\" data-cite-path=\"\" data-cite-frag=\"list-remove\" data-type=\"dfn\" href=\"https://infra.spec.whatwg.org/#list-remove\">Remove</a> <var>channel</var> from <var>connection</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCPeerConnection\" data-xref-for=\"RTCPeerConnection\" data-lt=\"[[DataChannels]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-datachannels\" class=\"internalDFN\" id=\"ref-for-dfn-datachannels-4\"><code>[[DataChannels]]</code></a>\n                if it is still there.\n              </p>"
        },
        {
          "html": "<p>\n                If the <a data-link-type=\"dfn|abstract-op\" data-lt=\"underlying data transport\" href=\"https://w3c.github.io/webrtc-pc/#dfn-data-transport\" class=\"internalDFN\" id=\"ref-for-dfn-data-transport-14\">transport</a> was closed\n                <span id=\"data-transport-closed-error\">with an error</span>, <a data-link-type=\"dfn|abstract-op\" data-cite=\"dom\" data-cite-path=\"\" data-cite-frag=\"concept-event-fire\" data-type=\"dfn\" href=\"https://dom.spec.whatwg.org/#concept-event-fire\">fire an event</a> named <a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCDataChannel\" data-xref-for=\"RTCDataChannel\" href=\"https://w3c.github.io/webrtc-pc/#event-datachannel-error\" class=\"internalDFN\" id=\"ref-for-event-datachannel-error-2\"><code>error</code></a> using the <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCErrorEvent\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcerrorevent\" class=\"internalDFN\" id=\"ref-for-dom-rtcerrorevent-3\"><code>RTCErrorEvent</code></a>\n                interface with its <a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCError\" data-xref-for=\"RTCError\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcerror-errordetail\" class=\"internalDFN\" id=\"ref-for-dom-rtcerror-errordetail-5\"><code>errorDetail</code></a> attribute set to\n                \"<a data-link-type=\"idl\" data-xref-type=\"enum-value\" data-link-for=\"RTCErrorDetailType\" data-xref-for=\"RTCErrorDetailType\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcerrordetailtype-sctp-failure\" class=\"internalDFN\" id=\"ref-for-dom-rtcerrordetailtype-sctp-failure-1\"><code>sctp-failure</code></a>\" at <var>channel</var>.\n              </p>"
        },
        {
          "html": "<p>\n                <a data-link-type=\"dfn|abstract-op\" data-cite=\"dom\" data-cite-path=\"\" data-cite-frag=\"concept-event-fire\" data-type=\"dfn\" href=\"https://dom.spec.whatwg.org/#concept-event-fire\">Fire an event</a> named  <a data-link-for=\"RTCDataChannel\" data-link-type=\"event\" href=\"https://w3c.github.io/webrtc-pc/#event-datachannel-close\" class=\"internalDFN\" id=\"ref-for-event-datachannel-close-1\">close</a> at <var>channel</var>.\n              </p>"
        }
      ]
    },
    {
      "html": "The <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCDataChannel\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcdatachannel\" class=\"internalDFN\" id=\"ref-for-dom-rtcdatachannel-36\"><code>RTCDataChannel</code></a> <a data-link-type=\"dfn|abstract-op\" data-cite=\"html\" data-cite-path=\"/structured-data.html\" data-cite-frag=\"transfer-steps\" data-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/structured-data.html#transfer-steps\">transfer steps</a>, given <var>value</var> and <var>dataHolder</var>, are:",
      "rationale": "if",
      "steps": [
        {
          "html": "<p>If <var>value</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCDataChannel\" data-xref-for=\"RTCDataChannel\" data-lt=\"[[IsTransferable]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-istransferable\" class=\"internalDFN\" id=\"ref-for-dfn-istransferable-2\"><code>[[IsTransferable]]</code></a> is <code>false</code>, throw a <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"DataCloneError\" data-cite=\"webidl\" data-cite-path=\"\" data-cite-frag=\"datacloneerror\" data-type=\"exception\" href=\"https://webidl.spec.whatwg.org/#datacloneerror\"><code>DataCloneError</code></a> DOMException.</p>"
        },
        {
          "html": "<p>Set <var>dataHolder</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCDataChannel\" data-xref-for=\"RTCDataChannel\" data-lt=\"[[ReadyState]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-readystate\" class=\"internalDFN\" id=\"ref-for-dfn-readystate-9\"><code>[[ReadyState]]</code></a> to <var>value</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCDataChannel\" data-xref-for=\"RTCDataChannel\" data-lt=\"[[ReadyState]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-readystate\" class=\"internalDFN\" id=\"ref-for-dfn-readystate-10\"><code>[[ReadyState]]</code></a>.</p>"
        },
        {
          "html": "<p>Set <var>dataHolder</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCDataChannel\" data-xref-for=\"RTCDataChannel\" data-lt=\"[[DataChannelLabel]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-datachannellabel\" class=\"internalDFN\" id=\"ref-for-dfn-datachannellabel-4\"><code>[[DataChannelLabel]]</code></a> to <var>value</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCDataChannel\" data-xref-for=\"RTCDataChannel\" data-lt=\"[[DataChannelLabel]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-datachannellabel\" class=\"internalDFN\" id=\"ref-for-dfn-datachannellabel-5\"><code>[[DataChannelLabel]]</code></a>.</p>"
        },
        {
          "html": "<p>Set <var>dataHolder</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCDataChannel\" data-xref-for=\"RTCDataChannel\" data-lt=\"[[Ordered]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-ordered\" class=\"internalDFN\" id=\"ref-for-dfn-ordered-3\"><code>[[Ordered]]</code></a> to <var>value</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCDataChannel\" data-xref-for=\"RTCDataChannel\" data-lt=\"[[Ordered]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-ordered\" class=\"internalDFN\" id=\"ref-for-dfn-ordered-4\"><code>[[Ordered]]</code></a>.</p>"
        },
        {
          "html": "<p>Set <var>dataHolder</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCDataChannel\" data-xref-for=\"RTCDataChannel\" data-lt=\"[[MaxPacketLifeTime]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-maxpacketlifetime\" class=\"internalDFN\" id=\"ref-for-dfn-maxpacketlifetime-5\"><code>[[MaxPacketLifeTime]]</code></a> to <var>value</var>..<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCDataChannel\" data-xref-for=\"RTCDataChannel\" data-lt=\"[[MaxPacketLifeTime]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-maxpacketlifetime\" class=\"internalDFN\" id=\"ref-for-dfn-maxpacketlifetime-6\"><code>[[MaxPacketLifeTime]]</code></a></p>"
        },
        {
          "html": "<p>Set <var>dataHolder</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCDataChannel\" data-xref-for=\"RTCDataChannel\" data-lt=\"[[MaxRetransmits]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-maxretransmits\" class=\"internalDFN\" id=\"ref-for-dfn-maxretransmits-5\"><code>[[MaxRetransmits]]</code></a> to <var>value</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCDataChannel\" data-xref-for=\"RTCDataChannel\" data-lt=\"[[MaxRetransmits]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-maxretransmits\" class=\"internalDFN\" id=\"ref-for-dfn-maxretransmits-6\"><code>[[MaxRetransmits]]</code></a>.</p>"
        },
        {
          "html": "<p>Set <var>dataHolder</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCDataChannel\" data-xref-for=\"RTCDataChannel\" data-lt=\"[[DataChannelProtocol]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-datachannelprotocol\" class=\"internalDFN\" id=\"ref-for-dfn-datachannelprotocol-4\"><code>[[DataChannelProtocol]]</code></a> to <var>value</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCDataChannel\" data-xref-for=\"RTCDataChannel\" data-lt=\"[[DataChannelProtocol]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-datachannelprotocol\" class=\"internalDFN\" id=\"ref-for-dfn-datachannelprotocol-5\"><code>[[DataChannelProtocol]]</code></a>.</p>"
        },
        {
          "html": "<p>Set <var>dataHolder</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCDataChannel\" data-xref-for=\"RTCDataChannel\" data-lt=\"[[Negotiated]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-negotiated\" class=\"internalDFN\" id=\"ref-for-dfn-negotiated-6\"><code>[[Negotiated]]</code></a> to <var>value</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCDataChannel\" data-xref-for=\"RTCDataChannel\" data-lt=\"[[Negotiated]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-negotiated\" class=\"internalDFN\" id=\"ref-for-dfn-negotiated-7\"><code>[[Negotiated]]</code></a>.</p>"
        },
        {
          "html": "<p>Set <var>dataHolder</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCDataChannel\" data-xref-for=\"RTCDataChannel\" data-lt=\"[[DataChannelId]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-datachannelid\" class=\"internalDFN\" id=\"ref-for-dfn-datachannelid-14\"><code>[[DataChannelId]]</code></a> to <var>value</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCDataChannel\" data-xref-for=\"RTCDataChannel\" data-lt=\"[[DataChannelId]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-datachannelid\" class=\"internalDFN\" id=\"ref-for-dfn-datachannelid-15\"><code>[[DataChannelId]]</code></a>.</p>"
        },
        {
          "html": "<p>Set <var>dataHolder</var>s <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-data-transport\" class=\"internalDFN\" id=\"ref-for-dfn-data-transport-15\">underlying data transport</a>  to <var>value</var> <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-data-transport\" class=\"internalDFN\" id=\"ref-for-dfn-data-transport-16\">underlying data transport</a>.</p>"
        },
        {
          "html": "<p>Set <var>value</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCDataChannel\" data-xref-for=\"RTCDataChannel\" data-lt=\"[[IsTransferable]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-istransferable\" class=\"internalDFN\" id=\"ref-for-dfn-istransferable-3\"><code>[[IsTransferable]]</code></a> to <code>false</code>.</p>"
        },
        {
          "html": "<p>Set <var>value</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCDataChannel\" data-xref-for=\"RTCDataChannel\" data-lt=\"[[ReadyState]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-readystate\" class=\"internalDFN\" id=\"ref-for-dfn-readystate-11\"><code>[[ReadyState]]</code></a> to \"closed\".</p>"
        }
      ]
    },
    {
      "html": "The <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCDataChannel\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcdatachannel\" class=\"internalDFN\" id=\"ref-for-dom-rtcdatachannel-37\"><code>RTCDataChannel</code></a> <a data-link-type=\"dfn|abstract-op\" data-cite=\"html\" data-cite-path=\"/structured-data.html\" data-cite-frag=\"transfer-receiving-steps\" data-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/structured-data.html#transfer-receiving-steps\">transfer-receiving steps</a>, given <var>dataHolder</var> and <var>channel</var>, are:",
      "rationale": "initialize",
      "steps": [
        {
          "html": "<p>Initialize <var>channel</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCDataChannel\" data-xref-for=\"RTCDataChannel\" data-lt=\"[[ReadyState]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-readystate\" class=\"internalDFN\" id=\"ref-for-dfn-readystate-12\"><code>[[ReadyState]]</code></a> to <var>dataHolder</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCDataChannel\" data-xref-for=\"RTCDataChannel\" data-lt=\"[[ReadyState]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-readystate\" class=\"internalDFN\" id=\"ref-for-dfn-readystate-13\"><code>[[ReadyState]]</code></a>.</p>"
        },
        {
          "html": "<p>Initialize <var>channel</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCDataChannel\" data-xref-for=\"RTCDataChannel\" data-lt=\"[[DataChannelLabel]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-datachannellabel\" class=\"internalDFN\" id=\"ref-for-dfn-datachannellabel-6\"><code>[[DataChannelLabel]]</code></a> to <var>dataHolder</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCDataChannel\" data-xref-for=\"RTCDataChannel\" data-lt=\"[[DataChannelLabel]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-datachannellabel\" class=\"internalDFN\" id=\"ref-for-dfn-datachannellabel-7\"><code>[[DataChannelLabel]]</code></a>.</p>"
        },
        {
          "html": "<p>Initialize <var>channel</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCDataChannel\" data-xref-for=\"RTCDataChannel\" data-lt=\"[[Ordered]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-ordered\" class=\"internalDFN\" id=\"ref-for-dfn-ordered-5\"><code>[[Ordered]]</code></a> to <var>dataHolder</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCDataChannel\" data-xref-for=\"RTCDataChannel\" data-lt=\"[[Ordered]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-ordered\" class=\"internalDFN\" id=\"ref-for-dfn-ordered-6\"><code>[[Ordered]]</code></a>.</p>"
        },
        {
          "html": "<p>Initialize <var>channel</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCDataChannel\" data-xref-for=\"RTCDataChannel\" data-lt=\"[[MaxPacketLifeTime]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-maxpacketlifetime\" class=\"internalDFN\" id=\"ref-for-dfn-maxpacketlifetime-7\"><code>[[MaxPacketLifeTime]]</code></a> to <var>dataHolder</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCDataChannel\" data-xref-for=\"RTCDataChannel\" data-lt=\"[[MaxPacketLifeTime]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-maxpacketlifetime\" class=\"internalDFN\" id=\"ref-for-dfn-maxpacketlifetime-8\"><code>[[MaxPacketLifeTime]]</code></a>.</p>"
        },
        {
          "html": "<p>Initialize <var>channel</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCDataChannel\" data-xref-for=\"RTCDataChannel\" data-lt=\"[[MaxRetransmits]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-maxretransmits\" class=\"internalDFN\" id=\"ref-for-dfn-maxretransmits-7\"><code>[[MaxRetransmits]]</code></a> to <var>dataHolder</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCDataChannel\" data-xref-for=\"RTCDataChannel\" data-lt=\"[[MaxRetransmits]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-maxretransmits\" class=\"internalDFN\" id=\"ref-for-dfn-maxretransmits-8\"><code>[[MaxRetransmits]]</code></a>.</p>"
        },
        {
          "html": "<p>Initialize <var>channel</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCDataChannel\" data-xref-for=\"RTCDataChannel\" data-lt=\"[[DataChannelProtocol]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-datachannelprotocol\" class=\"internalDFN\" id=\"ref-for-dfn-datachannelprotocol-6\"><code>[[DataChannelProtocol]]</code></a> to <var>dataHolder</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCDataChannel\" data-xref-for=\"RTCDataChannel\" data-lt=\"[[DataChannelProtocol]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-datachannelprotocol\" class=\"internalDFN\" id=\"ref-for-dfn-datachannelprotocol-7\"><code>[[DataChannelProtocol]]</code></a>.</p>"
        },
        {
          "html": "<p>Initialize <var>channel</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCDataChannel\" data-xref-for=\"RTCDataChannel\" data-lt=\"[[Negotiated]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-negotiated\" class=\"internalDFN\" id=\"ref-for-dfn-negotiated-8\"><code>[[Negotiated]]</code></a> to <var>dataHolder</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCDataChannel\" data-xref-for=\"RTCDataChannel\" data-lt=\"[[Negotiated]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-negotiated\" class=\"internalDFN\" id=\"ref-for-dfn-negotiated-9\"><code>[[Negotiated]]</code></a>.</p>"
        },
        {
          "html": "<p>Initialize <var>channel</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCDataChannel\" data-xref-for=\"RTCDataChannel\" data-lt=\"[[DataChannelId]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-datachannelid\" class=\"internalDFN\" id=\"ref-for-dfn-datachannelid-16\"><code>[[DataChannelId]]</code></a> to <var>dataHolder</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCDataChannel\" data-xref-for=\"RTCDataChannel\" data-lt=\"[[DataChannelId]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-datachannelid\" class=\"internalDFN\" id=\"ref-for-dfn-datachannelid-17\"><code>[[DataChannelId]]</code></a>.</p>"
        },
        {
          "html": "<p>Initialize <var>channel</var>s <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-data-transport\" class=\"internalDFN\" id=\"ref-for-dfn-data-transport-17\">underlying data transport</a> to <var>dataHolder</var>s <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-data-transport\" class=\"internalDFN\" id=\"ref-for-dfn-data-transport-18\">underlying data transport</a>.</p>"
        }
      ]
    },
    {
      "name": "unable to create an RTCDataChannel",
      "href": "https://w3c.github.io/webrtc-pc/#dfn-unable-to-create-an-rtcdatachannel",
      "html": "In some cases, the user agent may be <dfn id=\"dfn-unable-to-create-an-rtcdatachannel\" tabindex=\"0\" aria-haspopup=\"dialog\" data-dfn-type=\"dfn\">unable to create an\n            <code>RTCDataChannel</code></dfn> 's <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-data-transport\" class=\"internalDFN\" id=\"ref-for-dfn-data-transport-20\">underlying data transport</a>. For\n            example, the data channel's <a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCDataChannel\" data-xref-for=\"RTCDataChannel\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcdatachannel-id\" class=\"internalDFN\" id=\"ref-for-dom-rtcdatachannel-id-3\"><code>id</code></a> may be outside\n            the range negotiated by the [<cite><a class=\"bibref\" data-link-type=\"biblio\" href=\"https://w3c.github.io/webrtc-pc/#bib-rfc8831\" title=\"WebRTC Data Channels\">RFC8831</a></cite>] implementations in the\n            SCTP handshake. When the user agent determines that an\n            <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCDataChannel\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcdatachannel\" class=\"internalDFN\" id=\"ref-for-dom-rtcdatachannel-40\"><code>RTCDataChannel</code></a>'s <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-data-transport\" class=\"internalDFN\" id=\"ref-for-dfn-data-transport-21\">underlying data transport</a> cannot be\n            created, the user agent <em class=\"rfc2119\">MUST</em> queue a task to run the following\n            steps:",
      "rationale": ".algorithm",
      "steps": [
        {
          "html": "<p>\n                Let <var>channel</var> be the <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCDataChannel\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcdatachannel\" class=\"internalDFN\" id=\"ref-for-dom-rtcdatachannel-41\"><code>RTCDataChannel</code></a> object for\n                which the user agent could not create an <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-data-transport\" class=\"internalDFN\" id=\"ref-for-dfn-data-transport-22\">underlying data transport</a>.\n              </p>"
        },
        {
          "html": "<p>\n                Set <var>channel</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCDataChannel\" data-xref-for=\"RTCDataChannel\" data-lt=\"[[ReadyState]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-readystate\" class=\"internalDFN\" id=\"ref-for-dfn-readystate-14\"><code>[[ReadyState]]</code></a> to\n                \"<a data-link-type=\"idl\" data-xref-type=\"enum-value\" data-link-for=\"RTCDataChannelState\" data-xref-for=\"RTCDataChannelState\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcdatachannelstate-closed\" class=\"internalDFN\" id=\"ref-for-dom-rtcdatachannelstate-closed-6\"><code>closed</code></a>\".\n              </p>"
        },
        {
          "html": "<p>\n                <a data-link-type=\"dfn|abstract-op\" data-cite=\"dom\" data-cite-path=\"\" data-cite-frag=\"concept-event-fire\" data-type=\"dfn\" href=\"https://dom.spec.whatwg.org/#concept-event-fire\">Fire an event</a> named <a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCDataChannel\" data-xref-for=\"RTCDataChannel\" href=\"https://w3c.github.io/webrtc-pc/#event-datachannel-error\" class=\"internalDFN\" id=\"ref-for-event-datachannel-error-3\"><code>error</code></a> using the\n                <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCErrorEvent\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcerrorevent\" class=\"internalDFN\" id=\"ref-for-dom-rtcerrorevent-4\"><code>RTCErrorEvent</code></a> interface with the <a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCError\" data-xref-for=\"RTCError\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcerror-errordetail\" class=\"internalDFN\" id=\"ref-for-dom-rtcerror-errordetail-6\"><code>errorDetail</code></a>\n                attribute set to \"<a data-link-type=\"idl\" data-xref-type=\"enum-value\" data-link-for=\"RTCErrorDetailType\" data-xref-for=\"RTCErrorDetailType\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcerrordetailtype-data-channel-failure\" class=\"internalDFN\" id=\"ref-for-dom-rtcerrordetailtype-data-channel-failure-2\"><code>data-channel-failure</code></a>\"\n                at <var>channel</var>.\n              </p>"
        },
        {
          "html": "<p>\n                <a data-link-type=\"dfn|abstract-op\" data-cite=\"dom\" data-cite-path=\"\" data-cite-frag=\"concept-event-fire\" data-type=\"dfn\" href=\"https://dom.spec.whatwg.org/#concept-event-fire\">Fire an event</a> named <a data-link-for=\"RTCDataChannel\" data-link-type=\"event\" href=\"https://w3c.github.io/webrtc-pc/#event-datachannel-close\" class=\"internalDFN\" id=\"ref-for-event-datachannel-close-2\">close</a> at <var>channel</var>.\n              </p>"
        }
      ]
    },
    {
      "html": "When an <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCDataChannel\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcdatachannel\" class=\"internalDFN\" id=\"ref-for-dom-rtcdatachannel-42\"><code>RTCDataChannel</code></a> message has\n            been received via the <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-data-transport\" class=\"internalDFN\" id=\"ref-for-dfn-data-transport-23\">underlying data transport</a> with\n            type <var>type</var> and data <var>rawData</var>, the user agent\n            <em class=\"rfc2119\">MUST</em> queue a task to run the following steps:",
      "rationale": ".algorithm",
      "steps": [
        {
          "html": "<p>\n                Let <var>channel</var> be the <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCDataChannel\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcdatachannel\" class=\"internalDFN\" id=\"ref-for-dom-rtcdatachannel-43\"><code>RTCDataChannel</code></a> object for\n                which the user agent has received a message.\n              </p>"
        },
        {
          "html": "<p>\n                Let <var>connection</var> be the <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCPeerConnection\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcpeerconnection\" class=\"internalDFN\" id=\"ref-for-dom-rtcpeerconnection-134\"><code>RTCPeerConnection</code></a> object\n                associated with <var>channel</var>.\n              </p>"
        },
        {
          "html": "<p>\n                If <var>channel</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCDataChannel\" data-xref-for=\"RTCDataChannel\" data-lt=\"[[ReadyState]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-readystate\" class=\"internalDFN\" id=\"ref-for-dfn-readystate-15\"><code>[[ReadyState]]</code></a> is not\n                \"<a data-link-type=\"idl\" data-xref-type=\"enum-value\" data-link-for=\"RTCDataChannelState\" data-xref-for=\"RTCDataChannelState\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcdatachannelstate-open\" class=\"internalDFN\" id=\"ref-for-dom-rtcdatachannelstate-open-3\"><code>open</code></a>\", abort these steps and discard\n                <var>rawData</var>.\n              </p>"
        },
        {
          "html": "<p>\n                Execute the sub step by switching on <var>type</var> and\n                <var>channel</var>.<a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCDataChannel\" data-xref-for=\"RTCDataChannel\" href=\"https://w3c.github.io/webrtc-pc/#dom-datachannel-binarytype\" class=\"internalDFN\" id=\"ref-for-dom-datachannel-binarytype-1\"><code>binaryType</code></a>:\n              </p>\n              <ul>\n                <li>\n                  <p>\n                    If <var>type</var> indicates that <var>rawData</var> is a\n                    <code class=\"param\">string</code>:\n                  </p>\n                  <p>\n                    Let <var>data</var> be a <span class=\"idlMemberType\">DOMString</span> that represents the result\n                    of decoding <var>rawData</var> as UTF-8.\n                  </p>\n                </li>\n                <li>\n                  <p>\n                    If <var>type</var> indicates that <var>rawData</var> is\n                    binary and <a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCDataChannel\" data-xref-for=\"RTCDataChannel\" href=\"https://w3c.github.io/webrtc-pc/#dom-datachannel-binarytype\" class=\"internalDFN\" id=\"ref-for-dom-datachannel-binarytype-2\"><code>binaryType</code></a> is <code class=\"html\">\"blob\"</code>:\n                  </p>\n                  <p>\n                    Let <var>data</var> be a new <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"Blob\" data-cite=\"fileapi\" data-cite-path=\"\" data-cite-frag=\"dfn-Blob\" data-type=\"interface\" href=\"https://www.w3.org/TR/FileAPI/#dfn-Blob\"><code>Blob</code></a> object containing\n                    <var>rawData</var> as its raw data source.\n                  </p>\n                </li>\n                <li>\n                  <p>\n                    If <var>type</var> indicates that <var>rawData</var> is\n                    binary and <a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCDataChannel\" data-xref-for=\"RTCDataChannel\" href=\"https://w3c.github.io/webrtc-pc/#dom-datachannel-binarytype\" class=\"internalDFN\" id=\"ref-for-dom-datachannel-binarytype-3\"><code>binaryType</code></a> is <code class=\"html\">\"arraybuffer\"</code>:\n                  </p>\n                  <p>\n                    Let <var>data</var> be a new <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"ArrayBuffer\" data-cite=\"webidl\" data-cite-path=\"\" data-cite-frag=\"idl-ArrayBuffer\" data-type=\"interface\" href=\"https://webidl.spec.whatwg.org/#idl-ArrayBuffer\"><code>ArrayBuffer</code></a> object\n                    containing <var>rawData</var> as its raw data source.\n                  </p>\n                </li>\n              </ul>"
        },
        {
          "html": "<p>\n                <a data-link-type=\"dfn|abstract-op\" data-cite=\"dom\" data-cite-path=\"\" data-cite-frag=\"concept-event-fire\" data-type=\"dfn\" href=\"https://dom.spec.whatwg.org/#concept-event-fire\">Fire an event</a> named <a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCDataChannel\" data-xref-for=\"RTCDataChannel\" href=\"https://w3c.github.io/webrtc-pc/#event-datachannel-message\" class=\"internalDFN\" id=\"ref-for-event-datachannel-message-1\"><code>message</code></a> using the\n                <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"MessageEvent\" data-cite=\"html\" data-cite-path=\"/comms.html\" data-cite-frag=\"messageevent\" data-type=\"interface\" href=\"https://html.spec.whatwg.org/multipage/comms.html#messageevent\"><code>MessageEvent</code></a> interface with its <code class=\"html\">origin</code> attribute initialized to the\n                <a data-cite=\"html\" data-cite-path=\"/browsers.html\" data-cite-frag=\"ascii-serialisation-of-an-origin\" data-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/browsers.html#ascii-serialisation-of-an-origin\">serialization of an origin</a> of\n                <var>connection</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCPeerConnection\" data-xref-for=\"RTCPeerConnection\" data-lt=\"[[DocumentOrigin]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-documentorigin\" class=\"internalDFN\" id=\"ref-for-dfn-documentorigin-2\"><code>[[DocumentOrigin]]</code></a>, and the\n                <code class=\"html\">data</code> attribute initialized to\n                <var>data</var> at <var>channel</var>.\n              </p>"
        }
      ]
    },
    {
      "name": "RTCDataChannel/close()",
      "href": "https://w3c.github.io/webrtc-pc/#dom-rtcdatachannel-close",
      "html": "When the <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"close\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcdatachannel-close\" class=\"internalDFN\" id=\"ref-for-dom-rtcdatachannel-close-3\"><code>close</code></a> method is called, the user agent <em class=\"rfc2119\">MUST</em> run\n                  the following steps:",
      "rationale": ".algorithm",
      "steps": [
        {
          "html": "<p>\n                      Let <var>channel</var> be the <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCDataChannel\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcdatachannel\" class=\"internalDFN\" id=\"ref-for-dom-rtcdatachannel-57\"><code>RTCDataChannel</code></a> object\n                      which is about to be closed.\n                    </p>"
        },
        {
          "html": "<p>\n                      If <var>channel</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCDataChannel\" data-xref-for=\"RTCDataChannel\" data-lt=\"[[ReadyState]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-readystate\" class=\"internalDFN\" id=\"ref-for-dfn-readystate-18\"><code>[[ReadyState]]</code></a> is\n                      \"<a data-link-type=\"idl\" data-xref-type=\"enum-value\" data-link-for=\"RTCDataChannelState\" data-xref-for=\"RTCDataChannelState\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcdatachannelstate-closing\" class=\"internalDFN\" id=\"ref-for-dom-rtcdatachannelstate-closing-3\"><code>closing</code></a>\" or\n                      \"<a data-link-type=\"idl\" data-xref-type=\"enum-value\" data-link-for=\"RTCDataChannelState\" data-xref-for=\"RTCDataChannelState\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcdatachannelstate-closed\" class=\"internalDFN\" id=\"ref-for-dom-rtcdatachannelstate-closed-7\"><code>closed</code></a>\", then abort these steps.\n                    </p>"
        },
        {
          "html": "<p>\n                      Set <var>channel</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCDataChannel\" data-xref-for=\"RTCDataChannel\" data-lt=\"[[ReadyState]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-readystate\" class=\"internalDFN\" id=\"ref-for-dfn-readystate-19\"><code>[[ReadyState]]</code></a> to\n                      \"<a data-link-type=\"idl\" data-xref-type=\"enum-value\" data-link-for=\"RTCDataChannelState\" data-xref-for=\"RTCDataChannelState\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcdatachannelstate-closing\" class=\"internalDFN\" id=\"ref-for-dom-rtcdatachannelstate-closing-4\"><code>closing</code></a>\".\n                    </p>"
        },
        {
          "html": "<p>\n                      If the <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#data-transport-closing-procedure\" class=\"internalDFN\" id=\"ref-for-data-transport-closing-procedure-1\">closing procedure</a> has not started yet, start\n                      it.\n                    </p>"
        }
      ]
    },
    {
      "name": "send() algorithm",
      "href": "https://w3c.github.io/webrtc-pc/#datachannel-send",
      "html": "The <code class=\"overload\">send()</code> method is overloaded to\n              handle different data argument types. When any version of the\n              method is called, the user agent <em class=\"rfc2119\">MUST</em> <dfn id=\"datachannel-send\" data-lt=\"send() algorithm\" data-lt-nodefault=\"\" class=\"abstract-op\" data-dfn-type=\"abstract-op\" tabindex=\"0\" aria-haspopup=\"dialog\" data-export=\"\">run the following\n              steps</dfn>:",
      "rationale": ".algorithm",
      "steps": [
        {
          "html": "<p>\n                  Let <var>channel</var> be the <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCDataChannel\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcdatachannel\" class=\"internalDFN\" id=\"ref-for-dom-rtcdatachannel-58\"><code>RTCDataChannel</code></a> object on\n                  which data is to be sent.\n                </p>"
        },
        {
          "html": "<p>Set <var>channel</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCDataChannel\" data-xref-for=\"RTCDataChannel\" data-lt=\"[[IsTransferable]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-istransferable\" class=\"internalDFN\" id=\"ref-for-dfn-istransferable-4\"><code>[[IsTransferable]]</code></a> to <code>false</code>.</p>"
        },
        {
          "html": "<p>\n                  If <var>channel</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCDataChannel\" data-xref-for=\"RTCDataChannel\" data-lt=\"[[ReadyState]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-readystate\" class=\"internalDFN\" id=\"ref-for-dfn-readystate-20\"><code>[[ReadyState]]</code></a> is not\n                  \"<a data-link-type=\"idl\" data-xref-type=\"enum-value\" data-link-for=\"RTCDataChannelState\" data-xref-for=\"RTCDataChannelState\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcdatachannelstate-open\" class=\"internalDFN\" id=\"ref-for-dom-rtcdatachannelstate-open-5\"><code>open</code></a>\", <a data-link-type=\"dfn|abstract-op\" data-link-for=\"exception\" data-xref-for=\"exception\" data-cite=\"webidl\" data-cite-path=\"\" data-cite-frag=\"dfn-throw\" data-type=\"dfn\" href=\"https://webidl.spec.whatwg.org/#dfn-throw\">throw</a> an\n                  <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"InvalidStateError\" data-cite=\"webidl\" data-cite-path=\"\" data-cite-frag=\"invalidstateerror\" data-type=\"exception\" href=\"https://webidl.spec.whatwg.org/#invalidstateerror\"><code>InvalidStateError</code></a>.\n                </p>"
        },
        {
          "html": "<p>\n                  Execute the sub step that corresponds to the type of the\n                  methods argument:\n                </p>\n                <ul>\n                  <li>\n                    <p>\n                      <code class=\"param\">string</code> object:\n                    </p>\n                    <p>\n                      Let <var>data</var> be a byte buffer that represents the\n                      result of encoding the method's argument as UTF-8.\n                    </p>\n                  </li>\n                  <li>\n                    <p>\n                      <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"Blob\" data-cite=\"fileapi\" data-cite-path=\"\" data-cite-frag=\"dfn-Blob\" data-type=\"interface\" href=\"https://www.w3.org/TR/FileAPI/#dfn-Blob\"><code>Blob</code></a> object:\n                    </p>\n                    <p>\n                      Let <var>data</var> be the raw data represented by the\n                      <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"Blob\" data-cite=\"fileapi\" data-cite-path=\"\" data-cite-frag=\"dfn-Blob\" data-type=\"interface\" href=\"https://www.w3.org/TR/FileAPI/#dfn-Blob\"><code>Blob</code></a> object.\n                    </p>\n                    \n                  </li>\n                  <li>\n                    <p>\n                      <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"ArrayBuffer\" data-cite=\"webidl\" data-cite-path=\"\" data-cite-frag=\"idl-ArrayBuffer\" data-type=\"interface\" href=\"https://webidl.spec.whatwg.org/#idl-ArrayBuffer\"><code>ArrayBuffer</code></a> object:\n                    </p>\n                    <p>\n                      Let <var>data</var> be the data stored in the buffer\n                      described by the <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"ArrayBuffer\" data-cite=\"webidl\" data-cite-path=\"\" data-cite-frag=\"idl-ArrayBuffer\" data-type=\"interface\" href=\"https://webidl.spec.whatwg.org/#idl-ArrayBuffer\"><code>ArrayBuffer</code></a> object.\n                    </p>\n                  </li>\n                  <li>\n                    <p>\n                      <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"ArrayBufferView\" data-cite=\"webidl\" data-cite-path=\"\" data-cite-frag=\"ArrayBufferView\" data-type=\"typedef\" href=\"https://webidl.spec.whatwg.org/#ArrayBufferView\"><code>ArrayBufferView</code></a> object:\n                    </p>\n                    <p>\n                      Let <var>data</var> be the data stored in the section of\n                      the buffer described by the <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"ArrayBuffer\" data-cite=\"webidl\" data-cite-path=\"\" data-cite-frag=\"idl-ArrayBuffer\" data-type=\"interface\" href=\"https://webidl.spec.whatwg.org/#idl-ArrayBuffer\"><code>ArrayBuffer</code></a> object that\n                      the <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"ArrayBufferView\" data-cite=\"webidl\" data-cite-path=\"\" data-cite-frag=\"ArrayBufferView\" data-type=\"typedef\" href=\"https://webidl.spec.whatwg.org/#ArrayBufferView\"><code>ArrayBufferView</code></a> object references.\n                    </p>\n                  </li>\n                </ul>"
        },
        {
          "html": "<p>\n                  If the byte size of <var>data</var> exceeds the value of\n                  <a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCSctpTransport\" data-xref-for=\"RTCSctpTransport\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcsctptransport-maxmessagesize\" class=\"internalDFN\" id=\"ref-for-dom-rtcsctptransport-maxmessagesize-2\"><code>maxMessageSize</code></a> on <var>channel</var>'s\n                  associated <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCSctpTransport\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcsctptransport\" class=\"internalDFN\" id=\"ref-for-dom-rtcsctptransport-14\"><code>RTCSctpTransport</code></a>, <a data-link-type=\"dfn|abstract-op\" data-link-for=\"exception\" data-xref-for=\"exception\" data-cite=\"webidl\" data-cite-path=\"\" data-cite-frag=\"dfn-throw\" data-type=\"dfn\" href=\"https://webidl.spec.whatwg.org/#dfn-throw\">throw</a> a\n                  <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"TypeError\" data-cite=\"webidl\" data-cite-path=\"\" data-cite-frag=\"exceptiondef-typeerror\" data-type=\"exception\" href=\"https://webidl.spec.whatwg.org/#exceptiondef-typeerror\"><code>TypeError</code></a>.\n                </p>"
        },
        {
          "html": "<p>\n                  Queue <var>data</var> for transmission on\n                  <var>channel</var>'s <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-data-transport\" class=\"internalDFN\" id=\"ref-for-dfn-data-transport-26\">underlying data transport</a>. If\n                  queuing <var>data</var> is not possible because not enough\n                  buffer space is available, <a data-link-type=\"dfn|abstract-op\" data-link-for=\"exception\" data-xref-for=\"exception\" data-cite=\"webidl\" data-cite-path=\"\" data-cite-frag=\"dfn-throw\" data-type=\"dfn\" href=\"https://webidl.spec.whatwg.org/#dfn-throw\">throw</a> an\n                  <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"OperationError\" data-cite=\"webidl\" data-cite-path=\"\" data-cite-frag=\"operationerror\" data-type=\"exception\" href=\"https://webidl.spec.whatwg.org/#operationerror\"><code>OperationError</code></a>.\n                </p>"
        },
        {
          "html": "<p>\n                  Increase the value of the <a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCDataChannel\" data-xref-for=\"RTCDataChannel\" data-lt=\"[[BufferedAmount]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-bufferedamount\" class=\"internalDFN\" id=\"ref-for-dfn-bufferedamount-5\"><code>[[BufferedAmount]]</code></a> slot by\n                  the byte size of <var>data</var>.\n                </p>"
        }
      ]
    },
    {
      "name": "RTCDTMFSender/[[Duration]]",
      "href": "https://w3c.github.io/webrtc-pc/#dfn-duration",
      "html": "To <dfn class=\"abstract-op\" data-dfn-type=\"abstract-op\" id=\"dfn-create-an-rtcdtmfsender\" tabindex=\"0\" aria-haspopup=\"dialog\" data-export=\"\">create an RTCDTMFSender</dfn>, the user agent <em class=\"rfc2119\">MUST</em> run the\n          following steps:",
      "rationale": ".algorithm",
      "steps": [
        {
          "html": "<p>\n              Let <var>dtmf</var> be a newly created <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCDTMFSender\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcdtmfsender\" class=\"internalDFN\" id=\"ref-for-dom-rtcdtmfsender-4\"><code>RTCDTMFSender</code></a> object.\n            </p>"
        },
        {
          "html": "<p>\n              Let <var>dtmf</var> have a <dfn data-dfn-for=\"RTCDTMFSender\" data-idl=\"\" data-noexport=\"\" data-dfn-type=\"attribute\" id=\"dfn-duration\" tabindex=\"0\" aria-haspopup=\"dialog\">[[Duration]]</dfn> internal\n              slot.\n            </p>"
        },
        {
          "html": "<p>\n              Let <var>dtmf</var> have a <dfn data-dfn-for=\"RTCDTMFSender\" data-idl=\"\" data-noexport=\"\" data-dfn-type=\"attribute\" id=\"dfn-intertonegap\" tabindex=\"0\" aria-haspopup=\"dialog\">[[InterToneGap]]</dfn> internal\n              slot.\n            </p>"
        },
        {
          "html": "<p>\n              Let <var>dtmf</var> have a <dfn data-dfn-for=\"RTCDTMFSender\" data-idl=\"\" data-noexport=\"\" data-dfn-type=\"attribute\" id=\"dfn-tonebuffer\" tabindex=\"0\" aria-haspopup=\"dialog\">[[ToneBuffer]]</dfn> internal\n              slot.\n            </p>"
        }
      ]
    },
    {
      "name": "DTMF playout task steps",
      "href": "https://w3c.github.io/webrtc-pc/#dfn-dtmf-playout-task-steps",
      "html": "When the <a data-link-type=\"idl\" data-xref-type=\"method\" data-lt=\"insertDTMF()\" href=\"https://w3c.github.io/webrtc-pc/#dom-RTCDTMFSender-insertDTMF\" class=\"internalDFN\" id=\"ref-for-dom-RTCDTMFSender-insertDTMF-4\"><code>insertDTMF</code></a><code>()</code> method is invoked, the user agent\n                  <em class=\"rfc2119\">MUST</em> run the following steps:",
      "rationale": ".algorithm",
      "steps": [
        {
          "html": "Let <var>sender</var> be the\n                  <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCRtpSender\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtpsender\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtpsender-60\"><code>RTCRtpSender</code></a> used to send DTMF."
        },
        {
          "html": "<p>\n                      Let <var>transceiver</var> be the <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCRtpTransceiver\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtptransceiver\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtptransceiver-76\"><code>RTCRtpTransceiver</code></a>\n                      object associated with <var>sender</var>.\n                    </p>"
        },
        {
          "html": "Let <var>dtmf</var> be the\n                  <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCDTMFSender\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcdtmfsender\" class=\"internalDFN\" id=\"ref-for-dom-rtcdtmfsender-8\"><code>RTCDTMFSender</code></a> associated with <var>sender</var>."
        },
        {
          "html": "If <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-determine-if-dtmf-can-be-sent\" class=\"internalDFN\" id=\"ref-for-dfn-determine-if-dtmf-can-be-sent-2\">determine if DTMF can be sent</a> for\n                  <var>dtmf</var> returns <code>false</code>, <a data-link-type=\"dfn|abstract-op\" data-link-for=\"exception\" data-xref-for=\"exception\" data-cite=\"webidl\" data-cite-path=\"\" data-cite-frag=\"dfn-throw\" data-type=\"dfn\" href=\"https://webidl.spec.whatwg.org/#dfn-throw\">throw</a> an <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"InvalidStateError\" data-cite=\"webidl\" data-cite-path=\"\" data-cite-frag=\"invalidstateerror\" data-type=\"exception\" href=\"https://webidl.spec.whatwg.org/#invalidstateerror\"><code>InvalidStateError</code></a>."
        },
        {
          "html": "Let <var>tones</var> be the\n                  method's first argument."
        },
        {
          "html": "Let <var>duration</var> be the\n                  method's second argument."
        },
        {
          "html": "Let <var>interToneGap</var> be the\n                  method's third argument."
        },
        {
          "html": "If <var>\n                    tones</var> contains any <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"unrecognized\" href=\"https://w3c.github.io/webrtc-pc/#dtmf-unrecognized\" class=\"internalDFN\" id=\"ref-for-dtmf-unrecognized-1\"><code>unrecognized</code></a> characters, <a data-link-type=\"dfn|abstract-op\" data-link-for=\"exception\" data-xref-for=\"exception\" data-cite=\"webidl\" data-cite-path=\"\" data-cite-frag=\"dfn-throw\" data-type=\"dfn\" href=\"https://webidl.spec.whatwg.org/#dfn-throw\">throw</a> an <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"InvalidCharacterError\" data-cite=\"webidl\" data-cite-path=\"\" data-cite-frag=\"invalidcharactererror\" data-type=\"exception\" href=\"https://webidl.spec.whatwg.org/#invalidcharactererror\"><code>InvalidCharacterError</code></a>."
        },
        {
          "html": "Set the object's <a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCDTMFSender\" data-xref-for=\"RTCDTMFSender\" data-lt=\"[[ToneBuffer]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-tonebuffer\" class=\"internalDFN\" id=\"ref-for-dfn-tonebuffer-1\"><code>[[ToneBuffer]]</code></a> slot to\n                  <var>tones</var>."
        },
        {
          "html": "Set <var>dtmf</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCDTMFSender\" data-xref-for=\"RTCDTMFSender\" data-lt=\"[[Duration]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-duration\" class=\"internalDFN\" id=\"ref-for-dfn-duration-1\"><code>[[Duration]]</code></a> to the value of\n                  <var>duration</var>."
        },
        {
          "html": "Set <var>dtmf</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCDTMFSender\" data-xref-for=\"RTCDTMFSender\" data-lt=\"[[InterToneGap]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-intertonegap\" class=\"internalDFN\" id=\"ref-for-dfn-intertonegap-1\"><code>[[InterToneGap]]</code></a> to the value\n                  of <var>interToneGap</var>."
        },
        {
          "html": "If the value of <var>duration</var> is less than 40 ms, set\n                  <var>dtmf</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCDTMFSender\" data-xref-for=\"RTCDTMFSender\" data-lt=\"[[Duration]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-duration\" class=\"internalDFN\" id=\"ref-for-dfn-duration-2\"><code>[[Duration]]</code></a> to 40 ms."
        },
        {
          "html": "If the value of <var>duration</var> parameter is greater than\n                  6000 ms, set <var>dtmf</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCDTMFSender\" data-xref-for=\"RTCDTMFSender\" data-lt=\"[[Duration]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-duration\" class=\"internalDFN\" id=\"ref-for-dfn-duration-3\"><code>[[Duration]]</code></a> to 6000 ms."
        },
        {
          "html": "If the\n                  value of <var>interToneGap</var> is less than 30 ms, set\n                  <var>dtmf</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCDTMFSender\" data-xref-for=\"RTCDTMFSender\" data-lt=\"[[InterToneGap]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-intertonegap\" class=\"internalDFN\" id=\"ref-for-dfn-intertonegap-2\"><code>[[InterToneGap]]</code></a> to 30 ms."
        },
        {
          "html": "If the value of <var>interToneGap</var> is greater than 6000\n                  ms, set <var>dtmf</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCDTMFSender\" data-xref-for=\"RTCDTMFSender\" data-lt=\"[[InterToneGap]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-intertonegap\" class=\"internalDFN\" id=\"ref-for-dfn-intertonegap-3\"><code>[[InterToneGap]]</code></a> to 6000 ms."
        },
        {
          "html": "If <a href=\"https://w3c.github.io/webrtc-pc/#dfn-tonebuffer\" class=\"internalDFN\" data-link-type=\"idl\" id=\"ref-for-dfn-tonebuffer-2\">\n                    [[ToneBuffer]]</a> slot is an empty string, abort these\n                    steps."
        },
        {
          "html": "If a\n                  task to run the <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-dtmf-playout-task-steps\" class=\"internalDFN\" id=\"ref-for-dfn-dtmf-playout-task-steps-1\">DTMF playout task steps</a> is scheduled to be run,\n                  abort these steps; otherwise queue a task that runs the following\n                  <dfn id=\"dfn-dtmf-playout-task-steps\" tabindex=\"0\" aria-haspopup=\"dialog\" data-dfn-type=\"dfn\">DTMF playout task steps</dfn>:",
          "rationale": "if",
          "steps": [
            {
              "html": "If <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-determine-if-dtmf-can-be-sent\" class=\"internalDFN\" id=\"ref-for-dfn-determine-if-dtmf-can-be-sent-3\">determine if DTMF can be sent</a> for\n                      <var>dtmf</var> returns <code>false</code>, abort these\n                      steps."
            },
            {
              "html": "If the <a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCDTMFSender\" data-xref-for=\"RTCDTMFSender\" data-lt=\"[[ToneBuffer]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-tonebuffer\" class=\"internalDFN\" id=\"ref-for-dfn-tonebuffer-3\"><code>[[ToneBuffer]]</code></a> slot contains the empty\n                      string, <a data-link-type=\"dfn|abstract-op\" data-cite=\"dom\" data-cite-path=\"\" data-cite-frag=\"concept-event-fire\" data-type=\"dfn\" href=\"https://dom.spec.whatwg.org/#concept-event-fire\">fire an event</a> named <a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCDTMFSender\" data-xref-for=\"RTCDTMFSender\" href=\"https://w3c.github.io/webrtc-pc/#event-RTCDTMFSender-tonechange\" class=\"internalDFN\" id=\"ref-for-event-RTCDTMFSender-tonechange-2\"><code>tonechange</code></a> using\n                      the <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCDTMFToneChangeEvent\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcdtmftonechangeevent\" class=\"internalDFN\" id=\"ref-for-dom-rtcdtmftonechangeevent-1\"><code>RTCDTMFToneChangeEvent</code></a> interface with the\n                      <a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCDTMFToneChangeEvent\" data-xref-for=\"RTCDTMFToneChangeEvent\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcdtmftonechangeevent-tone\" class=\"internalDFN\" id=\"ref-for-dom-rtcdtmftonechangeevent-tone-1\"><code>tone</code></a> attribute set to an empty\n                      string at the <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCDTMFSender\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcdtmfsender\" class=\"internalDFN\" id=\"ref-for-dom-rtcdtmfsender-9\"><code>RTCDTMFSender</code></a> object and abort these\n                      steps."
            },
            {
              "html": "Remove the first character from the\n                      <a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCDTMFSender\" data-xref-for=\"RTCDTMFSender\" data-lt=\"[[ToneBuffer]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-tonebuffer\" class=\"internalDFN\" id=\"ref-for-dfn-tonebuffer-4\"><code>[[ToneBuffer]]</code></a> slot and let that character be\n                      <var>tone</var>."
            },
            {
              "html": "If <var>tone</var> is <code>\",\"</code> delay sending\n                      tones for <code>2000</code> ms on the associated RTP\n                      media stream, and queue a task to be executed in\n                      <code>2000</code> ms from now that runs the\n                      <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-dtmf-playout-task-steps\" class=\"internalDFN\" id=\"ref-for-dfn-dtmf-playout-task-steps-2\">DTMF playout task steps</a>."
            },
            {
              "html": "If <var>tone</var> is not <code>\",\"</code> start\n                      playout of <var>tone</var> for <a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCDTMFSender\" data-xref-for=\"RTCDTMFSender\" data-lt=\"[[Duration]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-duration\" class=\"internalDFN\" id=\"ref-for-dfn-duration-4\"><code>[[Duration]]</code></a> ms on\n                      the associated RTP media stream, using the appropriate\n                      codec, then queue a task to be executed in\n                      <a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCDTMFSender\" data-xref-for=\"RTCDTMFSender\" data-lt=\"[[Duration]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-duration\" class=\"internalDFN\" id=\"ref-for-dfn-duration-5\"><code>[[Duration]]</code></a> + <a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCDTMFSender\" data-xref-for=\"RTCDTMFSender\" data-lt=\"[[InterToneGap]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-intertonegap\" class=\"internalDFN\" id=\"ref-for-dfn-intertonegap-4\"><code>[[InterToneGap]]</code></a> ms from\n                      now that runs the <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-dtmf-playout-task-steps\" class=\"internalDFN\" id=\"ref-for-dfn-dtmf-playout-task-steps-3\">DTMF playout task steps</a>."
            },
            {
              "html": "<a data-link-type=\"dfn|abstract-op\" data-cite=\"dom\" data-cite-path=\"\" data-cite-frag=\"concept-event-fire\" data-type=\"dfn\" href=\"https://dom.spec.whatwg.org/#concept-event-fire\">Fire an event</a> named <a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCDTMFSender\" data-xref-for=\"RTCDTMFSender\" href=\"https://w3c.github.io/webrtc-pc/#event-RTCDTMFSender-tonechange\" class=\"internalDFN\" id=\"ref-for-event-RTCDTMFSender-tonechange-3\"><code>tonechange</code></a> using the\n                      <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCDTMFToneChangeEvent\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcdtmftonechangeevent\" class=\"internalDFN\" id=\"ref-for-dom-rtcdtmftonechangeevent-2\"><code>RTCDTMFToneChangeEvent</code></a> interface with the\n                      <a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCDTMFToneChangeEvent\" data-xref-for=\"RTCDTMFToneChangeEvent\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcdtmftonechangeevent-tone\" class=\"internalDFN\" id=\"ref-for-dom-rtcdtmftonechangeevent-tone-2\"><code>tone</code></a> attribute set to\n                      <var>tone</var> at the <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCDTMFSender\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcdtmfsender\" class=\"internalDFN\" id=\"ref-for-dom-rtcdtmfsender-10\"><code>RTCDTMFSender</code></a> object."
            }
          ]
        }
      ]
    },
    {
      "name": "determine if DTMF can be sent",
      "href": "https://w3c.github.io/webrtc-pc/#dfn-determine-if-dtmf-can-be-sent",
      "html": "To <dfn class=\"abstract-op\" data-dfn-type=\"abstract-op\" id=\"dfn-determine-if-dtmf-can-be-sent\" tabindex=\"0\" aria-haspopup=\"dialog\" data-export=\"\">determine if DTMF can be sent</dfn> for an <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCDTMFSender\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcdtmfsender\" class=\"internalDFN\" id=\"ref-for-dom-rtcdtmfsender-11\"><code>RTCDTMFSender</code></a>\n          instance <var>dtmfSender</var>, the user agent <em class=\"rfc2119\">MUST</em> run the following\n          steps:",
      "rationale": ".algorithm",
      "steps": [
        {
          "html": "Let <var>sender</var> be the\n          <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCRtpSender\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtpsender\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtpsender-61\"><code>RTCRtpSender</code></a> associated with <var>dtmfSender</var>."
        },
        {
          "html": "Let <var>transceiver</var> be the\n          <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCRtpTransceiver\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtptransceiver\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtptransceiver-77\"><code>RTCRtpTransceiver</code></a> associated with <var>sender</var>."
        },
        {
          "html": "Let <var>connection</var> be the\n          <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCPeerConnection\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcpeerconnection\" class=\"internalDFN\" id=\"ref-for-dom-rtcpeerconnection-136\"><code>RTCPeerConnection</code></a> associated with <var>transceiver</var>."
        },
        {
          "html": "If <var>connection</var>'s <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCPeerConnectionState\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcpeerconnectionstate\" class=\"internalDFN\" id=\"ref-for-dom-rtcpeerconnectionstate-7\"><code>RTCPeerConnectionState</code></a> is not\n          \"<a data-link-type=\"idl\" data-xref-type=\"enum-value\" data-link-for=\"RTCPeerConnectionState\" data-xref-for=\"RTCPeerConnectionState\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcpeerconnectionstate-connected\" class=\"internalDFN\" id=\"ref-for-dom-rtcpeerconnectionstate-connected-2\"><code>connected</code></a>\" return <code>false</code>."
        },
        {
          "html": "If <var>transceiver</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpTransceiver\" data-xref-for=\"RTCRtpTransceiver\" data-lt=\"[[Stopping]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-stopping\" class=\"internalDFN\" id=\"ref-for-dfn-stopping-11\"><code>[[Stopping]]</code></a> is\n          <code>true</code> return <code>false</code>."
        },
        {
          "html": "If <var>sender</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpSender\" data-xref-for=\"RTCRtpSender\" data-lt=\"[[SenderTrack]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-sendertrack\" class=\"internalDFN\" id=\"ref-for-dfn-sendertrack-8\"><code>[[SenderTrack]]</code></a> is <code>null</code>\n          return <code>false</code>."
        },
        {
          "html": "If <var>transceiver</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpTransceiver\" data-xref-for=\"RTCRtpTransceiver\" data-lt=\"[[CurrentDirection]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-currentdirection\" class=\"internalDFN\" id=\"ref-for-dfn-currentdirection-8\"><code>[[CurrentDirection]]</code></a> is neither\n          \"<a data-link-type=\"idl\" data-xref-type=\"enum-value\" data-link-for=\"RTCRtpTransceiverDirection\" data-xref-for=\"RTCRtpTransceiverDirection\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtptransceiverdirection-sendrecv\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtptransceiverdirection-sendrecv-22\"><code>sendrecv</code></a>\" nor\n          \"<a data-link-type=\"idl\" data-xref-type=\"enum-value\" data-link-for=\"RTCRtpTransceiverDirection\" data-xref-for=\"RTCRtpTransceiverDirection\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtptransceiverdirection-sendonly\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtptransceiverdirection-sendonly-15\"><code>sendonly</code></a>\" return <code>false</code>."
        },
        {
          "html": "If\n          <var>sender</var>.<a data-xref-type=\"attribute\" data-link-type=\"attribute\" data-link-for=\"RTCRtpSender\" data-xref-for=\"RTCRtpSender\" data-lt=\"[[SendEncodings]]\" href=\"https://w3c.github.io/webrtc-pc/#dfn-sendencodings\" class=\"internalDFN\" id=\"ref-for-dfn-sendencodings-23\"><code>[[SendEncodings]]</code></a><code>[0]</code>.<a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCRtpEncodingParameters\" data-xref-for=\"RTCRtpEncodingParameters\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtpencodingparameters-active\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtpencodingparameters-active-8\"><code>active</code></a>\n          is <code>false</code> return <code>false</code>."
        },
        {
          "html": "If no codec with mimetype <code class=\"mime\">\"audio/telephone-event\"</code> has been negotiated for sending\n          with this <var>sender</var>, return <code>false</code>."
        },
        {
          "html": "Otherwise, return <code>true</code>."
        }
      ]
    },
    {
      "name": "RTCPeerConnection/getStats()",
      "href": "https://w3c.github.io/webrtc-pc/#widl-RTCPeerConnection-getStats-Promise-RTCStatsReport--MediaStreamTrack-selector",
      "html": "When the <a data-link-type=\"idl\" data-xref-type=\"method\" data-lt=\"getStats()\" href=\"https://w3c.github.io/webrtc-pc/#widl-RTCPeerConnection-getStats-Promise-RTCStatsReport--MediaStreamTrack-selector\" class=\"internalDFN\" id=\"ref-for-widl-RTCPeerConnection-getStats-Promise-RTCStatsReport--MediaStreamTrack-selector-5\"><code>getStats</code></a><code>()</code> method is invoked, the user agent\n                  <em class=\"rfc2119\">MUST</em> run the following steps:",
      "rationale": ".algorithm",
      "steps": [
        {
          "html": "<p>\n                      Let <var>selectorArg</var> be the method's first\n                      argument.\n                    </p>"
        },
        {
          "html": "<p>\n                      Let <var>connection</var> be the <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCPeerConnection\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcpeerconnection\" class=\"internalDFN\" id=\"ref-for-dom-rtcpeerconnection-141\"><code>RTCPeerConnection</code></a>\n                      object on which the method was invoked.\n                    </p>"
        },
        {
          "html": "<p>\n                      If <var>selectorArg</var> is <code>null</code>, let\n                      <var>selector</var> be <code>null</code>.\n                    </p>"
        },
        {
          "html": "<p>\n                      If <var>selectorArg</var> is a <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"MediaStreamTrack\" data-cite=\"mediacapture-streams\" data-cite-path=\"\" data-cite-frag=\"dom-mediastreamtrack\" data-type=\"interface\" href=\"https://www.w3.org/TR/mediacapture-streams/#dom-mediastreamtrack\"><code>MediaStreamTrack</code></a> let\n                      <var>selector</var> be an <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCRtpSender\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtpsender\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtpsender-62\"><code>RTCRtpSender</code></a> or\n                      <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCRtpReceiver\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtpreceiver\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtpreceiver-57\"><code>RTCRtpReceiver</code></a> on <var>connection</var> which\n                      <a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"RTCRtpSender\" data-xref-for=\"RTCRtpSender\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtpsender-track\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtpsender-track-9\"><code>track</code></a> attribute matches\n                      <var>selectorArg</var>. If no such sender or receiver\n                      exists, or if more than one sender or receiver fit this\n                      criteria, return a promise <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-reject\" class=\"internalDFN\" id=\"ref-for-dfn-reject-48\">rejected</a> with a newly <a data-link-type=\"dfn|abstract-op\" data-link-for=\"exception\" data-xref-for=\"exception\" data-cite=\"webidl\" data-cite-path=\"\" data-cite-frag=\"dfn-create-exception\" data-type=\"dfn\" href=\"https://webidl.spec.whatwg.org/#dfn-create-exception\">created</a> <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"InvalidAccessError\" data-cite=\"webidl\" data-cite-path=\"\" data-cite-frag=\"invalidaccesserror\" data-type=\"exception\" href=\"https://webidl.spec.whatwg.org/#invalidaccesserror\"><code>InvalidAccessError</code></a>.\n                    </p>"
        },
        {
          "html": "<p>\n                      Let <var>p</var> be a new promise.\n                    </p>"
        },
        {
          "html": "Run the following steps <a data-link-type=\"dfn|abstract-op\" data-cite=\"html\" data-cite-path=\"/infrastructure.html\" data-cite-frag=\"in-parallel\" data-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel\">in parallel</a>:",
          "rationale": "gather",
          "steps": [
            {
              "html": "<p>\n                          Gather the stats indicated by <var>selector</var>\n                          according to the <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-stats-selection-algorithm\" class=\"internalDFN\" id=\"ref-for-dfn-stats-selection-algorithm-4\">stats selection algorithm</a>.\n                        </p>"
            },
            {
              "html": "<p>\n                          <a data-link-type=\"dfn|abstract-op\" href=\"https://w3c.github.io/webrtc-pc/#dfn-resolve\" class=\"internalDFN\" id=\"ref-for-dfn-resolve-15\">Resolve</a> <var>p</var> with the resulting\n                          <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCStatsReport\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcstatsreport\" class=\"internalDFN\" id=\"ref-for-dom-rtcstatsreport-6\"><code>RTCStatsReport</code></a> object, containing the gathered\n                          stats.\n                        </p>"
            }
          ]
        },
        {
          "html": "<p>\n                      Return <var>p</var>.\n                    </p>"
        }
      ]
    },
    {
      "name": "stats selection algorithm",
      "href": "https://w3c.github.io/webrtc-pc/#dfn-stats-selection-algorithm",
      "html": "The <dfn class=\"abstract-op\" data-dfn-type=\"abstract-op\" id=\"dfn-stats-selection-algorithm\" tabindex=\"0\" aria-haspopup=\"dialog\" data-export=\"\">stats selection algorithm</dfn> is as follows:",
      "rationale": ".algorithm",
      "steps": [
        {
          "html": "Let <var>result</var> be an empty\n          <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCStatsReport\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcstatsreport\" class=\"internalDFN\" id=\"ref-for-dom-rtcstatsreport-13\"><code>RTCStatsReport</code></a>."
        },
        {
          "html": "If\n          <var>selector</var> is <code>null</code>,\n          gather stats for the whole <var>connection</var>, add them to\n          <var>result</var>, return <var>result</var>, and abort these steps."
        },
        {
          "html": "If <var>selector</var> is an <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCRtpSender\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtpsender\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtpsender-64\"><code>RTCRtpSender</code></a>, gather stats for and\n          add the following objects to <var>result</var>:\n            <ul>\n              <li>All <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCOutboundRtpStreamStats\" data-cite=\"webrtc-stats\" data-cite-path=\"\" data-cite-frag=\"dom-rtcoutboundrtpstreamstats\" data-type=\"dictionary\" href=\"https://www.w3.org/TR/webrtc-stats/#dom-rtcoutboundrtpstreamstats\"><code>RTCOutboundRtpStreamStats</code></a> objects representing RTP\n              streams being sent by <var>selector</var>.\n              </li>\n              <li>All stats objects referenced directly or indirectly by the\n              <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCOutboundRtpStreamStats\" data-cite=\"webrtc-stats\" data-cite-path=\"\" data-cite-frag=\"dom-rtcoutboundrtpstreamstats\" data-type=\"dictionary\" href=\"https://www.w3.org/TR/webrtc-stats/#dom-rtcoutboundrtpstreamstats\"><code>RTCOutboundRtpStreamStats</code></a> objects added.\n              </li>\n            </ul>"
        },
        {
          "html": "If <var>selector</var> is an <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCRtpReceiver\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcrtpreceiver\" class=\"internalDFN\" id=\"ref-for-dom-rtcrtpreceiver-58\"><code>RTCRtpReceiver</code></a>, gather stats for and\n          add the following objects to <var>result</var>:\n            <ul>\n              <li>All <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCInboundRtpStreamStats\" data-cite=\"webrtc-stats\" data-cite-path=\"\" data-cite-frag=\"dom-rtcinboundrtpstreamstats\" data-type=\"dictionary\" href=\"https://www.w3.org/TR/webrtc-stats/#dom-rtcinboundrtpstreamstats\"><code>RTCInboundRtpStreamStats</code></a> objects representing RTP\n              streams being received by <var>selector</var>.\n              </li>\n              <li>All stats objects referenced directly or indirectly by the\n              <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCInboundRtpStreamStats\" data-cite=\"webrtc-stats\" data-cite-path=\"\" data-cite-frag=\"dom-rtcinboundrtpstreamstats\" data-type=\"dictionary\" href=\"https://www.w3.org/TR/webrtc-stats/#dom-rtcinboundrtpstreamstats\"><code>RTCInboundRtpStreamStats</code></a> added.\n              </li>\n            </ul>"
        },
        {
          "html": "Return <var>result</var>."
        }
      ]
    },
    {
      "name": "RTCError/constructor()",
      "href": "https://w3c.github.io/webrtc-pc/#dom-rtcerror-constructor",
      "html": "Run the following steps:",
      "rationale": ".algorithm",
      "steps": [
        {
          "html": "<p>\n                    Let <var>init</var> be the constructor's first argument.\n                  </p>"
        },
        {
          "html": "<p>\n                    Let <var>message</var> be the constructor's second\n                    argument.\n                  </p>"
        },
        {
          "html": "<p>\n                    Let <var>e</var> be a new <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCError\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcerror\" class=\"internalDFN\" id=\"ref-for-dom-rtcerror-6\"><code>RTCError</code></a> object.\n                  </p>"
        },
        {
          "html": "<p>\n                    Invoke the <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"DOMException\" data-cite=\"webidl\" data-cite-path=\"\" data-cite-frag=\"idl-DOMException\" data-type=\"interface\" href=\"https://webidl.spec.whatwg.org/#idl-DOMException\"><code>DOMException</code></a> constructor of <var>e</var>\n                    with the <a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"DOMException\" data-xref-for=\"DOMException\" data-cite=\"webidl\" data-cite-path=\"\" data-cite-frag=\"dom-domexception-message\" data-type=\"attribute\" href=\"https://webidl.spec.whatwg.org/#dom-domexception-message\"><code>message</code></a> argument set to\n                    <var>message</var> and the <a data-link-type=\"idl\" data-xref-type=\"attribute|dict-member|const\" data-link-for=\"DOMException\" data-xref-for=\"DOMException\" data-cite=\"webidl\" data-cite-path=\"\" data-cite-frag=\"dom-domexception-name\" data-type=\"attribute\" href=\"https://webidl.spec.whatwg.org/#dom-domexception-name\"><code>name</code></a> argument\n                    set to <code>\"OperationError\"</code>.\n                  </p>"
        },
        {
          "html": "<p>\n                    Set all <a data-xref-type=\"_IDL_\" data-link-type=\"idl\" data-lt=\"RTCError\" href=\"https://w3c.github.io/webrtc-pc/#dom-rtcerror\" class=\"internalDFN\" id=\"ref-for-dom-rtcerror-7\"><code>RTCError</code></a> attributes of <var>e</var> to the\n                    value of the corresponding attribute in <var>init</var> if\n                    it is present, otherwise set it to <code>null</code>.\n                  </p>"
        },
        {
          "html": "<p>\n                    Return <var>e</var>.\n                  </p>"
        }
      ]
    }
  ]
}