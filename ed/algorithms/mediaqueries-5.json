{
  "spec": {
    "title": "Media Queries Level 5",
    "url": "https://drafts.csswg.org/mediaqueries-5/"
  },
  "algorithms": [
    {
      "name": "get valid values for colorScheme",
      "href": "https://drafts.csswg.org/mediaqueries-5/#get-valid-values-for-colorscheme",
      "html": "The <dfn class=\"dfn-paneled has-dfn-panel\" data-dfn-type=\"dfn\" data-noexport=\"\" id=\"get-valid-values-for-colorscheme\" role=\"button\" aria-expanded=\"false\" tabindex=\"0\">get valid values for colorScheme</dfn> algorithm, when invoked, must run these steps:",
      "rationale": ".algorithm",
      "steps": [
        {
          "html": "<p>Let <var>validValues</var> be a new empty <a data-link-type=\"dfn\" href=\"https://webidl.spec.whatwg.org/#idl-sequence\" id=\"ref-for-idl-sequence\">sequence</a>.</p>"
        },
        {
          "html": "<p>Add <a class=\"css\" data-link-type=\"maybe\" href=\"https://drafts.csswg.org/mediaqueries-5/#valdef-media-prefers-color-scheme-light\" id=\"ref-for-valdef-media-prefers-color-scheme-light②\">light</a> to <var>validValues</var>.</p>"
        },
        {
          "html": "<p>Add <a class=\"css\" data-link-type=\"maybe\" href=\"https://drafts.csswg.org/mediaqueries-5/#valdef-media-prefers-color-scheme-dark\" id=\"ref-for-valdef-media-prefers-color-scheme-dark③\">dark</a> to <var>validValues</var>.</p>"
        },
        {
          "html": "<p>Return <var>validValues</var>.</p>"
        }
      ]
    },
    {
      "name": "get valid values for contrast",
      "href": "https://drafts.csswg.org/mediaqueries-5/#get-valid-values-for-contrast",
      "html": "The <dfn class=\"dfn-paneled has-dfn-panel\" data-dfn-type=\"dfn\" data-noexport=\"\" id=\"get-valid-values-for-contrast\" role=\"button\" aria-expanded=\"false\" tabindex=\"0\">get valid values for contrast</dfn> algorithm, when invoked, must run these steps:",
      "rationale": ".algorithm",
      "steps": [
        {
          "html": "<p>Let <var>validValues</var> be a new empty <a data-link-type=\"dfn\" href=\"https://webidl.spec.whatwg.org/#idl-sequence\" id=\"ref-for-idl-sequence①\">sequence</a>.</p>"
        },
        {
          "html": "<p>Add <a class=\"css\" data-link-type=\"maybe\" href=\"https://drafts.csswg.org/mediaqueries-5/#valdef-media-prefers-contrast-more\" id=\"ref-for-valdef-media-prefers-contrast-more③\">more</a> to <var>validValues</var>.</p>"
        },
        {
          "html": "<p>Add <a class=\"css\" data-link-type=\"maybe\" href=\"https://drafts.csswg.org/mediaqueries-5/#valdef-media-prefers-contrast-less\" id=\"ref-for-valdef-media-prefers-contrast-less③\">less</a> to <var>validValues</var>.</p>"
        },
        {
          "html": "<p>Add <a class=\"css\" data-link-type=\"maybe\" href=\"https://drafts.csswg.org/mediaqueries-5/#valdef-media-prefers-contrast-no-preference\" id=\"ref-for-valdef-media-prefers-contrast-no-preference\">no-preference</a> to <var>validValues</var>.</p>"
        },
        {
          "html": "<p>Return <var>validValues</var>.</p>"
        }
      ]
    },
    {
      "name": "get valid values for reducedMotion",
      "href": "https://drafts.csswg.org/mediaqueries-5/#get-valid-values-for-reducedmotion",
      "html": "The <dfn class=\"dfn-paneled has-dfn-panel\" data-dfn-type=\"dfn\" data-noexport=\"\" id=\"get-valid-values-for-reducedmotion\" role=\"button\" aria-expanded=\"false\" tabindex=\"0\">get valid values for reducedMotion</dfn> algorithm, when invoked, must run these steps:",
      "rationale": ".algorithm",
      "steps": [
        {
          "html": "<p>Let <var>validValues</var> be a new empty <a data-link-type=\"dfn\" href=\"https://webidl.spec.whatwg.org/#idl-sequence\" id=\"ref-for-idl-sequence②\">sequence</a>.</p>"
        },
        {
          "html": "<p>Add <a class=\"css\" data-link-type=\"maybe\" href=\"https://drafts.csswg.org/mediaqueries-5/#valdef-media-prefers-reduced-motion-reduce\" id=\"ref-for-valdef-media-prefers-reduced-motion-reduce\">reduce</a> to <var>validValues</var>.</p>"
        },
        {
          "html": "<p>Add <a class=\"css\" data-link-type=\"maybe\" href=\"https://drafts.csswg.org/mediaqueries-5/#valdef-media-prefers-reduced-motion-no-preference\" id=\"ref-for-valdef-media-prefers-reduced-motion-no-preference\">no-preference</a> to <var>validValues</var>.</p>"
        },
        {
          "html": "<p>Return <var>validValues</var>.</p>"
        }
      ]
    },
    {
      "name": "get valid values for reducedTransparency",
      "href": "https://drafts.csswg.org/mediaqueries-5/#get-valid-values-for-reducedtransparency",
      "html": "The <dfn class=\"dfn-paneled has-dfn-panel\" data-dfn-type=\"dfn\" data-noexport=\"\" id=\"get-valid-values-for-reducedtransparency\" role=\"button\" aria-expanded=\"false\" tabindex=\"0\">get valid values for reducedTransparency</dfn> algorithm, when invoked, must run these steps:",
      "rationale": ".algorithm",
      "steps": [
        {
          "html": "<p>Let <var>validValues</var> be a new empty <a data-link-type=\"dfn\" href=\"https://webidl.spec.whatwg.org/#idl-sequence\" id=\"ref-for-idl-sequence③\">sequence</a>.</p>"
        },
        {
          "html": "<p>Add <a class=\"css\" data-link-type=\"maybe\" href=\"https://drafts.csswg.org/mediaqueries-5/#valdef-media-prefers-reduced-transparency-reduce\" id=\"ref-for-valdef-media-prefers-reduced-transparency-reduce\">reduce</a> to <var>validValues</var>.</p>"
        },
        {
          "html": "<p>Add <a class=\"css\" data-link-type=\"maybe\" href=\"https://drafts.csswg.org/mediaqueries-5/#valdef-media-prefers-reduced-transparency-no-preference\" id=\"ref-for-valdef-media-prefers-reduced-transparency-no-preference\">no-preference</a> to <var>validValues</var>.</p>"
        },
        {
          "html": "<p>Return <var>validValues</var>.</p>"
        }
      ]
    },
    {
      "name": "get valid values for reducedData",
      "href": "https://drafts.csswg.org/mediaqueries-5/#get-valid-values-for-reduceddata",
      "html": "The <dfn class=\"dfn-paneled has-dfn-panel\" data-dfn-type=\"dfn\" data-noexport=\"\" id=\"get-valid-values-for-reduceddata\" role=\"button\" aria-expanded=\"false\" tabindex=\"0\">get valid values for reducedData</dfn> algorithm, when invoked, must run these steps:",
      "rationale": ".algorithm",
      "steps": [
        {
          "html": "<p>Let <var>validValues</var> be a new empty <a data-link-type=\"dfn\" href=\"https://webidl.spec.whatwg.org/#idl-sequence\" id=\"ref-for-idl-sequence④\">sequence</a>.</p>"
        },
        {
          "html": "<p>Add <a class=\"css\" data-link-type=\"maybe\" href=\"https://drafts.csswg.org/mediaqueries-5/#valdef-media-prefers-reduced-data-reduce\" id=\"ref-for-valdef-media-prefers-reduced-data-reduce①\">reduce</a> to <var>validValues</var>.</p>"
        },
        {
          "html": "<p>Add <a class=\"css\" data-link-type=\"maybe\" href=\"https://drafts.csswg.org/mediaqueries-5/#valdef-media-prefers-reduced-data-no-preference\" id=\"ref-for-valdef-media-prefers-reduced-data-no-preference\">no-preference</a> to <var>validValues</var>.</p>"
        },
        {
          "html": "<p>Return <var>validValues</var>.</p>"
        }
      ]
    },
    {
      "name": "get preference override",
      "href": "https://drafts.csswg.org/mediaqueries-5/#dom-preferenceobject-override",
      "html": "The <dfn class=\"dfn-paneled idl-code has-dfn-panel\" data-dfn-for=\"PreferenceObject\" data-dfn-type=\"attribute\" data-export=\"\" id=\"dom-preferenceobject-override\" role=\"button\" aria-expanded=\"false\" tabindex=\"0\"><code>override</code></dfn> attribute, when accessed, must run these steps:",
      "rationale": ".algorithm",
      "steps": [
        {
          "html": "<p>Let <var>preference</var> be the preference object’s name.</p>"
        },
        {
          "html": "<p>Let <var>override</var> be null.</p>"
        },
        {
          "html": "<p>If an override for <var>preference</var> exists, set <var>override</var> to the value of that override.</p>"
        },
        {
          "html": "<p>Return <var>override</var>.</p>"
        }
      ]
    },
    {
      "name": "get preference value",
      "href": "https://drafts.csswg.org/mediaqueries-5/#dom-preferenceobject-value",
      "html": "The <dfn class=\"dfn-paneled idl-code has-dfn-panel\" data-dfn-for=\"PreferenceObject\" data-dfn-type=\"attribute\" data-export=\"\" id=\"dom-preferenceobject-value\" role=\"button\" aria-expanded=\"false\" tabindex=\"0\"><code>value</code></dfn> attribute, when accessed, must run these steps:",
      "rationale": ".algorithm",
      "steps": [
        {
          "html": "<p>Let <var>preference</var> be the preference object’s name.</p>"
        },
        {
          "html": "<p>Let <var>value</var> be null.</p>"
        },
        {
          "html": "<p>If an override for <var>preference</var> exists, set <var>value</var> to the value of that override.</p>"
        },
        {
          "html": "<p>If <var>value</var> is null, set <var>value</var> to the UA value of the preference.</p>"
        },
        {
          "html": "<p>Return <var>value</var>.</p>"
        }
      ]
    },
    {
      "name": "PreferenceObject/validValues",
      "href": "https://drafts.csswg.org/mediaqueries-5/#dom-preferenceobject-validvalues",
      "html": "The <dfn class=\"dfn-paneled idl-code has-dfn-panel\" data-dfn-for=\"PreferenceObject\" data-dfn-type=\"attribute\" data-export=\"\" id=\"dom-preferenceobject-validvalues\" role=\"button\" aria-expanded=\"false\" tabindex=\"0\"><code>validValues</code></dfn> attribute, when accessed, must run these steps:",
      "rationale": ".algorithm",
      "steps": [
        {
          "html": "Let <var>preference</var> be the preference object’s name."
        },
        {
          "html": "Switch on <var>preference</var>:",
          "rationale": ".switch",
          "steps": [
            {
              "operation": "switch",
              "steps": [
                {
                  "case": "\"colorScheme\"",
                  "html": "Return the result of <a data-link-type=\"dfn\" href=\"https://drafts.csswg.org/mediaqueries-5/#get-valid-values-for-colorscheme\" id=\"ref-for-get-valid-values-for-colorscheme\">get valid values for colorScheme</a>."
                },
                {
                  "case": "\"contrast\"",
                  "html": "Return the result of <a data-link-type=\"dfn\" href=\"https://drafts.csswg.org/mediaqueries-5/#get-valid-values-for-contrast\" id=\"ref-for-get-valid-values-for-contrast\">get valid values for contrast</a>."
                },
                {
                  "case": "\"reducedMotion\"",
                  "html": "Return the result of <a data-link-type=\"dfn\" href=\"https://drafts.csswg.org/mediaqueries-5/#get-valid-values-for-reducedmotion\" id=\"ref-for-get-valid-values-for-reducedmotion\">get valid values for reducedMotion</a>."
                },
                {
                  "case": "\"reducedTransparency\"",
                  "html": "Return the result of <a data-link-type=\"dfn\" href=\"https://drafts.csswg.org/mediaqueries-5/#get-valid-values-for-reducedtransparency\" id=\"ref-for-get-valid-values-for-reducedtransparency\">get valid values for reducedTransparency</a>."
                },
                {
                  "case": "\"reducedData\"",
                  "html": "Return the result of <a data-link-type=\"dfn\" href=\"https://drafts.csswg.org/mediaqueries-5/#get-valid-values-for-reduceddata\" id=\"ref-for-get-valid-values-for-reduceddata\">get valid values for reducedData</a>."
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "name": "update steps",
      "href": "https://drafts.csswg.org/mediaqueries-5/#preferenceobject-preferenceobject-update-steps",
      "html": "Whenever the <a data-link-type=\"dfn\" href=\"https://infra.spec.whatwg.org/#user-agent\" id=\"ref-for-user-agent\">user agent</a> is aware that the state of a <code class=\"idl\"><a data-link-type=\"idl\" href=\"https://drafts.csswg.org/mediaqueries-5/#preferenceobject\" id=\"ref-for-preferenceobject①①\">PreferenceObject</a></code> instance <var>value</var> has changed, it runs the <dfn class=\"dfn-paneled algorithm has-dfn-panel\" data-algorithm=\"PreferenceObject update steps\" data-algorithm-for=\"PreferenceObject\" data-dfn-for=\"PreferenceObject\" data-dfn-type=\"dfn\" data-lt=\"PreferenceObject update steps\" data-noexport=\"\" id=\"preferenceobject-preferenceobject-update-steps\" role=\"button\" aria-expanded=\"false\" tabindex=\"0\"><code class=\"idl\"><a data-link-type=\"idl\" href=\"https://drafts.csswg.org/mediaqueries-5/#preferenceobject\" id=\"ref-for-preferenceobject①②\">PreferenceObject</a></code> update steps</dfn>: \n    \n    <h5 class=\"heading settled\" data-level=\"12.1.8.5\" id=\"auto-pref①④\"><span class=\"secno\">12.1.8.5. </span><span class=\"content\"> <code class=\"idl\"><a data-link-type=\"idl\" href=\"https://drafts.csswg.org/mediaqueries-5/#dom-preferenceobject-requestoverride\" id=\"ref-for-dom-preferenceobject-requestoverride①\">requestOverride()</a></code> method</span><a class=\"self-link\" href=\"https://drafts.csswg.org/mediaqueries-5/#auto-pref%E2%91%A0%E2%91%A3\"></a></h5>\n    <div class=\"algorithm\" data-algorithm=\"request preference override\">\n      The <dfn class=\"dfn-paneled idl-code has-dfn-panel\" data-dfn-for=\"PreferenceObject\" data-dfn-type=\"method\" data-export=\"\" id=\"dom-preferenceobject-requestoverride\" role=\"button\" aria-expanded=\"false\" tabindex=\"0\"><code>requestOverride(value)</code></dfn> method, when invoked, must run these steps: \n     \n    </div>\n    \n    \n    \n    <h5 class=\"heading settled\" data-level=\"12.1.8.6\" id=\"auto-pref①⑤\"><span class=\"secno\">12.1.8.6. </span><span class=\"content\"> <code class=\"idl\"><a data-link-type=\"idl\" href=\"https://drafts.csswg.org/mediaqueries-5/#dom-preferenceobject-clearoverride\" id=\"ref-for-dom-preferenceobject-clearoverride②\">clearOverride()</a></code> method</span><a class=\"self-link\" href=\"https://drafts.csswg.org/mediaqueries-5/#auto-pref%E2%91%A0%E2%91%A4\"></a></h5>\n    <div class=\"algorithm\" data-algorithm=\"clear preference override\">\n      The <dfn class=\"dfn-paneled idl-code has-dfn-panel\" data-dfn-for=\"PreferenceObject\" data-dfn-type=\"method\" data-export=\"\" id=\"dom-preferenceobject-clearoverride\" role=\"button\" aria-expanded=\"false\" tabindex=\"0\"><code>clearOverride()</code></dfn> method, when invoked, must run these steps: \n     \n    </div>\n    \n    <h2 class=\"heading settled\" id=\"mf-deprecated\"><span class=\"content\"> Appendix A: Deprecated Media Features</span><a class=\"self-link\" href=\"https://drafts.csswg.org/mediaqueries-5/#mf-deprecated\"></a></h2>\n    <p>The following <a data-link-type=\"dfn\" href=\"https://drafts.csswg.org/mediaqueries-5/#media-feature\" id=\"ref-for-media-feature③⑦\">media features</a> are <strong>deprecated</strong>. They\n\tare kept for backward compatibility, but are not appropriate for newly\n\twritten style sheets. Authors must not use them. User agents must support them\n\tas specified. </p>\n    \n    <h3 class=\"no-toc no-num heading settled\" id=\"device-width\"><span class=\"content\"> device-width</span><a class=\"self-link\" href=\"https://drafts.csswg.org/mediaqueries-5/#device-width\"></a></h3>\n    <table class=\"def descdef mq\">\n     <tbody>\n      <tr>\n       <th>Name:\n       </th><td><dfn class=\"dfn-paneled css has-dfn-panel\" data-dfn-for=\"@media\" data-dfn-type=\"descriptor\" data-export=\"\" id=\"descdef-media-device-width\" role=\"button\" aria-expanded=\"false\" tabindex=\"0\">device-width</dfn>\n      </td></tr><tr>\n       <th>For:\n       </th><td><a class=\"css\" data-link-type=\"at-rule\" href=\"https://drafts.csswg.org/css-conditional-3/#at-ruledef-media\" id=\"ref-for-at-ruledef-media③⑦\">@media</a> \n      </td></tr><tr>\n       <th>Value:\n       </th><td class=\"prod\"><a class=\"production css\" data-link-type=\"type\" href=\"https://drafts.csswg.org/css-values-4/#length-value\" id=\"ref-for-length-value④\" title=\"Expands to: advance measure | cap | ch | cm | dvb | dvh | dvi | dvmax | dvmin | dvw | em | ex | ic | in | lh | lvb | lvh | lvi | lvmax | lvmin | lvw | mm | pc | pt | px | q | rcap | rch | rem | rex | ric | rlh | svb | svh | svi | svmax | svmin | svw | vb | vh | vi | vmax | vmin | vw\">&lt;length&gt;</a> \n      </td></tr><tr>\n       <th>Type:\n       </th><td>range \n    </td></tr></tbody></table>\n    <p>The <a class=\"property css\" data-link-type=\"property\">device-width</a> media feature describes the width of the rendering surface of the output device.\n\tFor <a data-link-type=\"dfn\" href=\"https://drafts.csswg.org/mediaqueries-5/#continuous-media\" id=\"ref-for-continuous-media③\">continuous media</a>, this is the width of the <a data-link-type=\"dfn\" href=\"https://drafts.csswg.org/cssom-view-1/#web-exposed-screen-area\" id=\"ref-for-web-exposed-screen-area\">Web-exposed screen area</a>.\n\tFor <a data-link-type=\"dfn\" href=\"https://drafts.csswg.org/mediaqueries-5/#paged-media\" id=\"ref-for-paged-media③\">paged media</a>, this is the width of the page sheet size.</p>\n    <p><a class=\"property\" data-link-type=\"propdesc\" href=\"https://drafts.csswg.org/mediaqueries-5/#descdef-media-device-width\" id=\"ref-for-descdef-media-device-width\">device-width</a> is <a data-link-type=\"dfn\" href=\"https://drafts.csswg.org/mediaqueries-5/#false-in-the-negative-range\" id=\"ref-for-false-in-the-negative-range⑧\">false in the negative range</a>.</p>\n    \n    \n    <h3 class=\"no-toc no-num heading settled\" id=\"device-height\"><span class=\"content\"> device-height</span><a class=\"self-link\" href=\"https://drafts.csswg.org/mediaqueries-5/#device-height\"></a></h3>\n    <table class=\"def descdef mq\">\n     <tbody>\n      <tr>\n       <th>Name:\n       </th><td><dfn class=\"dfn-paneled css has-dfn-panel\" data-dfn-for=\"@media\" data-dfn-type=\"descriptor\" data-export=\"\" id=\"descdef-media-device-height\" role=\"button\" aria-expanded=\"false\" tabindex=\"0\">device-height</dfn>\n      </td></tr><tr>\n       <th>For:\n       </th><td><a class=\"css\" data-link-type=\"at-rule\" href=\"https://drafts.csswg.org/css-conditional-3/#at-ruledef-media\" id=\"ref-for-at-ruledef-media③⑧\">@media</a> \n      </td></tr><tr>\n       <th>Value:\n       </th><td class=\"prod\"><a class=\"production css\" data-link-type=\"type\" href=\"https://drafts.csswg.org/css-values-4/#length-value\" id=\"ref-for-length-value⑤\" title=\"Expands to: advance measure | cap | ch | cm | dvb | dvh | dvi | dvmax | dvmin | dvw | em | ex | ic | in | lh | lvb | lvh | lvi | lvmax | lvmin | lvw | mm | pc | pt | px | q | rcap | rch | rem | rex | ric | rlh | svb | svh | svi | svmax | svmin | svw | vb | vh | vi | vmax | vmin | vw\">&lt;length&gt;</a> \n      </td></tr><tr>\n       <th>Type:\n       </th><td>range \n    </td></tr></tbody></table>\n    <p>The <a class=\"property css\" data-link-type=\"property\">device-height</a> media feature describes the height of the rendering surface of the output device.\n\tFor <a data-link-type=\"dfn\" href=\"https://drafts.csswg.org/mediaqueries-5/#continuous-media\" id=\"ref-for-continuous-media④\">continuous media</a>, this is the height of the <a data-link-type=\"dfn\" href=\"https://drafts.csswg.org/cssom-view-1/#web-exposed-screen-area\" id=\"ref-for-web-exposed-screen-area①\">Web-exposed screen area</a>.\n\tFor <a data-link-type=\"dfn\" href=\"https://drafts.csswg.org/mediaqueries-5/#paged-media\" id=\"ref-for-paged-media④\">paged media</a>, this is the height of the page sheet size.</p>\n    <p><a class=\"property\" data-link-type=\"propdesc\" href=\"https://drafts.csswg.org/mediaqueries-5/#descdef-media-device-height\" id=\"ref-for-descdef-media-device-height\">device-height</a> is <a data-link-type=\"dfn\" href=\"https://drafts.csswg.org/mediaqueries-5/#false-in-the-negative-range\" id=\"ref-for-false-in-the-negative-range⑨\">false in the negative range</a>.</p>\n    \n    <h3 class=\"no-toc no-num heading settled\" id=\"device-aspect-ratio\"><span class=\"content\"> device-aspect-ratio</span><a class=\"self-link\" href=\"https://drafts.csswg.org/mediaqueries-5/#device-aspect-ratio\"></a></h3>\n    <table class=\"def descdef mq\">\n     <tbody>\n      <tr>\n       <th>Name:\n       </th><td><dfn class=\"dfn-paneled css has-dfn-panel\" data-dfn-for=\"@media\" data-dfn-type=\"descriptor\" data-export=\"\" id=\"descdef-media-device-aspect-ratio\" role=\"button\" aria-expanded=\"false\" tabindex=\"0\">device-aspect-ratio</dfn>\n      </td></tr><tr>\n       <th>For:\n       </th><td><a class=\"css\" data-link-type=\"at-rule\" href=\"https://drafts.csswg.org/css-conditional-3/#at-ruledef-media\" id=\"ref-for-at-ruledef-media③⑨\">@media</a> \n      </td></tr><tr>\n       <th>Value:\n       </th><td class=\"prod\"><a class=\"production css\" data-link-type=\"type\" href=\"https://drafts.csswg.org/css-values-4/#ratio-value\" id=\"ref-for-ratio-value②\">&lt;ratio&gt;</a> \n      </td></tr><tr>\n       <th>Type:\n       </th><td>range \n    </td></tr></tbody></table>\n    <p>The 'device-aspect-ratio media feature is defined as the ratio of\n\tthe value of the <a class=\"property css\" data-link-type=\"property\">device-width</a> media feature to\n\tthe value of the 'device-height media feature.</p>\n    \n    <h2 class=\"no-num heading settled\" id=\"priv-sec\"><span class=\"content\"> Appendix B: Privacy and Security Considerations</span><a class=\"self-link\" href=\"https://drafts.csswg.org/mediaqueries-5/#priv-sec\"></a></h2>\n    <p><em>This section is not normative.</em></p>\n    \n    <h2 class=\"no-num heading settled\" id=\"changes\"><span class=\"content\"> Changes</span><a class=\"self-link\" href=\"https://drafts.csswg.org/mediaqueries-5/#changes\"></a></h2>\n    <p><em>This section is not normative.</em></p>\n    \n    <h2 class=\"no-num heading settled\" id=\"acknowledgments\"><span class=\"content\"> Acknowledgments</span><a class=\"self-link\" href=\"https://drafts.csswg.org/mediaqueries-5/#acknowledgments\"></a></h2>\n    <p><em>This section is not normative.</em></p>\n    <p>This specification is the product of the W3C Working Group on\nCascading Style Sheets.</p>\n    <p>Comments from\n Adam Argyle,\n Amelia Bellamy-Royds,\n Andreas Lind,\n Andres Galante,\n Arve Bersvendsen,\n Björn Höhrmann,\n Chen Hui Jing,\n Chris Lilley,\n Chris Rebert,\n Christian Biesinger,\n Christoph Päper,\n Elika J. Etemad (fantasai),\n Emilio Cobos Álvarez,\n François Remy,\n Frédéric Wang,\n Fuqiao Xue,\n Greg Whitworth,\n Ian Pouncey,\n James Craig,\n Jay Harris,\n Jinfeng Ma,\n Kivi Shapiro,\n L. David Baron,\n Masataka Yakura,\n Matt Giuca,\n Melinda Grant,\n Michael Smith,\n Nicholas C. Zakas\n Patrick H. Lauke,\n Philipp Hoschka,\n Rick Byers,\n Rijk van Geijtenbeek,\n Rik Cabanier,\n Roger Gimson,\n Rossen Atanassov,\n Sam Sneddon,\n Sigurd Lerstad,\n Simon Kissane,\n Simon Pieters,\n Steven Pemberton,\n Susan Lesch,\n Tantek Çelik,\n Thomas Wisniewski,\n Vi Nguyen,\n Xidorn Quan,\n Yves Lafon,\n akklesed,\n and 張俊芝\nimproved this specification.</p>\n    <h2 class=\"no-num heading settled\" id=\"privacy\"><span class=\"content\">Privacy Considerations</span><a class=\"self-link\" href=\"https://drafts.csswg.org/mediaqueries-5/#privacy\"></a></h2>\n    <p>No new privacy considerations have been reported on this specification.</p>\n    <h2 class=\"no-num heading settled\" id=\"security\"><span class=\"content\">Security Considerations</span><a class=\"self-link\" href=\"https://drafts.csswg.org/mediaqueries-5/#security\"></a></h2>\n    <p>No new security considerations have been reported on this specification.</p>",
      "rationale": ".algorithm",
      "steps": [
        {
          "html": "<p>Let <var>preference</var> be the <code class=\"idl\"><a data-link-type=\"idl\" href=\"https://drafts.csswg.org/mediaqueries-5/#preferenceobject\" id=\"ref-for-preferenceobject①③\">PreferenceObject</a></code> object that <var>value</var> is associated with.</p>"
        },
        {
          "html": "If <a data-link-type=\"dfn\" href=\"https://webidl.spec.whatwg.org/#this\" id=\"ref-for-this\">this</a>'s <a data-link-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global\" id=\"ref-for-concept-relevant-global\">relevant global object</a> is a <code class=\"idl\"><a data-link-type=\"idl\" href=\"https://html.spec.whatwg.org/multipage/nav-history-apis.html#window\" id=\"ref-for-window\">Window</a></code> object, then:",
          "rationale": "let",
          "steps": [
            {
              "html": "<p>Let <var>document</var> be <var>preference</var>’s <a data-link-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global\" id=\"ref-for-concept-relevant-global①\">relevant global object</a>'s <a data-link-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/nav-history-apis.html#concept-document-window\" id=\"ref-for-concept-document-window\">associated Document</a>.</p>"
            },
            {
              "html": "<p>If <var>document</var> is null or <var>document</var> is not <a data-link-type=\"dfn\" href=\"https://html.spec.whatwg.org/multipage/document-sequences.html#fully-active\" id=\"ref-for-fully-active\">fully active</a>, terminate this algorithm.</p>"
            }
          ]
        },
        {
          "html": "<p><a data-link-type=\"dfn\" href=\"https://dom.spec.whatwg.org/#concept-event-fire\" id=\"ref-for-concept-event-fire\">Fire an event</a> named <code>change</code> at <var>preference</var>.</p>"
        }
      ]
    },
    {
      "name": "update steps",
      "href": "https://drafts.csswg.org/mediaqueries-5/#preferenceobject-preferenceobject-update-steps",
      "html": "The <dfn class=\"dfn-paneled idl-code has-dfn-panel\" data-dfn-for=\"PreferenceObject\" data-dfn-type=\"method\" data-export=\"\" id=\"dom-preferenceobject-requestoverride\" role=\"button\" aria-expanded=\"false\" tabindex=\"0\"><code>requestOverride(value)</code></dfn> method, when invoked, must run these steps:",
      "rationale": ".algorithm",
      "steps": [
        {
          "html": "<p>Let <var>result</var> be <a data-link-type=\"dfn\" href=\"https://webidl.spec.whatwg.org/#a-new-promise\" id=\"ref-for-a-new-promise\">a new promise</a>.</p>"
        },
        {
          "html": "<p>Let <var>allowed</var> be false.</p>"
        },
        {
          "html": "<p>Set <var>allowed</var> to the result of executing a UA defined algorithm for deciding whether the request is allowed.</p>"
        },
        {
          "html": "<p>If <var>allowed</var> is false, return <a data-link-type=\"dfn\" href=\"https://webidl.spec.whatwg.org/#a-promise-rejected-with\" id=\"ref-for-a-promise-rejected-with\">a promise rejected with</a> a \"<code class=\"idl\"><a data-link-type=\"idl\" href=\"https://webidl.spec.whatwg.org/#notallowederror\" id=\"ref-for-notallowederror\">NotAllowedError</a></code>\" <code class=\"idl\"><a data-link-type=\"idl\" href=\"https://webidl.spec.whatwg.org/#idl-DOMException\" id=\"ref-for-idl-DOMException\">DOMException</a></code>.</p>"
        },
        {
          "html": "<p>Let <var>value</var> be the method’s argument.</p>"
        },
        {
          "html": "<p>Let <var>result</var> be <a data-link-type=\"dfn\" href=\"https://webidl.spec.whatwg.org/#a-new-promise\" id=\"ref-for-a-new-promise①\">a new promise</a>.</p>"
        },
        {
          "html": "If <var>value</var> is null or the empty string:",
          "rationale": "run",
          "steps": [
            {
              "html": "<p>Run <code class=\"idl\"><a data-link-type=\"idl\" href=\"https://drafts.csswg.org/mediaqueries-5/#dom-preferenceobject-clearoverride\" id=\"ref-for-dom-preferenceobject-clearoverride①\">clearOverride</a></code>.</p>"
            },
            {
              "html": "<p><a data-link-type=\"dfn\" href=\"https://webidl.spec.whatwg.org/#resolve\" id=\"ref-for-resolve\">Resolve</a> and return <var>result</var>.</p>"
            }
          ]
        },
        {
          "html": "<p>Let <var>currentValue</var> be the preference object’s <var>value</var>.</p>"
        },
        {
          "html": "<p>Let <var>validValues</var> be null.</p>"
        },
        {
          "html": "Switch on <var>preference</var>:",
          "rationale": ".switch",
          "steps": [
            {
              "operation": "switch",
              "steps": [
                {
                  "case": "\"colorScheme\"",
                  "html": "Set <var>validValues</var> to the result of <a data-link-type=\"dfn\" href=\"https://drafts.csswg.org/mediaqueries-5/#get-valid-values-for-colorscheme\" id=\"ref-for-get-valid-values-for-colorscheme①\">get valid values for colorScheme</a>."
                },
                {
                  "case": "\"contrast\"",
                  "html": "Set <var>validValues</var> to the result of <a data-link-type=\"dfn\" href=\"https://drafts.csswg.org/mediaqueries-5/#get-valid-values-for-contrast\" id=\"ref-for-get-valid-values-for-contrast①\">get valid values for contrast</a>."
                },
                {
                  "case": "\"reducedMotion\"",
                  "html": "Set <var>validValues</var> to the result of <a data-link-type=\"dfn\" href=\"https://drafts.csswg.org/mediaqueries-5/#get-valid-values-for-reducedmotion\" id=\"ref-for-get-valid-values-for-reducedmotion①\">get valid values for reducedMotion</a>."
                },
                {
                  "case": "\"reducedTransparency\"",
                  "html": "Set <var>validValues</var> to the result of <a data-link-type=\"dfn\" href=\"https://drafts.csswg.org/mediaqueries-5/#get-valid-values-for-reducedtransparency\" id=\"ref-for-get-valid-values-for-reducedtransparency①\">get valid values for reducedTransparency</a>."
                },
                {
                  "case": "\"reducedData\"",
                  "html": "Set <var>validValues</var> to the result of <a data-link-type=\"dfn\" href=\"https://drafts.csswg.org/mediaqueries-5/#get-valid-values-for-reduceddata\" id=\"ref-for-get-valid-values-for-reduceddata①\">get valid values for reducedData</a>."
                }
              ]
            }
          ]
        },
        {
          "html": "If <var>value</var> is not in <var>validValues</var>:",
          "rationale": "reject",
          "steps": [
            {
              "html": "<p><a data-link-type=\"dfn\" href=\"https://webidl.spec.whatwg.org/#reject\" id=\"ref-for-reject\">Reject</a> <var>result</var> with a \"<code class=\"idl\"><a data-link-type=\"idl\" href=\"https://webidl.spec.whatwg.org/#exceptiondef-typeerror\" id=\"ref-for-exceptiondef-typeerror\">TypeError</a></code>\" <code class=\"idl\"><a data-link-type=\"idl\" href=\"https://webidl.spec.whatwg.org/#idl-DOMException\" id=\"ref-for-idl-DOMException①\">DOMException</a></code>.</p>"
            },
            {
              "html": "<p>Return <var>result</var>.</p>"
            }
          ]
        },
        {
          "html": "<p>Let <var>previousOverride</var> be null.</p>"
        },
        {
          "html": "<p>If an override for <var>preference</var> exists, set <var>previousOverride</var> to the value of that override.</p>"
        },
        {
          "html": "If <var>value</var> is different from <var>previousOverride</var>:",
          "rationale": "set",
          "steps": [
            {
              "html": "<p>Set the preference override for <var>preference</var> to <var>value</var>.</p>"
            }
          ]
        },
        {
          "html": "If <var>previousOverride</var> is null, then:",
          "rationale": "if",
          "steps": [
            {
              "html": "If <var>value</var> is the same as <var>currentValue</var>, then:",
              "rationale": "fire",
              "steps": [
                {
                  "html": "<p><a data-link-type=\"dfn\" href=\"https://dom.spec.whatwg.org/#concept-event-fire\" id=\"ref-for-concept-event-fire①\">Fire an event</a> named <code>change</code> at <a data-link-type=\"dfn\" href=\"https://webidl.spec.whatwg.org/#this\" id=\"ref-for-this①\">this</a>.</p>"
                }
              ]
            }
          ]
        },
        {
          "html": "<p><a data-link-type=\"dfn\" href=\"https://webidl.spec.whatwg.org/#resolve\" id=\"ref-for-resolve①\">Resolve</a> and return <var>result</var>.</p>"
        }
      ]
    },
    {
      "name": "update steps",
      "href": "https://drafts.csswg.org/mediaqueries-5/#preferenceobject-preferenceobject-update-steps",
      "html": "The <dfn class=\"dfn-paneled idl-code has-dfn-panel\" data-dfn-for=\"PreferenceObject\" data-dfn-type=\"method\" data-export=\"\" id=\"dom-preferenceobject-clearoverride\" role=\"button\" aria-expanded=\"false\" tabindex=\"0\"><code>clearOverride()</code></dfn> method, when invoked, must run these steps:",
      "rationale": ".algorithm",
      "steps": [
        {
          "html": "<p>Let <var>preference</var> be the preference object’s name.</p>"
        },
        {
          "html": "<p>Let <var>override</var> be null.</p>"
        },
        {
          "html": "<p>If an override for <var>preference</var> exists, set <var>override</var> to the value of that override.</p>"
        },
        {
          "html": "<p>If <var>override</var> is null, then return.</p>"
        },
        {
          "html": "<p>Clear the override for <var>preference</var>.</p>"
        },
        {
          "html": "<p>Let <var>newValue</var> be the preference object’s <var>value</var>.</p>"
        },
        {
          "html": "<p>If <var>newValue</var> is equal to <var>override</var>, then:</p>"
        },
        {
          "html": "<p><a data-link-type=\"dfn\" href=\"https://dom.spec.whatwg.org/#concept-event-fire\" id=\"ref-for-concept-event-fire②\">Fire an event</a> named <code>change</code> at <a data-link-type=\"dfn\" href=\"https://webidl.spec.whatwg.org/#this\" id=\"ref-for-this②\">this</a>.</p>"
        }
      ]
    }
  ]
}